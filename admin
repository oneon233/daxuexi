{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Kill Watermark","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://*.818ps.com/*","https://www.eqxiu.com/*","https://www.chuangkit.com/*","https://bigesj.com/*","https://www.gaoding.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1661936236480,"data":{}},"enabled":true,"position":1,"file_url":"https://greasyfork.org/scripts/424302-kill-watermark/code/Kill%20Watermark.user.js","uuid":"d9200af3-fae6-4551-9caa-c143015fd46b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBLaWxsIFdhdGVybWFyawovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vdXNlcnMvNzUzNjIzLWFjaGVuZ292bwovLyBAdmVyc2lvbiAgICAgIDEuNAovLyBAZGVzY3JpcHRpb24gIOaUr+aMgeWOu+mZpOWbvuaAquWFveOAgeaYk+S8geengOOAgeWIm+Wuoui0tOOAgeavlOagvOiuvuiuoeOAgeeov+WumuiuvuiuoeWbvueJh+awtOWNsO+8jOWbvueJh+iuvuiuoeWujOaIkOWQju+8jOeCueWHu+W3puS4iuinkuKAnOWOu+mZpOawtOWNsOKAneaMiemSru+8jOawtOWNsOWOu+mZpOWQjuaIquWbvuWNs+WPr+OAggovLyBAYXV0aG9yICAgICAgIOmYv+aIkAovLyBAaWNvbiAgICAgICAgIGh0dHBzOi8vZnRwLmJtcC5vdmgvaW1ncy8yMDIxLzA0LzBkOTM0MmU1ODNjYTJhZGIucG5nCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLjgxOHBzLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cuZXF4aXUuY29tLyoKLy8gQG1hdGNoICAgICAgICBodHRwczovL3d3dy5jaHVhbmdraXQuY29tLyoKLy8gQG1hdGNoICAgICAgICBodHRwczovL2JpZ2Vzai5jb20vKgovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vd3d3Lmdhb2RpbmcuY29tLyoKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2Nkbi5ib290Y3NzLmNvbS9qcXVlcnkvMy4zLjEvanF1ZXJ5Lm1pbi5qcwovLyBAZ3JhbnQgICAgICAgIHVuc2FmZVdpbmRvdwovLyA9PS9Vc2VyU2NyaXB0PT0KKGZ1bmN0aW9uKCAkICkgewogICAgdmFyIGJ0bj0iPGRpdiBzdHlsZT0nd2lkdGg6IDgwcHg7IGhlaWdodDogMzBweDsgcG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHotaW5kZXg6IDk5OTk5O292ZXJmbG93OiB2aXNpYmxlOyc+PGJ1dHRvbiBpZD0ncWNzeScgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6IHJnYmEoNzAsIDE5NiwgMzgsIDAuNik7IHdpZHRoOiA4MHB4O2hlaWdodDogMzBweDtjb2xvcjpyZWQ7Jz7ljrvpmaTmsLTljbA8L2J1dHRvbj48L2Rpdj4iOwogICAgJCgiYm9keSIpLnByZXBlbmQoYnRuKTsKICAgICQoImJ1dHRvbiNxY3N5IikuY2xpY2soZnVuY3Rpb24oKXsKICAgICAgICB2YXIgdGl0PWRvY3VtZW50LnRpdGxlOwogICAgICAgIGlmICgvKOWbvuaAquWFvSkvLnRlc3QodGl0KSkgewogICAgICAgICAgICAkKCJkaXYiKS5yZW1vdmUoIi5pbWFnZS13YXRlcm1hcmsiKTsKICAgICAgICB9ZWxzZSBpZiAoLyjmmJPkvIHnp4ApLy50ZXN0KHRpdCkpIHsKICAgICAgICAgICAgJCgiZGl2LmVxYy13YXRlcm1hcmsiKS5jc3MoInBvc2l0aW9uIiwnc3RhdGljJyk7CiAgICAgICAgfWVsc2UgaWYgKC8o5Yib5a6i6LS0KS8udGVzdCh0aXQpKSB7CiAgICAgICAgICAgICQoImRpdltzdHlsZSo9J2NrdC13YXRlcm1hcmsnXSIpLnJlbW92ZSgpOwogICAgICAgICAgICAkKCJkaXYiKS5yZW1vdmUoIi50ZW1wbGF0ZVdhdGVyTWFyayIpOwogICAgICAgIH1lbHNlIGlmICgvKOavlOagvOiuvuiuoSkvLnRlc3QodGl0KSkgewogICAgICAgICAgICAkKCJkaXYud2F0ZXIiKS5jc3MoInBvc2l0aW9uIiwnc3RhdGljJyk7CiAgICAgICAgICAgICQoImRpdi50b29sLWJhci1jb250YWluZXIiKS5yZW1vdmUoKTsKICAgICAgICB9ZWxzZSBpZiAoLyjnqL/lrprorr7orqEpLy50ZXN0KHRpdCkpIHsKICAgICAgICAgICAgdmFyIGdhb2Rpbmc9IjxzdHlsZT4uZWRpdG9yLXdhdGVybWFya3twb3NpdGlvbjogc3RhdGljO3otaW5kZXg6LTk5OX08L3N0eWxlPiI7CiAgICAgICAgICAgICQoImJvZHkiKS5wcmVwZW5kKGdhb2RpbmcpOwogICAgICAgICAgICAkKCJkaXYucmVtb3ZlLXdhdGVybWFyayIpLnJlbW92ZSgpOwogICAgICAgIH0KICAgIH0pOwp9KSggalF1ZXJ5ICk7","requires":[{"meta":{"name":"jquery.min.js","url":"https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js","ts":1661936236469,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My4zLjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijsib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lLmRvY3VtZW50P3QoZSwhMCk6ZnVuY3Rpb24oZSl7aWYoIWUuZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Iik7cmV0dXJuIHQoZSl9OnQoZSl9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp0aGlzLGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciBuPVtdLHI9ZS5kb2N1bWVudCxpPU9iamVjdC5nZXRQcm90b3R5cGVPZixvPW4uc2xpY2UsYT1uLmNvbmNhdCxzPW4ucHVzaCx1PW4uaW5kZXhPZixsPXt9LGM9bC50b1N0cmluZyxmPWwuaGFzT3duUHJvcGVydHkscD1mLnRvU3RyaW5nLGQ9cC5jYWxsKE9iamVjdCksaD17fSxnPWZ1bmN0aW9uIGUodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHQmJiJudW1iZXIiIT10eXBlb2YgdC5ub2RlVHlwZX0seT1mdW5jdGlvbiBlKHQpe3JldHVybiBudWxsIT10JiZ0PT09dC53aW5kb3d9LHY9e3R5cGU6ITAsc3JjOiEwLG5vTW9kdWxlOiEwfTtmdW5jdGlvbiBtKGUsdCxuKXt2YXIgaSxvPSh0PXR8fHIpLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2lmKG8udGV4dD1lLG4pZm9yKGkgaW4gdiluW2ldJiYob1tpXT1uW2ldKTt0LmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB4KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9sW2MuY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBiPSIzLjMuMSIsdz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgdy5mbi5pbml0KGUsdCl9LFQ9L15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nO3cuZm49dy5wcm90b3R5cGU9e2pxdWVyeToiMy4zLjEiLGNvbnN0cnVjdG9yOncsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBvLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9vLmNhbGwodGhpcyk6ZTwwP3RoaXNbZSt0aGlzLmxlbmd0aF06dGhpc1tlXX0scHVzaFN0YWNrOmZ1bmN0aW9uKGUpe3ZhciB0PXcubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiB0LnByZXZPYmplY3Q9dGhpcyx0fSxlYWNoOmZ1bmN0aW9uKGUpe3JldHVybiB3LmVhY2godGhpcyxlKX0sbWFwOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayh3Lm1hcCh0aGlzLGZ1bmN0aW9uKHQsbil7cmV0dXJuIGUuY2FsbCh0LG4sdCl9KSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG8uYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4+PTAmJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6cyxzb3J0Om4uc29ydCxzcGxpY2U6bi5zcGxpY2V9LHcuZXh0ZW5kPXcuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxnKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSluPWFbdF0sYSE9PShyPWVbdF0pJiYobCYmciYmKHcuaXNQbGFpbk9iamVjdChyKXx8KGk9QXJyYXkuaXNBcnJheShyKSkpPyhpPyhpPSExLG89biYmQXJyYXkuaXNBcnJheShuKT9uOltdKTpvPW4mJncuaXNQbGFpbk9iamVjdChuKT9uOnt9LGFbdF09dy5leHRlbmQobCxvLHIpKTp2b2lkIDAhPT1yJiYoYVt0XT1yKSk7cmV0dXJuIGF9LHcuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKygiMy4zLjEiK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKGUpfSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuISghZXx8IltvYmplY3QgT2JqZWN0XSIhPT1jLmNhbGwoZSkpJiYoISh0PWkoZSkpfHwiZnVuY3Rpb24iPT10eXBlb2Yobj1mLmNhbGwodCwiY29uc3RydWN0b3IiKSYmdC5jb25zdHJ1Y3RvcikmJnAuY2FsbChuKT09PWQpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oZSl7bShlKX0sZWFjaDpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MDtpZihDKGUpKXtmb3Iobj1lLmxlbmd0aDtyPG47cisrKWlmKCExPT09dC5jYWxsKGVbcl0scixlW3JdKSlicmVha31lbHNlIGZvcihyIGluIGUpaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrO3JldHVybiBlfSx0cmltOmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFQsIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oZSx0KXt2YXIgbj10fHxbXTtyZXR1cm4gbnVsbCE9ZSYmKEMoT2JqZWN0KGUpKT93Lm1lcmdlKG4sInN0cmluZyI9PXR5cGVvZiBlP1tlXTplKTpzLmNhbGwobixlKSksbn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PXQ/LTE6dS5jYWxsKHQsZSxuKX0sbWVyZ2U6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49K3QubGVuZ3RoLHI9MCxpPWUubGVuZ3RoO3I8bjtyKyspZVtpKytdPXRbcl07cmV0dXJuIGUubGVuZ3RoPWksZX0sZ3JlcDpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByLGk9W10sbz0wLGE9ZS5sZW5ndGgscz0hbjtvPGE7bysrKShyPSF0KGVbb10sbykpIT09cyYmaS5wdXNoKGVbb10pO3JldHVybiBpfSxtYXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz0wLHM9W107aWYoQyhlKSlmb3Iocj1lLmxlbmd0aDtvPHI7bysrKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmcy5wdXNoKGkpO2Vsc2UgZm9yKG8gaW4gZSludWxsIT0oaT10KGVbb10sbyxuKSkmJnMucHVzaChpKTtyZXR1cm4gYS5hcHBseShbXSxzKX0sZ3VpZDoxLHN1cHBvcnQ6aH0pLCJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJih3LmZuW1N5bWJvbC5pdGVyYXRvcl09bltTeW1ib2wuaXRlcmF0b3JdKSx3LmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7bFsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiBDKGUpe3ZhciB0PSEhZSYmImxlbmd0aCJpbiBlJiZlLmxlbmd0aCxuPXgoZSk7cmV0dXJuIWcoZSkmJiF5KGUpJiYoImFycmF5Ij09PW58fDA9PT10fHwibnVtYmVyIj09dHlwZW9mIHQmJnQ+MCYmdC0xIGluIGUpfXZhciBFPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8sYSxzLHUsbCxjLGYscCxkLGgsZyx5LHYsbSx4LGI9InNpenpsZSIrMSpuZXcgRGF0ZSx3PWUuZG9jdW1lbnQsVD0wLEM9MCxFPWFlKCksaz1hZSgpLFM9YWUoKSxEPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10JiYoZj0hMCksMH0sTj17fS5oYXNPd25Qcm9wZXJ0eSxBPVtdLGo9QS5wb3AscT1BLnB1c2gsTD1BLnB1c2gsSD1BLnNsaWNlLE89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LFA9ImNoZWNrZWR8c2VsZWN0ZWR8YXN5bmN8YXV0b2ZvY3VzfGF1dG9wbGF5fGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxpc21hcHxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkIixNPSJbXFx4MjBcXHRcXHJcXG5cXGZdIixSPSIoPzpcXFxcLnxbXFx3LV18W15cMC1cXHhhMF0pKyIsST0iXFxbIitNKyIqKCIrUisiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK1IrIikpfCkiK00rIipcXF0iLFc9IjooIitSKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitJKyIpKil8LiopXFwpfCkiLCQ9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLEI9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxGPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksXz1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLHo9bmV3IFJlZ0V4cCgiPSIrTSsiKihbXlxcXSdcIl0qPykiK00rIipcXF0iLCJnIiksWD1uZXcgUmVnRXhwKFcpLFU9bmV3IFJlZ0V4cCgiXiIrUisiJCIpLFY9e0lEOm5ldyBSZWdFeHAoIl4jKCIrUisiKSIpLENMQVNTOm5ldyBSZWdFeHAoIl5cXC4oIitSKyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIitSKyJ8WypdKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrSSksUFNFVURPOm5ldyBSZWdFeHAoIl4iK1cpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrTSsiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrTSsiKig/OihbKy1dfCkiK00rIiooXFxkKyl8KSkiK00rIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK1ArIikkIiwiaSIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKCJeIitNKyIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK00rIiooKD86LVxcZCk/XFxkKikiK00rIipcXCl8KSg/PVteLV18JCkiLCJpIil9LEc9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxZPS9eaFxkJC9pLFE9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLEo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxLPS9bK35dLyxaPW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrTSsiP3woIitNKyIpfC4pIiwiaWciKSxlZT1mdW5jdGlvbihlLHQsbil7dmFyIHI9IjB4Iit0LTY1NTM2O3JldHVybiByIT09cnx8bj90OnI8MD9TdHJpbmcuZnJvbUNoYXJDb2RlKHIrNjU1MzYpOlN0cmluZy5mcm9tQ2hhckNvZGUocj4+MTB8NTUyOTYsMTAyMyZyfDU2MzIwKX0sdGU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csbmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxyZT1mdW5jdGlvbigpe3AoKX0saWU9bWUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYoImZvcm0iaW4gZXx8ImxhYmVsImluIGUpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0wuYXBwbHkoQT1ILmNhbGwody5jaGlsZE5vZGVzKSx3LmNoaWxkTm9kZXMpLEFbdy5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7TD17YXBwbHk6QS5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtxLmFwcGx5KGUsSC5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gb2UoZSx0LHIsaSl7dmFyIG8scyxsLGMsZixoLHYsbT10JiZ0Lm93bmVyRG9jdW1lbnQsVD10P3Qubm9kZVR5cGU6OTtpZihyPXJ8fFtdLCJzdHJpbmciIT10eXBlb2YgZXx8IWV8fDEhPT1UJiY5IT09VCYmMTEhPT1UKXJldHVybiByO2lmKCFpJiYoKHQ/dC5vd25lckRvY3VtZW50fHx0OncpIT09ZCYmcCh0KSx0PXR8fGQsZykpe2lmKDExIT09VCYmKGY9Si5leGVjKGUpKSlpZihvPWZbMV0pe2lmKDk9PT1UKXtpZighKGw9dC5nZXRFbGVtZW50QnlJZChvKSkpcmV0dXJuIHI7aWYobC5pZD09PW8pcmV0dXJuIHIucHVzaChsKSxyfWVsc2UgaWYobSYmKGw9bS5nZXRFbGVtZW50QnlJZChvKSkmJngodCxsKSYmbC5pZD09PW8pcmV0dXJuIHIucHVzaChsKSxyfWVsc2V7aWYoZlsyXSlyZXR1cm4gTC5hcHBseShyLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkpLHI7aWYoKG89ZlszXSkmJm4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBMLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKG8pKSxyfWlmKG4ucXNhJiYhU1tlKyIgIl0mJigheXx8IXkudGVzdChlKSkpe2lmKDEhPT1UKW09dCx2PWU7ZWxzZSBpZigib2JqZWN0IiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7KGM9dC5nZXRBdHRyaWJ1dGUoImlkIikpP2M9Yy5yZXBsYWNlKHRlLG5lKTp0LnNldEF0dHJpYnV0ZSgiaWQiLGM9Yikscz0oaD1hKGUpKS5sZW5ndGg7d2hpbGUocy0tKWhbc109IiMiK2MrIiAiK3ZlKGhbc10pO3Y9aC5qb2luKCIsIiksbT1LLnRlc3QoZSkmJmdlKHQucGFyZW50Tm9kZSl8fHR9aWYodil0cnl7cmV0dXJuIEwuYXBwbHkocixtLnF1ZXJ5U2VsZWN0b3JBbGwodikpLHJ9Y2F0Y2goZSl7fWZpbmFsbHl7Yz09PWImJnQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIHUoZS5yZXBsYWNlKEIsIiQxIiksdCxyLGkpfWZ1bmN0aW9uIGFlKCl7dmFyIGU9W107ZnVuY3Rpb24gdChuLGkpe3JldHVybiBlLnB1c2gobisiICIpPnIuY2FjaGVMZW5ndGgmJmRlbGV0ZSB0W2Uuc2hpZnQoKV0sdFtuKyIgIl09aX1yZXR1cm4gdH1mdW5jdGlvbiBzZShlKXtyZXR1cm4gZVtiXT0hMCxlfWZ1bmN0aW9uIHVlKGUpe3ZhciB0PWQuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKTt0cnl7cmV0dXJuISFlKHQpfWNhdGNoKGUpe3JldHVybiExfWZpbmFsbHl7dC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCksdD1udWxsfX1mdW5jdGlvbiBsZShlLHQpe3ZhciBuPWUuc3BsaXQoInwiKSxpPW4ubGVuZ3RoO3doaWxlKGktLSlyLmF0dHJIYW5kbGVbbltpXV09dH1mdW5jdGlvbiBjZShlLHQpe3ZhciBuPXQmJmUscj1uJiYxPT09ZS5ub2RlVHlwZSYmMT09PXQubm9kZVR5cGUmJmUuc291cmNlSW5kZXgtdC5zb3VyY2VJbmRleDtpZihyKXJldHVybiByO2lmKG4pd2hpbGUobj1uLm5leHRTaWJsaW5nKWlmKG49PT10KXJldHVybi0xO3JldHVybiBlPzE6LTF9ZnVuY3Rpb24gZmUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJpbnB1dCI9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJnQudHlwZT09PWV9fWZ1bmN0aW9uIHBlKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKCJpbnB1dCI9PT1ufHwiYnV0dG9uIj09PW4pJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiBkZShlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuImZvcm0iaW4gdD90LnBhcmVudE5vZGUmJiExPT09dC5kaXNhYmxlZD8ibGFiZWwiaW4gdD8ibGFiZWwiaW4gdC5wYXJlbnROb2RlP3QucGFyZW50Tm9kZS5kaXNhYmxlZD09PWU6dC5kaXNhYmxlZD09PWU6dC5pc0Rpc2FibGVkPT09ZXx8dC5pc0Rpc2FibGVkIT09IWUmJmllKHQpPT09ZTp0LmRpc2FibGVkPT09ZToibGFiZWwiaW4gdCYmdC5kaXNhYmxlZD09PWV9fWZ1bmN0aW9uIGhlKGUpe3JldHVybiBzZShmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxzZShmdW5jdGlvbihuLHIpe3ZhciBpLG89ZShbXSxuLmxlbmd0aCx0KSxhPW8ubGVuZ3RoO3doaWxlKGEtLSluW2k9b1thXV0mJihuW2ldPSEocltpXT1uW2ldKSl9KX0pfWZ1bmN0aW9uIGdlKGUpe3JldHVybiBlJiYidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmV9bj1vZS5zdXBwb3J0PXt9LG89b2UuaXNYTUw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmKGUub3duZXJEb2N1bWVudHx8ZSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiEhdCYmIkhUTUwiIT09dC5ub2RlTmFtZX0scD1vZS5zZXREb2N1bWVudD1mdW5jdGlvbihlKXt2YXIgdCxpLGE9ZT9lLm93bmVyRG9jdW1lbnR8fGU6dztyZXR1cm4gYSE9PWQmJjk9PT1hLm5vZGVUeXBlJiZhLmRvY3VtZW50RWxlbWVudD8oZD1hLGg9ZC5kb2N1bWVudEVsZW1lbnQsZz0hbyhkKSx3IT09ZCYmKGk9ZC5kZWZhdWx0VmlldykmJmkudG9wIT09aSYmKGkuYWRkRXZlbnRMaXN0ZW5lcj9pLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIscmUsITEpOmkuYXR0YWNoRXZlbnQmJmkuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixyZSkpLG4uYXR0cmlidXRlcz11ZShmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGFzc05hbWU9ImkiLCFlLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxuLmdldEVsZW1lbnRzQnlUYWdOYW1lPXVlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGVuZENoaWxkKGQuY3JlYXRlQ29tbWVudCgiIikpLCFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVEudGVzdChkLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLG4uZ2V0QnlJZD11ZShmdW5jdGlvbihlKXtyZXR1cm4gaC5hcHBlbmRDaGlsZChlKS5pZD1iLCFkLmdldEVsZW1lbnRzQnlOYW1lfHwhZC5nZXRFbGVtZW50c0J5TmFtZShiKS5sZW5ndGh9KSxuLmdldEJ5SWQ/KHIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShaLGVlKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19LHIuZmluZC5JRD1mdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmZyl7dmFyIG49dC5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gbj9bbl06W119fSk6KHIuZmlsdGVyLklEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShaLGVlKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gbiYmbi52YWx1ZT09PXR9fSxyLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJmcpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLHIuZmluZC5UQUc9bi5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOm4ucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LHIuZmluZC5DTEFTUz1uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmcpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0sdj1bXSx5PVtdLChuLnFzYT1RLnRlc3QoZC5xdWVyeVNlbGVjdG9yQWxsKSkmJih1ZShmdW5jdGlvbihlKXtoLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrYisiJz48L2E+PHNlbGVjdCBpZD0nIitiKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnkucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHkucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitQKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrYisiLV0iKS5sZW5ndGh8fHkucHVzaCgifj0iKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHx5LnB1c2goIjpjaGVja2VkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrYisiKyoiKS5sZW5ndGh8fHkucHVzaCgiLiMuK1srfl0iKX0pLHVlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnkucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmeS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGguYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ5LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikseS5wdXNoKCIsLio6Iil9KSksKG4ubWF0Y2hlc1NlbGVjdG9yPVEudGVzdChtPWgubWF0Y2hlc3x8aC53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGgubW96TWF0Y2hlc1NlbGVjdG9yfHxoLm9NYXRjaGVzU2VsZWN0b3J8fGgubXNNYXRjaGVzU2VsZWN0b3IpKSYmdWUoZnVuY3Rpb24oZSl7bi5kaXNjb25uZWN0ZWRNYXRjaD1tLmNhbGwoZSwiKiIpLG0uY2FsbChlLCJbcyE9JyddOngiKSx2LnB1c2goIiE9IixXKX0pLHk9eS5sZW5ndGgmJm5ldyBSZWdFeHAoeS5qb2luKCJ8IikpLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHQ9US50ZXN0KGguY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHg9dHx8US50ZXN0KGguY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0sRD10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGY9ITAsMDt2YXIgcj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gcnx8KDEmKHI9KGUub3duZXJEb2N1bWVudHx8ZSk9PT0odC5vd25lckRvY3VtZW50fHx0KT9lLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpOjEpfHwhbi5zb3J0RGV0YWNoZWQmJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZSk9PT1yP2U9PT1kfHxlLm93bmVyRG9jdW1lbnQ9PT13JiZ4KHcsZSk/LTE6dD09PWR8fHQub3duZXJEb2N1bWVudD09PXcmJngodyx0KT8xOmM/TyhjLGUpLU8oYyx0KTowOjQmcj8tMToxKX06ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gZj0hMCwwO3ZhciBuLHI9MCxpPWUucGFyZW50Tm9kZSxvPXQucGFyZW50Tm9kZSxhPVtlXSxzPVt0XTtpZighaXx8IW8pcmV0dXJuIGU9PT1kPy0xOnQ9PT1kPzE6aT8tMTpvPzE6Yz9PKGMsZSktTyhjLHQpOjA7aWYoaT09PW8pcmV0dXJuIGNlKGUsdCk7bj1lO3doaWxlKG49bi5wYXJlbnROb2RlKWEudW5zaGlmdChuKTtuPXQ7d2hpbGUobj1uLnBhcmVudE5vZGUpcy51bnNoaWZ0KG4pO3doaWxlKGFbcl09PT1zW3JdKXIrKztyZXR1cm4gcj9jZShhW3JdLHNbcl0pOmFbcl09PT13Py0xOnNbcl09PT13PzE6MH0sZCk6ZH0sb2UubWF0Y2hlcz1mdW5jdGlvbihlLHQpe3JldHVybiBvZShlLG51bGwsbnVsbCx0KX0sb2UubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGUsdCl7aWYoKGUub3duZXJEb2N1bWVudHx8ZSkhPT1kJiZwKGUpLHQ9dC5yZXBsYWNlKHosIj0nJDEnXSIpLG4ubWF0Y2hlc1NlbGVjdG9yJiZnJiYhU1t0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigheXx8IXkudGVzdCh0KSkpdHJ5e3ZhciByPW0uY2FsbChlLHQpO2lmKHJ8fG4uZGlzY29ubmVjdGVkTWF0Y2h8fGUuZG9jdW1lbnQmJjExIT09ZS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gcn1jYXRjaChlKXt9cmV0dXJuIG9lKHQsZCxudWxsLFtlXSkubGVuZ3RoPjB9LG9lLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPT1kJiZwKGUpLHgoZSx0KX0sb2UuYXR0cj1mdW5jdGlvbihlLHQpeyhlLm93bmVyRG9jdW1lbnR8fGUpIT09ZCYmcChlKTt2YXIgaT1yLmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSxvPWkmJk4uY2FsbChyLmF0dHJIYW5kbGUsdC50b0xvd2VyQ2FzZSgpKT9pKGUsdCwhZyk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1vP286bi5hdHRyaWJ1dGVzfHwhZz9lLmdldEF0dHJpYnV0ZSh0KToobz1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZvLnNwZWNpZmllZD9vLnZhbHVlOm51bGx9LG9lLmVzY2FwZT1mdW5jdGlvbihlKXtyZXR1cm4oZSsiIikucmVwbGFjZSh0ZSxuZSl9LG9lLmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIitlKX0sb2UudW5pcXVlU29ydD1mdW5jdGlvbihlKXt2YXIgdCxyPVtdLGk9MCxvPTA7aWYoZj0hbi5kZXRlY3REdXBsaWNhdGVzLGM9IW4uc29ydFN0YWJsZSYmZS5zbGljZSgwKSxlLnNvcnQoRCksZil7d2hpbGUodD1lW28rK10pdD09PWVbb10mJihpPXIucHVzaChvKSk7d2hpbGUoaS0tKWUuc3BsaWNlKHJbaV0sMSl9cmV0dXJuIGM9bnVsbCxlfSxpPW9lLmdldFRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj0iIixyPTAsbz1lLm5vZGVUeXBlO2lmKG8pe2lmKDE9PT1vfHw5PT09b3x8MTE9PT1vKXtpZigic3RyaW5nIj09dHlwZW9mIGUudGV4dENvbnRlbnQpcmV0dXJuIGUudGV4dENvbnRlbnQ7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKW4rPWkoZSl9ZWxzZSBpZigzPT09b3x8ND09PW8pcmV0dXJuIGUubm9kZVZhbHVlfWVsc2Ugd2hpbGUodD1lW3IrK10pbis9aSh0KTtyZXR1cm4gbn0sKHI9b2Uuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86c2UsbWF0Y2g6VixhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKFosZWUpLGVbM109KGVbM118fGVbNF18fGVbNV18fCIiKS5yZXBsYWNlKFosZWUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxvZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZvZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gVi5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWEobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKFosZWUpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIioiPT09ZT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlTmFtZSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dH19LENMQVNTOmZ1bmN0aW9uKGUpe3ZhciB0PUVbZSsiICJdO3JldHVybiB0fHwodD1uZXcgUmVnRXhwKCIoXnwiK00rIikiK2UrIigiK00rInwkKSIpKSYmRShlLGZ1bmN0aW9uKGUpe3JldHVybiB0LnRlc3QoInN0cmluZyI9PXR5cGVvZiBlLmNsYXNzTmFtZSYmZS5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpPW9lLmF0dHIocixlKTtyZXR1cm4gbnVsbD09aT8iIT0iPT09dDohdHx8KGkrPSIiLCI9Ij09PXQ/aT09PW46IiE9Ij09PXQ/aSE9PW46Il49Ij09PXQ/biYmMD09PWkuaW5kZXhPZihuKToiKj0iPT09dD9uJiZpLmluZGV4T2Yobik+LTE6IiQ9Ij09PXQ/biYmaS5zbGljZSgtbi5sZW5ndGgpPT09bjoifj0iPT09dD8oIiAiK2kucmVwbGFjZSgkLCIgIikrIiAiKS5pbmRleE9mKG4pPi0xOiJ8PSI9PT10JiYoaT09PW58fGkuc2xpY2UoMCxuLmxlbmd0aCsxKT09PW4rIi0iKSl9fSxDSElMRDpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvPSJudGgiIT09ZS5zbGljZSgwLDMpLGE9Imxhc3QiIT09ZS5zbGljZSgtNCkscz0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09ciYmMD09PWk/ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsbix1KXt2YXIgbCxjLGYscCxkLGgsZz1vIT09YT8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHk9dC5wYXJlbnROb2RlLHY9cyYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG09IXUmJiFzLHg9ITE7aWYoeSl7aWYobyl7d2hpbGUoZyl7cD10O3doaWxlKHA9cFtnXSlpZihzP3Aubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXY6MT09PXAubm9kZVR5cGUpcmV0dXJuITE7aD1nPSJvbmx5Ij09PWUmJiFoJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKGg9W2E/eS5maXJzdENoaWxkOnkubGFzdENoaWxkXSxhJiZtKXt4PShkPShsPShjPShmPShwPXkpW2JdfHwocFtiXT17fSkpW3AudW5pcXVlSURdfHwoZltwLnVuaXF1ZUlEXT17fSkpW2VdfHxbXSlbMF09PT1UJiZsWzFdKSYmbFsyXSxwPWQmJnkuY2hpbGROb2Rlc1tkXTt3aGlsZShwPSsrZCYmcCYmcFtnXXx8KHg9ZD0wKXx8aC5wb3AoKSlpZigxPT09cC5ub2RlVHlwZSYmKyt4JiZwPT09dCl7Y1tlXT1bVCxkLHhdO2JyZWFrfX1lbHNlIGlmKG0mJih4PWQ9KGw9KGM9KGY9KHA9dClbYl18fChwW2JdPXt9KSlbcC51bmlxdWVJRF18fChmW3AudW5pcXVlSURdPXt9KSlbZV18fFtdKVswXT09PVQmJmxbMV0pLCExPT09eCl3aGlsZShwPSsrZCYmcCYmcFtnXXx8KHg9ZD0wKXx8aC5wb3AoKSlpZigocz9wLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT12OjE9PT1wLm5vZGVUeXBlKSYmKyt4JiYobSYmKChjPShmPXBbYl18fChwW2JdPXt9KSlbcC51bmlxdWVJRF18fChmW3AudW5pcXVlSURdPXt9KSlbZV09W1QseF0pLHA9PT10KSlicmVhaztyZXR1cm4oeC09aSk9PT1yfHx4JXI9PTAmJngvcj49MH19fSxQU0VVRE86ZnVuY3Rpb24oZSx0KXt2YXIgbixpPXIucHNldWRvc1tlXXx8ci5zZXRGaWx0ZXJzW2UudG9Mb3dlckNhc2UoKV18fG9lLmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrZSk7cmV0dXJuIGlbYl0/aSh0KTppLmxlbmd0aD4xPyhuPVtlLGUsIiIsdF0sci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KGUudG9Mb3dlckNhc2UoKSk/c2UoZnVuY3Rpb24oZSxuKXt2YXIgcixvPWkoZSx0KSxhPW8ubGVuZ3RoO3doaWxlKGEtLSllW3I9TyhlLG9bYV0pXT0hKG5bcl09b1thXSl9KTpmdW5jdGlvbihlKXtyZXR1cm4gaShlLDAsbil9KTppfX0scHNldWRvczp7bm90OnNlKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49W10scj1zKGUucmVwbGFjZShCLCIkMSIpKTtyZXR1cm4gcltiXT9zZShmdW5jdGlvbihlLHQsbixpKXt2YXIgbyxhPXIoZSxudWxsLGksW10pLHM9ZS5sZW5ndGg7d2hpbGUocy0tKShvPWFbc10pJiYoZVtzXT0hKHRbc109bykpfSk6ZnVuY3Rpb24oZSxpLG8pe3JldHVybiB0WzBdPWUscih0LG51bGwsbyxuKSx0WzBdPW51bGwsIW4ucG9wKCl9fSksaGFzOnNlKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gb2UoZSx0KS5sZW5ndGg+MH19KSxjb250YWluczpzZShmdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoWixlZSksZnVuY3Rpb24odCl7cmV0dXJuKHQudGV4dENvbnRlbnR8fHQuaW5uZXJUZXh0fHxpKHQpKS5pbmRleE9mKGUpPi0xfX0pLGxhbmc6c2UoZnVuY3Rpb24oZSl7cmV0dXJuIFUudGVzdChlfHwiIil8fG9lLmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK2UpLGU9ZS5yZXBsYWNlKFosZWUpLnRvTG93ZXJDYXNlKCksZnVuY3Rpb24odCl7dmFyIG47ZG97aWYobj1nP3QubGFuZzp0LmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKXx8dC5nZXRBdHRyaWJ1dGUoImxhbmciKSlyZXR1cm4obj1uLnRvTG93ZXJDYXNlKCkpPT09ZXx8MD09PW4uaW5kZXhPZihlKyItIil9d2hpbGUoKHQ9dC5wYXJlbnROb2RlKSYmMT09PXQubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbih0KXt2YXIgbj1lLmxvY2F0aW9uJiZlLmxvY2F0aW9uLmhhc2g7cmV0dXJuIG4mJm4uc2xpY2UoMSk9PT10LmlkfSxyb290OmZ1bmN0aW9uKGUpe3JldHVybiBlPT09aH0sZm9jdXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1kLmFjdGl2ZUVsZW1lbnQmJighZC5oYXNGb2N1c3x8ZC5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sZW5hYmxlZDpkZSghMSksZGlzYWJsZWQ6ZGUoITApLGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYhIWUuY2hlY2tlZHx8Im9wdGlvbiI9PT10JiYhIWUuc2VsZWN0ZWR9LHNlbGVjdGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LCEwPT09ZS5zZWxlY3RlZH0sZW1wdHk6ZnVuY3Rpb24oZSl7Zm9yKGU9ZS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWlmKGUubm9kZVR5cGU8NilyZXR1cm4hMTtyZXR1cm4hMH0scGFyZW50OmZ1bmN0aW9uKGUpe3JldHVybiFyLnBzZXVkb3MuZW1wdHkoZSl9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gWS50ZXN0KGUubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gRy50ZXN0KGUubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYiYnV0dG9uIj09PWUudHlwZXx8ImJ1dHRvbiI9PT10fSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiJpbnB1dCI9PT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PWUudHlwZSYmKG51bGw9PSh0PWUuZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT10LnRvTG93ZXJDYXNlKCkpfSxmaXJzdDpoZShmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6aGUoZnVuY3Rpb24oZSx0KXtyZXR1cm5bdC0xXX0pLGVxOmhlKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5bbjwwP24rdDpuXX0pLGV2ZW46aGUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxvZGQ6aGUoZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MTtuPHQ7bis9MillLnB1c2gobik7cmV0dXJuIGV9KSxsdDpoZShmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPW48MD9uK3Q6bjstLXI+PTA7KWUucHVzaChyKTtyZXR1cm4gZX0pLGd0OmhlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOysrcjx0OyllLnB1c2gocik7cmV0dXJuIGV9KX19KS5wc2V1ZG9zLm50aD1yLnBzZXVkb3MuZXE7Zm9yKHQgaW57cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pci5wc2V1ZG9zW3RdPWZlKHQpO2Zvcih0IGlue3N1Ym1pdDohMCxyZXNldDohMH0pci5wc2V1ZG9zW3RdPXBlKHQpO2Z1bmN0aW9uIHllKCl7fXllLnByb3RvdHlwZT1yLmZpbHRlcnM9ci5wc2V1ZG9zLHIuc2V0RmlsdGVycz1uZXcgeWUsYT1vZS50b2tlbml6ZT1mdW5jdGlvbihlLHQpe3ZhciBuLGksbyxhLHMsdSxsLGM9a1tlKyIgIl07aWYoYylyZXR1cm4gdD8wOmMuc2xpY2UoMCk7cz1lLHU9W10sbD1yLnByZUZpbHRlcjt3aGlsZShzKXtuJiYhKGk9Ri5leGVjKHMpKXx8KGkmJihzPXMuc2xpY2UoaVswXS5sZW5ndGgpfHxzKSx1LnB1c2gobz1bXSkpLG49ITEsKGk9Xy5leGVjKHMpKSYmKG49aS5zaGlmdCgpLG8ucHVzaCh7dmFsdWU6bix0eXBlOmlbMF0ucmVwbGFjZShCLCIgIil9KSxzPXMuc2xpY2Uobi5sZW5ndGgpKTtmb3IoYSBpbiByLmZpbHRlcikhKGk9VlthXS5leGVjKHMpKXx8bFthXSYmIShpPWxbYV0oaSkpfHwobj1pLnNoaWZ0KCksby5wdXNoKHt2YWx1ZTpuLHR5cGU6YSxtYXRjaGVzOml9KSxzPXMuc2xpY2Uobi5sZW5ndGgpKTtpZighbilicmVha31yZXR1cm4gdD9zLmxlbmd0aDpzP29lLmVycm9yKGUpOmsoZSx1KS5zbGljZSgwKX07ZnVuY3Rpb24gdmUoZSl7Zm9yKHZhciB0PTAsbj1lLmxlbmd0aCxyPSIiO3Q8bjt0Kyspcis9ZVt0XS52YWx1ZTtyZXR1cm4gcn1mdW5jdGlvbiBtZShlLHQsbil7dmFyIHI9dC5kaXIsaT10Lm5leHQsbz1pfHxyLGE9biYmInBhcmVudE5vZGUiPT09byxzPUMrKztyZXR1cm4gdC5maXJzdD9mdW5jdGlvbih0LG4saSl7d2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxhKXJldHVybiBlKHQsbixpKTtyZXR1cm4hMX06ZnVuY3Rpb24odCxuLHUpe3ZhciBsLGMsZixwPVtULHNdO2lmKHUpe3doaWxlKHQ9dFtyXSlpZigoMT09PXQubm9kZVR5cGV8fGEpJiZlKHQsbix1KSlyZXR1cm4hMH1lbHNlIHdoaWxlKHQ9dFtyXSlpZigxPT09dC5ub2RlVHlwZXx8YSlpZihmPXRbYl18fCh0W2JdPXt9KSxjPWZbdC51bmlxdWVJRF18fChmW3QudW5pcXVlSURdPXt9KSxpJiZpPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXQ9dFtyXXx8dDtlbHNle2lmKChsPWNbb10pJiZsWzBdPT09VCYmbFsxXT09PXMpcmV0dXJuIHBbMl09bFsyXTtpZihjW29dPXAscFsyXT1lKHQsbix1KSlyZXR1cm4hMH1yZXR1cm4hMX19ZnVuY3Rpb24geGUoZSl7cmV0dXJuIGUubGVuZ3RoPjE/ZnVuY3Rpb24odCxuLHIpe3ZhciBpPWUubGVuZ3RoO3doaWxlKGktLSlpZighZVtpXSh0LG4scikpcmV0dXJuITE7cmV0dXJuITB9OmVbMF19ZnVuY3Rpb24gYmUoZSx0LG4pe2Zvcih2YXIgcj0wLGk9dC5sZW5ndGg7cjxpO3IrKylvZShlLHRbcl0sbik7cmV0dXJuIG59ZnVuY3Rpb24gd2UoZSx0LG4scixpKXtmb3IodmFyIG8sYT1bXSxzPTAsdT1lLmxlbmd0aCxsPW51bGwhPXQ7czx1O3MrKykobz1lW3NdKSYmKG4mJiFuKG8scixpKXx8KGEucHVzaChvKSxsJiZ0LnB1c2gocykpKTtyZXR1cm4gYX1mdW5jdGlvbiBUZShlLHQsbixyLGksbyl7cmV0dXJuIHImJiFyW2JdJiYocj1UZShyKSksaSYmIWlbYl0mJihpPVRlKGksbykpLHNlKGZ1bmN0aW9uKG8sYSxzLHUpe3ZhciBsLGMsZixwPVtdLGQ9W10saD1hLmxlbmd0aCxnPW98fGJlKHR8fCIqIixzLm5vZGVUeXBlP1tzXTpzLFtdKSx5PSFlfHwhbyYmdD9nOndlKGcscCxlLHMsdSksdj1uP2l8fChvP2U6aHx8cik/W106YTp5O2lmKG4mJm4oeSx2LHMsdSkscil7bD13ZSh2LGQpLHIobCxbXSxzLHUpLGM9bC5sZW5ndGg7d2hpbGUoYy0tKShmPWxbY10pJiYodltkW2NdXT0hKHlbZFtjXV09ZikpfWlmKG8pe2lmKGl8fGUpe2lmKGkpe2w9W10sYz12Lmxlbmd0aDt3aGlsZShjLS0pKGY9dltjXSkmJmwucHVzaCh5W2NdPWYpO2kobnVsbCx2PVtdLGwsdSl9Yz12Lmxlbmd0aDt3aGlsZShjLS0pKGY9dltjXSkmJihsPWk/TyhvLGYpOnBbY10pPi0xJiYob1tsXT0hKGFbbF09ZikpfX1lbHNlIHY9d2Uodj09PWE/di5zcGxpY2UoaCx2Lmxlbmd0aCk6diksaT9pKG51bGwsYSx2LHUpOkwuYXBwbHkoYSx2KX0pfWZ1bmN0aW9uIENlKGUpe2Zvcih2YXIgdCxuLGksbz1lLmxlbmd0aCxhPXIucmVsYXRpdmVbZVswXS50eXBlXSxzPWF8fHIucmVsYXRpdmVbIiAiXSx1PWE/MTowLGM9bWUoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSxzLCEwKSxmPW1lKGZ1bmN0aW9uKGUpe3JldHVybiBPKHQsZSk+LTF9LHMsITApLHA9W2Z1bmN0aW9uKGUsbixyKXt2YXIgaT0hYSYmKHJ8fG4hPT1sKXx8KCh0PW4pLm5vZGVUeXBlP2MoZSxuLHIpOmYoZSxuLHIpKTtyZXR1cm4gdD1udWxsLGl9XTt1PG87dSsrKWlmKG49ci5yZWxhdGl2ZVtlW3VdLnR5cGVdKXA9W21lKHhlKHApLG4pXTtlbHNle2lmKChuPXIuZmlsdGVyW2VbdV0udHlwZV0uYXBwbHkobnVsbCxlW3VdLm1hdGNoZXMpKVtiXSl7Zm9yKGk9Kyt1O2k8bztpKyspaWYoci5yZWxhdGl2ZVtlW2ldLnR5cGVdKWJyZWFrO3JldHVybiBUZSh1PjEmJnhlKHApLHU+MSYmdmUoZS5zbGljZSgwLHUtMSkuY29uY2F0KHt2YWx1ZToiICI9PT1lW3UtMl0udHlwZT8iKiI6IiJ9KSkucmVwbGFjZShCLCIkMSIpLG4sdTxpJiZDZShlLnNsaWNlKHUsaSkpLGk8byYmQ2UoZT1lLnNsaWNlKGkpKSxpPG8mJnZlKGUpKX1wLnB1c2gobil9cmV0dXJuIHhlKHApfWZ1bmN0aW9uIEVlKGUsdCl7dmFyIG49dC5sZW5ndGg+MCxpPWUubGVuZ3RoPjAsbz1mdW5jdGlvbihvLGEscyx1LGMpe3ZhciBmLGgseSx2PTAsbT0iMCIseD1vJiZbXSxiPVtdLHc9bCxDPW98fGkmJnIuZmluZC5UQUcoIioiLGMpLEU9VCs9bnVsbD09dz8xOk1hdGgucmFuZG9tKCl8fC4xLGs9Qy5sZW5ndGg7Zm9yKGMmJihsPWE9PT1kfHxhfHxjKTttIT09ayYmbnVsbCE9KGY9Q1ttXSk7bSsrKXtpZihpJiZmKXtoPTAsYXx8Zi5vd25lckRvY3VtZW50PT09ZHx8KHAoZikscz0hZyk7d2hpbGUoeT1lW2grK10paWYoeShmLGF8fGQscykpe3UucHVzaChmKTticmVha31jJiYoVD1FKX1uJiYoKGY9IXkmJmYpJiZ2LS0sbyYmeC5wdXNoKGYpKX1pZih2Kz1tLG4mJm0hPT12KXtoPTA7d2hpbGUoeT10W2grK10peSh4LGIsYSxzKTtpZihvKXtpZih2PjApd2hpbGUobS0tKXhbbV18fGJbbV18fChiW21dPWouY2FsbCh1KSk7Yj13ZShiKX1MLmFwcGx5KHUsYiksYyYmIW8mJmIubGVuZ3RoPjAmJnYrdC5sZW5ndGg+MSYmb2UudW5pcXVlU29ydCh1KX1yZXR1cm4gYyYmKFQ9RSxsPXcpLHh9O3JldHVybiBuP3NlKG8pOm99cmV0dXJuIHM9b2UuY29tcGlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9W10saT1bXSxvPVNbZSsiICJdO2lmKCFvKXt0fHwodD1hKGUpKSxuPXQubGVuZ3RoO3doaWxlKG4tLSkobz1DZSh0W25dKSlbYl0/ci5wdXNoKG8pOmkucHVzaChvKTsobz1TKGUsRWUoaSxyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIG99LHU9b2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciBvLHUsbCxjLGYscD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxkPSFpJiZhKGU9cC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09ZC5sZW5ndGgpe2lmKCh1PWRbMF09ZFswXS5zbGljZSgwKSkubGVuZ3RoPjImJiJJRCI9PT0obD11WzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmZyYmci5yZWxhdGl2ZVt1WzFdLnR5cGVdKXtpZighKHQ9KHIuZmluZC5JRChsLm1hdGNoZXNbMF0ucmVwbGFjZShaLGVlKSx0KXx8W10pWzBdKSlyZXR1cm4gbjtwJiYodD10LnBhcmVudE5vZGUpLGU9ZS5zbGljZSh1LnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1vPVYubmVlZHNDb250ZXh0LnRlc3QoZSk/MDp1Lmxlbmd0aDt3aGlsZShvLS0pe2lmKGw9dVtvXSxyLnJlbGF0aXZlW2M9bC50eXBlXSlicmVhaztpZigoZj1yLmZpbmRbY10pJiYoaT1mKGwubWF0Y2hlc1swXS5yZXBsYWNlKFosZWUpLEsudGVzdCh1WzBdLnR5cGUpJiZnZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKHUuc3BsaWNlKG8sMSksIShlPWkubGVuZ3RoJiZ2ZSh1KSkpcmV0dXJuIEwuYXBwbHkobixpKSxuO2JyZWFrfX19cmV0dXJuKHB8fHMoZSxkKSkoaSx0LCFnLG4sIXR8fEsudGVzdChlKSYmZ2UodC5wYXJlbnROb2RlKXx8dCksbn0sbi5zb3J0U3RhYmxlPWIuc3BsaXQoIiIpLnNvcnQoRCkuam9pbigiIik9PT1iLG4uZGV0ZWN0RHVwbGljYXRlcz0hIWYscCgpLG4uc29ydERldGFjaGVkPXVlKGZ1bmN0aW9uKGUpe3JldHVybiAxJmUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZC5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpKX0pLHVlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGxlKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihlLHQsbil7aWYoIW4pcmV0dXJuIGUuZ2V0QXR0cmlidXRlKHQsInR5cGUiPT09dC50b0xvd2VyQ2FzZSgpPzE6Mil9KSxuLmF0dHJpYnV0ZXMmJnVlKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGlucHV0Lz4iLGUuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1lLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGxlKCJ2YWx1ZSIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuJiYiaW5wdXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBlLmRlZmF1bHRWYWx1ZX0pLHVlKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxsZShQLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZighbilyZXR1cm4hMD09PWVbdF0/dC50b0xvd2VyQ2FzZSgpOihyPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLG9lfShlKTt3LmZpbmQ9RSx3LmV4cHI9RS5zZWxlY3RvcnMsdy5leHByWyI6Il09dy5leHByLnBzZXVkb3Msdy51bmlxdWVTb3J0PXcudW5pcXVlPUUudW5pcXVlU29ydCx3LnRleHQ9RS5nZXRUZXh0LHcuaXNYTUxEb2M9RS5pc1hNTCx3LmNvbnRhaW5zPUUuY29udGFpbnMsdy5lc2NhcGVTZWxlY3Rvcj1FLmVzY2FwZTt2YXIgaz1mdW5jdGlvbihlLHQsbil7dmFyIHI9W10saT12b2lkIDAhPT1uO3doaWxlKChlPWVbdF0pJiY5IT09ZS5ub2RlVHlwZSlpZigxPT09ZS5ub2RlVHlwZSl7aWYoaSYmdyhlKS5pcyhuKSlicmVhaztyLnB1c2goZSl9cmV0dXJuIHJ9LFM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W107ZTtlPWUubmV4dFNpYmxpbmcpMT09PWUubm9kZVR5cGUmJmUhPT10JiZuLnB1c2goZSk7cmV0dXJuIG59LEQ9dy5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtmdW5jdGlvbiBOKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX12YXIgQT0vXjwoW2Etel1bXlwvXDA+Olx4MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaTtmdW5jdGlvbiBqKGUsdCxuKXtyZXR1cm4gZyh0KT93LmdyZXAoZSxmdW5jdGlvbihlLHIpe3JldHVybiEhdC5jYWxsKGUscixlKSE9PW59KTp0Lm5vZGVUeXBlP3cuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlPT09dCE9PW59KToic3RyaW5nIiE9dHlwZW9mIHQ/dy5ncmVwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHUuY2FsbCh0LGUpPi0xIT09bn0pOncuZmlsdGVyKHQsZSxuKX13LmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT93LmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOncuZmluZC5tYXRjaGVzKGUsdy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSx3LmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sodyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYody5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKyl3LmZpbmQoZSxpW3RdLG4pO3JldHVybiByPjE/dy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmRC50ZXN0KGUpP3coZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgcSxMPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KHcuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIGksbztpZighZSlyZXR1cm4gdGhpcztpZihuPW58fHEsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKGk9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmZS5sZW5ndGg+PTM/W251bGwsZSxudWxsXTpMLmV4ZWMoZSkpfHwhaVsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKGlbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIHc/dFswXTp0LHcubWVyZ2UodGhpcyx3LnBhcnNlSFRNTChpWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OnIsITApKSxBLnRlc3QoaVsxXSkmJncuaXNQbGFpbk9iamVjdCh0KSlmb3IoaSBpbiB0KWcodGhpc1tpXSk/dGhpc1tpXSh0W2ldKTp0aGlzLmF0dHIoaSx0W2ldKTtyZXR1cm4gdGhpc31yZXR1cm4obz1yLmdldEVsZW1lbnRCeUlkKGlbMl0pKSYmKHRoaXNbMF09byx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTpnKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKHcpOncubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9dy5mbixxPXcocik7dmFyIEg9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sTz17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTt3LmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PXcoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYody5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZ3KGUpO2lmKCFELnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/YS5pbmRleChuKT4tMToxPT09bi5ub2RlVHlwZSYmdy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhvLmxlbmd0aD4xP3cudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP3UuY2FsbCh3KGUpLHRoaXNbMF0pOnUuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sody51bmlxdWVTb3J0KHcubWVyZ2UodGhpcy5nZXQoKSx3KGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pO2Z1bmN0aW9uIFAoZSx0KXt3aGlsZSgoZT1lW3RdKSYmMSE9PWUubm9kZVR5cGUpO3JldHVybiBlfXcuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gayhlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGsoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFAoZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gUChlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gayhlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBrKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBrKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gayhlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gUygoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFMoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIE4oZSwiaWZyYW1lIik/ZS5jb250ZW50RG9jdW1lbnQ6KE4oZSwidGVtcGxhdGUiKSYmKGU9ZS5jb250ZW50fHxlKSx3Lm1lcmdlKFtdLGUuY2hpbGROb2RlcykpfX0sZnVuY3Rpb24oZSx0KXt3LmZuW2VdPWZ1bmN0aW9uKG4scil7dmFyIGk9dy5tYXAodGhpcyx0LG4pO3JldHVybiJVbnRpbCIhPT1lLnNsaWNlKC01KSYmKHI9biksciYmInN0cmluZyI9PXR5cGVvZiByJiYoaT13LmZpbHRlcihyLGkpKSx0aGlzLmxlbmd0aD4xJiYoT1tlXXx8dy51bmlxdWVTb3J0KGkpLEgudGVzdChlKSYmaS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGkpfX0pO3ZhciBNPS9bXlx4MjBcdFxyXG5cZl0rL2c7ZnVuY3Rpb24gUihlKXt2YXIgdD17fTtyZXR1cm4gdy5lYWNoKGUubWF0Y2goTSl8fFtdLGZ1bmN0aW9uKGUsbil7dFtuXT0hMH0pLHR9dy5DYWxsYmFja3M9ZnVuY3Rpb24oZSl7ZT0ic3RyaW5nIj09dHlwZW9mIGU/UihlKTp3LmV4dGVuZCh7fSxlKTt2YXIgdCxuLHIsaSxvPVtdLGE9W10scz0tMSx1PWZ1bmN0aW9uKCl7Zm9yKGk9aXx8ZS5vbmNlLHI9dD0hMDthLmxlbmd0aDtzPS0xKXtuPWEuc2hpZnQoKTt3aGlsZSgrK3M8by5sZW5ndGgpITE9PT1vW3NdLmFwcGx5KG5bMF0sblsxXSkmJmUuc3RvcE9uRmFsc2UmJihzPW8ubGVuZ3RoLG49ITEpfWUubWVtb3J5fHwobj0hMSksdD0hMSxpJiYobz1uP1tdOiIiKX0sbD17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIG8mJihuJiYhdCYmKHM9by5sZW5ndGgtMSxhLnB1c2gobikpLGZ1bmN0aW9uIHQobil7dy5lYWNoKG4sZnVuY3Rpb24obixyKXtnKHIpP2UudW5pcXVlJiZsLmhhcyhyKXx8by5wdXNoKHIpOnImJnIubGVuZ3RoJiYic3RyaW5nIiE9PXgocikmJnQocil9KX0oYXJndW1lbnRzKSxuJiYhdCYmdSgpKSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gdy5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihlLHQpe3ZhciBuO3doaWxlKChuPXcuaW5BcnJheSh0LG8sbikpPi0xKW8uc3BsaWNlKG4sMSksbjw9cyYmcy0tfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiBlP3cuaW5BcnJheShlLG8pPi0xOm8ubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIG8mJihvPVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGk9YT1bXSxvPW49IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hb30sbG9jazpmdW5jdGlvbigpe3JldHVybiBpPWE9W10sbnx8dHx8KG89bj0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFpfSxmaXJlV2l0aDpmdW5jdGlvbihlLG4pe3JldHVybiBpfHwobj1bZSwobj1ufHxbXSkuc2xpY2U/bi5zbGljZSgpOm5dLGEucHVzaChuKSx0fHx1KCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gbC5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXJ9fTtyZXR1cm4gbH07ZnVuY3Rpb24gSShlKXtyZXR1cm4gZX1mdW5jdGlvbiBXKGUpe3Rocm93IGV9ZnVuY3Rpb24gJChlLHQsbixyKXt2YXIgaTt0cnl7ZSYmZyhpPWUucHJvbWlzZSk/aS5jYWxsKGUpLmRvbmUodCkuZmFpbChuKTplJiZnKGk9ZS50aGVuKT9pLmNhbGwoZSx0LG4pOnQuYXBwbHkodm9pZCAwLFtlXS5zbGljZShyKSl9Y2F0Y2goZSl7bi5hcHBseSh2b2lkIDAsW2VdKX19dy5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKHQpe3ZhciBuPVtbIm5vdGlmeSIsInByb2dyZXNzIix3LkNhbGxiYWNrcygibWVtb3J5Iiksdy5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLHcuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHcuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIix3LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxyPSJwZW5kaW5nIixpPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiByfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gby5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24oZSl7cmV0dXJuIGkudGhlbihudWxsLGUpfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3JldHVybiB3LkRlZmVycmVkKGZ1bmN0aW9uKHQpe3cuZWFjaChuLGZ1bmN0aW9uKG4scil7dmFyIGk9ZyhlW3JbNF1dKSYmZVtyWzRdXTtvW3JbMV1dKGZ1bmN0aW9uKCl7dmFyIGU9aSYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZSYmZyhlLnByb21pc2UpP2UucHJvbWlzZSgpLnByb2dyZXNzKHQubm90aWZ5KS5kb25lKHQucmVzb2x2ZSkuZmFpbCh0LnJlamVjdCk6dFtyWzBdKyJXaXRoIl0odGhpcyxpP1tlXTphcmd1bWVudHMpfSl9KSxlPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxyLGkpe3ZhciBvPTA7ZnVuY3Rpb24gYSh0LG4scixpKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcz10aGlzLHU9YXJndW1lbnRzLGw9ZnVuY3Rpb24oKXt2YXIgZSxsO2lmKCEodDxvKSl7aWYoKGU9ci5hcHBseShzLHUpKT09PW4ucHJvbWlzZSgpKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvbiIpO2w9ZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpJiZlLnRoZW4sZyhsKT9pP2wuY2FsbChlLGEobyxuLEksaSksYShvLG4sVyxpKSk6KG8rKyxsLmNhbGwoZSxhKG8sbixJLGkpLGEobyxuLFcsaSksYShvLG4sSSxuLm5vdGlmeVdpdGgpKSk6KHIhPT1JJiYocz12b2lkIDAsdT1bZV0pLChpfHxuLnJlc29sdmVXaXRoKShzLHUpKX19LGM9aT9sOmZ1bmN0aW9uKCl7dHJ5e2woKX1jYXRjaChlKXt3LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2smJncuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayhlLGMuc3RhY2tUcmFjZSksdCsxPj1vJiYociE9PVcmJihzPXZvaWQgMCx1PVtlXSksbi5yZWplY3RXaXRoKHMsdSkpfX07dD9jKCk6KHcuRGVmZXJyZWQuZ2V0U3RhY2tIb29rJiYoYy5zdGFja1RyYWNlPXcuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCkpLGUuc2V0VGltZW91dChjKSl9fXJldHVybiB3LkRlZmVycmVkKGZ1bmN0aW9uKGUpe25bMF1bM10uYWRkKGEoMCxlLGcoaSk/aTpJLGUubm90aWZ5V2l0aCkpLG5bMV1bM10uYWRkKGEoMCxlLGcodCk/dDpJKSksblsyXVszXS5hZGQoYSgwLGUsZyhyKT9yOlcpKX0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZT93LmV4dGVuZChlLGkpOml9fSxvPXt9O3JldHVybiB3LmVhY2gobixmdW5jdGlvbihlLHQpe3ZhciBhPXRbMl0scz10WzVdO2lbdFsxXV09YS5hZGQscyYmYS5hZGQoZnVuY3Rpb24oKXtyPXN9LG5bMy1lXVsyXS5kaXNhYmxlLG5bMy1lXVszXS5kaXNhYmxlLG5bMF1bMl0ubG9jayxuWzBdWzNdLmxvY2spLGEuYWRkKHRbM10uZmlyZSksb1t0WzBdXT1mdW5jdGlvbigpe3JldHVybiBvW3RbMF0rIldpdGgiXSh0aGlzPT09bz92b2lkIDA6dGhpcyxhcmd1bWVudHMpLHRoaXN9LG9bdFswXSsiV2l0aCJdPWEuZmlyZVdpdGh9KSxpLnByb21pc2UobyksdCYmdC5jYWxsKG8sbyksb30sd2hlbjpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49dCxyPUFycmF5KG4pLGk9by5jYWxsKGFyZ3VtZW50cyksYT13LkRlZmVycmVkKCkscz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7cltlXT10aGlzLGlbZV09YXJndW1lbnRzLmxlbmd0aD4xP28uY2FsbChhcmd1bWVudHMpOm4sLS10fHxhLnJlc29sdmVXaXRoKHIsaSl9fTtpZih0PD0xJiYoJChlLGEuZG9uZShzKG4pKS5yZXNvbHZlLGEucmVqZWN0LCF0KSwicGVuZGluZyI9PT1hLnN0YXRlKCl8fGcoaVtuXSYmaVtuXS50aGVuKSkpcmV0dXJuIGEudGhlbigpO3doaWxlKG4tLSkkKGlbbl0scyhuKSxhLnJlamVjdCk7cmV0dXJuIGEucHJvbWlzZSgpfX0pO3ZhciBCPS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO3cuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbih0LG4pe2UuY29uc29sZSYmZS5jb25zb2xlLndhcm4mJnQmJkIudGVzdCh0Lm5hbWUpJiZlLmNvbnNvbGUud2FybigialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogIit0Lm1lc3NhZ2UsdC5zdGFjayxuKX0sdy5yZWFkeUV4Y2VwdGlvbj1mdW5jdGlvbih0KXtlLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyB0fSl9O3ZhciBGPXcuRGVmZXJyZWQoKTt3LmZuLnJlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiBGLnRoZW4oZSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7dy5yZWFkeUV4Y2VwdGlvbihlKX0pLHRoaXN9LHcuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKGUpeyghMD09PWU/LS13LnJlYWR5V2FpdDp3LmlzUmVhZHkpfHwody5pc1JlYWR5PSEwLCEwIT09ZSYmLS13LnJlYWR5V2FpdD4wfHxGLnJlc29sdmVXaXRoKHIsW3ddKSl9fSksdy5yZWFkeS50aGVuPUYudGhlbjtmdW5jdGlvbiBfKCl7ci5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixfKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLF8pLHcucmVhZHkoKX0iY29tcGxldGUiPT09ci5yZWFkeVN0YXRlfHwibG9hZGluZyIhPT1yLnJlYWR5U3RhdGUmJiFyLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbD9lLnNldFRpbWVvdXQody5yZWFkeSk6KHIuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsXyksZS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixfKSk7dmFyIHo9ZnVuY3Rpb24oZSx0LG4scixpLG8sYSl7dmFyIHM9MCx1PWUubGVuZ3RoLGw9bnVsbD09bjtpZigib2JqZWN0Ij09PXgobikpe2k9ITA7Zm9yKHMgaW4gbil6KGUsdCxzLG5bc10sITAsbyxhKX1lbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLGcocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwodyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxYPS9eLW1zLS8sVT0vLShbYS16XSkvZztmdW5jdGlvbiBWKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBHKGUpe3JldHVybiBlLnJlcGxhY2UoWCwibXMtIikucmVwbGFjZShVLFYpfXZhciBZPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gUSgpe3RoaXMuZXhwYW5kbz13LmV4cGFuZG8rUS51aWQrK31RLnVpZD0xLFEucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFkoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW0codCldPW47ZWxzZSBmb3IociBpbiB0KWlbRyhyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtHKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChHKToodD1HKHQpKWluIHI/W3RdOnQubWF0Y2goTSl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHx3LmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiF3LmlzRW1wdHlPYmplY3QodCl9fTt2YXIgSj1uZXcgUSxLPW5ldyBRLFo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxlZT0vW0EtWl0vZztmdW5jdGlvbiB0ZShlKXtyZXR1cm4idHJ1ZSI9PT1lfHwiZmFsc2UiIT09ZSYmKCJudWxsIj09PWU/bnVsbDplPT09K2UrIiI/K2U6Wi50ZXN0KGUpP0pTT04ucGFyc2UoZSk6ZSl9ZnVuY3Rpb24gbmUoZSx0LG4pe3ZhciByO2lmKHZvaWQgMD09PW4mJjE9PT1lLm5vZGVUeXBlKWlmKHI9ImRhdGEtIit0LnJlcGxhY2UoZWUsIi0kJiIpLnRvTG93ZXJDYXNlKCksInN0cmluZyI9PXR5cGVvZihuPWUuZ2V0QXR0cmlidXRlKHIpKSl7dHJ5e249dGUobil9Y2F0Y2goZSl7fUsuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufXcuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBLLmhhc0RhdGEoZSl8fEouaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEsuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe0sucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gSi5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe0oucmVtb3ZlKGUsdCl9fSksdy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PWUpe2lmKHRoaXMubGVuZ3RoJiYoaT1LLmdldChvKSwxPT09by5ub2RlVHlwZSYmIUouZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7bj1hLmxlbmd0aDt3aGlsZShuLS0pYVtuXSYmMD09PShyPWFbbl0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9RyhyLnNsaWNlKDUpKSxuZShvLHIsaVtyXSkpO0ouc2V0KG8sImhhc0RhdGFBdHRycyIsITApfXJldHVybiBpfXJldHVybiJvYmplY3QiPT10eXBlb2YgZT90aGlzLmVhY2goZnVuY3Rpb24oKXtLLnNldCh0aGlzLGUpfSk6eih0aGlzLGZ1bmN0aW9uKHQpe3ZhciBuO2lmKG8mJnZvaWQgMD09PXQpe2lmKHZvaWQgMCE9PShuPUsuZ2V0KG8sZSkpKXJldHVybiBuO2lmKHZvaWQgMCE9PShuPW5lKG8sZSkpKXJldHVybiBufWVsc2UgdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Sy5zZXQodGhpcyxlLHQpfSl9LG51bGwsdCxhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe0sucmVtb3ZlKHRoaXMsZSl9KX19KSx3LmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKGUpcmV0dXJuIHQ9KHR8fCJmeCIpKyJxdWV1ZSIscj1KLmdldChlLHQpLG4mJighcnx8QXJyYXkuaXNBcnJheShuKT9yPUouYWNjZXNzKGUsdCx3Lm1ha2VBcnJheShuKSk6ci5wdXNoKG4pKSxyfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8ImZ4Ijt2YXIgbj13LnF1ZXVlKGUsdCkscj1uLmxlbmd0aCxpPW4uc2hpZnQoKSxvPXcuX3F1ZXVlSG9va3MoZSx0KSxhPWZ1bmN0aW9uKCl7dy5kZXF1ZXVlKGUsdCl9OyJpbnByb2dyZXNzIj09PWkmJihpPW4uc2hpZnQoKSxyLS0pLGkmJigiZngiPT09dCYmbi51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIG8uc3RvcCxpLmNhbGwoZSxhLG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIEouZ2V0KGUsbil8fEouYWNjZXNzKGUsbix7ZW1wdHk6dy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7Si5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksdy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iZngiLG4tLSksYXJndW1lbnRzLmxlbmd0aDxuP3cucXVldWUodGhpc1swXSxlKTp2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dy5xdWV1ZSh0aGlzLGUsdCk7dy5fcXVldWVIb29rcyh0aGlzLGUpLCJmeCI9PT1lJiYiaW5wcm9ncmVzcyIhPT1uWzBdJiZ3LmRlcXVldWUodGhpcyxlKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt3LmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9dy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49Si5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgcmU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsaWU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK3JlKyIpKFthLXolXSopJCIsImkiKSxvZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLGFlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIm5vbmUiPT09KGU9dHx8ZSkuc3R5bGUuZGlzcGxheXx8IiI9PT1lLnN0eWxlLmRpc3BsYXkmJncuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpJiYibm9uZSI9PT13LmNzcyhlLCJkaXNwbGF5Iil9LHNlPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYT17fTtmb3IobyBpbiB0KWFbb109ZS5zdHlsZVtvXSxlLnN0eWxlW29dPXRbb107aT1uLmFwcGx5KGUscnx8W10pO2ZvcihvIGluIHQpZS5zdHlsZVtvXT1hW29dO3JldHVybiBpfTtmdW5jdGlvbiB1ZShlLHQsbixyKXt2YXIgaSxvLGE9MjAscz1yP2Z1bmN0aW9uKCl7cmV0dXJuIHIuY3VyKCl9OmZ1bmN0aW9uKCl7cmV0dXJuIHcuY3NzKGUsdCwiIil9LHU9cygpLGw9biYmblszXXx8KHcuY3NzTnVtYmVyW3RdPyIiOiJweCIpLGM9KHcuY3NzTnVtYmVyW3RdfHwicHgiIT09bCYmK3UpJiZpZS5leGVjKHcuY3NzKGUsdCkpO2lmKGMmJmNbM10hPT1sKXt1Lz0yLGw9bHx8Y1szXSxjPSt1fHwxO3doaWxlKGEtLSl3LnN0eWxlKGUsdCxjK2wpLCgxLW8pKigxLShvPXMoKS91fHwuNSkpPD0wJiYoYT0wKSxjLz1vO2MqPTIsdy5zdHlsZShlLHQsYytsKSxuPW58fFtdfXJldHVybiBuJiYoYz0rY3x8K3V8fDAsaT1uWzFdP2MrKG5bMV0rMSkqblsyXTorblsyXSxyJiYoci51bml0PWwsci5zdGFydD1jLHIuZW5kPWkpKSxpfXZhciBsZT17fTtmdW5jdGlvbiBjZShlKXt2YXIgdCxuPWUub3duZXJEb2N1bWVudCxyPWUubm9kZU5hbWUsaT1sZVtyXTtyZXR1cm4gaXx8KHQ9bi5ib2R5LmFwcGVuZENoaWxkKG4uY3JlYXRlRWxlbWVudChyKSksaT13LmNzcyh0LCJkaXNwbGF5IiksdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLCJub25lIj09PWkmJihpPSJibG9jayIpLGxlW3JdPWksaSl9ZnVuY3Rpb24gZmUoZSx0KXtmb3IodmFyIG4scixpPVtdLG89MCxhPWUubGVuZ3RoO288YTtvKyspKHI9ZVtvXSkuc3R5bGUmJihuPXIuc3R5bGUuZGlzcGxheSx0Pygibm9uZSI9PT1uJiYoaVtvXT1KLmdldChyLCJkaXNwbGF5Iil8fG51bGwsaVtvXXx8KHIuc3R5bGUuZGlzcGxheT0iIikpLCIiPT09ci5zdHlsZS5kaXNwbGF5JiZhZShyKSYmKGlbb109Y2UocikpKToibm9uZSIhPT1uJiYoaVtvXT0ibm9uZSIsSi5zZXQociwiZGlzcGxheSIsbikpKTtmb3Iobz0wO288YTtvKyspbnVsbCE9aVtvXSYmKGVbb10uc3R5bGUuZGlzcGxheT1pW29dKTtyZXR1cm4gZX13LmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBmZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBmZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT93KHRoaXMpLnNob3coKTp3KHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKykvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksZ2U9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtnZS5vcHRncm91cD1nZS5vcHRpb24sZ2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZDtmdW5jdGlvbiB5ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmTihlLHQpP3cubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24gdmUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspSi5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fEouZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9dmFyIG1lPS88fCYjP1x3KzsvO2Z1bmN0aW9uIHhlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGEscyx1LGwsYyxmPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHA9W10sZD0wLGg9ZS5sZW5ndGg7ZDxoO2QrKylpZigobz1lW2RdKXx8MD09PW8paWYoIm9iamVjdCI9PT14KG8pKXcubWVyZ2UocCxvLm5vZGVUeXBlP1tvXTpvKTtlbHNlIGlmKG1lLnRlc3Qobykpe2E9YXx8Zi5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxzPShkZS5leGVjKG8pfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLHU9Z2Vbc118fGdlLl9kZWZhdWx0LGEuaW5uZXJIVE1MPXVbMV0rdy5odG1sUHJlZmlsdGVyKG8pK3VbMl0sYz11WzBdO3doaWxlKGMtLSlhPWEubGFzdENoaWxkO3cubWVyZ2UocCxhLmNoaWxkTm9kZXMpLChhPWYuZmlyc3RDaGlsZCkudGV4dENvbnRlbnQ9IiJ9ZWxzZSBwLnB1c2godC5jcmVhdGVUZXh0Tm9kZShvKSk7Zi50ZXh0Q29udGVudD0iIixkPTA7d2hpbGUobz1wW2QrK10paWYociYmdy5pbkFycmF5KG8scik+LTEpaSYmaS5wdXNoKG8pO2Vsc2UgaWYobD13LmNvbnRhaW5zKG8ub3duZXJEb2N1bWVudCxvKSxhPXllKGYuYXBwZW5kQ2hpbGQobyksInNjcmlwdCIpLGwmJnZlKGEpLG4pe2M9MDt3aGlsZShvPWFbYysrXSloZS50ZXN0KG8udHlwZXx8IiIpJiZuLnB1c2gobyl9cmV0dXJuIGZ9IWZ1bmN0aW9uKCl7dmFyIGU9ci5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoci5jcmVhdGVFbGVtZW50KCJkaXYiKSksdD1yLmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLHQuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLHQuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGUuYXBwZW5kQ2hpbGQodCksaC5jaGVja0Nsb25lPWUuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGUuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixoLm5vQ2xvbmVDaGVja2VkPSEhZS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWV9KCk7dmFyIGJlPXIuZG9jdW1lbnRFbGVtZW50LHdlPS9ea2V5LyxUZT0vXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sQ2U9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIEVlKCl7cmV0dXJuITB9ZnVuY3Rpb24ga2UoKXtyZXR1cm4hMX1mdW5jdGlvbiBTZSgpe3RyeXtyZXR1cm4gci5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe319ZnVuY3Rpb24gRGUoZSx0LG4scixpLG8pe3ZhciBhLHM7aWYoIm9iamVjdCI9PXR5cGVvZiB0KXsic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApO2ZvcihzIGluIHQpRGUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9a2U7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD13Lmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe3cuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX13LmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxzLHUsbCxjLGYscCxkLGgsZyx5PUouZ2V0KGUpO2lmKHkpe24uaGFuZGxlciYmKG49KG89bikuaGFuZGxlcixpPW8uc2VsZWN0b3IpLGkmJncuZmluZC5tYXRjaGVzU2VsZWN0b3IoYmUsaSksbi5ndWlkfHwobi5ndWlkPXcuZ3VpZCsrKSwodT15LmV2ZW50cyl8fCh1PXkuZXZlbnRzPXt9KSwoYT15LmhhbmRsZSl8fChhPXkuaGFuZGxlPWZ1bmN0aW9uKHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdyYmdy5ldmVudC50cmlnZ2VyZWQhPT10LnR5cGU/dy5ldmVudC5kaXNwYXRjaC5hcHBseShlLGFyZ3VtZW50cyk6dm9pZCAwfSksbD0odD0odHx8IiIpLm1hdGNoKE0pfHxbIiJdKS5sZW5ndGg7d2hpbGUobC0tKWQ9Zz0ocz1DZS5leGVjKHRbbF0pfHxbXSlbMV0saD0oc1syXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLGQmJihmPXcuZXZlbnQuc3BlY2lhbFtkXXx8e30sZD0oaT9mLmRlbGVnYXRlVHlwZTpmLmJpbmRUeXBlKXx8ZCxmPXcuZXZlbnQuc3BlY2lhbFtkXXx8e30sYz13LmV4dGVuZCh7dHlwZTpkLG9yaWdUeXBlOmcsZGF0YTpyLGhhbmRsZXI6bixndWlkOm4uZ3VpZCxzZWxlY3RvcjppLG5lZWRzQ29udGV4dDppJiZ3LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoaSksbmFtZXNwYWNlOmguam9pbigiLiIpfSxvKSwocD11W2RdKXx8KChwPXVbZF09W10pLmRlbGVnYXRlQ291bnQ9MCxmLnNldHVwJiYhMSE9PWYuc2V0dXAuY2FsbChlLHIsaCxhKXx8ZS5hZGRFdmVudExpc3RlbmVyJiZlLmFkZEV2ZW50TGlzdGVuZXIoZCxhKSksZi5hZGQmJihmLmFkZC5jYWxsKGUsYyksYy5oYW5kbGVyLmd1aWR8fChjLmhhbmRsZXIuZ3VpZD1uLmd1aWQpKSxpP3Auc3BsaWNlKHAuZGVsZWdhdGVDb3VudCsrLDAsYyk6cC5wdXNoKGMpLHcuZXZlbnQuZ2xvYmFsW2RdPSEwKX19LHJlbW92ZTpmdW5jdGlvbihlLHQsbixyLGkpe3ZhciBvLGEscyx1LGwsYyxmLHAsZCxoLGcseT1KLmhhc0RhdGEoZSkmJkouZ2V0KGUpO2lmKHkmJih1PXkuZXZlbnRzKSl7bD0odD0odHx8IiIpLm1hdGNoKE0pfHxbIiJdKS5sZW5ndGg7d2hpbGUobC0tKWlmKHM9Q2UuZXhlYyh0W2xdKXx8W10sZD1nPXNbMV0saD0oc1syXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLGQpe2Y9dy5ldmVudC5zcGVjaWFsW2RdfHx7fSxwPXVbZD0ocj9mLmRlbGVnYXRlVHlwZTpmLmJpbmRUeXBlKXx8ZF18fFtdLHM9c1syXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIraC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxhPW89cC5sZW5ndGg7d2hpbGUoby0tKWM9cFtvXSwhaSYmZyE9PWMub3JpZ1R5cGV8fG4mJm4uZ3VpZCE9PWMuZ3VpZHx8cyYmIXMudGVzdChjLm5hbWVzcGFjZSl8fHImJnIhPT1jLnNlbGVjdG9yJiYoIioqIiE9PXJ8fCFjLnNlbGVjdG9yKXx8KHAuc3BsaWNlKG8sMSksYy5zZWxlY3RvciYmcC5kZWxlZ2F0ZUNvdW50LS0sZi5yZW1vdmUmJmYucmVtb3ZlLmNhbGwoZSxjKSk7YSYmIXAubGVuZ3RoJiYoZi50ZWFyZG93biYmITEhPT1mLnRlYXJkb3duLmNhbGwoZSxoLHkuaGFuZGxlKXx8dy5yZW1vdmVFdmVudChlLGQseS5oYW5kbGUpLGRlbGV0ZSB1W2RdKX1lbHNlIGZvcihkIGluIHUpdy5ldmVudC5yZW1vdmUoZSxkK3RbbF0sbixyLCEwKTt3LmlzRW1wdHlPYmplY3QodSkmJkoucmVtb3ZlKGUsImhhbmRsZSBldmVudHMiKX19LGRpc3BhdGNoOmZ1bmN0aW9uKGUpe3ZhciB0PXcuZXZlbnQuZml4KGUpLG4scixpLG8sYSxzLHU9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLGw9KEouZ2V0KHRoaXMsImV2ZW50cyIpfHx7fSlbdC50eXBlXXx8W10sYz13LmV2ZW50LnNwZWNpYWxbdC50eXBlXXx8e307Zm9yKHVbMF09dCxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl1W25dPWFyZ3VtZW50c1tuXTtpZih0LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdCkpe3M9dy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdCxsKSxuPTA7d2hpbGUoKG89c1tuKytdKSYmIXQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dC5jdXJyZW50VGFyZ2V0PW8uZWxlbSxyPTA7d2hpbGUoKGE9by5oYW5kbGVyc1tyKytdKSYmIXQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl0LnJuYW1lc3BhY2UmJiF0LnJuYW1lc3BhY2UudGVzdChhLm5hbWVzcGFjZSl8fCh0LmhhbmRsZU9iaj1hLHQuZGF0YT1hLmRhdGEsdm9pZCAwIT09KGk9KCh3LmV2ZW50LnNwZWNpYWxbYS5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGEuaGFuZGxlcikuYXBwbHkoby5lbGVtLHUpKSYmITE9PT0odC5yZXN1bHQ9aSkmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHQpLHQucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJmUuYnV0dG9uPj0xKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/dyhpLHRoaXMpLmluZGV4KGwpPi0xOncuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbihlLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh3LkV2ZW50LnByb3RvdHlwZSxlLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6Zyh0KT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdCh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W2VdfSxzZXQ6ZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsZSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbdy5leHBhbmRvXT9lOm5ldyB3LkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09U2UoKSYmdGhpcy5mb2N1cylyZXR1cm4gdGhpcy5mb2N1cygpLCExfSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYodGhpcz09PVNlKCkmJnRoaXMuYmx1cilyZXR1cm4gdGhpcy5ibHVyKCksITF9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKCJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJk4odGhpcywiaW5wdXQiKSlyZXR1cm4gdGhpcy5jbGljaygpLCExfSxfZGVmYXVsdDpmdW5jdGlvbihlKXtyZXR1cm4gTihlLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LHcucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LHcuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiB3LkV2ZW50KSlyZXR1cm4gbmV3IHcuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT9FZTprZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZ3LmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbdy5leHBhbmRvXT0hMH0sdy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOncuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmtlLGlzUHJvcGFnYXRpb25TdG9wcGVkOmtlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmtlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPUVlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPUVlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1FZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sdy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihlKXt2YXIgdD1lLmJ1dHRvbjtyZXR1cm4gbnVsbD09ZS53aGljaCYmd2UudGVzdChlLnR5cGUpP251bGwhPWUuY2hhckNvZGU/ZS5jaGFyQ29kZTplLmtleUNvZGU6IWUud2hpY2gmJnZvaWQgMCE9PXQmJlRlLnRlc3QoZS50eXBlKT8xJnQ/MToyJnQ/Mzo0JnQ/MjowOmUud2hpY2h9fSx3LmV2ZW50LmFkZFByb3ApLHcuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oZSx0KXt3LmV2ZW50LnNwZWNpYWxbZV09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKGUpe3ZhciBuLHI9dGhpcyxpPWUucmVsYXRlZFRhcmdldCxvPWUuaGFuZGxlT2JqO3JldHVybiBpJiYoaT09PXJ8fHcuY29udGFpbnMocixpKSl8fChlLnR5cGU9by5vcmlnVHlwZSxuPW8uaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZS50eXBlPXQpLG59fX0pLHcuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRGUodGhpcyxlLHQsbixyKX0sb25lOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBEZSh0aGlzLGUsdCxuLHIsMSl9LG9mZjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZihlJiZlLnByZXZlbnREZWZhdWx0JiZlLmhhbmRsZU9iailyZXR1cm4gcj1lLmhhbmRsZU9iaix3KGUuZGVsZWdhdGVUYXJnZXQpLm9mZihyLm5hbWVzcGFjZT9yLm9yaWdUeXBlKyIuIityLm5hbWVzcGFjZTpyLm9yaWdUeXBlLHIuc2VsZWN0b3Isci5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgZSl7Zm9yKGkgaW4gZSl0aGlzLm9mZihpLHQsZVtpXSk7cmV0dXJuIHRoaXN9cmV0dXJuITEhPT10JiYiZnVuY3Rpb24iIT10eXBlb2YgdHx8KG49dCx0PXZvaWQgMCksITE9PT1uJiYobj1rZSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dy5ldmVudC5yZW1vdmUodGhpcyxlLG4sdCl9KX19KTt2YXIgTmU9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopW14+XSopXC8+L2dpLEFlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLGplPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHFlPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBMZShlLHQpe3JldHVybiBOKGUsInRhYmxlIikmJk4oMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpP3coZSkuY2hpbGRyZW4oInRib2R5IilbMF18fGU6ZX1mdW5jdGlvbiBIZShlKXtyZXR1cm4gZS50eXBlPShudWxsIT09ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK2UudHlwZSxlfWZ1bmN0aW9uIE9lKGUpe3JldHVybiJ0cnVlLyI9PT0oZS50eXBlfHwiIikuc2xpY2UoMCw1KT9lLnR5cGU9ZS50eXBlLnNsaWNlKDUpOmUucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksZX1mdW5jdGlvbiBQZShlLHQpe3ZhciBuLHIsaSxvLGEscyx1LGw7aWYoMT09PXQubm9kZVR5cGUpe2lmKEouaGFzRGF0YShlKSYmKG89Si5hY2Nlc3MoZSksYT1KLnNldCh0LG8pLGw9by5ldmVudHMpKXtkZWxldGUgYS5oYW5kbGUsYS5ldmVudHM9e307Zm9yKGkgaW4gbClmb3Iobj0wLHI9bFtpXS5sZW5ndGg7bjxyO24rKyl3LmV2ZW50LmFkZCh0LGksbFtpXVtuXSl9Sy5oYXNEYXRhKGUpJiYocz1LLmFjY2VzcyhlKSx1PXcuZXh0ZW5kKHt9LHMpLEsuc2V0KHQsdSkpfX1mdW5jdGlvbiBNZShlLHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsiaW5wdXQiPT09biYmcGUudGVzdChlLnR5cGUpP3QuY2hlY2tlZD1lLmNoZWNrZWQ6ImlucHV0IiE9PW4mJiJ0ZXh0YXJlYSIhPT1ufHwodC5kZWZhdWx0VmFsdWU9ZS5kZWZhdWx0VmFsdWUpfWZ1bmN0aW9uIFJlKGUsdCxuLHIpe3Q9YS5hcHBseShbXSx0KTt2YXIgaSxvLHMsdSxsLGMsZj0wLHA9ZS5sZW5ndGgsZD1wLTEseT10WzBdLHY9Zyh5KTtpZih2fHxwPjEmJiJzdHJpbmciPT10eXBlb2YgeSYmIWguY2hlY2tDbG9uZSYmamUudGVzdCh5KSlyZXR1cm4gZS5lYWNoKGZ1bmN0aW9uKGkpe3ZhciBvPWUuZXEoaSk7diYmKHRbMF09eS5jYWxsKHRoaXMsaSxvLmh0bWwoKSkpLFJlKG8sdCxuLHIpfSk7aWYocCYmKGk9eGUodCxlWzBdLm93bmVyRG9jdW1lbnQsITEsZSxyKSxvPWkuZmlyc3RDaGlsZCwxPT09aS5jaGlsZE5vZGVzLmxlbmd0aCYmKGk9byksb3x8cikpe2Zvcih1PShzPXcubWFwKHllKGksInNjcmlwdCIpLEhlKSkubGVuZ3RoO2Y8cDtmKyspbD1pLGYhPT1kJiYobD13LmNsb25lKGwsITAsITApLHUmJncubWVyZ2Uocyx5ZShsLCJzY3JpcHQiKSkpLG4uY2FsbChlW2ZdLGwsZik7aWYodSlmb3IoYz1zW3MubGVuZ3RoLTFdLm93bmVyRG9jdW1lbnQsdy5tYXAocyxPZSksZj0wO2Y8dTtmKyspbD1zW2ZdLGhlLnRlc3QobC50eXBlfHwiIikmJiFKLmFjY2VzcyhsLCJnbG9iYWxFdmFsIikmJncuY29udGFpbnMoYyxsKSYmKGwuc3JjJiYibW9kdWxlIiE9PShsLnR5cGV8fCIiKS50b0xvd2VyQ2FzZSgpP3cuX2V2YWxVcmwmJncuX2V2YWxVcmwobC5zcmMpOm0obC50ZXh0Q29udGVudC5yZXBsYWNlKHFlLCIiKSxjLGwpKX1yZXR1cm4gZX1mdW5jdGlvbiBJZShlLHQsbil7Zm9yKHZhciByLGk9dD93LmZpbHRlcih0LGUpOmUsbz0wO251bGwhPShyPWlbb10pO28rKylufHwxIT09ci5ub2RlVHlwZXx8dy5jbGVhbkRhdGEoeWUocikpLHIucGFyZW50Tm9kZSYmKG4mJncuY29udGFpbnMoci5vd25lckRvY3VtZW50LHIpJiZ2ZSh5ZShyLCJzY3JpcHQiKSksci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHIpKTtyZXR1cm4gZX13LmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKE5lLCI8JDE+PC8kMj4iKX0sY2xvbmU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHM9ZS5jbG9uZU5vZGUoITApLHU9dy5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSk7aWYoIShoLm5vQ2xvbmVDaGVja2VkfHwxIT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlfHx3LmlzWE1MRG9jKGUpKSlmb3IoYT15ZShzKSxyPTAsaT0obz15ZShlKSkubGVuZ3RoO3I8aTtyKyspTWUob1tyXSxhW3JdKTtpZih0KWlmKG4pZm9yKG89b3x8eWUoZSksYT1hfHx5ZShzKSxyPTAsaT1vLmxlbmd0aDtyPGk7cisrKVBlKG9bcl0sYVtyXSk7ZWxzZSBQZShlLHMpO3JldHVybihhPXllKHMsInNjcmlwdCIpKS5sZW5ndGg+MCYmdmUoYSwhdSYmeWUoZSwic2NyaXB0IikpLHN9LGNsZWFuRGF0YTpmdW5jdGlvbihlKXtmb3IodmFyIHQsbixyLGk9dy5ldmVudC5zcGVjaWFsLG89MDt2b2lkIDAhPT0obj1lW29dKTtvKyspaWYoWShuKSl7aWYodD1uW0ouZXhwYW5kb10pe2lmKHQuZXZlbnRzKWZvcihyIGluIHQuZXZlbnRzKWlbcl0/dy5ldmVudC5yZW1vdmUobixyKTp3LnJlbW92ZUV2ZW50KG4scix0LmhhbmRsZSk7bltKLmV4cGFuZG9dPXZvaWQgMH1uW0suZXhwYW5kb10mJihuW0suZXhwYW5kb109dm9pZCAwKX19fSksdy5mbi5leHRlbmQoe2RldGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gSWUodGhpcyxlLCEwKX0scmVtb3ZlOmZ1bmN0aW9uKGUpe3JldHVybiBJZSh0aGlzLGUpfSx0ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiB6KHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/dy50ZXh0KHRoaXMpOnRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fCh0aGlzLnRleHRDb250ZW50PWUpfSl9LG51bGwsZSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIFJlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpezEhPT10aGlzLm5vZGVUeXBlJiYxMSE9PXRoaXMubm9kZVR5cGUmJjkhPT10aGlzLm5vZGVUeXBlfHxMZSh0aGlzLGUpLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gUmUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciB0PUxlKHRoaXMsZSk7dC5pbnNlcnRCZWZvcmUoZSx0LmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gUmUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gUmUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD0wO251bGwhPShlPXRoaXNbdF0pO3QrKykxPT09ZS5ub2RlVHlwZSYmKHcuY2xlYW5EYXRhKHllKGUsITEpKSxlLnRleHRDb250ZW50PSIiKTtyZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1udWxsIT1lJiZlLHQ9bnVsbD09dD9lOnQsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdy5jbG9uZSh0aGlzLGUsdCl9KX0saHRtbDpmdW5jdGlvbihlKXtyZXR1cm4geih0aGlzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXNbMF18fHt9LG49MCxyPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWUmJjE9PT10Lm5vZGVUeXBlKXJldHVybiB0LmlubmVySFRNTDtpZigic3RyaW5nIj09dHlwZW9mIGUmJiFBZS50ZXN0KGUpJiYhZ2VbKGRlLmV4ZWMoZSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtlPXcuaHRtbFByZWZpbHRlcihlKTt0cnl7Zm9yKDtuPHI7bisrKTE9PT0odD10aGlzW25dfHx7fSkubm9kZVR5cGUmJih3LmNsZWFuRGF0YSh5ZSh0LCExKSksdC5pbm5lckhUTUw9ZSk7dD0wfWNhdGNoKGUpe319dCYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBSZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbih0KXt2YXIgbj10aGlzLnBhcmVudE5vZGU7dy5pbkFycmF5KHRoaXMsZSk8MCYmKHcuY2xlYW5EYXRhKHllKHRoaXMpKSxuJiZuLnJlcGxhY2VDaGlsZCh0LHRoaXMpKX0sZSl9fSksdy5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oZSx0KXt3LmZuW2VdPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbixyPVtdLGk9dyhlKSxvPWkubGVuZ3RoLTEsYT0wO2E8PW87YSsrKW49YT09PW8/dGhpczp0aGlzLmNsb25lKCEwKSx3KGlbYV0pW3RdKG4pLHMuYXBwbHkocixuLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2socil9fSk7dmFyIFdlPW5ldyBSZWdFeHAoIl4oIityZSsiKSg/IXB4KVthLXolXSskIiwiaSIpLCRlPWZ1bmN0aW9uKHQpe3ZhciBuPXQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztyZXR1cm4gbiYmbi5vcGVuZXJ8fChuPWUpLG4uZ2V0Q29tcHV0ZWRTdHlsZSh0KX0sQmU9bmV3IFJlZ0V4cChvZS5qb2luKCJ8IiksImkiKTshZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aWYoYyl7bC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O3dpZHRoOjYwcHg7bWFyZ2luLXRvcDoxcHg7cGFkZGluZzowO2JvcmRlcjowIixjLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O292ZXJmbG93OnNjcm9sbDttYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjYwJTt0b3A6MSUiLGJlLmFwcGVuZENoaWxkKGwpLmFwcGVuZENoaWxkKGMpO3ZhciB0PWUuZ2V0Q29tcHV0ZWRTdHlsZShjKTtpPSIxJSIhPT10LnRvcCx1PTEyPT09bih0Lm1hcmdpbkxlZnQpLGMuc3R5bGUucmlnaHQ9IjYwJSIscz0zNj09PW4odC5yaWdodCksbz0zNj09PW4odC53aWR0aCksYy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGE9MzY9PT1jLm9mZnNldFdpZHRofHwiYWJzb2x1dGUiLGJlLnJlbW92ZUNoaWxkKGwpLGM9bnVsbH19ZnVuY3Rpb24gbihlKXtyZXR1cm4gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGUpKX12YXIgaSxvLGEscyx1LGw9ci5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPXIuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5zdHlsZSYmKGMuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixjLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIsaC5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWMuc3R5bGUuYmFja2dyb3VuZENsaXAsdy5leHRlbmQoaCx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLG99LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHQoKSxzfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHQoKSxpfSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLHV9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdCgpLGF9fSkpfSgpO2Z1bmN0aW9uIEZlKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuc3R5bGU7cmV0dXJuKG49bnx8JGUoZSkpJiYoIiIhPT0oYT1uLmdldFByb3BlcnR5VmFsdWUodCl8fG5bdF0pfHx3LmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8KGE9dy5zdHlsZShlLHQpKSwhaC5waXhlbEJveFN0eWxlcygpJiZXZS50ZXN0KGEpJiZCZS50ZXN0KHQpJiYocj1zLndpZHRoLGk9cy5taW5XaWR0aCxvPXMubWF4V2lkdGgscy5taW5XaWR0aD1zLm1heFdpZHRoPXMud2lkdGg9YSxhPW4ud2lkdGgscy53aWR0aD1yLHMubWluV2lkdGg9aSxzLm1heFdpZHRoPW8pKSx2b2lkIDAhPT1hP2ErIiI6YX1mdW5jdGlvbiBfZShlLHQpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtpZighZSgpKXJldHVybih0aGlzLmdldD10KS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZGVsZXRlIHRoaXMuZ2V0fX19dmFyIHplPS9eKG5vbmV8dGFibGUoPyEtY1tlYV0pLispLyxYZT0vXi0tLyxVZT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sVmU9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LEdlPVsiV2Via2l0IiwiTW96IiwibXMiXSxZZT1yLmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlO2Z1bmN0aW9uIFFlKGUpe2lmKGUgaW4gWWUpcmV0dXJuIGU7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1HZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUdlW25dK3QpaW4gWWUpcmV0dXJuIGV9ZnVuY3Rpb24gSmUoZSl7dmFyIHQ9dy5jc3NQcm9wc1tlXTtyZXR1cm4gdHx8KHQ9dy5jc3NQcm9wc1tlXT1RZShlKXx8ZSksdH1mdW5jdGlvbiBLZShlLHQsbil7dmFyIHI9aWUuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMl0tKG58fDApKSsoclszXXx8InB4Iik6dH1mdW5jdGlvbiBaZShlLHQsbixyLGksbyl7dmFyIGE9IndpZHRoIj09PXQ/MTowLHM9MCx1PTA7aWYobj09PShyPyJib3JkZXIiOiJjb250ZW50IikpcmV0dXJuIDA7Zm9yKDthPDQ7YSs9MikibWFyZ2luIj09PW4mJih1Kz13LmNzcyhlLG4rb2VbYV0sITAsaSkpLHI/KCJjb250ZW50Ij09PW4mJih1LT13LmNzcyhlLCJwYWRkaW5nIitvZVthXSwhMCxpKSksIm1hcmdpbiIhPT1uJiYodS09dy5jc3MoZSwiYm9yZGVyIitvZVthXSsiV2lkdGgiLCEwLGkpKSk6KHUrPXcuY3NzKGUsInBhZGRpbmciK29lW2FdLCEwLGkpLCJwYWRkaW5nIiE9PW4/dSs9dy5jc3MoZSwiYm9yZGVyIitvZVthXSsiV2lkdGgiLCEwLGkpOnMrPXcuY3NzKGUsImJvcmRlciIrb2VbYV0rIldpZHRoIiwhMCxpKSk7cmV0dXJuIXImJm8+PTAmJih1Kz1NYXRoLm1heCgwLE1hdGguY2VpbChlWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1vLXUtcy0uNSkpKSx1fWZ1bmN0aW9uIGV0KGUsdCxuKXt2YXIgcj0kZShlKSxpPUZlKGUsdCxyKSxvPSJib3JkZXItYm94Ij09PXcuY3NzKGUsImJveFNpemluZyIsITEsciksYT1vO2lmKFdlLnRlc3QoaSkpe2lmKCFuKXJldHVybiBpO2k9ImF1dG8ifXJldHVybiBhPWEmJihoLmJveFNpemluZ1JlbGlhYmxlKCl8fGk9PT1lLnN0eWxlW3RdKSwoImF1dG8iPT09aXx8IXBhcnNlRmxvYXQoaSkmJiJpbmxpbmUiPT09dy5jc3MoZSwiZGlzcGxheSIsITEscikpJiYoaT1lWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXSxhPSEwKSwoaT1wYXJzZUZsb2F0KGkpfHwwKStaZShlLHQsbnx8KG8/ImJvcmRlciI6ImNvbnRlbnQiKSxhLHIsaSkrInB4In13LmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPUZlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6e30sc3R5bGU6ZnVuY3Rpb24oZSx0LG4scil7aWYoZSYmMyE9PWUubm9kZVR5cGUmJjghPT1lLm5vZGVUeXBlJiZlLnN0eWxlKXt2YXIgaSxvLGEscz1HKHQpLHU9WGUudGVzdCh0KSxsPWUuc3R5bGU7aWYodXx8KHQ9SmUocykpLGE9dy5jc3NIb29rc1t0XXx8dy5jc3NIb29rc1tzXSx2b2lkIDA9PT1uKXJldHVybiBhJiYiZ2V0ImluIGEmJnZvaWQgMCE9PShpPWEuZ2V0KGUsITEscikpP2k6bFt0XTsic3RyaW5nIj09KG89dHlwZW9mIG4pJiYoaT1pZS5leGVjKG4pKSYmaVsxXSYmKG49dWUoZSx0LGkpLG89Im51bWJlciIpLG51bGwhPW4mJm49PT1uJiYoIm51bWJlciI9PT1vJiYobis9aSYmaVszXXx8KHcuY3NzTnVtYmVyW3NdPyIiOiJweCIpKSxoLmNsZWFyQ2xvbmVTdHlsZXx8IiIhPT1ufHwwIT09dC5pbmRleE9mKCJiYWNrZ3JvdW5kIil8fChsW3RdPSJpbmhlcml0IiksYSYmInNldCJpbiBhJiZ2b2lkIDA9PT0obj1hLnNldChlLG4scikpfHwodT9sLnNldFByb3BlcnR5KHQsbik6bFt0XT1uKSl9fSxjc3M6ZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbyxhLHM9Ryh0KTtyZXR1cm4gWGUudGVzdCh0KXx8KHQ9SmUocykpLChhPXcuY3NzSG9va3NbdF18fHcuY3NzSG9va3Nbc10pJiYiZ2V0ImluIGEmJihpPWEuZ2V0KGUsITAsbikpLHZvaWQgMD09PWkmJihpPUZlKGUsdCxyKSksIm5vcm1hbCI9PT1pJiZ0IGluIFZlJiYoaT1WZVt0XSksIiI9PT1ufHxuPyhvPXBhcnNlRmxvYXQoaSksITA9PT1ufHxpc0Zpbml0ZShvKT9vfHwwOmkpOml9fSksdy5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihlLHQpe3cuY3NzSG9va3NbdF09e2dldDpmdW5jdGlvbihlLG4scil7aWYobilyZXR1cm4hemUudGVzdCh3LmNzcyhlLCJkaXNwbGF5IikpfHxlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiZlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoP2V0KGUsdCxyKTpzZShlLFVlLGZ1bmN0aW9uKCl7cmV0dXJuIGV0KGUsdCxyKX0pfSxzZXQ6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLG89JGUoZSksYT0iYm9yZGVyLWJveCI9PT13LmNzcyhlLCJib3hTaXppbmciLCExLG8pLHM9ciYmWmUoZSx0LHIsYSxvKTtyZXR1cm4gYSYmaC5zY3JvbGxib3hTaXplKCk9PT1vLnBvc2l0aW9uJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLXBhcnNlRmxvYXQob1t0XSktWmUoZSx0LCJib3JkZXIiLCExLG8pLS41KSkscyYmKGk9aWUuZXhlYyhuKSkmJiJweCIhPT0oaVszXXx8InB4IikmJihlLnN0eWxlW3RdPW4sbj13LmNzcyhlLHQpKSxLZShlLG4scyl9fX0pLHcuY3NzSG9va3MubWFyZ2luTGVmdD1fZShoLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoRmUoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LXNlKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSx3LmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihlLHQpe3cuY3NzSG9va3NbZSt0XT17ZXhwYW5kOmZ1bmN0aW9uKG4pe2Zvcih2YXIgcj0wLGk9e30sbz0ic3RyaW5nIj09dHlwZW9mIG4/bi5zcGxpdCgiICIpOltuXTtyPDQ7cisrKWlbZStvZVtyXSt0XT1vW3JdfHxvW3ItMl18fG9bMF07cmV0dXJuIGl9fSwibWFyZ2luIiE9PWUmJih3LmNzc0hvb2tzW2UrdF0uc2V0PUtlKX0pLHcuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geih0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPSRlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPXcuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj93LnN0eWxlKGUsdCxuKTp3LmNzcyhlLHQpfSxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX19KTtmdW5jdGlvbiB0dChlLHQsbixyLGkpe3JldHVybiBuZXcgdHQucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX13LlR3ZWVuPXR0LHR0LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dHQsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8dy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fCh3LmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9dHQucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOnR0LnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPXR0LnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD13LmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6dHQucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0sdHQucHJvdG90eXBlLmluaXQucHJvdG90eXBlPXR0LnByb3RvdHlwZSx0dC5wcm9wSG9va3M9e19kZWZhdWx0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIDEhPT1lLmVsZW0ubm9kZVR5cGV8fG51bGwhPWUuZWxlbVtlLnByb3BdJiZudWxsPT1lLmVsZW0uc3R5bGVbZS5wcm9wXT9lLmVsZW1bZS5wcm9wXToodD13LmNzcyhlLmVsZW0sZS5wcm9wLCIiKSkmJiJhdXRvIiE9PXQ/dDowfSxzZXQ6ZnVuY3Rpb24oZSl7dy5meC5zdGVwW2UucHJvcF0/dy5meC5zdGVwW2UucHJvcF0oZSk6MSE9PWUuZWxlbS5ub2RlVHlwZXx8bnVsbD09ZS5lbGVtLnN0eWxlW3cuY3NzUHJvcHNbZS5wcm9wXV0mJiF3LmNzc0hvb2tzW2UucHJvcF0/ZS5lbGVtW2UucHJvcF09ZS5ub3c6dy5zdHlsZShlLmVsZW0sZS5wcm9wLGUubm93K2UudW5pdCl9fX0sdHQucHJvcEhvb2tzLnNjcm9sbFRvcD10dC5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGUpe2UuZWxlbS5ub2RlVHlwZSYmZS5lbGVtLnBhcmVudE5vZGUmJihlLmVsZW1bZS5wcm9wXT1lLm5vdyl9fSx3LmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxzd2luZzpmdW5jdGlvbihlKXtyZXR1cm4uNS1NYXRoLmNvcyhlKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LHcuZng9dHQucHJvdG90eXBlLmluaXQsdy5meC5zdGVwPXt9O3ZhciBudCxydCxpdD0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sb3Q9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBhdCgpe3J0JiYoITE9PT1yLmhpZGRlbiYmZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/ZS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYXQpOmUuc2V0VGltZW91dChhdCx3LmZ4LmludGVydmFsKSx3LmZ4LnRpY2soKSl9ZnVuY3Rpb24gc3QoKXtyZXR1cm4gZS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bnQ9dm9pZCAwfSksbnQ9RGF0ZS5ub3coKX1mdW5jdGlvbiB1dChlLHQpe3ZhciBuLHI9MCxpPXtoZWlnaHQ6ZX07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdClpWyJtYXJnaW4iKyhuPW9lW3JdKV09aVsicGFkZGluZyIrbl09ZTtyZXR1cm4gdCYmKGkub3BhY2l0eT1pLndpZHRoPWUpLGl9ZnVuY3Rpb24gbHQoZSx0LG4pe2Zvcih2YXIgcixpPShwdC50d2VlbmVyc1t0XXx8W10pLmNvbmNhdChwdC50d2VlbmVyc1siKiJdKSxvPTAsYT1pLmxlbmd0aDtvPGE7bysrKWlmKHI9aVtvXS5jYWxsKG4sdCxlKSlyZXR1cm4gcn1mdW5jdGlvbiBjdChlLHQsbil7dmFyIHIsaSxvLGEscyx1LGwsYyxmPSJ3aWR0aCJpbiB0fHwiaGVpZ2h0ImluIHQscD10aGlzLGQ9e30saD1lLnN0eWxlLGc9ZS5ub2RlVHlwZSYmYWUoZSkseT1KLmdldChlLCJmeHNob3ciKTtuLnF1ZXVlfHwobnVsbD09KGE9dy5fcXVldWVIb29rcyhlLCJmeCIpKS51bnF1ZXVlZCYmKGEudW5xdWV1ZWQ9MCxzPWEuZW1wdHkuZmlyZSxhLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXthLnVucXVldWVkfHxzKCl9KSxhLnVucXVldWVkKysscC5hbHdheXMoZnVuY3Rpb24oKXtwLmFsd2F5cyhmdW5jdGlvbigpe2EudW5xdWV1ZWQtLSx3LnF1ZXVlKGUsImZ4IikubGVuZ3RofHxhLmVtcHR5LmZpcmUoKX0pfSkpO2ZvcihyIGluIHQpaWYoaT10W3JdLGl0LnRlc3QoaSkpe2lmKGRlbGV0ZSB0W3JdLG89b3x8InRvZ2dsZSI9PT1pLGk9PT0oZz8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09aXx8IXl8fHZvaWQgMD09PXlbcl0pY29udGludWU7Zz0hMH1kW3JdPXkmJnlbcl18fHcuc3R5bGUoZSxyKX1pZigodT0hdy5pc0VtcHR5T2JqZWN0KHQpKXx8IXcuaXNFbXB0eU9iamVjdChkKSl7ZiYmMT09PWUubm9kZVR5cGUmJihuLm92ZXJmbG93PVtoLm92ZXJmbG93LGgub3ZlcmZsb3dYLGgub3ZlcmZsb3dZXSxudWxsPT0obD15JiZ5LmRpc3BsYXkpJiYobD1KLmdldChlLCJkaXNwbGF5IikpLCJub25lIj09PShjPXcuY3NzKGUsImRpc3BsYXkiKSkmJihsP2M9bDooZmUoW2VdLCEwKSxsPWUuc3R5bGUuZGlzcGxheXx8bCxjPXcuY3NzKGUsImRpc3BsYXkiKSxmZShbZV0pKSksKCJpbmxpbmUiPT09Y3x8ImlubGluZS1ibG9jayI9PT1jJiZudWxsIT1sKSYmIm5vbmUiPT09dy5jc3MoZSwiZmxvYXQiKSYmKHV8fChwLmRvbmUoZnVuY3Rpb24oKXtoLmRpc3BsYXk9bH0pLG51bGw9PWwmJihjPWguZGlzcGxheSxsPSJub25lIj09PWM/IiI6YykpLGguZGlzcGxheT0iaW5saW5lLWJsb2NrIikpLG4ub3ZlcmZsb3cmJihoLm92ZXJmbG93PSJoaWRkZW4iLHAuYWx3YXlzKGZ1bmN0aW9uKCl7aC5vdmVyZmxvdz1uLm92ZXJmbG93WzBdLGgub3ZlcmZsb3dYPW4ub3ZlcmZsb3dbMV0saC5vdmVyZmxvd1k9bi5vdmVyZmxvd1syXX0pKSx1PSExO2ZvcihyIGluIGQpdXx8KHk/ImhpZGRlbiJpbiB5JiYoZz15LmhpZGRlbik6eT1KLmFjY2VzcyhlLCJmeHNob3ciLHtkaXNwbGF5Omx9KSxvJiYoeS5oaWRkZW49IWcpLGcmJmZlKFtlXSwhMCkscC5kb25lKGZ1bmN0aW9uKCl7Z3x8ZmUoW2VdKSxKLnJlbW92ZShlLCJmeHNob3ciKTtmb3IociBpbiBkKXcuc3R5bGUoZSxyLGRbcl0pfSkpLHU9bHQoZz95W3JdOjAscixwKSxyIGluIHl8fCh5W3JdPXUuc3RhcnQsZyYmKHUuZW5kPXUuc3RhcnQsdS5zdGFydD0wKSl9fWZ1bmN0aW9uIGZ0KGUsdCl7dmFyIG4scixpLG8sYTtmb3IobiBpbiBlKWlmKHI9RyhuKSxpPXRbcl0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT13LmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKXtvPWEuZXhwYW5kKG8pLGRlbGV0ZSBlW3JdO2ZvcihuIGluIG8pbiBpbiBlfHwoZVtuXT1vW25dLHRbbl09aSl9ZWxzZSB0W3JdPWl9ZnVuY3Rpb24gcHQoZSx0LG4pe3ZhciByLGksbz0wLGE9cHQucHJlZmlsdGVycy5sZW5ndGgscz13LkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIHUuZWxlbX0pLHU9ZnVuY3Rpb24oKXtpZihpKXJldHVybiExO2Zvcih2YXIgdD1udHx8c3QoKSxuPU1hdGgubWF4KDAsbC5zdGFydFRpbWUrbC5kdXJhdGlvbi10KSxyPTEtKG4vbC5kdXJhdGlvbnx8MCksbz0wLGE9bC50d2VlbnMubGVuZ3RoO288YTtvKyspbC50d2VlbnNbb10ucnVuKHIpO3JldHVybiBzLm5vdGlmeVdpdGgoZSxbbCxyLG5dKSxyPDEmJmE/bjooYXx8cy5ub3RpZnlXaXRoKGUsW2wsMSwwXSkscy5yZXNvbHZlV2l0aChlLFtsXSksITEpfSxsPXMucHJvbWlzZSh7ZWxlbTplLHByb3BzOncuZXh0ZW5kKHt9LHQpLG9wdHM6dy5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOncuZWFzaW5nLl9kZWZhdWx0fSxuKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6bixzdGFydFRpbWU6bnR8fHN0KCksZHVyYXRpb246bi5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxuKXt2YXIgcj13LlR3ZWVuKGUsbC5vcHRzLHQsbixsLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8bC5vcHRzLmVhc2luZyk7cmV0dXJuIGwudHdlZW5zLnB1c2gocikscn0sc3RvcDpmdW5jdGlvbih0KXt2YXIgbj0wLHI9dD9sLnR3ZWVucy5sZW5ndGg6MDtpZihpKXJldHVybiB0aGlzO2ZvcihpPSEwO248cjtuKyspbC50d2VlbnNbbl0ucnVuKDEpO3JldHVybiB0PyhzLm5vdGlmeVdpdGgoZSxbbCwxLDBdKSxzLnJlc29sdmVXaXRoKGUsW2wsdF0pKTpzLnJlamVjdFdpdGgoZSxbbCx0XSksdGhpc319KSxjPWwucHJvcHM7Zm9yKGZ0KGMsbC5vcHRzLnNwZWNpYWxFYXNpbmcpO288YTtvKyspaWYocj1wdC5wcmVmaWx0ZXJzW29dLmNhbGwobCxlLGMsbC5vcHRzKSlyZXR1cm4gZyhyLnN0b3ApJiYody5fcXVldWVIb29rcyhsLmVsZW0sbC5vcHRzLnF1ZXVlKS5zdG9wPXIuc3RvcC5iaW5kKHIpKSxyO3JldHVybiB3Lm1hcChjLGx0LGwpLGcobC5vcHRzLnN0YXJ0KSYmbC5vcHRzLnN0YXJ0LmNhbGwoZSxsKSxsLnByb2dyZXNzKGwub3B0cy5wcm9ncmVzcykuZG9uZShsLm9wdHMuZG9uZSxsLm9wdHMuY29tcGxldGUpLmZhaWwobC5vcHRzLmZhaWwpLmFsd2F5cyhsLm9wdHMuYWx3YXlzKSx3LmZ4LnRpbWVyKHcuZXh0ZW5kKHUse2VsZW06ZSxhbmltOmwscXVldWU6bC5vcHRzLnF1ZXVlfSkpLGx9dy5BbmltYXRpb249dy5leHRlbmQocHQse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5jcmVhdGVUd2VlbihlLHQpO3JldHVybiB1ZShuLmVsZW0sZSxpZS5leGVjKHQpLG4pLG59XX0sdHdlZW5lcjpmdW5jdGlvbihlLHQpe2coZSk/KHQ9ZSxlPVsiKiJdKTplPWUubWF0Y2goTSk7Zm9yKHZhciBuLHI9MCxpPWUubGVuZ3RoO3I8aTtyKyspbj1lW3JdLHB0LnR3ZWVuZXJzW25dPXB0LnR3ZWVuZXJzW25dfHxbXSxwdC50d2VlbmVyc1tuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXJzOltjdF0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9wdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6cHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLHcuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT93LmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fGcoZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIWcodCkmJnR9O3JldHVybiB3LmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiB3LmZ4LnNwZWVkcz9yLmR1cmF0aW9uPXcuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249dy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7ZyhyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmdy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LHcuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbihlLHQsbixyKXt2YXIgaT13LmlzRW1wdHlPYmplY3QoZSksbz13LnNwZWVkKHQsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIHQ9cHQodGhpcyx3LmV4dGVuZCh7fSxlKSxvKTsoaXx8Si5nZXQodGhpcywiZmluaXNoIikpJiZ0LnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihlLHQsbil7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChuKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlJiYobj10LHQ9ZSxlPXZvaWQgMCksdCYmITEhPT1lJiZ0aGlzLnF1ZXVlKGV8fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PSEwLGk9bnVsbCE9ZSYmZSsicXVldWVIb29rcyIsbz13LnRpbWVycyxhPUouZ2V0KHRoaXMpO2lmKGkpYVtpXSYmYVtpXS5zdG9wJiZyKGFbaV0pO2Vsc2UgZm9yKGkgaW4gYSlhW2ldJiZhW2ldLnN0b3AmJm90LnRlc3QoaSkmJnIoYVtpXSk7Zm9yKGk9by5sZW5ndGg7aS0tOylvW2ldLmVsZW0hPT10aGlzfHxudWxsIT1lJiZvW2ldLnF1ZXVlIT09ZXx8KG9baV0uYW5pbS5zdG9wKG4pLHQ9ITEsby5zcGxpY2UoaSwxKSk7IXQmJm58fHcuZGVxdWV1ZSh0aGlzLGUpfSl9LGZpbmlzaDpmdW5jdGlvbihlKXtyZXR1cm4hMSE9PWUmJihlPWV8fCJmeCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0LG49Si5nZXQodGhpcykscj1uW2UrInF1ZXVlIl0saT1uW2UrInF1ZXVlSG9va3MiXSxvPXcudGltZXJzLGE9cj9yLmxlbmd0aDowO2ZvcihuLmZpbmlzaD0hMCx3LnF1ZXVlKHRoaXMsZSxbXSksaSYmaS5zdG9wJiZpLnN0b3AuY2FsbCh0aGlzLCEwKSx0PW8ubGVuZ3RoO3QtLTspb1t0XS5lbGVtPT09dGhpcyYmb1t0XS5xdWV1ZT09PWUmJihvW3RdLmFuaW0uc3RvcCghMCksby5zcGxpY2UodCwxKSk7Zm9yKHQ9MDt0PGE7dCsrKXJbdF0mJnJbdF0uZmluaXNoJiZyW3RdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBuLmZpbmlzaH0pfX0pLHcuZWFjaChbInRvZ2dsZSIsInNob3ciLCJoaWRlIl0sZnVuY3Rpb24oZSx0KXt2YXIgbj13LmZuW3RdO3cuZm5bdF09ZnVuY3Rpb24oZSxyLGkpe3JldHVybiBudWxsPT1lfHwiYm9vbGVhbiI9PXR5cGVvZiBlP24uYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZSh1dCh0LCEwKSxlLHIsaSl9fSksdy5lYWNoKHtzbGlkZURvd246dXQoInNob3ciKSxzbGlkZVVwOnV0KCJoaWRlIiksc2xpZGVUb2dnbGU6dXQoInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oZSx0KXt3LmZuW2VdPWZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gdGhpcy5hbmltYXRlKHQsZSxuLHIpfX0pLHcudGltZXJzPVtdLHcuZngudGljaz1mdW5jdGlvbigpe3ZhciBlLHQ9MCxuPXcudGltZXJzO2ZvcihudD1EYXRlLm5vdygpO3Q8bi5sZW5ndGg7dCsrKShlPW5bdF0pKCl8fG5bdF0hPT1lfHxuLnNwbGljZSh0LS0sMSk7bi5sZW5ndGh8fHcuZnguc3RvcCgpLG50PXZvaWQgMH0sdy5meC50aW1lcj1mdW5jdGlvbihlKXt3LnRpbWVycy5wdXNoKGUpLHcuZnguc3RhcnQoKX0sdy5meC5pbnRlcnZhbD0xMyx3LmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7cnR8fChydD0hMCxhdCgpKX0sdy5meC5zdG9wPWZ1bmN0aW9uKCl7cnQ9bnVsbH0sdy5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sdy5mbi5kZWxheT1mdW5jdGlvbih0LG4pe3JldHVybiB0PXcuZng/dy5meC5zcGVlZHNbdF18fHQ6dCxuPW58fCJmeCIsdGhpcy5xdWV1ZShuLGZ1bmN0aW9uKG4scil7dmFyIGk9ZS5zZXRUaW1lb3V0KG4sdCk7ci5zdG9wPWZ1bmN0aW9uKCl7ZS5jbGVhclRpbWVvdXQoaSl9fSl9LGZ1bmN0aW9uKCl7dmFyIGU9ci5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLHQ9ci5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKS5hcHBlbmRDaGlsZChyLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtlLnR5cGU9ImNoZWNrYm94IixoLmNoZWNrT249IiIhPT1lLnZhbHVlLGgub3B0U2VsZWN0ZWQ9dC5zZWxlY3RlZCwoZT1yLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0IixlLnR5cGU9InJhZGlvIixoLnJhZGlvVmFsdWU9InQiPT09ZS52YWx1ZX0oKTt2YXIgZHQsaHQ9dy5leHByLmF0dHJIYW5kbGU7dy5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geih0aGlzLHcuYXR0cixlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dy5yZW1vdmVBdHRyKHRoaXMsZSl9KX19KSx3LmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPWUubm9kZVR5cGU7aWYoMyE9PW8mJjghPT1vJiYyIT09bylyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGUuZ2V0QXR0cmlidXRlP3cucHJvcChlLHQsbik6KDE9PT1vJiZ3LmlzWE1MRG9jKGUpfHwoaT13LmF0dHJIb29rc1t0LnRvTG93ZXJDYXNlKCldfHwody5leHByLm1hdGNoLmJvb2wudGVzdCh0KT9kdDp2b2lkIDApKSx2b2lkIDAhPT1uP251bGw9PT1uP3ZvaWQgdy5yZW1vdmVBdHRyKGUsdCk6aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6KGUuc2V0QXR0cmlidXRlKHQsbisiIiksbik6aSYmImdldCJpbiBpJiZudWxsIT09KHI9aS5nZXQoZSx0KSk/cjpudWxsPT0ocj13LmZpbmQuYXR0cihlLHQpKT92b2lkIDA6cil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoIWgucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJk4oZSwiaW5wdXQiKSl7dmFyIG49ZS52YWx1ZTtyZXR1cm4gZS5zZXRBdHRyaWJ1dGUoInR5cGUiLHQpLG4mJihlLnZhbHVlPW4pLHR9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10JiZ0Lm1hdGNoKE0pO2lmKGkmJjE9PT1lLm5vZGVUeXBlKXdoaWxlKG49aVtyKytdKWUucmVtb3ZlQXR0cmlidXRlKG4pfX0pLGR0PXtzZXQ6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiExPT09dD93LnJlbW92ZUF0dHIoZSxuKTplLnNldEF0dHJpYnV0ZShuLG4pLG59fSx3LmVhY2gody5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24oZSx0KXt2YXIgbj1odFt0XXx8dy5maW5kLmF0dHI7aHRbdF09ZnVuY3Rpb24oZSx0LHIpe3ZhciBpLG8sYT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIHJ8fChvPWh0W2FdLGh0W2FdPWksaT1udWxsIT1uKGUsdCxyKT9hOm51bGwsaHRbYV09byksaX19KTt2YXIgZ3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSx5dD0vXig/OmF8YXJlYSkkL2k7dy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4geih0aGlzLHcucHJvcCxlLHQsYXJndW1lbnRzLmxlbmd0aD4xKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbdy5wcm9wRml4W2VdfHxlXX0pfX0pLHcuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmdy5pc1hNTERvYyhlKXx8KHQ9dy5wcm9wRml4W3RdfHx0LGk9dy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXcuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6Z3QudGVzdChlLm5vZGVOYW1lKXx8eXQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSksaC5vcHRTZWxlY3RlZHx8KHcucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSx3LmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe3cucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KTtmdW5jdGlvbiB2dChlKXtyZXR1cm4oZS5tYXRjaChNKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBtdChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB4dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZT9lLm1hdGNoKE0pfHxbXTpbXX13LmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbyxhLHMsdT0wO2lmKGcoZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt3KHRoaXMpLmFkZENsYXNzKGUuY2FsbCh0aGlzLHQsbXQodGhpcykpKX0pO2lmKCh0PXh0KGUpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1tdChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIrdnQoaSkrIiAiKXthPTA7d2hpbGUobz10W2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9dnQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscyx1PTA7aWYoZyhlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3codGhpcykucmVtb3ZlQ2xhc3MoZS5jYWxsKHRoaXMsdCxtdCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigodD14dChlKSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9bXQobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK3Z0KGkpKyIgIil7YT0wO3doaWxlKG89dFthKytdKXdoaWxlKHIuaW5kZXhPZigiICIrbysiICIpPi0xKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz12dChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dHlwZW9mIGUscj0ic3RyaW5nIj09PW58fEFycmF5LmlzQXJyYXkoZSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmcj90P3RoaXMuYWRkQ2xhc3MoZSk6dGhpcy5yZW1vdmVDbGFzcyhlKTpnKGUpP3RoaXMuZWFjaChmdW5jdGlvbihuKXt3KHRoaXMpLnRvZ2dsZUNsYXNzKGUuY2FsbCh0aGlzLG4sbXQodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxpLG8sYTtpZihyKXtpPTAsbz13KHRoaXMpLGE9eHQoZSk7d2hpbGUodD1hW2krK10pby5oYXNDbGFzcyh0KT9vLnJlbW92ZUNsYXNzKHQpOm8uYWRkQ2xhc3ModCl9ZWxzZSB2b2lkIDAhPT1lJiYiYm9vbGVhbiIhPT1ufHwoKHQ9bXQodGhpcykpJiZKLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIix0KSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIix0fHwhMT09PWU/IiI6Si5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYoIiAiK3Z0KG10KG4pKSsiICIpLmluZGV4T2YodCk+LTEpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIGJ0PS9cci9nO3cuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9dGhpc1swXTt7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gcj1nKGUpLHRoaXMuZWFjaChmdW5jdGlvbihuKXt2YXIgaTsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PShpPXI/ZS5jYWxsKHRoaXMsbix3KHRoaXMpLnZhbCgpKTplKT9pPSIiOiJudW1iZXIiPT10eXBlb2YgaT9pKz0iIjpBcnJheS5pc0FycmF5KGkpJiYoaT13Lm1hcChpLGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHQ9dy52YWxIb29rc1t0aGlzLnR5cGVdfHx3LnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHQmJnZvaWQgMCE9PXQuc2V0KHRoaXMsaSwidmFsdWUiKXx8KHRoaXMudmFsdWU9aSkpfSk7aWYoaSlyZXR1cm4odD13LnZhbEhvb2tzW2kudHlwZV18fHcudmFsSG9va3NbaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkmJiJnZXQiaW4gdCYmdm9pZCAwIT09KG49dC5nZXQoaSwidmFsdWUiKSk/bjoic3RyaW5nIj09dHlwZW9mKG49aS52YWx1ZSk/bi5yZXBsYWNlKGJ0LCIiKTpudWxsPT1uPyIiOm59fX0pLHcuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dy5maW5kLmF0dHIoZSwidmFsdWUiKTtyZXR1cm4gbnVsbCE9dD90OnZ0KHcudGV4dChlKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaT1lLm9wdGlvbnMsbz1lLnNlbGVjdGVkSW5kZXgsYT0ic2VsZWN0LW9uZSI9PT1lLnR5cGUscz1hP251bGw6W10sdT1hP28rMTppLmxlbmd0aDtmb3Iocj1vPDA/dTphP286MDtyPHU7cisrKWlmKCgobj1pW3JdKS5zZWxlY3RlZHx8cj09PW8pJiYhbi5kaXNhYmxlZCYmKCFuLnBhcmVudE5vZGUuZGlzYWJsZWR8fCFOKG4ucGFyZW50Tm9kZSwib3B0Z3JvdXAiKSkpe2lmKHQ9dyhuKS52YWwoKSxhKXJldHVybiB0O3MucHVzaCh0KX1yZXR1cm4gc30sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpPWUub3B0aW9ucyxvPXcubWFrZUFycmF5KHQpLGE9aS5sZW5ndGg7d2hpbGUoYS0tKSgocj1pW2FdKS5zZWxlY3RlZD13LmluQXJyYXkody52YWxIb29rcy5vcHRpb24uZ2V0KHIpLG8pPi0xKSYmKG49ITApO3JldHVybiBufHwoZS5zZWxlY3RlZEluZGV4PS0xKSxvfX19fSksdy5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7dy52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gZS5jaGVja2VkPXcuaW5BcnJheSh3KGUpLnZhbCgpLHQpPi0xfX0saC5jaGVja09ufHwody52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOmUudmFsdWV9KX0pLGguZm9jdXNpbj0ib25mb2N1c2luImluIGU7dmFyIHd0PS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxUdD1mdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfTt3LmV4dGVuZCh3LmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKHQsbixpLG8pe3ZhciBhLHMsdSxsLGMscCxkLGgsdj1baXx8cl0sbT1mLmNhbGwodCwidHlwZSIpP3QudHlwZTp0LHg9Zi5jYWxsKHQsIm5hbWVzcGFjZSIpP3QubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYocz1oPXU9aT1pfHxyLDMhPT1pLm5vZGVUeXBlJiY4IT09aS5ub2RlVHlwZSYmIXd0LnRlc3QobSt3LmV2ZW50LnRyaWdnZXJlZCkmJihtLmluZGV4T2YoIi4iKT4tMSYmKG09KHg9bS5zcGxpdCgiLiIpKS5zaGlmdCgpLHguc29ydCgpKSxjPW0uaW5kZXhPZigiOiIpPDAmJiJvbiIrbSx0PXRbdy5leHBhbmRvXT90Om5ldyB3LkV2ZW50KG0sIm9iamVjdCI9PXR5cGVvZiB0JiZ0KSx0LmlzVHJpZ2dlcj1vPzI6Myx0Lm5hbWVzcGFjZT14LmpvaW4oIi4iKSx0LnJuYW1lc3BhY2U9dC5uYW1lc3BhY2U/bmV3IFJlZ0V4cCgiKF58XFwuKSIreC5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsLHQucmVzdWx0PXZvaWQgMCx0LnRhcmdldHx8KHQudGFyZ2V0PWkpLG49bnVsbD09bj9bdF06dy5tYWtlQXJyYXkobixbdF0pLGQ9dy5ldmVudC5zcGVjaWFsW21dfHx7fSxvfHwhZC50cmlnZ2VyfHwhMSE9PWQudHJpZ2dlci5hcHBseShpLG4pKSl7aWYoIW8mJiFkLm5vQnViYmxlJiYheShpKSl7Zm9yKGw9ZC5kZWxlZ2F0ZVR5cGV8fG0sd3QudGVzdChsK20pfHwocz1zLnBhcmVudE5vZGUpO3M7cz1zLnBhcmVudE5vZGUpdi5wdXNoKHMpLHU9czt1PT09KGkub3duZXJEb2N1bWVudHx8cikmJnYucHVzaCh1LmRlZmF1bHRWaWV3fHx1LnBhcmVudFdpbmRvd3x8ZSl9YT0wO3doaWxlKChzPXZbYSsrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpaD1zLHQudHlwZT1hPjE/bDpkLmJpbmRUeXBlfHxtLChwPShKLmdldChzLCJldmVudHMiKXx8e30pW3QudHlwZV0mJkouZ2V0KHMsImhhbmRsZSIpKSYmcC5hcHBseShzLG4pLChwPWMmJnNbY10pJiZwLmFwcGx5JiZZKHMpJiYodC5yZXN1bHQ9cC5hcHBseShzLG4pLCExPT09dC5yZXN1bHQmJnQucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIHQudHlwZT1tLG98fHQuaXNEZWZhdWx0UHJldmVudGVkKCl8fGQuX2RlZmF1bHQmJiExIT09ZC5fZGVmYXVsdC5hcHBseSh2LnBvcCgpLG4pfHwhWShpKXx8YyYmZyhpW21dKSYmIXkoaSkmJigodT1pW2NdKSYmKGlbY109bnVsbCksdy5ldmVudC50cmlnZ2VyZWQ9bSx0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmguYWRkRXZlbnRMaXN0ZW5lcihtLFR0KSxpW21dKCksdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZoLnJlbW92ZUV2ZW50TGlzdGVuZXIobSxUdCksdy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLHUmJihpW2NdPXUpKSx0LnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj13LmV4dGVuZChuZXcgdy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTt3LmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLHcuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3cuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIHcuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSksaC5mb2N1c2lufHx3LmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSl7dy5ldmVudC5zaW11bGF0ZSh0LGUudGFyZ2V0LHcuZXZlbnQuZml4KGUpKX07dy5ldmVudC5zcGVjaWFsW3RdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciByPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxpPUouYWNjZXNzKHIsdCk7aXx8ci5hZGRFdmVudExpc3RlbmVyKGUsbiwhMCksSi5hY2Nlc3Mocix0LChpfHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgcj10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsaT1KLmFjY2VzcyhyLHQpLTE7aT9KLmFjY2VzcyhyLHQsaSk6KHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLG4sITApLEoucmVtb3ZlKHIsdCkpfX19KTt2YXIgQ3Q9ZS5sb2NhdGlvbixFdD1EYXRlLm5vdygpLGt0PS9cPy87dy5wYXJzZVhNTD1mdW5jdGlvbih0KXt2YXIgbjtpZighdHx8InN0cmluZyIhPXR5cGVvZiB0KXJldHVybiBudWxsO3RyeXtuPShuZXcgZS5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyh0LCJ0ZXh0L3htbCIpfWNhdGNoKGUpe249dm9pZCAwfXJldHVybiBuJiYhbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGh8fHcuZXJyb3IoIkludmFsaWQgWE1MOiAiK3QpLG59O3ZhciBTdD0vXFtcXSQvLER0PS9ccj9cbi9nLE50PS9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxBdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7ZnVuY3Rpb24ganQoZSx0LG4scil7dmFyIGk7aWYoQXJyYXkuaXNBcnJheSh0KSl3LmVhY2godCxmdW5jdGlvbih0LGkpe258fFN0LnRlc3QoZSk/cihlLGkpOmp0KGUrIlsiKygib2JqZWN0Ij09dHlwZW9mIGkmJm51bGwhPWk/dDoiIikrIl0iLGksbixyKX0pO2Vsc2UgaWYobnx8Im9iamVjdCIhPT14KHQpKXIoZSx0KTtlbHNlIGZvcihpIGluIHQpanQoZSsiWyIraSsiXSIsdFtpXSxuLHIpfXcucGFyYW09ZnVuY3Rpb24oZSx0KXt2YXIgbixyPVtdLGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1nKHQpP3QoKTp0O3Jbci5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChlKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG51bGw9PW4/IiI6bil9O2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhdy5pc1BsYWluT2JqZWN0KGUpKXcuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpanQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSx3LmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHcucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT13LnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT93Lm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiF3KHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmQXQudGVzdCh0aGlzLm5vZGVOYW1lKSYmIU50LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPXcodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP3cubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShEdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRHQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgcXQ9LyUyMC9nLEx0PS8jLiokLyxIdD0vKFs/Jl0pXz1bXiZdKi8sT3Q9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxQdD0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxNdD0vXig/OkdFVHxIRUFEKSQvLFJ0PS9eXC9cLy8sSXQ9e30sV3Q9e30sJHQ9IiovIi5jb25jYXQoIioiKSxCdD1yLmNyZWF0ZUVsZW1lbnQoImEiKTtCdC5ocmVmPUN0LmhyZWY7ZnVuY3Rpb24gRnQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7InN0cmluZyIhPXR5cGVvZiB0JiYobj10LHQ9IioiKTt2YXIgcixpPTAsbz10LnRvTG93ZXJDYXNlKCkubWF0Y2goTSl8fFtdO2lmKGcobikpd2hpbGUocj1vW2krK10pIisiPT09clswXT8ocj1yLnNsaWNlKDEpfHwiKiIsKGVbcl09ZVtyXXx8W10pLnVuc2hpZnQobikpOihlW3JdPWVbcl18fFtdKS5wdXNoKG4pfX1mdW5jdGlvbiBfdChlLHQsbixyKXt2YXIgaT17fSxvPWU9PT1XdDtmdW5jdGlvbiBhKHMpe3ZhciB1O3JldHVybiBpW3NdPSEwLHcuZWFjaChlW3NdfHxbXSxmdW5jdGlvbihlLHMpe3ZhciBsPXModCxuLHIpO3JldHVybiJzdHJpbmciIT10eXBlb2YgbHx8b3x8aVtsXT9vPyEodT1sKTp2b2lkIDA6KHQuZGF0YVR5cGVzLnVuc2hpZnQobCksYShsKSwhMSl9KSx1fXJldHVybiBhKHQuZGF0YVR5cGVzWzBdKXx8IWlbIioiXSYmYSgiKiIpfWZ1bmN0aW9uIHp0KGUsdCl7dmFyIG4scixpPXcuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IobiBpbiB0KXZvaWQgMCE9PXRbbl0mJigoaVtuXT9lOnJ8fChyPXt9KSlbbl09dFtuXSk7cmV0dXJuIHImJncuZXh0ZW5kKCEwLGUsciksZX1mdW5jdGlvbiBYdChlLHQsbil7dmFyIHIsaSxvLGEscz1lLmNvbnRlbnRzLHU9ZS5kYXRhVHlwZXM7d2hpbGUoIioiPT09dVswXSl1LnNoaWZ0KCksdm9pZCAwPT09ciYmKHI9ZS5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKHIpZm9yKGkgaW4gcylpZihzW2ldJiZzW2ldLnRlc3Qocikpe3UudW5zaGlmdChpKTticmVha31pZih1WzBdaW4gbilvPXVbMF07ZWxzZXtmb3IoaSBpbiBuKXtpZighdVswXXx8ZS5jb252ZXJ0ZXJzW2krIiAiK3VbMF1dKXtvPWk7YnJlYWt9YXx8KGE9aSl9bz1vfHxhfWlmKG8pcmV0dXJuIG8hPT11WzBdJiZ1LnVuc2hpZnQobyksbltvXX1mdW5jdGlvbiBVdChlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fXcuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpDdC5ocmVmLHR5cGU6IkdFVCIsaXNMb2NhbDpQdC50ZXN0KEN0LnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOiR0LHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi9cYnhtbFxiLyxodG1sOi9cYmh0bWwvLGpzb246L1xianNvblxiL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOkpTT04ucGFyc2UsInRleHQgeG1sIjp3LnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD96dCh6dChlLHcuYWpheFNldHRpbmdzKSx0KTp6dCh3LmFqYXhTZXR0aW5ncyxlKX0sYWpheFByZWZpbHRlcjpGdChJdCksYWpheFRyYW5zcG9ydDpGdChXdCksYWpheDpmdW5jdGlvbih0LG4peyJvYmplY3QiPT10eXBlb2YgdCYmKG49dCx0PXZvaWQgMCksbj1ufHx7fTt2YXIgaSxvLGEscyx1LGwsYyxmLHAsZCxoPXcuYWpheFNldHVwKHt9LG4pLGc9aC5jb250ZXh0fHxoLHk9aC5jb250ZXh0JiYoZy5ub2RlVHlwZXx8Zy5qcXVlcnkpP3coZyk6dy5ldmVudCx2PXcuRGVmZXJyZWQoKSxtPXcuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHg9aC5zdGF0dXNDb2RlfHx7fSxiPXt9LFQ9e30sQz0iY2FuY2VsZWQiLEU9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihlKXt2YXIgdDtpZihjKXtpZighcyl7cz17fTt3aGlsZSh0PU90LmV4ZWMoYSkpc1t0WzFdLnRvTG93ZXJDYXNlKCldPXRbMl19dD1zW2UudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PXQ/bnVsbDp0fSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gYz9hOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09YyYmKGU9VFtlLnRvTG93ZXJDYXNlKCldPVRbZS50b0xvd2VyQ2FzZSgpXXx8ZSxiW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWMmJihoLm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihjKUUuYWx3YXlzKGVbRS5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpeFt0XT1beFt0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8QztyZXR1cm4gaSYmaS5hYm9ydCh0KSxrKDAsdCksdGhpc319O2lmKHYucHJvbWlzZShFKSxoLnVybD0oKHR8fGgudXJsfHxDdC5ocmVmKSsiIikucmVwbGFjZShSdCxDdC5wcm90b2NvbCsiLy8iKSxoLnR5cGU9bi5tZXRob2R8fG4udHlwZXx8aC5tZXRob2R8fGgudHlwZSxoLmRhdGFUeXBlcz0oaC5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKE0pfHxbIiJdLG51bGw9PWguY3Jvc3NEb21haW4pe2w9ci5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e2wuaHJlZj1oLnVybCxsLmhyZWY9bC5ocmVmLGguY3Jvc3NEb21haW49QnQucHJvdG9jb2wrIi8vIitCdC5ob3N0IT1sLnByb3RvY29sKyIvLyIrbC5ob3N0fWNhdGNoKGUpe2guY3Jvc3NEb21haW49ITB9fWlmKGguZGF0YSYmaC5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBoLmRhdGEmJihoLmRhdGE9dy5wYXJhbShoLmRhdGEsaC50cmFkaXRpb25hbCkpLF90KEl0LGgsbixFKSxjKXJldHVybiBFOyhmPXcuZXZlbnQmJmguZ2xvYmFsKSYmMD09dy5hY3RpdmUrKyYmdy5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKSxoLnR5cGU9aC50eXBlLnRvVXBwZXJDYXNlKCksaC5oYXNDb250ZW50PSFNdC50ZXN0KGgudHlwZSksbz1oLnVybC5yZXBsYWNlKEx0LCIiKSxoLmhhc0NvbnRlbnQ/aC5kYXRhJiZoLnByb2Nlc3NEYXRhJiYwPT09KGguY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmKGguZGF0YT1oLmRhdGEucmVwbGFjZShxdCwiKyIpKTooZD1oLnVybC5zbGljZShvLmxlbmd0aCksaC5kYXRhJiYoaC5wcm9jZXNzRGF0YXx8InN0cmluZyI9PXR5cGVvZiBoLmRhdGEpJiYobys9KGt0LnRlc3Qobyk/IiYiOiI/IikraC5kYXRhLGRlbGV0ZSBoLmRhdGEpLCExPT09aC5jYWNoZSYmKG89by5yZXBsYWNlKEh0LCIkMSIpLGQ9KGt0LnRlc3Qobyk/IiYiOiI/IikrIl89IitFdCsrK2QpLGgudXJsPW8rZCksaC5pZk1vZGlmaWVkJiYody5sYXN0TW9kaWZpZWRbb10mJkUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLHcubGFzdE1vZGlmaWVkW29dKSx3LmV0YWdbb10mJkUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsdy5ldGFnW29dKSksKGguZGF0YSYmaC5oYXNDb250ZW50JiYhMSE9PWguY29udGVudFR5cGV8fG4uY29udGVudFR5cGUpJiZFLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsaC5jb250ZW50VHlwZSksRS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLGguZGF0YVR5cGVzWzBdJiZoLmFjY2VwdHNbaC5kYXRhVHlwZXNbMF1dP2guYWNjZXB0c1toLmRhdGFUeXBlc1swXV0rKCIqIiE9PWguZGF0YVR5cGVzWzBdPyIsICIrJHQrIjsgcT0wLjAxIjoiIik6aC5hY2NlcHRzWyIqIl0pO2ZvcihwIGluIGguaGVhZGVycylFLnNldFJlcXVlc3RIZWFkZXIocCxoLmhlYWRlcnNbcF0pO2lmKGguYmVmb3JlU2VuZCYmKCExPT09aC5iZWZvcmVTZW5kLmNhbGwoZyxFLGgpfHxjKSlyZXR1cm4gRS5hYm9ydCgpO2lmKEM9ImFib3J0IixtLmFkZChoLmNvbXBsZXRlKSxFLmRvbmUoaC5zdWNjZXNzKSxFLmZhaWwoaC5lcnJvciksaT1fdChXdCxoLG4sRSkpe2lmKEUucmVhZHlTdGF0ZT0xLGYmJnkudHJpZ2dlcigiYWpheFNlbmQiLFtFLGhdKSxjKXJldHVybiBFO2guYXN5bmMmJmgudGltZW91dD4wJiYodT1lLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtFLmFib3J0KCJ0aW1lb3V0Iil9LGgudGltZW91dCkpO3RyeXtjPSExLGkuc2VuZChiLGspfWNhdGNoKGUpe2lmKGMpdGhyb3cgZTtrKC0xLGUpfX1lbHNlIGsoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIGsodCxuLHIscyl7dmFyIGwscCxkLGIsVCxDPW47Y3x8KGM9ITAsdSYmZS5jbGVhclRpbWVvdXQodSksaT12b2lkIDAsYT1zfHwiIixFLnJlYWR5U3RhdGU9dD4wPzQ6MCxsPXQ+PTIwMCYmdDwzMDB8fDMwND09PXQsciYmKGI9WHQoaCxFLHIpKSxiPVV0KGgsYixFLGwpLGw/KGguaWZNb2RpZmllZCYmKChUPUUuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSkmJih3Lmxhc3RNb2RpZmllZFtvXT1UKSwoVD1FLmdldFJlc3BvbnNlSGVhZGVyKCJldGFnIikpJiYody5ldGFnW29dPVQpKSwyMDQ9PT10fHwiSEVBRCI9PT1oLnR5cGU/Qz0ibm9jb250ZW50IjozMDQ9PT10P0M9Im5vdG1vZGlmaWVkIjooQz1iLnN0YXRlLHA9Yi5kYXRhLGw9IShkPWIuZXJyb3IpKSk6KGQ9QywhdCYmQ3x8KEM9ImVycm9yIix0PDAmJih0PTApKSksRS5zdGF0dXM9dCxFLnN0YXR1c1RleHQ9KG58fEMpKyIiLGw/di5yZXNvbHZlV2l0aChnLFtwLEMsRV0pOnYucmVqZWN0V2l0aChnLFtFLEMsZF0pLEUuc3RhdHVzQ29kZSh4KSx4PXZvaWQgMCxmJiZ5LnRyaWdnZXIobD8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFtFLGgsbD9wOmRdKSxtLmZpcmVXaXRoKGcsW0UsQ10pLGYmJih5LnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW0UsaF0pLC0tdy5hY3RpdmV8fHcuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiBFfSxnZXRKU09OOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdy5nZXQoZSx0LG4sImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHcuZ2V0KGUsdm9pZCAwLHQsInNjcmlwdCIpfX0pLHcuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihlLHQpe3dbdF09ZnVuY3Rpb24oZSxuLHIsaSl7cmV0dXJuIGcobikmJihpPWl8fHIscj1uLG49dm9pZCAwKSx3LmFqYXgody5leHRlbmQoe3VybDplLHR5cGU6dCxkYXRhVHlwZTppLGRhdGE6bixzdWNjZXNzOnJ9LHcuaXNQbGFpbk9iamVjdChlKSYmZSkpfX0pLHcuX2V2YWxVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuIHcuYWpheCh7dXJsOmUsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0IixjYWNoZTohMCxhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KX0sdy5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHRoaXNbMF0mJihnKGUpJiYoZT1lLmNhbGwodGhpc1swXSkpLHQ9dyhlLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApLHRoaXNbMF0ucGFyZW50Tm9kZSYmdC5pbnNlcnRCZWZvcmUodGhpc1swXSksdC5tYXAoZnVuY3Rpb24oKXt2YXIgZT10aGlzO3doaWxlKGUuZmlyc3RFbGVtZW50Q2hpbGQpZT1lLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBlfSkuYXBwZW5kKHRoaXMpKSx0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGcoZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3codGhpcykud3JhcElubmVyKGUuY2FsbCh0aGlzLHQpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PXcodGhpcyksbj10LmNvbnRlbnRzKCk7bi5sZW5ndGg/bi53cmFwQWxsKGUpOnQuYXBwZW5kKGUpfSl9LHdyYXA6ZnVuY3Rpb24oZSl7dmFyIHQ9ZyhlKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG4pe3codGhpcykud3JhcEFsbCh0P2UuY2FsbCh0aGlzLG4pOmUpfSl9LHVud3JhcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wYXJlbnQoZSkubm90KCJib2R5IikuZWFjaChmdW5jdGlvbigpe3codGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLHRoaXN9fSksdy5leHByLnBzZXVkb3MuaGlkZGVuPWZ1bmN0aW9uKGUpe3JldHVybiF3LmV4cHIucHNldWRvcy52aXNpYmxlKGUpfSx3LmV4cHIucHNldWRvcy52aXNpYmxlPWZ1bmN0aW9uKGUpe3JldHVybiEhKGUub2Zmc2V0V2lkdGh8fGUub2Zmc2V0SGVpZ2h0fHxlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKX0sdy5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgZS5YTUxIdHRwUmVxdWVzdH1jYXRjaChlKXt9fTt2YXIgVnQ9ezA6MjAwLDEyMjM6MjA0fSxHdD13LmFqYXhTZXR0aW5ncy54aHIoKTtoLmNvcnM9ISFHdCYmIndpdGhDcmVkZW50aWFscyJpbiBHdCxoLmFqYXg9R3Q9ISFHdCx3LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24odCl7dmFyIG4scjtpZihoLmNvcnN8fEd0JiYhdC5jcm9zc0RvbWFpbilyZXR1cm57c2VuZDpmdW5jdGlvbihpLG8pe3ZhciBhLHM9dC54aHIoKTtpZihzLm9wZW4odC50eXBlLHQudXJsLHQuYXN5bmMsdC51c2VybmFtZSx0LnBhc3N3b3JkKSx0LnhockZpZWxkcylmb3IoYSBpbiB0LnhockZpZWxkcylzW2FdPXQueGhyRmllbGRzW2FdO3QubWltZVR5cGUmJnMub3ZlcnJpZGVNaW1lVHlwZSYmcy5vdmVycmlkZU1pbWVUeXBlKHQubWltZVR5cGUpLHQuY3Jvc3NEb21haW58fGlbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGlbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoYSBpbiBpKXMuc2V0UmVxdWVzdEhlYWRlcihhLGlbYV0pO249ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7biYmKG49cj1zLm9ubG9hZD1zLm9uZXJyb3I9cy5vbmFib3J0PXMub250aW1lb3V0PXMub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsImFib3J0Ij09PWU/cy5hYm9ydCgpOiJlcnJvciI9PT1lPyJudW1iZXIiIT10eXBlb2Ygcy5zdGF0dXM/bygwLCJlcnJvciIpOm8ocy5zdGF0dXMscy5zdGF0dXNUZXh0KTpvKFZ0W3Muc3RhdHVzXXx8cy5zdGF0dXMscy5zdGF0dXNUZXh0LCJ0ZXh0IiE9PShzLnJlc3BvbnNlVHlwZXx8InRleHQiKXx8InN0cmluZyIhPXR5cGVvZiBzLnJlc3BvbnNlVGV4dD97YmluYXJ5OnMucmVzcG9uc2V9Ont0ZXh0OnMucmVzcG9uc2VUZXh0fSxzLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fSxzLm9ubG9hZD1uKCkscj1zLm9uZXJyb3I9cy5vbnRpbWVvdXQ9bigiZXJyb3IiKSx2b2lkIDAhPT1zLm9uYWJvcnQ/cy5vbmFib3J0PXI6cy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09cy5yZWFkeVN0YXRlJiZlLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtuJiZyKCl9KX0sbj1uKCJhYm9ydCIpO3RyeXtzLnNlbmQodC5oYXNDb250ZW50JiZ0LmRhdGF8fG51bGwpfWNhdGNoKGUpe2lmKG4pdGhyb3cgZX19LGFib3J0OmZ1bmN0aW9uKCl7biYmbigpfX19KSx3LmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7ZS5jcm9zc0RvbWFpbiYmKGUuY29udGVudHMuc2NyaXB0PSExKX0pLHcuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGUpe3JldHVybiB3Lmdsb2JhbEV2YWwoZSksZX19fSksdy5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUuY2FjaGUmJihlLmNhY2hlPSExKSxlLmNyb3NzRG9tYWluJiYoZS50eXBlPSJHRVQiKX0pLHcuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihlKXtpZihlLmNyb3NzRG9tYWluKXt2YXIgdCxuO3JldHVybntzZW5kOmZ1bmN0aW9uKGksbyl7dD13KCI8c2NyaXB0PiIpLnByb3Aoe2NoYXJzZXQ6ZS5zY3JpcHRDaGFyc2V0LHNyYzplLnVybH0pLm9uKCJsb2FkIGVycm9yIixuPWZ1bmN0aW9uKGUpe3QucmVtb3ZlKCksbj1udWxsLGUmJm8oImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxyLmhlYWQuYXBwZW5kQ2hpbGQodFswXSl9LGFib3J0OmZ1bmN0aW9uKCl7biYmbigpfX19fSk7dmFyIFl0PVtdLFF0PS8oPSlcPyg/PSZ8JCl8XD9cPy87dy5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBlPVl0LnBvcCgpfHx3LmV4cGFuZG8rIl8iK0V0Kys7cmV0dXJuIHRoaXNbZV09ITAsZX19KSx3LmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKHQsbixyKXt2YXIgaSxvLGEscz0hMSE9PXQuanNvbnAmJihRdC50ZXN0KHQudXJsKT8idXJsIjoic3RyaW5nIj09dHlwZW9mIHQuZGF0YSYmMD09PSh0LmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJlF0LnRlc3QodC5kYXRhKSYmImRhdGEiKTtpZihzfHwianNvbnAiPT09dC5kYXRhVHlwZXNbMF0pcmV0dXJuIGk9dC5qc29ucENhbGxiYWNrPWcodC5qc29ucENhbGxiYWNrKT90Lmpzb25wQ2FsbGJhY2soKTp0Lmpzb25wQ2FsbGJhY2sscz90W3NdPXRbc10ucmVwbGFjZShRdCwiJDEiK2kpOiExIT09dC5qc29ucCYmKHQudXJsKz0oa3QudGVzdCh0LnVybCk/IiYiOiI/IikrdC5qc29ucCsiPSIraSksdC5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIGF8fHcuZXJyb3IoaSsiIHdhcyBub3QgY2FsbGVkIiksYVswXX0sdC5kYXRhVHlwZXNbMF09Impzb24iLG89ZVtpXSxlW2ldPWZ1bmN0aW9uKCl7YT1hcmd1bWVudHN9LHIuYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09bz93KGUpLnJlbW92ZVByb3AoaSk6ZVtpXT1vLHRbaV0mJih0Lmpzb25wQ2FsbGJhY2s9bi5qc29ucENhbGxiYWNrLFl0LnB1c2goaSkpLGEmJmcobykmJm8oYVswXSksYT1vPXZvaWQgMH0pLCJzY3JpcHQifSksaC5jcmVhdGVIVE1MRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgZT1yLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikuYm9keTtyZXR1cm4gZS5pbm5lckhUTUw9Ijxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IiwyPT09ZS5jaGlsZE5vZGVzLmxlbmd0aH0oKSx3LnBhcnNlSFRNTD1mdW5jdGlvbihlLHQsbil7aWYoInN0cmluZyIhPXR5cGVvZiBlKXJldHVybltdOyJib29sZWFuIj09dHlwZW9mIHQmJihuPXQsdD0hMSk7dmFyIGksbyxhO3JldHVybiB0fHwoaC5jcmVhdGVIVE1MRG9jdW1lbnQ/KChpPSh0PXIuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPXIubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQoaSkpOnQ9ciksbz1BLmV4ZWMoZSksYT0hbiYmW10sbz9bdC5jcmVhdGVFbGVtZW50KG9bMV0pXToobz14ZShbZV0sdCxhKSxhJiZhLmxlbmd0aCYmdyhhKS5yZW1vdmUoKSx3Lm1lcmdlKFtdLG8uY2hpbGROb2RlcykpfSx3LmZuLmxvYWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhPXRoaXMscz1lLmluZGV4T2YoIiAiKTtyZXR1cm4gcz4tMSYmKHI9dnQoZS5zbGljZShzKSksZT1lLnNsaWNlKDAscykpLGcodCk/KG49dCx0PXZvaWQgMCk6dCYmIm9iamVjdCI9PXR5cGVvZiB0JiYoaT0iUE9TVCIpLGEubGVuZ3RoPjAmJncuYWpheCh7dXJsOmUsdHlwZTppfHwiR0VUIixkYXRhVHlwZToiaHRtbCIsZGF0YTp0fSkuZG9uZShmdW5jdGlvbihlKXtvPWFyZ3VtZW50cyxhLmh0bWwocj93KCI8ZGl2PiIpLmFwcGVuZCh3LnBhcnNlSFRNTChlKSkuZmluZChyKTplKX0pLmFsd2F5cyhuJiZmdW5jdGlvbihlLHQpe2EuZWFjaChmdW5jdGlvbigpe24uYXBwbHkodGhpcyxvfHxbZS5yZXNwb25zZVRleHQsdCxlXSl9KX0pLHRoaXN9LHcuZWFjaChbImFqYXhTdGFydCIsImFqYXhTdG9wIiwiYWpheENvbXBsZXRlIiwiYWpheEVycm9yIiwiYWpheFN1Y2Nlc3MiLCJhamF4U2VuZCJdLGZ1bmN0aW9uKGUsdCl7dy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vbih0LGUpfX0pLHcuZXhwci5wc2V1ZG9zLmFuaW1hdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB3LmdyZXAody50aW1lcnMsZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10LmVsZW19KS5sZW5ndGh9LHcub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLHMsdSxsLGM9dy5jc3MoZSwicG9zaXRpb24iKSxmPXcoZSkscD17fTsic3RhdGljIj09PWMmJihlLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpLHM9Zi5vZmZzZXQoKSxvPXcuY3NzKGUsInRvcCIpLHU9dy5jc3MoZSwibGVmdCIpLChsPSgiYWJzb2x1dGUiPT09Y3x8ImZpeGVkIj09PWMpJiYobyt1KS5pbmRleE9mKCJhdXRvIik+LTEpPyhhPShyPWYucG9zaXRpb24oKSkudG9wLGk9ci5sZWZ0KTooYT1wYXJzZUZsb2F0KG8pfHwwLGk9cGFyc2VGbG9hdCh1KXx8MCksZyh0KSYmKHQ9dC5jYWxsKGUsbix3LmV4dGVuZCh7fSxzKSkpLG51bGwhPXQudG9wJiYocC50b3A9dC50b3Atcy50b3ArYSksbnVsbCE9dC5sZWZ0JiYocC5sZWZ0PXQubGVmdC1zLmxlZnQraSksInVzaW5nImluIHQ/dC51c2luZy5jYWxsKGUscCk6Zi5jc3MocCl9fSx3LmZuLmV4dGVuZCh7b2Zmc2V0OmZ1bmN0aW9uKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PWU/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24odCl7dy5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsZSx0KX0pO3ZhciB0LG4scj10aGlzWzBdO2lmKHIpcmV0dXJuIHIuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGg/KHQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyx7dG9wOnQudG9wK24ucGFnZVlPZmZzZXQsbGVmdDp0LmxlZnQrbi5wYWdlWE9mZnNldH0pOnt0b3A6MCxsZWZ0OjB9fSxwb3NpdGlvbjpmdW5jdGlvbigpe2lmKHRoaXNbMF0pe3ZhciBlLHQsbixyPXRoaXNbMF0saT17dG9wOjAsbGVmdDowfTtpZigiZml4ZWQiPT09dy5jc3MociwicG9zaXRpb24iKSl0PXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7ZWxzZXt0PXRoaXMub2Zmc2V0KCksbj1yLm93bmVyRG9jdW1lbnQsZT1yLm9mZnNldFBhcmVudHx8bi5kb2N1bWVudEVsZW1lbnQ7d2hpbGUoZSYmKGU9PT1uLmJvZHl8fGU9PT1uLmRvY3VtZW50RWxlbWVudCkmJiJzdGF0aWMiPT09dy5jc3MoZSwicG9zaXRpb24iKSllPWUucGFyZW50Tm9kZTtlJiZlIT09ciYmMT09PWUubm9kZVR5cGUmJigoaT13KGUpLm9mZnNldCgpKS50b3ArPXcuY3NzKGUsImJvcmRlclRvcFdpZHRoIiwhMCksaS5sZWZ0Kz13LmNzcyhlLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSl9cmV0dXJue3RvcDp0LnRvcC1pLnRvcC13LmNzcyhyLCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnQubGVmdC1pLmxlZnQtdy5jc3MociwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0UGFyZW50O3doaWxlKGUmJiJzdGF0aWMiPT09dy5jc3MoZSwicG9zaXRpb24iKSllPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxiZX0pfX0pLHcuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihlLHQpe3ZhciBuPSJwYWdlWU9mZnNldCI9PT10O3cuZm5bZV09ZnVuY3Rpb24ocil7cmV0dXJuIHoodGhpcyxmdW5jdGlvbihlLHIsaSl7dmFyIG87aWYoeShlKT9vPWU6OT09PWUubm9kZVR5cGUmJihvPWUuZGVmYXVsdFZpZXcpLHZvaWQgMD09PWkpcmV0dXJuIG8/b1t0XTplW3JdO28/by5zY3JvbGxUbyhuP28ucGFnZVhPZmZzZXQ6aSxuP2k6by5wYWdlWU9mZnNldCk6ZVtyXT1pfSxlLHIsYXJndW1lbnRzLmxlbmd0aCl9fSksdy5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGUsdCl7dy5jc3NIb29rc1t0XT1fZShoLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oZSxuKXtpZihuKXJldHVybiBuPUZlKGUsdCksV2UudGVzdChuKT93KGUpLnBvc2l0aW9uKClbdF0rInB4IjpufSl9KSx3LmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihlLHQpe3cuZWFjaCh7cGFkZGluZzoiaW5uZXIiK2UsY29udGVudDp0LCIiOiJvdXRlciIrZX0sZnVuY3Rpb24obixyKXt3LmZuW3JdPWZ1bmN0aW9uKGksbyl7dmFyIGE9YXJndW1lbnRzLmxlbmd0aCYmKG58fCJib29sZWFuIiE9dHlwZW9mIGkpLHM9bnx8KCEwPT09aXx8ITA9PT1vPyJtYXJnaW4iOiJib3JkZXIiKTtyZXR1cm4geih0aGlzLGZ1bmN0aW9uKHQsbixpKXt2YXIgbztyZXR1cm4geSh0KT8wPT09ci5pbmRleE9mKCJvdXRlciIpP3RbImlubmVyIitlXTp0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IitlXTo5PT09dC5ub2RlVHlwZT8obz10LmRvY3VtZW50RWxlbWVudCxNYXRoLm1heCh0LmJvZHlbInNjcm9sbCIrZV0sb1sic2Nyb2xsIitlXSx0LmJvZHlbIm9mZnNldCIrZV0sb1sib2Zmc2V0IitlXSxvWyJjbGllbnQiK2VdKSk6dm9pZCAwPT09aT93LmNzcyh0LG4scyk6dy5zdHlsZSh0LG4saSxzKX0sdCxhP2k6dm9pZCAwLGEpfX0pfSksdy5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7dy5mblt0XT1mdW5jdGlvbihlLG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbih0LG51bGwsZSxuKTp0aGlzLnRyaWdnZXIodCl9fSksdy5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLHcuZm4uZXh0ZW5kKHtiaW5kOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5vbihlLG51bGwsdCxuKX0sdW5iaW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMub2ZmKGUsbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMub24odCxlLG4scil9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihlLCIqKiIpOnRoaXMub2ZmKHQsZXx8IioqIixuKX19KSx3LnByb3h5PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpO2lmKCJzdHJpbmciPT10eXBlb2YgdCYmKG49ZVt0XSx0PWUsZT1uKSxnKGUpKXJldHVybiByPW8uY2FsbChhcmd1bWVudHMsMiksaT1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHR8fHRoaXMsci5jb25jYXQoby5jYWxsKGFyZ3VtZW50cykpKX0saS5ndWlkPWUuZ3VpZD1lLmd1aWR8fHcuZ3VpZCsrLGl9LHcuaG9sZFJlYWR5PWZ1bmN0aW9uKGUpe2U/dy5yZWFkeVdhaXQrKzp3LnJlYWR5KCEwKX0sdy5pc0FycmF5PUFycmF5LmlzQXJyYXksdy5wYXJzZUpTT049SlNPTi5wYXJzZSx3Lm5vZGVOYW1lPU4sdy5pc0Z1bmN0aW9uPWcsdy5pc1dpbmRvdz15LHcuY2FtZWxDYXNlPUcsdy50eXBlPXgsdy5ub3c9RGF0ZS5ub3csdy5pc051bWVyaWM9ZnVuY3Rpb24oZSl7dmFyIHQ9dy50eXBlKGUpO3JldHVybigibnVtYmVyIj09PXR8fCJzdHJpbmciPT09dCkmJiFpc05hTihlLXBhcnNlRmxvYXQoZSkpfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gd30pO3ZhciBKdD1lLmpRdWVyeSxLdD1lLiQ7cmV0dXJuIHcubm9Db25mbGljdD1mdW5jdGlvbih0KXtyZXR1cm4gZS4kPT09dyYmKGUuJD1LdCksdCYmZS5qUXVlcnk9PT13JiYoZS5qUXVlcnk9SnQpLHd9LHR8fChlLmpRdWVyeT1lLiQ9dyksd30pOwo="}]},{"name":"Image Downloader","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":["*"],"merge_includes":true,"use_matches":[],"orig_matches":["*","https://www.bilibili.com/","https://588ku.com/"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":["wx.qlogo.cn","dss0.bdstatic.com","pss.bdstatic.com","dancf-st0.oss-cn-hangzhou.aliyuncs.com","static-ud.udesk.cn","gd-filems.dancf.com","st-gdx.dancf.com","st0.dancf.com","p6-sign.bdxiguaimg.com","p26-sign.bdxiguaimg.com","mmbiz.qpic.cn","upload-images.jianshu.io","5b0988e595225.cdn.sohucs.com","sucimg.itc.cn","03e1181bba1cf.cdn.sohucs.com","www.jia360.com","tencentjiaju.img-cn-beijing.aliyuncs.com","qq.com","himg.bdimg.com","icon.cnzz.com","s.maigoo.com","image.maigoo.com","image4.cnpp.cn","appimg.ncut.edu.cn","gtimg.cn","zcool.cn","image.gogoup.com","588ku.com","huabanimg.com","aliyuncs.com","t3.chei.com.cn","chuangkit.com","shenzan.com","mianfeiziti.com","q.qlogo.cn","bpic.51yuansu.com","icon.51yuansu.com","thirdqq.qlogo.cn","php.cn","jonypractic.net","puui.qpic.cn","tju.edu.cn","ustb.edu.cn","huaban.com"],"orig_connects":["*"],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null}},"storage":{"ts":1661936236451,"data":{}},"enabled":true,"position":2,"uuid":"080f2636-6a1e-452c-966a-9906aaed621a","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBJbWFnZSBEb3dubG9hZGVyCi8vIEBuYW1lOnpoLUNOICAg5Zu+54mH5LiL6L295ZmoCi8vIEBuYW1lOnpoLVRXICAg5Zu+54mH5LiL6L295ZmoCi8vIEBuYW1lOmphICAg55S75YOP44OA44Km44Oz44Ot44O844OA44O8Ci8vIEBuYW1lOmtvICAg7J2066+47KeAIOuLpOyatOuhnOuNlAovLyBAbmFtZTpkZSAgIEltYWdlIERvd25sb2FkZXIKLy8gQG5hbWU6ZXMgICBJbWFnZSBEb3dubG9hZGVyCi8vIEBuYW1lOmVvICAgSW1hZ2UgRG93bmxvYWRlcgovLyBAbmFtZTpmciAgIEltYWdlIERvd25sb2FkZXIKLy8gQG5hbWU6aXQgICBJbWFnZSBEb3dubG9hZGVyCi8vIEBuYW1lOnJ1ICAgSW1hZ2UgRG93bmxvYWRlcgovLyBAbmFtZTp2aSAgIEltYWdlIERvd25sb2FkZXIKLy8gQG5hbWU6cHQtQlIgICBJbWFnZSBEb3dubG9hZGVyCi8vIEBuYW1lOmlkICAgSW1hZ2UgRG93bmxvYWRlcgovLyBAbmFtZTphciAgIEltYWdlIERvd25sb2FkZXIKLy8gQG5hbWU6YmcgICBJbWFnZSBEb3dubG9hZGVyCi8vIEBuYW1lOmNzICAgSW1hZ2UgRG93bmxvYWRlcgovLyBAbmFtZTp0ciAgIEltYWdlIERvd25sb2FkZXIKLy8gQG5hbWU6ZWwgICBJbWFnZSBEb3dubG9hZGVyCi8vIEBuYW1lOmh1ICAgSW1hZ2UgRG93bmxvYWRlcgovLyBAbmFtZTp0aCAgIEltYWdlIERvd25sb2FkZXIKLy8gQG5hbWVzcGFjZSAgICAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQGRlc2NyaXB0aW9uIFlvdSBjYW4gZXh0cmFjdCBhbmQgZG93bmxvYWQgcGljdHVyZXMgaW4gYmF0Y2hlcyBvbiBtb3N0IHdlYnNpdGVzKGUuZy5pbnN0YWdyYW0pLlJpZ2h0IENsaWNrLXRhbXBlcm1vbmtleS1JbWFnZSBEb3dubG9hZGVyKG9yIGFsdCt3KSx1c2UgaW4gdGhpcyBvcmRlci4oY3VycmVudGx5IG9ubHkgc3VpdGFibGUgZm9yIHRhbXBlcm1vbmtleSBhbmQgY2hyb21lLG90aGVycyBoYXZlIG5vdCB0cmllZCBpdCkKLy8gQHZlcnNpb24gICAgICAgICAxLjg4Ci8vIEBhdXRob3IgICAgICAgICAg5qGD5rqQ6ZqQ5Y+fCi8vIEBpbmNsdWRlICAgICAgICAgKgovLyBAY29ubmVjdCAqCi8vIEBncmFudCAgICAgICAgICAgR01fb3BlbkluVGFiCi8vIEBncmFudCAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgR01fZG93bmxvYWQKLy8gQHJlcXVpcmUgICAgICBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2hvdGtleXMtanNAMy43LjIvZGlzdC9ob3RrZXlzLm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL2pzemlwLzMuNy4xL2pzemlwLm1pbi5qcwovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vY2RuLmJvb3Rjc3MuY29tL0ZpbGVTYXZlci5qcy8xLjMuOC9GaWxlU2F2ZXIubWluLmpzCi8vIEBydW4tYXQgICAgICAgICBkb2N1bWVudC1lbmQKLy8gQG1hdGNoICAgICAgICAqCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tLwovLyBAbWF0Y2ggICAgICAgIGh0dHBzOi8vNTg4a3UuY29tLwovLyBAaG9tZXBhZ2VVUkwgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3Rhb3l1YW5jdW4xMjMvbW9kaWZ5VGV4dC9ibG9iL21hc3Rlci9tb2RpZnlUZXh0LmpzCi8vIEBzdXBwb3J0VVJMICAgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvNDE5ODk0L2ZlZWRiYWNrCi8vIEBsaWNlbnNlIEdQTHYzCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uICgpIHsKICAgICd1c2Ugc3RyaWN0JzsKCiAgICB2YXIgbGFuZyA9IG5hdmlnYXRvci5hcHBOYW1lID09ICJOZXRzY2FwZSIgPyBuYXZpZ2F0b3IubGFuZ3VhZ2UgOiBuYXZpZ2F0b3IudXNlckxhbmd1YWdlOwogICAgdmFyIGxhbmdTZXQ7CiAgICB2YXIgbG9jYWxpemF0aW9uID0gewogICAgICAgIHpoOiB7CiAgICAgICAgICAgIHNlbGVjdEFsbDogIuWFqOmAiSIsCiAgICAgICAgICAgIGRvd25sb2FkQnRuOiAi5LiL6L29IiwKICAgICAgICAgICAgZG93bmxvYWRNZW51VGV4dDogIuaJk+W8gOiEmuacrChBbHQrdykiLAogICAgICAgICAgICB6aXBEb3dubG9hZEJ0bjogInppcOS4i+i9vSIsCiAgICAgICAgICAgIHNlbGVjdEFsZXJ0OiLor7foh7PlsJHpgInkuK3kuIDlvKDlm77niYfjgIIiLAogICAgICAgICAgICBmZXRjaFRpcDoi5YeG5aSH5oqT5Y+WY2FudmFz5Zu+54mHIiwKICAgICAgICAgICAgZmV0Y2hDb3VudDE6YOaKk+WPlmNhbnZhc+WbvueJh+esrGAsCiAgICAgICAgICAgIGZldGNoQ291bnQyOiflvKAnLAogICAgICAgICAgICBmZXRjaERvbmVUaXAxOiLlt7LpgIkoMC8iLAogICAgICAgICAgICBmZXRjaERvbmVUaXAxVHlwZTI6IuW3sumAiSgiLAogICAgICAgICAgICBmZXRjaERvbmVUaXAyOiIp5byg5Zu+54mHIiwKICAgICAgICB9LAogICAgICAgIGVuOiB7CiAgICAgICAgICAgIHNlbGVjdEFsbDogInNlbGVjdEFsbCIsCiAgICAgICAgICAgIGRvd25sb2FkQnRuOiAiZG93bmxvYWQiLAogICAgICAgICAgICBkb3dubG9hZE1lbnVUZXh0OiAiT3BlbihBbHQrdykiLAogICAgICAgICAgICB6aXBEb3dubG9hZEJ0bjogInppcCBEb3dubG9hZCIsCiAgICAgICAgICAgIHNlbGVjdEFsZXJ0OiJQbGVhc2UgYXQgbGFzdCBzZWxlY3Qgb25lIGltYWdlLiIsCiAgICAgICAgICAgIGZldGNoVGlwOiJSZWFkeSB0byBmZXRjaCBjYW52YXMgaW1hZ2UuIiwKICAgICAgICAgICAgZmV0Y2hDb3VudDE6YEZldGNoIHRoZWAsCiAgICAgICAgICAgIGZldGNoQ291bnQyOicgY2FudmFzIGltYWdlLicsCiAgICAgICAgICAgIGZldGNoRG9uZVRpcDE6IigwLyIsCiAgICAgICAgICAgIGZldGNoRG9uZVRpcDFUeXBlMjoiKCIsCiAgICAgICAgICAgIGZldGNoRG9uZVRpcDI6IikgSW1hZ2VzIHNlbGVjdGVkIiwKICAgICAgICB9CiAgICB9CgogICAgaWYgKGxhbmcudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygiemgtIikpIHsKICAgICAgICBsYW5nU2V0ID0gbG9jYWxpemF0aW9uLnpoOwogICAgfSBlbHNlIHsKICAgICAgICBsYW5nU2V0ID0gbG9jYWxpemF0aW9uLmVuOwogICAgfQoKCgogICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZChsYW5nU2V0LmRvd25sb2FkTWVudVRleHQsIHdyYXBwZXIpOwogICAgaG90a2V5cygnYWx0K3cnLCB3cmFwcGVyKTsKCiAgICBmdW5jdGlvbiB3cmFwcGVyKCkgewoKICAgICAgICB0cnkgewogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHljLWltYWdlLWNvbnRhaW5lciIpLnJlbW92ZSgpOwogICAgICAgIH0gY2F0Y2ggewoKICAgICAgICB9CiAgICAgICAgdmFyIGltZ1VybHMgPSBbXTsKICAgICAgICB2YXIgYm9keVN0ciA9IGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MOwogICAgICAgIHZhciBpbWdTZWxlY3RlZCA9IFtdOwogICAgICAgIHZhciB6aXBJbWdTZWxlY3RlZCA9IFtdOwogICAgICAgIHZhciBpbWdXYWl0RG93bmxvYWQgPSBbXTsKICAgICAgICB2YXIgemlwSW1nV2FpdERvd25sb2FkID0gW107CiAgICAgICAgdmFyIHdpZHRoRmlsdGVyID0geyBtaW46IDAsIG1heDogMzAwMCB9OwogICAgICAgIHZhciBoZWlnaHRGaWx0ZXIgPSB7IG1pbjogMCwgbWF4OiAzMDAwIH07CiAgICAgICAgdmFyIGZpbHRlcmVkSW1nVXJscyA9IFtdOwogICAgICAgIHZhciB6aXBGaWx0ZXJlZEltZ1VybHMgPSBbXTsKICAgICAgICB0cnl7CiAgICAgICAgICAgIHZhciB6aXBGb2xkZXIgPSBuZXcgSlNaaXAoKTsKICAgICAgICAgICAgdmFyIHppcFN1YkZvbGVyID0gemlwRm9sZGVyLmZvbGRlcigncGljcycpOwogICAgICAgIH0KICAgICAgICBjYXRjaHsKCiAgICAgICAgfQoKICAgICAgICB2YXIgZmV0Y2hUaXA9Jyc7CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGxldCBpbWdFbGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpOwogICAgICAgICAgICBsZXQgY2FudmFzRWxlcz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiY2FudmFzIik7CgogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltZ0VsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIC8vLy9jb25zb2xlLmxvZyhpbWdFbGVzW2ldLnNyYyk7CiAgICAgICAgICAgICAgICBpZiAoIWltZ1VybHMuaW5jbHVkZXMoaW1nRWxlc1tpXS5zcmMpKSB7CiAgICAgICAgICAgICAgICAgICAgaW1nVXJscy5wdXNoKGltZ0VsZXNbaV0uc3JjKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWltZ1VybHMuaW5jbHVkZXMoaW1nRWxlc1tpXS5zcmNzZXQpKSB7CiAgICAgICAgICAgICAgICAgICAgaW1nVXJscy5wdXNoKGltZ0VsZXNbaV0uc3Jjc2V0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgbGV0IGltZ1JlZ3MgPSBib2R5U3RyLm1hdGNoKC8oPzw9YmFja2dyb3VuZC1pbWFnZTpccyp1cmxcKCkoXFMrKSg/PVwpKS9nKTsKCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1nUmVncy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgLy8vL2NvbnNvbGUubG9nKGltZ1JlZ3NbaV0pOwogICAgICAgICAgICAgICAgaWYgKCFpbWdVcmxzLmluY2x1ZGVzKGltZ1JlZ3NbaV0ucmVwbGFjZSgvJnF1b3Q7L2csICIiKSkpIHsKICAgICAgICAgICAgICAgICAgICBpbWdVcmxzLnB1c2goaW1nUmVnc1tpXS5yZXBsYWNlKC8mcXVvdDsvZywgIiIpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCJoYXRoaXRydXN0Lm9yZyIpKSB7CiAgICAgICAgICAgICAgICBsZXQgaW1ncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5pbWFnZSBpbWciKTsKICAgICAgICAgICAgICAgIGlmIChpbWdzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgICAgICAgICAgICAgICAgaW1nVXJscyA9IFtdOwogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHBpID0gMDsgcGkgPCBpbWdzLmxlbmd0aDsgcGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWdzW3BpXS53aWR0aDsKICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGltZ3NbcGldLmhlaWdodDsKICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQoIjJkIikuZHJhd0ltYWdlKGltZ3NbcGldLCAwLCAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW1nVXJscy5wdXNoKGNhbnZhcy50b0RhdGFVUkwoImltYWdlL3BuZyIpKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zZWxlY3QtYWxsIikuc3R5bGUgPSAicG9zaXRpb246cmVsYXRpdmU7d2lkdGg6MTVweDtoZWlnaHQ6MTVweDsiCiAgICAgICAgICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYod2luZG93LmxvY2F0aW9uLmhyZWYudG9TdHJpbmcoKS5pbmNsdWRlcygibWFuZ2EuYmlsaWJpbGkuY29tLyIpKXsKICAgICAgICAgICAgICAgIGxldCBpZnJhbWVDYW52YXM9YDxpZnJhbWUgc3R5bGU9ImRpc3BsYXk6bm9uZTsiIGlkPSJ0eWMtaW5zZXJ0LWlmcmFtZSI+PC9pZnJhbWU+YDsKICAgICAgICAgICAgICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0eWMtaW5zZXJ0LWlmcmFtZSIpPT1udWxsKXsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTCgiYWZ0ZXJiZWdpbiIsaWZyYW1lQ2FudmFzKTsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidHljLWluc2VydC1pZnJhbWUiKS5jb250ZW50RG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoImFmdGVyYmVnaW4iLGA8Y2FudmFzIGlkPSJ0eWMtaW5zZXJ0LWNhbnZhcyI+PC9jYW52YXM+YCk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2FudmFzJylbMF0uX19wcm90b19fLnRvQmxvYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidHljLWluc2VydC1pZnJhbWUiKS5jb250ZW50RG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInR5Yy1pbnNlcnQtY2FudmFzIikuX19wcm90b19fLnRvQmxvYjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxldCBvbGRMZW5ndGg9aW1nVXJscy5sZW5ndGg7CiAgICAgICAgICAgIGlmKGNhbnZhc0VsZXMubGVuZ3RoPjApewogICAgICAgICAgICAgICAgZmV0Y2hUaXA9bGFuZ1NldC5mZXRjaFRpcDsKICAgICAgICAgICAgICAgIHZhciBjb21wbGV0ZUZsYWc9MDsKICAgICAgICAgICAgICAgIGZvcihsZXQgaj0wO2o8Y2FudmFzRWxlcy5sZW5ndGg7aisrKXsKICAgICAgICAgICAgICAgICAgICBjYW52YXNFbGVzW2pdLnRvQmxvYihibG9iQ2FsbGJhY2spOwogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGJsb2JDYWxsYmFjayhibG9iKXsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9GaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgb0ZpbGVSZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiYXNlNjQgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZTY0LmluY2x1ZGVzKCJkYXRhOmltYWdlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWltZ1VybHMuaW5jbHVkZXMoYmFzZTY0KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2ltZ1VybHMucHVzaChiYXNlNjQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdVcmxzW29sZExlbmd0aCtqXT1iYXNlNjQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlRmxhZysrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5udW0tdGlwIikuaW5uZXJUZXh0PWAke2xhbmdTZXQuZmV0Y2hDb3VudDF9ICR7Y29tcGxldGVGbGFnfS8ke2NhbnZhc0VsZXMubGVuZ3RofSAke2xhbmdTZXQuZmV0Y2hDb3VudDJ9YDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb21wbGV0ZUZsYWc9PT1jYW52YXNFbGVzLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgICAgICAgICBvRmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBmZXRjaFRpcD1gJHtsYW5nU2V0LmZldGNoRG9uZVRpcDF9JHtpbWdVcmxzLmxlbmd0aH0ke2xhbmdTZXQuZmV0Y2hEb25lVGlwMn1gOwogICAgICAgICAgICB9CgogICAgICAgIH0gY2F0Y2ggewogICAgICAgICAgICAvL2FsZXJ0KCJlcnJvciIpOwogICAgICAgIH0KCiAgICAgICAgbGV0IGltZ0NvbnRhaW5lciA9IGAKICAgICAgICA8c3R5bGU+CiAgICAgICAgICAgIC50eWMtaW1hZ2UtY29udGFpbmVyewogICAgICAgICAgICAgICAgcG9zaXRpb246Zml4ZWQ7CiAgICAgICAgICAgICAgICB0b3A6MHB4O3JpZ2h0OjBweDt3aWR0aDo1MHZ3O3otaW5kZXg6MjE0NzQ4MzY0NTsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkZWRlZGU7CiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjYWFhOwogICAgICAgICAgICAgICAgb3ZlcmZsb3c6c2Nyb2xsO2hlaWdodDoxMDAlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAuY29udHJvbC1zZWN0aW9uewogICAgICAgICAgICAgICAgd2lkdGg6NDZ2dzt6LWluZGV4OjIxNDc0ODM2NDY7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjpmaXhlZDtyaWdodDozMHB4OwogICAgICAgICAgICAgICAgdG9wOjBweDtkaXNwbGF5OmJsb2NrOwogICAgICAgICAgICAgICAgaGVpZ2h0OjgwcHg7bGluZS1oZWlnaHQ6NDBweDsKICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6I2VlZTtib3JkZXI6MXB4IHNvbGlkICNhYWE7Ym9yZGVyLXJhZGl1czoycHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLmJ0bi1kb3dubG9hZHsKICAgICAgICAgICAgICAgIGJvcmRlcjoxcHggc29saWQgI2FhYTtib3JkZXItcmFkaXVzOjVweDsKICAgICAgICAgICAgICAgIGhlaWdodDozMnB4O2xpbmUtaGVpZ2h0OjMycHg7CiAgICAgICAgICAgICAgICBtYXJnaW46MHB4O3BhZGRpbmc6MCA1cHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLmJ0bi16aXBEb3dubG9hZHsKICAgICAgICAgICAgICAgIGJvcmRlcjoxcHggc29saWQgI2FhYTtib3JkZXItcmFkaXVzOjVweDsKICAgICAgICAgICAgICAgIGhlaWdodDozMnB4O2xpbmUtaGVpZ2h0OjMycHg7CiAgICAgICAgICAgICAgICBtYXJnaW46MHB4O3BhZGRpbmc6MCA1cHg7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLmJ0bi1jbG9zZXsKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZToyMHB4O3Bvc2l0aW9uOmFic29sdXRlOwogICAgICAgICAgICAgICAgcmlnaHQ6MzBweDt0b3A6NHB4OwogICAgICAgICAgICAgICAgaGVpZ2h0OjMycHg7bGluZS1oZWlnaHQ6MzJweDsKICAgICAgICAgICAgICAgIG1hcmdpbjowcHg7CiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjEwcHg7Ym9yZGVyOjFweCBzb2xpZCAjYWFhOwogICAgICAgICAgICAgICAgd2lkdGg6MzBweDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLnR5Yy1pbWFnZS13cmFwcGVyewogICAgICAgICAgICAgICAgbWFyZ2luLXRvcDo4MnB4O2Rpc3BsYXk6ZmxleDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyOwogICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6Y2VudGVyO2ZsZXgtd3JhcDp3cmFwOwogICAgICAgICAgICB9CgogICAgICAgICAgICAudHljLWlucHV0LWNoZWNrYm94ewogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogaW5pdGlhbDsKICAgICAgICAgICAgICAgIGN1cnNvcjogZGVmYXVsdDsKICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U6IGF1dG87CiAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICAgICAgbWFyZ2luOiAzcHggM3B4IDNweCA0cHg7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiBpbml0aWFsOwogICAgICAgICAgICAgICAgYm9yZGVyOiBpbml0aWFsOwogICAgICAgICAgICB9CiAgICAgICAgPC9zdHlsZT4KICAgIDxkaXYgY2xhc3M9InR5Yy1pbWFnZS1jb250YWluZXIiPgogICAgPGRpdiBjbGFzcz0iY29udHJvbC1zZWN0aW9uIj4KICAgIDxpbnB1dCBjbGFzcz0ic2VsZWN0LWFsbCB0eWMtaW5wdXQtY2hlY2tib3giIHR5cGU9ImNoZWNrYm94IiBuYW1lPSJzZWxlY3QtYWxsIiB2YWx1ZT0ic2VsZWN0LWFsbCI+JHtsYW5nU2V0LnNlbGVjdEFsbH0KICAgIDxidXR0b24gY2xhc3M9ImJ0bi1kb3dubG9hZCIgPiR7bGFuZ1NldC5kb3dubG9hZEJ0bn08L2J1dHRvbj4KICAgIDxidXR0b24gY2xhc3M9ImJ0bi16aXBEb3dubG9hZCIgPiR7bGFuZ1NldC56aXBEb3dubG9hZEJ0bn08L2J1dHRvbj4KICAgIDxzcGFuIHN0eWxlPSJtYXJnaW4tbGVmdDoxMHB4OyIgY2xhc3M9Im51bS10aXAiPiR7bGFuZ1NldC5mZXRjaERvbmVUaXAxfSR7aW1nVXJscy5sZW5ndGh9JHtsYW5nU2V0LmZldGNoRG9uZVRpcDJ9PC9zcGFuPgogICAgPGJ1dHRvbiBjbGFzcz0iYnRuLWNsb3NlIiA+WDwvYnV0dG9uPgoKICAgIDxwIHN0eWxlPSJsaW5lLWhlaWdodDoxMnB4OyI+CiAgICAgICAgPGRpdiBzdHlsZT0iZmxvYXQ6bGVmdDtkaXNwbGF5OmJsb2NrOyI+CiAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBjbGFzcz0id2lkdGgtY2hlY2sgaW1nLWNoZWNrIHR5Yy1pbnB1dC1jaGVja2JveCIgbmFtZT0id2lkdGgtY2hlY2siIHZhbHVlPSJ3aWR0aC1jaGVjayI+V2lkdGg6CiAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJ3aWR0aC12YWx1ZS1taW4iIHNpemU9IjEiIHN0eWxlPSJoZWlnaHQ6MTVweDt3aWR0aDo1MHB4OyIKICAgICAgICAgICAgbWluPSIwIiBtYXg9Ijk5OTkiIHZhbHVlPSIwIj4tCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0id2lkdGgtdmFsdWUtbWF4IiBzaXplPSIxIiBzdHlsZT0iaGVpZ2h0OjE1cHg7d2lkdGg6NTBweDsiCiAgICAgICAgICAgIG1pbj0iMCIgbWF4PSI5OTk5IiB2YWx1ZT0iMzAwMCI+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgc3R5bGU9ImZsb2F0OmxlZnQ7bWFyZ2luLWxlZnQ6MzBweDtkaXNwbGF5OmJsb2NrOyI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgY2xhc3M9ImhlaWdodC1jaGVjayBpbWctY2hlY2sgdHljLWlucHV0LWNoZWNrYm94IiBuYW1lPSJoZWlnaHQtY2hlY2siIHZhbHVlPSJoZWlnaHQtY2hlY2siPkhlaWdodDoKICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGNsYXNzPSJoZWlnaHQtdmFsdWUtbWluIiBzaXplPSIxIiBzdHlsZT0iaGVpZ2h0OjE1cHg7d2lkdGg6NTBweDsiCiAgICAgICAgICAgICAgICBtaW49IjAiIG1heD0iOTk5OSIgdmFsdWU9IjAiPi0KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0iaGVpZ2h0LXZhbHVlLW1heCIgc2l6ZT0iMSIgc3R5bGU9ImhlaWdodDoxNXB4O3dpZHRoOjUwcHg7IgogICAgICAgICAgICAgICAgbWluPSIwIiBtYXg9Ijk5OTkiIHZhbHVlPSIzMDAwIj4KICAgICAgICA8L2Rpdj4KICAgIDwvcD4KICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InR5Yy1pbWFnZS13cmFwcGVyIiA+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KICAgIGAKCiAgICAgICAgbGV0IHNob3dCaWdJbWFnZSA9IGAKICAgICAgICA8ZGl2IGNsYXNzPSJzaG93LWJpZy1pbWFnZSIgc3R5bGU9InBvc2l0aW9uOmZpeGVkO2xlZnQ6MzAlO3RvcDozMCU7ei1pbmRleDoyMTQ3NDgzNjQ3OyI+CiAgICAgICAgPC9kaXY+CiAgICBgCgogICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKCJhZnRlcmJlZ2luIiwgaW1nQ29udGFpbmVyKTsKCiAgICAgICAgZG9jdW1lbnQuYm9keS5vbmNsaWNrID0gKGUpID0+IHsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgaWYgKChlLnRhcmdldC5ub2RlTmFtZSA9PSAiSU1HIiAmJiBlLnRhcmdldC5jbGFzc05hbWUgPT09ICJ0eWMtaW1hZ2UtcHJldmlldyIpKSB7CiAgICAgICAgICAgICAgICBsZXQgaW1nQ29udGFpbmVyID0gZS5wYXRoLmZpbmQoCgogICAgICAgICAgICAgICAgICAgIChlbGUpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZWxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGUuY2xhc3NOYW1lLmluY2x1ZGVzKCJ0eWMtaW1nLWl0ZW0tY29udGFpbmVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewoKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBsZXQgcGF0aCA9IGltZ0NvbnRhaW5lci5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW1nIilbMF0uc3JjOwoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zaG93LWJpZy1pbWFnZSIpOwogICAgICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpWzBdLnNyYyA9PT0gcGF0aCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggewoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVlbmQiLCBzaG93QmlnSW1hZ2UpOwoKICAgICAgICAgICAgICAgIGxldCBzaG93SXRlbSA9IGA8aW1nIHNyYz0iJHtwYXRofSIvPmAKCiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc2hvdy1iaWctaW1hZ2UiKS5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZWVuZCIsIHNob3dJdGVtKTsKCiAgICAgICAgICAgICAgICBsZXQgdGVtcEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zaG93LWJpZy1pbWFnZSBpbWciKTsKCiAgICAgICAgICAgICAgICBsZXQgZFdpZHRoID0gKHdpbmRvdy5pbm5lcldpZHRoIC0gdGVtcEltZy53aWR0aCkgLyAyOwogICAgICAgICAgICAgICAgbGV0IGRIZWlnaHQgPSAod2luZG93LmlubmVySGVpZ2h0IC0gdGVtcEltZy5oZWlnaHQpIC8gMjsKCiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc2hvdy1iaWctaW1hZ2UiKS5zdHlsZS5sZWZ0ID0gZFdpZHRoICsgInB4IjsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zaG93LWJpZy1pbWFnZSIpLnN0eWxlLnRvcCA9IGRIZWlnaHQgKyAicHgiOwogICAgICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lID09PSAic2hvdy1iaWctaW1hZ2UiKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zaG93LWJpZy1pbWFnZSIpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2gKICAgICAgICAgICAgICAgIHsKCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdFsxXSA9PSAiYmktZG93bmxvYWQiIHx8IGUucGF0aC5maW5kKGlzRG93bmxvYWQpICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgbGV0IGltZ0NvbnRhaW5lciA9IGUucGF0aC5maW5kKAoKICAgICAgICAgICAgICAgICAgICAoZWxlKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGVsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlLmNsYXNzTmFtZS5pbmNsdWRlcygidHljLWltZy1pdGVtLWNvbnRhaW5lciIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgbGV0IHBhdGggPSBpbWdDb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpWzBdLnNyYzsKICAgICAgICAgICAgICAgIGxldCBmaWxlbmFtZTsKICAgICAgICAgICAgICAgIGlmIChwYXRoLmluZGV4T2YoIi8iKSA+IDApLy/lpoLmnpzljIXlkKvmnIkiLyLlj7cg5LuO5pyA5ZCO5LiA5LiqIi8i5Y+3KzHnmoTkvY3nva7lvIDlp4vmiKrlj5blrZfnrKbkuLIKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHBhdGguc3Vic3RyaW5nKHBhdGgubGFzdEluZGV4T2YoIi8iKSArIDEsIHBhdGgubGFzdEluZGV4T2YoIi4iKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZSA9IHBhdGg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCJkb3dubG9hZCBzdGFydCIgKyBwYXRoICsgIiAiICsgZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgR01fZG93bmxvYWQocGF0aCwgIuWbvueJhyIpOwogICAgICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdFsxXSA9PSAiYmktY2hlY2siIHx8IGUucGF0aC5maW5kKGlzU2VsZWN0KSAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIGxldCBjaGVja1N2ZyA9IGUucGF0aC5maW5kKChlbGUpID0+IGVsZS5jbGFzc0xpc3RbMV0gPT09ICJiaS1jaGVjayIpOwogICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRJbWdJbmRleCA9IHBhcnNlSW50KGNoZWNrU3ZnLmRhdGFzZXQudmFsdWUpOwoKICAgICAgICAgICAgICAgIGxldCBjb250YWluZXIgPSBlLnBhdGguZmluZCgoZWxlKSA9PiBlbGUuY2xhc3NOYW1lID09PSBgdHljLWltZy1pdGVtLWNvbnRhaW5lci0ke2N1cnJlbnRJbWdJbmRleH1gKTsKCiAgICAgICAgICAgICAgICBpZiAoaW1nU2VsZWN0ZWQuaW5jbHVkZXMoY3VycmVudEltZ0luZGV4KSkgewogICAgICAgICAgICAgICAgICAgIGltZ1NlbGVjdGVkLnNwbGljZShpbWdTZWxlY3RlZC5pbmRleE9mKGN1cnJlbnRJbWdJbmRleCksIDEpOwogICAgICAgICAgICAgICAgICAgIGNoZWNrU3ZnLnN0eWxlLmNvbG9yID0gImJsYWNrIjsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUuYm9yZGVyID0gIjFweCBzb2xpZCAjOTlkIjsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaW1nU2VsZWN0ZWQucHVzaChjdXJyZW50SW1nSW5kZXgpOwogICAgICAgICAgICAgICAgICAgIGNoZWNrU3ZnLnN0eWxlLmNvbG9yID0gIndoaXRlIjsKICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUuYm9yZGVyID0gIjFweCBzb2xpZCB3aGl0ZSI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgemlwSW1nU2VsZWN0ZWQ9aW1nU2VsZWN0ZWQ7CgogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLm51bS10aXAiKS5pbm5lclRleHQgPSBgJHtsYW5nU2V0LmZldGNoRG9uZVRpcDFUeXBlMn0ke2ltZ1NlbGVjdGVkLmxlbmd0aH0vJHtpbWdVcmxzLmxlbmd0aH0ke2xhbmdTZXQuZmV0Y2hEb25lVGlwMn1gOwogICAgICAgICAgICAgICAgaW1nV2FpdERvd25sb2FkPXRyYW5zSW5kZXhUb0xpbmsoZmlsdGVyZWRJbWdVcmxzLGltZ1NlbGVjdGVkKTsKICAgICAgICAgICAgICAgIHppcEltZ1dhaXREb3dubG9hZD10cmFuc0luZGV4VG9MaW5rKHppcEZpbHRlcmVkSW1nVXJscyx6aXBJbWdTZWxlY3RlZCk7CiAgICAgICAgICAgICAgICB6aXBJbWdXYWl0RG93bmxvYWQ9Y3V0b2ZmTm90QmFzZTY0SW1nKHppcEltZ1dhaXREb3dubG9hZCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5idG4tY2xvc2UiKS5vbmNsaWNrID0gKGUpID0+IHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5Yy1pbWFnZS1jb250YWluZXIiKS5yZW1vdmUoKTsKICAgICAgICB9CgogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5idG4tZG93bmxvYWQiKS5vbmNsaWNrID0gKGUpID0+IHsKICAgICAgICAgICAgaWYgKGltZ1dhaXREb3dubG9hZC5sZW5ndGggPj0gMSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW1nV2FpdERvd25sb2FkKTsKICAgICAgICAgICAgICAgIGltZ1dhaXREb3dubG9hZC5mb3JFYWNoKGFzeW5jIChpbWcsIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLy9sZXQgZmlsZW5hbWUgPSBg5Zu+54mHLSR7aW5kZXh9LmpwZ2A7CiAgICAgICAgICAgICAgICAgICAgLy9maWxlbmFtZT1maWxlbmFtZS5yZXBsYWNlKC9cXC9nLCAnLycpLnJlcGxhY2UoL1wvezIsfS9nLCAnLycpOwogICAgICAgICAgICAgICAgICAgIGF3YWl0IEdNX2Rvd25sb2FkKGltZywgYOWbvueJhy0ke2luZGV4fWApOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydChgJHtsYW5nU2V0LnNlbGVjdEFsZXJ0fWApOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYnRuLXppcERvd25sb2FkIikub25jbGljayA9IChlKSA9PiB7CiAgICAgICAgICAgIGlmICh6aXBJbWdXYWl0RG93bmxvYWQubGVuZ3RoID49IDEpIHsKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coemlwSW1nV2FpdERvd25sb2FkKTsKICAgICAgICAgICAgICAgIHppcEltZ1dhaXREb3dubG9hZC5mb3JFYWNoKGFzeW5jIChpbWcsIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVFeHQgPSBpbWcuc3Vic3RyaW5nKGltZy5pbmRleE9mKCJpbWFnZS8iKSArIDYsIGltZy5pbmRleE9mKCI7IikpCiAgICAgICAgICAgICAgICAgICAgZmlsZUV4dD1maWxlRXh0LmluY2x1ZGVzKCJzdmciKT8ic3ZnIjpmaWxlRXh0OwogICAgICAgICAgICAgICAgICAgIGxldCBmaWxlbmFtZSA9IGDlm77niYcke2luZGV4fS4ke2ZpbGVFeHR9YDsKICAgICAgICAgICAgICAgICAgICB6aXBTdWJGb2xlci5maWxlKGZpbGVuYW1lLCBpbWcuc3BsaXQoIiwiKVsxXSwgeyBiYXNlNjQ6IHRydWUgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICB6aXBGb2xkZXIuZ2VuZXJhdGVBc3luYyh7IHR5cGU6ICJibG9iIiB9KQogICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChjb250ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlZSBGaWxlU2F2ZXIuanMKICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUFzKGNvbnRlbnQsICJwaWNzLnppcCIpOwogICAgICAgICAgICAgICAgICAgICAgICB6aXBGb2xkZXIucmVtb3ZlKCJwaWNzIik7CiAgICAgICAgICAgICAgICAgICAgICAgIHppcFN1YkZvbGVyID0gemlwRm9sZGVyLmZvbGRlcigncGljcycpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KGAke2xhbmdTZXQuc2VsZWN0QWxlcnR9YCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgICAgICBkb2N1bWVudC5ib2R5Lm9uY2hhbmdlID0gKGUpID0+IHsKICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZS5pbmNsdWRlcygid2lkdGgtY2hlY2siKSkgewogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoJ3dpZHRoLWNoZWNrJywgZS50YXJnZXQuY2hlY2tlZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZS5pbmNsdWRlcygiaGVpZ2h0LWNoZWNrIikpIHsKICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCdoZWlnaHQtY2hlY2snLCBlLnRhcmdldC5jaGVja2VkKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZS50YXJnZXQubm9kZU5hbWUgPT09ICJJTlBVVCIgJiYgZS50YXJnZXQudHlwZSA9PT0gInRleHQiICYmIGUudGFyZ2V0LmNsYXNzTmFtZS5pbmNsdWRlcygidmFsdWUiKSkgewogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoZS50YXJnZXQuY2xhc3NOYW1lLCBlLnRhcmdldC52YWx1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIChlLnRhcmdldC5jbGFzc05hbWUuaW5jbHVkZXMoIndpZHRoLWNoZWNrIikgfHwgZS50YXJnZXQuY2xhc3NOYW1lLmluY2x1ZGVzKCJoZWlnaHQtY2hlY2siKSB8fAoKICAgICAgICAgICAgICAgIChlLnRhcmdldC5ub2RlTmFtZSA9PT0gIklOUFVUIiAmJiBlLnRhcmdldC50eXBlID09PSAidGV4dCIgJiYgZS50YXJnZXQuY2xhc3NOYW1lLmluY2x1ZGVzKCJ2YWx1ZSIpKSkKICAgICAgICAgICAgICAgICYmIChjbGVhbigpLCBpbml0KCkpOwoKICAgICAgICB9CgogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zZWxlY3QtYWxsIikub25jaGFuZ2UgPSAoZSkgPT4gewogICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnNlbGVjdC1hbGwiKS5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICBpbWdXYWl0RG93bmxvYWQgPSBmaWx0ZXJlZEltZ1VybHM7CiAgICAgICAgICAgICAgICB6aXBJbWdXYWl0RG93bmxvYWQ9Y3V0b2ZmTm90QmFzZTY0SW1nKHppcEZpbHRlcmVkSW1nVXJscyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpbWdXYWl0RG93bmxvYWQ9dHJhbnNJbmRleFRvTGluayhmaWx0ZXJlZEltZ1VybHMsaW1nU2VsZWN0ZWQpOwogICAgICAgICAgICAgICAgemlwSW1nV2FpdERvd25sb2FkPXRyYW5zSW5kZXhUb0xpbmsoemlwRmlsdGVyZWRJbWdVcmxzLHppcEltZ1NlbGVjdGVkKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLm51bS10aXAiKS5pbm5lclRleHQgPSBgJHtsYW5nU2V0LmZldGNoRG9uZVRpcDFUeXBlMn0ke2ltZ1dhaXREb3dubG9hZC5sZW5ndGh9LyR7ZmlsdGVyZWRJbWdVcmxzLmxlbmd0aH0ke2xhbmdTZXQuZmV0Y2hEb25lVGlwMn1gOwogICAgICAgIH0KCiAgICAgICAgaW5pdCgpOwogICAgICAgIGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgICAgICAgIGZpbHRlcmVkSW1nVXJscyA9IGltZ1VybHM7CiAgICAgICAgICAgIGdldFNhdmVkVmFsdWUoKTsKICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi53aWR0aC1jaGVjayIpLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgIGZpbHRlcmVkSW1nVXJscyA9IGZpbHRlcmVkSW1nVXJscy5maWx0ZXIoZmlsdGVyQnlXaWR0aCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuaGVpZ2h0LWNoZWNrIikuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgZmlsdGVyZWRJbWdVcmxzID0gZmlsdGVyZWRJbWdVcmxzLmZpbHRlcihmaWx0ZXJCeUhlaWdodCk7CiAgICAgICAgICAgIH0KCgogICAgICAgICAgICB6aXBGaWx0ZXJlZEltZ1VybHMgPSBmaWx0ZXJlZEltZ1VybHM7CiAgICAgICAgICAgIGZldGNoQmFzZTY0SW1nc1RoZW5QdXNoVG9aaXBBcnJheSgpOwogICAgICAgICAgICBzaG93SW1hZ2UoZmlsdGVyZWRJbWdVcmxzKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNsZWFuKCkgewogICAgICAgICAgICBpbWdXYWl0RG93bmxvYWQgPSBbXTsKICAgICAgICAgICAgaW1nU2VsZWN0ZWQgPSBbXTsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLm51bS10aXAiKS5pbm5lclRleHQgPSBgJHtsYW5nU2V0LmZldGNoRG9uZVRpcDFUeXBlMn0ke2ltZ1NlbGVjdGVkLmxlbmd0aH0vJHtpbWdVcmxzLmxlbmd0aH0ke2xhbmdTZXQuZmV0Y2hEb25lVGlwMn1gOwogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIudHljLWltYWdlLXdyYXBwZXIiKS5pbm5lckhUTUwgPSAiIjsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGlzRG93bmxvYWQoZWxlKSB7CiAgICAgICAgICAgIHJldHVybiBlbGUuY2xhc3NOYW1lID09ICJkb3dubG9hZC1kaXJlY3QiOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gaXNTZWxlY3QoZWxlKSB7CiAgICAgICAgICAgIHJldHVybiBlbGUuY2xhc3NOYW1lID09ICJzZWxlY3QtaW1hZ2UiOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdHJhbnNJbmRleFRvTGluayhXaG9sZUltZ3Msc2VsZWN0ZWRJbWdzKSB7CiAgICAgICAgICAgIGxldCB0cmFuc2VkSW1ncz1bXTsKICAgICAgICAgICAgc2VsZWN0ZWRJbWdzLmZvckVhY2goKGltZ0luZGV4LCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgdHJhbnNlZEltZ3MucHVzaChXaG9sZUltZ3NbaW1nSW5kZXhdKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB0cmFuc2VkSW1nczsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHNob3dJbWFnZShmaWx0ZWRJbWdVcmxzKSB7CiAgICAgICAgICAgIGZpbHRlZEltZ1VybHMuZm9yRWFjaCgoaW1nLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKCJodWFiYW4uY29tIikpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLmluY2x1ZGVzKCIvd2VicCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGltZyA9IGltZy5yZXBsYWNlKC9cL3dlYnAvZywgIi9wbmciKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgaW5zZXJ0SW1nID0gYDxkaXYgY2xhc3M9InR5Yy1pbWctaXRlbS1jb250YWluZXItJHtpbmRleH0iIHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MHB4OwogICAgbWFyZ2luOjVweDtib3JkZXI6MXB4IHNvbGlkICM5OWQ7Ym9yZGVyLXJhZGl1czozcHg7CiAgICAiPgogICAgPGltZyBjbGFzcz0idHljLWltYWdlLXByZXZpZXciIHNyYz0iJHtpbWd9Ii8gc3R5bGU9IndpZHRoOmF1dG87aGVpZ2h0OjIwMHB4OyI+PC9kaXY+YAogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnR5Yy1pbWFnZS13cmFwcGVyIikuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVlbmQiLCBpbnNlcnRJbWcpOwogICAgICAgICAgICAgICAgbGV0IG5hdHVyYWxXID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnR5Yy1pbWctaXRlbS1jb250YWluZXItJHtpbmRleH0gLnR5Yy1pbWFnZS1wcmV2aWV3YCkubmF0dXJhbFdpZHRoOwogICAgICAgICAgICAgICAgbGV0IG5hdHVyYWxIID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnR5Yy1pbWctaXRlbS1jb250YWluZXItJHtpbmRleH0gLnR5Yy1pbWFnZS1wcmV2aWV3YCkubmF0dXJhbEhlaWdodDsKCiAgICAgICAgICAgICAgICBsZXQgaW1nSW5mb0NvbnRhaW5lciA9IGAKICAgICAgICAgICAgPGRpdiBzdHlsZT0iZm9udC1zaXplOjBweDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMTAwLDEwMCwxMDAsMC42KTtoZWlnaHQ6MzBweDtwb3NpdGlvbjpyZWxhdGl2ZTsiPgoKCiAgICA8L2Rpdj4KICAgICAgICAgICAgYDsKCiAgICAgICAgICAgICAgICBsZXQgdGhpc0ltZ0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50eWMtaW1nLWl0ZW0tY29udGFpbmVyLSR7aW5kZXh9YCk7CiAgICAgICAgICAgICAgICBsZXQgaW1nQ29udGFpbmVyV2lkdGggPSB0aGlzSW1nQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoOwogICAgICAgICAgICAgICAgbGV0IGltZ0luZm8gPSBgCiAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTZweDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OmNhbGMoNTAlIC0gODBweCk7dG9wOjdweDsiPiR7bmF0dXJhbFd9WCR7bmF0dXJhbEh9PC9zcGFuPgogICAgICAgICAgICBgOwoKCiAgICAgICAgICAgICAgICAvKgogICAgICAgICAgICAgICAgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktYXJyb3dzLWZ1bGxzY3JlZW4iIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDo1cHg7cmlnaHQ6NXB4OyI+CiAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01LjgyOCAxMC4xNzJhLjUuNSAwIDAgMC0uNzA3IDBsLTQuMDk2IDQuMDk2VjExLjVhLjUuNSAwIDAgMC0xIDB2My45NzVhLjUuNSAwIDAgMCAuNS41SDQuNWEuNS41IDAgMCAwIDAtMUgxLjczMmw0LjA5Ni00LjA5NmEuNS41IDAgMCAwIDAtLjcwN3ptNC4zNDQgMGEuNS41IDAgMCAxIC43MDcgMGw0LjA5NiA0LjA5NlYxMS41YS41LjUgMCAxIDEgMSAwdjMuOTc1YS41LjUgMCAwIDEtLjUuNUgxMS41YS41LjUgMCAwIDEgMC0xaDIuNzY4bC00LjA5Ni00LjA5NmEuNS41IDAgMCAxIDAtLjcwN3ptMC00LjM0NGEuNS41IDAgMCAwIC43MDcgMGw0LjA5Ni00LjA5NlY0LjVhLjUuNSAwIDEgMCAxIDBWLjUyNWEuNS41IDAgMCAwLS41LS41SDExLjVhLjUuNSAwIDAgMCAwIDFoMi43NjhsLTQuMDk2IDQuMDk2YS41LjUgMCAwIDAgMCAuNzA3em0tNC4zNDQgMGEuNS41IDAgMCAxLS43MDcgMEwxLjAyNSAxLjczMlY0LjVhLjUuNSAwIDAgMS0xIDBWLjUyNWEuNS41IDAgMCAxIC41LS41SDQuNWEuNS41IDAgMCAxIDAgMUgxLjczMmw0LjA5NiA0LjA5NmEuNS41IDAgMCAxIDAgLjcwN3oiLz4KICAgICAgICA8L3N2Zz4qLwoKICAgICAgICAgICAgICAgIGxldCBkb3duQW5kRnVsbEJ0biA9IGAKICAgIDxzcGFuIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDpjYWxjKDUwJSAtIDMwcHgpO3RvcDoycHg7Ym9yZGVyOjFweCBzb2xpZCAjMzMzOwogICAgd2lkdGg6MjZweDtoZWlnaHQ6MjZweDtib3JkZXItcmFkaXVzOjIwcHg7IiBjbGFzcz0ic2VsZWN0LWltYWdlIiBkYXRhLXZhbHVlPSIke2luZGV4fSI+CiAgICA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJjdXJyZW50Q29sb3IiIGNsYXNzPSJiaSBiaS1jaGVjayIgdmlld0JveD0iMCAwIDE2IDE2IiAgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMXB4O3JpZ2h0Oi0ycHg7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDsiIGRhdGEtdmFsdWU9IiR7aW5kZXh9Ij4KICAgICAgPHBhdGggZD0iTTEwLjk3IDQuOTdhLjc1Ljc1IDAgMCAxIDEuMDcgMS4wNWwtMy45OSA0Ljk5YS43NS43NSAwIDAgMS0xLjA4LjAyTDQuMzI0IDguMzg0YS43NS43NSAwIDEgMSAxLjA2LTEuMDZsMi4wOTQgMi4wOTMgMy40NzMtNC40MjVhLjI2Ny4yNjcgMCAwIDEgLjAyLS4wMjJ6Ii8+CiAgICA8L3N2Zz4KICAgIDwvc3Bhbj4KICAgIDxzcGFuIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDpjYWxjKDUwJSAtIDYwcHgpO3RvcDoycHg7Ym9yZGVyOjFweCBzb2xpZCAjMzMzOwogICAgd2lkdGg6MjZweDtoZWlnaHQ6MjZweDtib3JkZXItcmFkaXVzOjIwcHg7CiAgICAiIGNsYXNzPSJkb3dubG9hZC1kaXJlY3QiPgogICAgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktZG93bmxvYWQiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDo1cHg7cmlnaHQ6NXB4OyI+CiAgICAgIDxwYXRoIGQ9Ik0uNSA5LjlhLjUuNSAwIDAgMSAuNS41djIuNWExIDEgMCAwIDAgMSAxaDEyYTEgMSAwIDAgMCAxLTF2LTIuNWEuNS41IDAgMCAxIDEgMHYyLjVhMiAyIDAgMCAxLTIgMkgyYTIgMiAwIDAgMS0yLTJ2LTIuNWEuNS41IDAgMCAxIC41LS41eiIvPgogICAgICA8cGF0aCBkPSJNNy42NDYgMTEuODU0YS41LjUgMCAwIDAgLjcwOCAwbDMtM2EuNS41IDAgMCAwLS43MDgtLjcwOEw4LjUgMTAuMjkzVjEuNWEuNS41IDAgMCAwLTEgMHY4Ljc5M0w1LjM1NCA4LjE0NmEuNS41IDAgMSAwLS43MDguNzA4bDMgM3oiLz4KICAgIDwvc3ZnPgogICAgPC9zcGFuPgoKICAgIGA7CgogICAgICAgICAgICAgICAgbGV0IGRvd25sb2FkQnRuID0gYAogICAgICAgICAgICA8c3BhbiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6Y2FsYyg1MCUgLSAxNXB4KTt0b3A6MnB4O2JvcmRlcjoxcHggc29saWQgIzMzMzsKICAgIHdpZHRoOjI2cHg7aGVpZ2h0OjI2cHg7Ym9yZGVyLXJhZGl1czoyMHB4OwogICAgIiBjbGFzcz0iZG93bmxvYWQtZGlyZWN0Ij4KICAgIDxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9ImN1cnJlbnRDb2xvciIgY2xhc3M9ImJpIGJpLWRvd25sb2FkIiB2aWV3Qm94PSIwIDAgMTYgMTYiIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NXB4O3JpZ2h0OjVweDsiPgogICAgICA8cGF0aCBkPSJNLjUgOS45YS41LjUgMCAwIDEgLjUuNXYyLjVhMSAxIDAgMCAwIDEgMWgxMmExIDEgMCAwIDAgMS0xdi0yLjVhLjUuNSAwIDAgMSAxIDB2Mi41YTIgMiAwIDAgMS0yIDJIMmEyIDIgMCAwIDEtMi0ydi0yLjVhLjUuNSAwIDAgMSAuNS0uNXoiLz4KICAgICAgPHBhdGggZD0iTTcuNjQ2IDExLjg1NGEuNS41IDAgMCAwIC43MDggMGwzLTNhLjUuNSAwIDAgMC0uNzA4LS43MDhMOC41IDEwLjI5M1YxLjVhLjUuNSAwIDAgMC0xIDB2OC43OTNMNS4zNTQgOC4xNDZhLjUuNSAwIDEgMC0uNzA4LjcwOGwzIDN6Ii8+CiAgICA8L3N2Zz4KICAgIDwvc3Bhbj4KICAgICAgICAgICAgYAogICAgICAgICAgICAgICAgdGhpc0ltZ0NvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZWVuZCIsIGltZ0luZm9Db250YWluZXIpOwoKICAgICAgICAgICAgICAgIGxldCB0aGlzSW1nSW5mb0NvbnRhaW5lciA9IHRoaXNJbWdDb250YWluZXIucXVlcnlTZWxlY3RvcigiZGl2Iik7CgogICAgICAgICAgICAgICAgbGV0IHJlY3RXaWR0aCA9IHBhcnNlSW50KHRoaXNJbWdDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpOwoKICAgICAgICAgICAgICAgIGlmIChyZWN0V2lkdGggPiAxMjApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzSW1nSW5mb0NvbnRhaW5lci5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZWVuZCIsIGltZ0luZm8pOwogICAgICAgICAgICAgICAgICAgIHRoaXNJbWdJbmZvQ29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIiwgZG93bkFuZEZ1bGxCdG4pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZWN0V2lkdGggPD0gMTIwICYmIHJlY3RXaWR0aCA+PSA1MCkgewogICAgICAgICAgICAgICAgICAgIHRoaXNJbWdJbmZvQ29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIiwgZG93bkFuZEZ1bGxCdG4pOwogICAgICAgICAgICAgICAgICAgIHRoaXNJbWdJbmZvQ29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInNlbGVjdC1pbWFnZSIpWzBdLnN0eWxlLnJpZ2h0ID0gIjUwJSI7CiAgICAgICAgICAgICAgICAgICAgdGhpc0ltZ0luZm9Db250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZG93bmxvYWQtZGlyZWN0IilbMF0uc3R5bGUucmlnaHQgPSAiY2FsYyg1MCUgLSAzMHB4KSI7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXNJbWdJbmZvQ29udGFpbmVyLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIiwgZG93bmxvYWRCdG4pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8vL2NvbnNvbGUubG9nKGltZyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZmlsdGVyQnlXaWR0aChzcmMpIHsKICAgICAgICAgICAgbGV0IHRlbXBJbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgICAgICAgdGVtcEltZy5zcmMgPSBzcmM7CiAgICAgICAgICAgIGlmICh0ZW1wSW1nLndpZHRoID49IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi53aWR0aC12YWx1ZS1taW4iKS52YWx1ZSkKICAgICAgICAgICAgICAgICYmIHRlbXBJbWcud2lkdGggPD0gcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLndpZHRoLXZhbHVlLW1heCIpLnZhbHVlKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHNyYzsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gZmlsdGVyQnlIZWlnaHQoc3JjKSB7CiAgICAgICAgICAgIGxldCB0ZW1wSW1nID0gbmV3IEltYWdlKCk7CiAgICAgICAgICAgIHRlbXBJbWcuc3JjID0gc3JjOwogICAgICAgICAgICBpZiAodGVtcEltZy5oZWlnaHQgPj0gcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmhlaWdodC12YWx1ZS1taW4iKS52YWx1ZSkKICAgICAgICAgICAgICAgICYmIHRlbXBJbWcuaGVpZ2h0IDw9IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5oZWlnaHQtdmFsdWUtbWF4IikudmFsdWUpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3JjOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBnZXRTYXZlZFZhbHVlKCkgewogICAgICAgICAgICBHTV9nZXRWYWx1ZSgid2lkdGgtY2hlY2siKSAmJiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLndpZHRoLWNoZWNrIikuY2hlY2tlZCA9IEdNX2dldFZhbHVlKCJ3aWR0aC1jaGVjayIpKTsKICAgICAgICAgICAgR01fZ2V0VmFsdWUoImhlaWdodC1jaGVjayIpICYmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuaGVpZ2h0LWNoZWNrIikuY2hlY2tlZCA9IEdNX2dldFZhbHVlKCJoZWlnaHQtY2hlY2siKSk7CiAgICAgICAgICAgIEdNX2dldFZhbHVlKCJ3aWR0aC12YWx1ZS1taW4iKSAmJiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLndpZHRoLXZhbHVlLW1pbiIpLnZhbHVlID0gR01fZ2V0VmFsdWUoIndpZHRoLXZhbHVlLW1pbiIpKTsKICAgICAgICAgICAgR01fZ2V0VmFsdWUoIndpZHRoLXZhbHVlLW1heCIpICYmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIud2lkdGgtdmFsdWUtbWF4IikudmFsdWUgPSBHTV9nZXRWYWx1ZSgid2lkdGgtdmFsdWUtbWF4IikpOwogICAgICAgICAgICBHTV9nZXRWYWx1ZSgiaGVpZ2h0LXZhbHVlLW1pbiIpICYmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuaGVpZ2h0LXZhbHVlLW1pbiIpLnZhbHVlID0gR01fZ2V0VmFsdWUoImhlaWdodC12YWx1ZS1taW4iKSk7CiAgICAgICAgICAgIEdNX2dldFZhbHVlKCJoZWlnaHQtdmFsdWUtbWF4IikgJiYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5oZWlnaHQtdmFsdWUtbWF4IikudmFsdWUgPSBHTV9nZXRWYWx1ZSgiaGVpZ2h0LXZhbHVlLW1heCIpKTsKCiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBmZXRjaEJhc2U2NEltZ3NUaGVuUHVzaFRvWmlwQXJyYXkoKSB7CiAgICAgICAgICAgIHppcEZpbHRlcmVkSW1nVXJscy5mb3JFYWNoKChpbWdVcmwsIHVybEluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoaW1nVXJsLmluY2x1ZGVzKCJkYXRhOmltYWdlIikpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZmV0Y2goaW1nVXJsLHsKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgICAgICAgICAgICAgIG1vZGU6ICdjb3JzJwogICAgICAgICAgICAgICAgfSkudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3QgT0snKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7CiAgICAgICAgICAgICAgICAgICAgfSkudGhlbihteUJsb2I9PnsKICAgICAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IG15QmxvYgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgb0ZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICBvRmlsZVJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJhc2U2NCA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coIuOAi+OAiyIsIGJhc2U2NCkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZTY0LmluY2x1ZGVzKCJkYXRhOmltYWdlIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXBGaWx0ZXJlZEltZ1VybHNbdXJsSW5kZXhdID0gYmFzZTY0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vemlwSW1nV2FpdERvd25sb2FkLnB1c2goYmFzZTY0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgb0ZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKT0+ewogICAgICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBpbWdVcmwsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogImJsb2IiLAogICAgICAgICAgICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IHIucmVzcG9uc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb0ZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgb0ZpbGVSZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmFzZTY0ID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiYXNlNjQuaW5jbHVkZXMoImRhdGE6aW1hZ2UiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6aXBGaWx0ZXJlZEltZ1VybHNbdXJsSW5kZXhdID0gYmFzZTY0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ppcEltZ1dhaXREb3dubG9hZC5wdXNoKGJhc2U2NCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9GaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjdXRvZmZOb3RCYXNlNjRJbWcoaW1nc1VybEFycmF5KSB7CiAgICAgICAgICAgIGxldCByZXN1bHRBcnIgPSBbXTsKICAgICAgICAgICAgaW1nc1VybEFycmF5LmZvckVhY2goKGltZ1VybCwgdXJsSW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGlmIChpbWdVcmwuaW5jbHVkZXMoImRhdGE6aW1hZ2UiKSkgewogICAgICAgICAgICAgICAgICAgIHJlc3VsdEFyci5wdXNoKGltZ1VybCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdEFycjsKICAgICAgICB9CiAgICB9Cn0pKCk7","requires":[{"meta":{"name":"hotkeys.min.js","url":"https://cdn.jsdelivr.net/npm/hotkeys-js@3.7.2/dist/hotkeys.min.js","ts":1661936236433,"mimetype":"text/javascript"},"source":"LyohIGhvdGtleXMtanMgdjMuNy4yIHwgTUlUIChjKSAyMDE5IGtlbm55IHdvbmcgPHdvd29ob29AcXEuY29tPiB8IGh0dHA6Ly9qYXl3Y2psb3ZlLmdpdGh1Yi5pby9ob3RrZXlzICovCiFmdW5jdGlvbihlLHQpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKHQpOihlPWV8fHNlbGYpLmhvdGtleXM9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGYoZSl7cmV0dXJuKGY9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgZT0idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmMDxuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiZmlyZWZveCIpO2Z1bmN0aW9uIHAoZSx0LG4pe2UuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIodCxuLCExKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KCJvbiIuY29uY2F0KHQpLGZ1bmN0aW9uKCl7bih3aW5kb3cuZXZlbnQpfSl9ZnVuY3Rpb24geShlLHQpe2Zvcih2YXIgbj10LnNsaWNlKDAsdC5sZW5ndGgtMSksbz0wO288bi5sZW5ndGg7bysrKW5bb109ZVtuW29dLnRvTG93ZXJDYXNlKCldO3JldHVybiBufWZ1bmN0aW9uIHUoZSl7InN0cmluZyIhPXR5cGVvZiBlJiYoZT0iIik7Zm9yKHZhciB0PShlPWUucmVwbGFjZSgvXHMvZywiIikpLnNwbGl0KCIsIiksbj10Lmxhc3RJbmRleE9mKCIiKTswPD1uOyl0W24tMV0rPSIsIix0LnNwbGljZShuLDEpLG49dC5sYXN0SW5kZXhPZigiIik7cmV0dXJuIHR9Zm9yKHZhciB0PXtiYWNrc3BhY2U6OCx0YWI6OSxjbGVhcjoxMixlbnRlcjoxMyxyZXR1cm46MTMsZXNjOjI3LGVzY2FwZToyNyxzcGFjZTozMixsZWZ0OjM3LHVwOjM4LHJpZ2h0OjM5LGRvd246NDAsZGVsOjQ2LGRlbGV0ZTo0NixpbnM6NDUsaW5zZXJ0OjQ1LGhvbWU6MzYsZW5kOjM1LHBhZ2V1cDozMyxwYWdlZG93bjozNCxjYXBzbG9jazoyMCwiXHUyMWVhIjoyMCwiLCI6MTg4LCIuIjoxOTAsIi8iOjE5MSwiYCI6MTkyLCItIjplPzE3MzoxODksIj0iOmU/NjE6MTg3LCI7IjplPzU5OjE4NiwiJyI6MjIyLCJbIjoyMTksIl0iOjIyMSwiXFwiOjIyMH0sZD17Ilx1MjFlNyI6MTYsc2hpZnQ6MTYsIlx1MjMyNSI6MTgsYWx0OjE4LG9wdGlvbjoxOCwiXHUyMzAzIjoxNyxjdHJsOjE3LGNvbnRyb2w6MTcsIlx1MjMxOCI6OTEsY21kOjkxLGNvbW1hbmQ6OTF9LGg9ezE2OiJzaGlmdEtleSIsMTg6ImFsdEtleSIsMTc6ImN0cmxLZXkiLDkxOiJtZXRhS2V5IixzaGlmdEtleToxNixjdHJsS2V5OjE3LGFsdEtleToxOCxtZXRhS2V5OjkxfSx2PXsxNjohMSwxODohMSwxNzohMSw5MTohMX0sZz17fSxuPTE7bjwyMDtuKyspdFsiZiIuY29uY2F0KG4pXT0xMTErbjt2YXIgdz1bXSxvPSJhbGwiLGs9W10sbT1mdW5jdGlvbihlKXtyZXR1cm4gdFtlLnRvTG93ZXJDYXNlKCldfHxkW2UudG9Mb3dlckNhc2UoKV18fGUudG9VcHBlckNhc2UoKS5jaGFyQ29kZUF0KDApfTtmdW5jdGlvbiBpKGUpe289ZXx8ImFsbCJ9ZnVuY3Rpb24gYigpe3JldHVybiBvfHwiYWxsIn1mdW5jdGlvbiBjKGUpe3ZhciBmPWUuc2NvcGUsYz1lLm1ldGhvZCx0PWUuc3BsaXRLZXksYT12b2lkIDA9PT10PyIrIjp0O3UoZS5rZXkpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChhKSxuPXQubGVuZ3RoLG89dFtuLTFdLHI9IioiPT09bz8iKiI6bShvKTtpZihnW3JdKXtmfHwoZj1iKCkpO3ZhciBpPTE8bj95KGQsdCk6W107Z1tyXT1nW3JdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4oIWN8fGUubWV0aG9kPT09YykmJmUuc2NvcGU9PT1mJiZmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDx0Lmxlbmd0aD90OmUsbz1lLmxlbmd0aDx0Lmxlbmd0aD9lOnQscj0hMCxpPTA7aTxuLmxlbmd0aDtpKyspfm8uaW5kZXhPZihuW2ldKXx8KHI9ITEpO3JldHVybiByfShlLm1vZHMsaSk/e306ZX0pfX0pfWZ1bmN0aW9uIE8oZSx0LG4pe3ZhciBvO2lmKHQuc2NvcGU9PT1ufHwiYWxsIj09PXQuc2NvcGUpe2Zvcih2YXIgciBpbiBvPTA8dC5tb2RzLmxlbmd0aCx2KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh2LHIpJiYoIXZbcl0mJi0xPHQubW9kcy5pbmRleE9mKCtyKXx8dltyXSYmIX50Lm1vZHMuaW5kZXhPZigrcikpJiYobz0hMSk7KDAhPT10Lm1vZHMubGVuZ3RofHx2WzE2XXx8dlsxOF18fHZbMTddfHx2WzkxXSkmJiFvJiYiKiIhPT10LnNob3J0Y3V0fHwhMT09PXQubWV0aG9kKGUsdCkmJihlLnByZXZlbnREZWZhdWx0P2UucHJldmVudERlZmF1bHQoKTplLnJldHVyblZhbHVlPSExLGUuc3RvcFByb3BhZ2F0aW9uJiZlLnN0b3BQcm9wYWdhdGlvbigpLGUuY2FuY2VsQnViYmxlJiYoZS5jYW5jZWxCdWJibGU9ITApKX19ZnVuY3Rpb24gSyhuKXt2YXIgZT1nWyIqIl0sdD1uLmtleUNvZGV8fG4ud2hpY2h8fG4uY2hhckNvZGU7aWYoeC5maWx0ZXIuY2FsbCh0aGlzLG4pKXtpZig5MyE9PXQmJjIyNCE9PXR8fCh0PTkxKSx+dy5pbmRleE9mKHQpfHwyMjk9PT10fHx3LnB1c2godCksWyJjdHJsS2V5IiwiYWx0S2V5Iiwic2hpZnRLZXkiLCJtZXRhS2V5Il0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1oW2VdO25bZV0mJiF+dy5pbmRleE9mKHQpP3cucHVzaCh0KTohbltlXSYmLTE8dy5pbmRleE9mKHQpJiZ3LnNwbGljZSh3LmluZGV4T2YodCksMSl9KSx0IGluIHYpe2Zvcih2YXIgbyBpbiB2W3RdPSEwLGQpZFtvXT09PXQmJih4W29dPSEwKTtpZighZSlyZXR1cm59Zm9yKHZhciByIGluIHYpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHYscikmJih2W3JdPW5baFtyXV0pO3ZhciBpPWIoKTtpZihlKWZvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0uc2NvcGU9PT1pJiYoImtleWRvd24iPT09bi50eXBlJiZlW2ZdLmtleWRvd258fCJrZXl1cCI9PT1uLnR5cGUmJmVbZl0ua2V5dXApJiZPKG4sZVtmXSxpKTtpZih0IGluIGcpZm9yKHZhciBjPTA7YzxnW3RdLmxlbmd0aDtjKyspaWYoKCJrZXlkb3duIj09PW4udHlwZSYmZ1t0XVtjXS5rZXlkb3dufHwia2V5dXAiPT09bi50eXBlJiZnW3RdW2NdLmtleXVwKSYmZ1t0XVtjXS5rZXkpe2Zvcih2YXIgYT1nW3RdW2NdLGw9YS5rZXkuc3BsaXQoYS5zcGxpdEtleSkscz1bXSxwPTA7cDxsLmxlbmd0aDtwKyspcy5wdXNoKG0obFtwXSkpO3Muc29ydCgpLmpvaW4oIiIpPT09dy5zb3J0KCkuam9pbigiIikmJk8obixhLGkpfX19ZnVuY3Rpb24geChlLHQsbil7dz1bXTt2YXIgbz11KGUpLHI9W10saT0iYWxsIixmPWRvY3VtZW50LGM9MCxhPSExLGw9ITAscz0iKyI7Zm9yKHZvaWQgMD09PW4mJiJmdW5jdGlvbiI9PXR5cGVvZiB0JiYobj10KSwiW29iamVjdCBPYmplY3RdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSYmKHQuc2NvcGUmJihpPXQuc2NvcGUpLHQuZWxlbWVudCYmKGY9dC5lbGVtZW50KSx0LmtleXVwJiYoYT10LmtleXVwKSx2b2lkIDAhPT10LmtleWRvd24mJihsPXQua2V5ZG93biksInN0cmluZyI9PXR5cGVvZiB0LnNwbGl0S2V5JiYocz10LnNwbGl0S2V5KSksInN0cmluZyI9PXR5cGVvZiB0JiYoaT10KTtjPG8ubGVuZ3RoO2MrKylyPVtdLDE8KGU9b1tjXS5zcGxpdChzKSkubGVuZ3RoJiYocj15KGQsZSkpLChlPSIqIj09PShlPWVbZS5sZW5ndGgtMV0pPyIqIjptKGUpKWluIGd8fChnW2VdPVtdKSxnW2VdLnB1c2goe2tleXVwOmEsa2V5ZG93bjpsLHNjb3BlOmksbW9kczpyLHNob3J0Y3V0Om9bY10sbWV0aG9kOm4sa2V5Om9bY10sc3BsaXRLZXk6c30pO3ZvaWQgMCE9PWYmJiFmdW5jdGlvbihlKXtyZXR1cm4tMTxrLmluZGV4T2YoZSl9KGYpJiZ3aW5kb3cmJihrLnB1c2goZikscChmLCJrZXlkb3duIixmdW5jdGlvbihlKXtLKGUpfSkscCh3aW5kb3csImZvY3VzIixmdW5jdGlvbigpe3c9W119KSxwKGYsImtleXVwIixmdW5jdGlvbihlKXtLKGUpLGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5Q29kZXx8ZS53aGljaHx8ZS5jaGFyQ29kZSxuPXcuaW5kZXhPZih0KTtpZihuPDB8fHcuc3BsaWNlKG4sMSksZS5rZXkmJiJtZXRhIj09ZS5rZXkudG9Mb3dlckNhc2UoKSYmdy5zcGxpY2UoMCx3Lmxlbmd0aCksOTMhPT10JiYyMjQhPT10fHwodD05MSksdCBpbiB2KWZvcih2YXIgbyBpbiB2W3RdPSExLGQpZFtvXT09PXQmJih4W29dPSExKX0oZSl9KSl9dmFyIHI9e3NldFNjb3BlOmksZ2V0U2NvcGU6YixkZWxldGVTY29wZTpmdW5jdGlvbihlLHQpe3ZhciBuLG87Zm9yKHZhciByIGluIGV8fChlPWIoKSksZylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZyxyKSlmb3Iobj1nW3JdLG89MDtvPG4ubGVuZ3RoOyluW29dLnNjb3BlPT09ZT9uLnNwbGljZShvLDEpOm8rKztiKCk9PT1lJiZpKHR8fCJhbGwiKX0sZ2V0UHJlc3NlZEtleUNvZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIHcuc2xpY2UoMCl9LGlzUHJlc3NlZDpmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJihlPW0oZSkpLCEhfncuaW5kZXhPZihlKX0sZmlsdGVyOmZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQsbj10LnRhZ05hbWUsbz0hMDtyZXR1cm4hdC5pc0NvbnRlbnRFZGl0YWJsZSYmIlRFWFRBUkVBIiE9PW4mJigiSU5QVVQiIT09biYmIlRFWFRBUkVBIiE9PW58fHQucmVhZE9ubHkpfHwobz0hMSksb30sdW5iaW5kOmZ1bmN0aW9uKGUpe2lmKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Uua2V5JiZjKGUpfSk7ZWxzZSBpZigib2JqZWN0Ij09PWYoZSkpZS5rZXkmJmMoZSk7ZWxzZSBpZigic3RyaW5nIj09dHlwZW9mIGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkoMTx0P3QtMTowKSxvPTE7bzx0O28rKyluW28tMV09YXJndW1lbnRzW29dO3ZhciByPW5bMF0saT1uWzFdOyJmdW5jdGlvbiI9PXR5cGVvZiByJiYoaT1yLHI9IiIpLGMoe2tleTplLHNjb3BlOnIsbWV0aG9kOmksc3BsaXRLZXk6IisifSl9fWVsc2UgT2JqZWN0LmtleXMoZykuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZGVsZXRlIGdbZV19KX19O2Zvcih2YXIgYSBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLGEpJiYoeFthXT1yW2FdKTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyl7dmFyIGw9d2luZG93LmhvdGtleXM7eC5ub0NvbmZsaWN0PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ3aW5kb3cuaG90a2V5cz09PXgmJih3aW5kb3cuaG90a2V5cz1sKSx4fSx3aW5kb3cuaG90a2V5cz14fXJldHVybiB4fSk7"},{"meta":{"name":"jszip.min.js","url":"https://cdn.bootcss.com/jszip/3.7.1/jszip.min.js","ts":1661936236433,"mimetype":"text/javascript"},"source":"LyohCgpKU1ppcCB2My43LjEgLSBBIEphdmFTY3JpcHQgY2xhc3MgZm9yIGdlbmVyYXRpbmcgYW5kIHJlYWRpbmcgemlwIGZpbGVzCjxodHRwOi8vc3R1YXJ0ay5jb20vanN6aXA+CgooYykgMjAwOS0yMDE2IFN0dWFydCBLbmlnaHRsZXkgPHN0dWFydCBbYXRdIHN0dWFydGsuY29tPgpEdWFsIGxpY2VuY2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBvciBHUEx2My4gU2VlIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vU3R1ay9qc3ppcC9tYXN0ZXIvTElDRU5TRS5tYXJrZG93bi4KCkpTWmlwIHVzZXMgdGhlIGxpYnJhcnkgcGFrbyByZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgOgpodHRwczovL2dpdGh1Yi5jb20vbm9kZWNhL3Bha28vYmxvYi9tYXN0ZXIvTElDRU5TRQoqLwoKIWZ1bmN0aW9uKHQpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dCgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sdCk7ZWxzZXsoInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzKS5KU1ppcD10KCl9fShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBzKGEsbyxoKXtmdW5jdGlvbiB1KHIsdCl7aWYoIW9bcl0pe2lmKCFhW3JdKXt2YXIgZT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighdCYmZSlyZXR1cm4gZShyLCEwKTtpZihsKXJldHVybiBsKHIsITApO3ZhciBpPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3IrIiciKTt0aHJvdyBpLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGl9dmFyIG49b1tyXT17ZXhwb3J0czp7fX07YVtyXVswXS5jYWxsKG4uZXhwb3J0cyxmdW5jdGlvbih0KXt2YXIgZT1hW3JdWzFdW3RdO3JldHVybiB1KGV8fHQpfSxuLG4uZXhwb3J0cyxzLGEsbyxoKX1yZXR1cm4gb1tyXS5leHBvcnRzfWZvcih2YXIgbD0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSx0PTA7dDxoLmxlbmd0aDt0KyspdShoW3RdKTtyZXR1cm4gdX0oezE6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGM9dCgiLi91dGlscyIpLGQ9dCgiLi9zdXBwb3J0IikscD0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iO3IuZW5jb2RlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyLGksbixzLGEsbyxoPVtdLHU9MCxsPXQubGVuZ3RoLGY9bCxkPSJzdHJpbmciIT09Yy5nZXRUeXBlT2YodCk7dTx0Lmxlbmd0aDspZj1sLXUsaT1kPyhlPXRbdSsrXSxyPXU8bD90W3UrK106MCx1PGw/dFt1KytdOjApOihlPXQuY2hhckNvZGVBdCh1KyspLHI9dTxsP3QuY2hhckNvZGVBdCh1KyspOjAsdTxsP3QuY2hhckNvZGVBdCh1KyspOjApLG49ZT4+MixzPSgzJmUpPDw0fHI+PjQsYT0xPGY/KDE1JnIpPDwyfGk+PjY6NjQsbz0yPGY/NjMmaTo2NCxoLnB1c2gocC5jaGFyQXQobikrcC5jaGFyQXQocykrcC5jaGFyQXQoYSkrcC5jaGFyQXQobykpO3JldHVybiBoLmpvaW4oIiIpfSxyLmRlY29kZT1mdW5jdGlvbih0KXt2YXIgZSxyLGksbixzLGEsbz0wLGg9MCx1PSJkYXRhOiI7aWYodC5zdWJzdHIoMCx1Lmxlbmd0aCk9PT11KXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBiYXNlNjQgaW5wdXQsIGl0IGxvb2tzIGxpa2UgYSBkYXRhIHVybC4iKTt2YXIgbCxmPTMqKHQ9dC5yZXBsYWNlKC9bXkEtWmEtejAtOVwrXC9cPV0vZywiIikpLmxlbmd0aC80O2lmKHQuY2hhckF0KHQubGVuZ3RoLTEpPT09cC5jaGFyQXQoNjQpJiZmLS0sdC5jaGFyQXQodC5sZW5ndGgtMik9PT1wLmNoYXJBdCg2NCkmJmYtLSxmJTEhPTApdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGJhc2U2NCBpbnB1dCwgYmFkIGNvbnRlbnQgbGVuZ3RoLiIpO2ZvcihsPWQudWludDhhcnJheT9uZXcgVWludDhBcnJheSgwfGYpOm5ldyBBcnJheSgwfGYpO288dC5sZW5ndGg7KWU9cC5pbmRleE9mKHQuY2hhckF0KG8rKykpPDwyfChuPXAuaW5kZXhPZih0LmNoYXJBdChvKyspKSk+PjQscj0oMTUmbik8PDR8KHM9cC5pbmRleE9mKHQuY2hhckF0KG8rKykpKT4+MixpPSgzJnMpPDw2fChhPXAuaW5kZXhPZih0LmNoYXJBdChvKyspKSksbFtoKytdPWUsNjQhPT1zJiYobFtoKytdPXIpLDY0IT09YSYmKGxbaCsrXT1pKTtyZXR1cm4gbH19LHsiLi9zdXBwb3J0IjozMCwiLi91dGlscyI6MzJ9XSwyOltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBpPXQoIi4vZXh0ZXJuYWwiKSxuPXQoIi4vc3RyZWFtL0RhdGFXb3JrZXIiKSxzPXQoIi4vc3RyZWFtL0NyYzMyUHJvYmUiKSxhPXQoIi4vc3RyZWFtL0RhdGFMZW5ndGhQcm9iZSIpO2Z1bmN0aW9uIG8odCxlLHIsaSxuKXt0aGlzLmNvbXByZXNzZWRTaXplPXQsdGhpcy51bmNvbXByZXNzZWRTaXplPWUsdGhpcy5jcmMzMj1yLHRoaXMuY29tcHJlc3Npb249aSx0aGlzLmNvbXByZXNzZWRDb250ZW50PW59by5wcm90b3R5cGU9e2dldENvbnRlbnRXb3JrZXI6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgbihpLlByb21pc2UucmVzb2x2ZSh0aGlzLmNvbXByZXNzZWRDb250ZW50KSkucGlwZSh0aGlzLmNvbXByZXNzaW9uLnVuY29tcHJlc3NXb3JrZXIoKSkucGlwZShuZXcgYSgiZGF0YV9sZW5ndGgiKSksZT10aGlzO3JldHVybiB0Lm9uKCJlbmQiLGZ1bmN0aW9uKCl7aWYodGhpcy5zdHJlYW1JbmZvLmRhdGFfbGVuZ3RoIT09ZS51bmNvbXByZXNzZWRTaXplKXRocm93IG5ldyBFcnJvcigiQnVnIDogdW5jb21wcmVzc2VkIGRhdGEgc2l6ZSBtaXNtYXRjaCIpfSksdH0sZ2V0Q29tcHJlc3NlZFdvcmtlcjpmdW5jdGlvbigpe3JldHVybiBuZXcgbihpLlByb21pc2UucmVzb2x2ZSh0aGlzLmNvbXByZXNzZWRDb250ZW50KSkud2l0aFN0cmVhbUluZm8oImNvbXByZXNzZWRTaXplIix0aGlzLmNvbXByZXNzZWRTaXplKS53aXRoU3RyZWFtSW5mbygidW5jb21wcmVzc2VkU2l6ZSIsdGhpcy51bmNvbXByZXNzZWRTaXplKS53aXRoU3RyZWFtSW5mbygiY3JjMzIiLHRoaXMuY3JjMzIpLndpdGhTdHJlYW1JbmZvKCJjb21wcmVzc2lvbiIsdGhpcy5jb21wcmVzc2lvbil9fSxvLmNyZWF0ZVdvcmtlckZyb209ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0LnBpcGUobmV3IHMpLnBpcGUobmV3IGEoInVuY29tcHJlc3NlZFNpemUiKSkucGlwZShlLmNvbXByZXNzV29ya2VyKHIpKS5waXBlKG5ldyBhKCJjb21wcmVzc2VkU2l6ZSIpKS53aXRoU3RyZWFtSW5mbygiY29tcHJlc3Npb24iLGUpfSxlLmV4cG9ydHM9b30seyIuL2V4dGVybmFsIjo2LCIuL3N0cmVhbS9DcmMzMlByb2JlIjoyNSwiLi9zdHJlYW0vRGF0YUxlbmd0aFByb2JlIjoyNiwiLi9zdHJlYW0vRGF0YVdvcmtlciI6Mjd9XSwzOltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBpPXQoIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiKTtyLlNUT1JFPXttYWdpYzoiXDBcMCIsY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBpKCJTVE9SRSBjb21wcmVzc2lvbiIpfSx1bmNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKCJTVE9SRSBkZWNvbXByZXNzaW9uIil9fSxyLkRFRkxBVEU9dCgiLi9mbGF0ZSIpfSx7Ii4vZmxhdGUiOjcsIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiOjI4fV0sNDpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT10KCIuL3V0aWxzIik7dmFyIG89ZnVuY3Rpb24oKXtmb3IodmFyIHQsZT1bXSxyPTA7cjwyNTY7cisrKXt0PXI7Zm9yKHZhciBpPTA7aTw4O2krKyl0PTEmdD8zOTg4MjkyMzg0XnQ+Pj4xOnQ+Pj4xO2Vbcl09dH1yZXR1cm4gZX0oKTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwIT09dCYmdC5sZW5ndGg/InN0cmluZyIhPT1pLmdldFR5cGVPZih0KT9mdW5jdGlvbih0LGUscixpKXt2YXIgbj1vLHM9aStyO3RePS0xO2Zvcih2YXIgYT1pO2E8czthKyspdD10Pj4+OF5uWzI1NSYodF5lW2FdKV07cmV0dXJuLTFedH0oMHxlLHQsdC5sZW5ndGgsMCk6ZnVuY3Rpb24odCxlLHIsaSl7dmFyIG49byxzPWkrcjt0Xj0tMTtmb3IodmFyIGE9aTthPHM7YSsrKXQ9dD4+PjheblsyNTUmKHReZS5jaGFyQ29kZUF0KGEpKV07cmV0dXJuLTFedH0oMHxlLHQsdC5sZW5ndGgsMCk6MH19LHsiLi91dGlscyI6MzJ9XSw1OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3IuYmFzZTY0PSExLHIuYmluYXJ5PSExLHIuZGlyPSExLHIuY3JlYXRlRm9sZGVycz0hMCxyLmRhdGU9bnVsbCxyLmNvbXByZXNzaW9uPW51bGwsci5jb21wcmVzc2lvbk9wdGlvbnM9bnVsbCxyLmNvbW1lbnQ9bnVsbCxyLnVuaXhQZXJtaXNzaW9ucz1udWxsLHIuZG9zUGVybWlzc2lvbnM9bnVsbH0se31dLDY6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk9bnVsbDtpPSJ1bmRlZmluZWQiIT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlOnQoImxpZSIpLGUuZXhwb3J0cz17UHJvbWlzZTppfX0se2xpZTozN31dLDc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5JiYidW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQxNkFycmF5JiYidW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQzMkFycmF5LG49dCgicGFrbyIpLHM9dCgiLi91dGlscyIpLGE9dCgiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciIpLG89aT8idWludDhhcnJheSI6ImFycmF5IjtmdW5jdGlvbiBoKHQsZSl7YS5jYWxsKHRoaXMsIkZsYXRlV29ya2VyLyIrdCksdGhpcy5fcGFrbz1udWxsLHRoaXMuX3Bha29BY3Rpb249dCx0aGlzLl9wYWtvT3B0aW9ucz1lLHRoaXMubWV0YT17fX1yLm1hZ2ljPSJcYlwwIixzLmluaGVyaXRzKGgsYSksaC5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKHQpe3RoaXMubWV0YT10Lm1ldGEsbnVsbD09PXRoaXMuX3Bha28mJnRoaXMuX2NyZWF0ZVBha28oKSx0aGlzLl9wYWtvLnB1c2gocy50cmFuc2Zvcm1UbyhvLHQuZGF0YSksITEpfSxoLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2EucHJvdG90eXBlLmZsdXNoLmNhbGwodGhpcyksbnVsbD09PXRoaXMuX3Bha28mJnRoaXMuX2NyZWF0ZVBha28oKSx0aGlzLl9wYWtvLnB1c2goW10sITApfSxoLnByb3RvdHlwZS5jbGVhblVwPWZ1bmN0aW9uKCl7YS5wcm90b3R5cGUuY2xlYW5VcC5jYWxsKHRoaXMpLHRoaXMuX3Bha289bnVsbH0saC5wcm90b3R5cGUuX2NyZWF0ZVBha289ZnVuY3Rpb24oKXt0aGlzLl9wYWtvPW5ldyBuW3RoaXMuX3Bha29BY3Rpb25dKHtyYXc6ITAsbGV2ZWw6dGhpcy5fcGFrb09wdGlvbnMubGV2ZWx8fC0xfSk7dmFyIGU9dGhpczt0aGlzLl9wYWtvLm9uRGF0YT1mdW5jdGlvbih0KXtlLnB1c2goe2RhdGE6dCxtZXRhOmUubWV0YX0pfX0sci5jb21wcmVzc1dvcmtlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGgoIkRlZmxhdGUiLHQpfSxyLnVuY29tcHJlc3NXb3JrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGgoIkluZmxhdGUiLHt9KX19LHsiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciI6MjgsIi4vdXRpbHMiOjMyLHBha286Mzh9XSw4OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIEEodCxlKXt2YXIgcixpPSIiO2ZvcihyPTA7cjxlO3IrKylpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZ0KSx0Pj4+PTg7cmV0dXJuIGl9ZnVuY3Rpb24gaSh0LGUscixpLG4scyl7dmFyIGEsbyxoPXQuZmlsZSx1PXQuY29tcHJlc3Npb24sbD1zIT09Ty51dGY4ZW5jb2RlLGY9SS50cmFuc2Zvcm1Ubygic3RyaW5nIixzKGgubmFtZSkpLGQ9SS50cmFuc2Zvcm1Ubygic3RyaW5nIixPLnV0ZjhlbmNvZGUoaC5uYW1lKSksYz1oLmNvbW1lbnQscD1JLnRyYW5zZm9ybVRvKCJzdHJpbmciLHMoYykpLG09SS50cmFuc2Zvcm1Ubygic3RyaW5nIixPLnV0ZjhlbmNvZGUoYykpLF89ZC5sZW5ndGghPT1oLm5hbWUubGVuZ3RoLGc9bS5sZW5ndGghPT1jLmxlbmd0aCxiPSIiLHY9IiIseT0iIix3PWguZGlyLGs9aC5kYXRlLHg9e2NyYzMyOjAsY29tcHJlc3NlZFNpemU6MCx1bmNvbXByZXNzZWRTaXplOjB9O2UmJiFyfHwoeC5jcmMzMj10LmNyYzMyLHguY29tcHJlc3NlZFNpemU9dC5jb21wcmVzc2VkU2l6ZSx4LnVuY29tcHJlc3NlZFNpemU9dC51bmNvbXByZXNzZWRTaXplKTt2YXIgUz0wO2UmJihTfD04KSxsfHwhXyYmIWd8fChTfD0yMDQ4KTt2YXIgej0wLEM9MDt3JiYoenw9MTYpLCJVTklYIj09PW4/KEM9Nzk4LHp8PWZ1bmN0aW9uKHQsZSl7dmFyIHI9dDtyZXR1cm4gdHx8KHI9ZT8xNjg5MzozMzIwNCksKDY1NTM1JnIpPDwxNn0oaC51bml4UGVybWlzc2lvbnMsdykpOihDPTIwLHp8PWZ1bmN0aW9uKHQpe3JldHVybiA2MyYodHx8MCl9KGguZG9zUGVybWlzc2lvbnMpKSxhPWsuZ2V0VVRDSG91cnMoKSxhPDw9NixhfD1rLmdldFVUQ01pbnV0ZXMoKSxhPDw9NSxhfD1rLmdldFVUQ1NlY29uZHMoKS8yLG89ay5nZXRVVENGdWxsWWVhcigpLTE5ODAsbzw8PTQsb3w9ay5nZXRVVENNb250aCgpKzEsbzw8PTUsb3w9ay5nZXRVVENEYXRlKCksXyYmKHY9QSgxLDEpK0EoQihmKSw0KStkLGIrPSJ1cCIrQSh2Lmxlbmd0aCwyKSt2KSxnJiYoeT1BKDEsMSkrQShCKHApLDQpK20sYis9InVjIitBKHkubGVuZ3RoLDIpK3kpO3ZhciBFPSIiO3JldHVybiBFKz0iXG5cMCIsRSs9QShTLDIpLEUrPXUubWFnaWMsRSs9QShhLDIpLEUrPUEobywyKSxFKz1BKHguY3JjMzIsNCksRSs9QSh4LmNvbXByZXNzZWRTaXplLDQpLEUrPUEoeC51bmNvbXByZXNzZWRTaXplLDQpLEUrPUEoZi5sZW5ndGgsMiksRSs9QShiLmxlbmd0aCwyKSx7ZmlsZVJlY29yZDpSLkxPQ0FMX0ZJTEVfSEVBREVSK0UrZitiLGRpclJlY29yZDpSLkNFTlRSQUxfRklMRV9IRUFERVIrQShDLDIpK0UrQShwLmxlbmd0aCwyKSsiXDBcMFwwXDAiK0Eoeiw0KStBKGksNCkrZitiK3B9fXZhciBJPXQoIi4uL3V0aWxzIiksbj10KCIuLi9zdHJlYW0vR2VuZXJpY1dvcmtlciIpLE89dCgiLi4vdXRmOCIpLEI9dCgiLi4vY3JjMzIiKSxSPXQoIi4uL3NpZ25hdHVyZSIpO2Z1bmN0aW9uIHModCxlLHIsaSl7bi5jYWxsKHRoaXMsIlppcEZpbGVXb3JrZXIiKSx0aGlzLmJ5dGVzV3JpdHRlbj0wLHRoaXMuemlwQ29tbWVudD1lLHRoaXMuemlwUGxhdGZvcm09cix0aGlzLmVuY29kZUZpbGVOYW1lPWksdGhpcy5zdHJlYW1GaWxlcz10LHRoaXMuYWNjdW11bGF0ZT0hMSx0aGlzLmNvbnRlbnRCdWZmZXI9W10sdGhpcy5kaXJSZWNvcmRzPVtdLHRoaXMuY3VycmVudFNvdXJjZU9mZnNldD0wLHRoaXMuZW50cmllc0NvdW50PTAsdGhpcy5jdXJyZW50RmlsZT1udWxsLHRoaXMuX3NvdXJjZXM9W119SS5pbmhlcml0cyhzLG4pLHMucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCl7dmFyIGU9dC5tZXRhLnBlcmNlbnR8fDAscj10aGlzLmVudHJpZXNDb3VudCxpPXRoaXMuX3NvdXJjZXMubGVuZ3RoO3RoaXMuYWNjdW11bGF0ZT90aGlzLmNvbnRlbnRCdWZmZXIucHVzaCh0KToodGhpcy5ieXRlc1dyaXR0ZW4rPXQuZGF0YS5sZW5ndGgsbi5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMse2RhdGE6dC5kYXRhLG1ldGE6e2N1cnJlbnRGaWxlOnRoaXMuY3VycmVudEZpbGUscGVyY2VudDpyPyhlKzEwMCooci1pLTEpKS9yOjEwMH19KSl9LHMucHJvdG90eXBlLm9wZW5lZFNvdXJjZT1mdW5jdGlvbih0KXt0aGlzLmN1cnJlbnRTb3VyY2VPZmZzZXQ9dGhpcy5ieXRlc1dyaXR0ZW4sdGhpcy5jdXJyZW50RmlsZT10LmZpbGUubmFtZTt2YXIgZT10aGlzLnN0cmVhbUZpbGVzJiYhdC5maWxlLmRpcjtpZihlKXt2YXIgcj1pKHQsZSwhMSx0aGlzLmN1cnJlbnRTb3VyY2VPZmZzZXQsdGhpcy56aXBQbGF0Zm9ybSx0aGlzLmVuY29kZUZpbGVOYW1lKTt0aGlzLnB1c2goe2RhdGE6ci5maWxlUmVjb3JkLG1ldGE6e3BlcmNlbnQ6MH19KX1lbHNlIHRoaXMuYWNjdW11bGF0ZT0hMH0scy5wcm90b3R5cGUuY2xvc2VkU291cmNlPWZ1bmN0aW9uKHQpe3RoaXMuYWNjdW11bGF0ZT0hMTt2YXIgZT10aGlzLnN0cmVhbUZpbGVzJiYhdC5maWxlLmRpcixyPWkodCxlLCEwLHRoaXMuY3VycmVudFNvdXJjZU9mZnNldCx0aGlzLnppcFBsYXRmb3JtLHRoaXMuZW5jb2RlRmlsZU5hbWUpO2lmKHRoaXMuZGlyUmVjb3Jkcy5wdXNoKHIuZGlyUmVjb3JkKSxlKXRoaXMucHVzaCh7ZGF0YTpmdW5jdGlvbih0KXtyZXR1cm4gUi5EQVRBX0RFU0NSSVBUT1IrQSh0LmNyYzMyLDQpK0EodC5jb21wcmVzc2VkU2l6ZSw0KStBKHQudW5jb21wcmVzc2VkU2l6ZSw0KX0odCksbWV0YTp7cGVyY2VudDoxMDB9fSk7ZWxzZSBmb3IodGhpcy5wdXNoKHtkYXRhOnIuZmlsZVJlY29yZCxtZXRhOntwZXJjZW50OjB9fSk7dGhpcy5jb250ZW50QnVmZmVyLmxlbmd0aDspdGhpcy5wdXNoKHRoaXMuY29udGVudEJ1ZmZlci5zaGlmdCgpKTt0aGlzLmN1cnJlbnRGaWxlPW51bGx9LHMucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuYnl0ZXNXcml0dGVuLGU9MDtlPHRoaXMuZGlyUmVjb3Jkcy5sZW5ndGg7ZSsrKXRoaXMucHVzaCh7ZGF0YTp0aGlzLmRpclJlY29yZHNbZV0sbWV0YTp7cGVyY2VudDoxMDB9fSk7dmFyIHI9dGhpcy5ieXRlc1dyaXR0ZW4tdCxpPWZ1bmN0aW9uKHQsZSxyLGksbil7dmFyIHM9SS50cmFuc2Zvcm1Ubygic3RyaW5nIixuKGkpKTtyZXR1cm4gUi5DRU5UUkFMX0RJUkVDVE9SWV9FTkQrIlwwXDBcMFwwIitBKHQsMikrQSh0LDIpK0EoZSw0KStBKHIsNCkrQShzLmxlbmd0aCwyKStzfSh0aGlzLmRpclJlY29yZHMubGVuZ3RoLHIsdCx0aGlzLnppcENvbW1lbnQsdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOmksbWV0YTp7cGVyY2VudDoxMDB9fSl9LHMucHJvdG90eXBlLnByZXBhcmVOZXh0U291cmNlPWZ1bmN0aW9uKCl7dGhpcy5wcmV2aW91cz10aGlzLl9zb3VyY2VzLnNoaWZ0KCksdGhpcy5vcGVuZWRTb3VyY2UodGhpcy5wcmV2aW91cy5zdHJlYW1JbmZvKSx0aGlzLmlzUGF1c2VkP3RoaXMucHJldmlvdXMucGF1c2UoKTp0aGlzLnByZXZpb3VzLnJlc3VtZSgpfSxzLnByb3RvdHlwZS5yZWdpc3RlclByZXZpb3VzPWZ1bmN0aW9uKHQpe3RoaXMuX3NvdXJjZXMucHVzaCh0KTt2YXIgZT10aGlzO3JldHVybiB0Lm9uKCJkYXRhIixmdW5jdGlvbih0KXtlLnByb2Nlc3NDaHVuayh0KX0pLHQub24oImVuZCIsZnVuY3Rpb24oKXtlLmNsb3NlZFNvdXJjZShlLnByZXZpb3VzLnN0cmVhbUluZm8pLGUuX3NvdXJjZXMubGVuZ3RoP2UucHJlcGFyZU5leHRTb3VyY2UoKTplLmVuZCgpfSksdC5vbigiZXJyb3IiLGZ1bmN0aW9uKHQpe2UuZXJyb3IodCl9KSx0aGlzfSxzLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIW4ucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYoIXRoaXMucHJldmlvdXMmJnRoaXMuX3NvdXJjZXMubGVuZ3RoPyh0aGlzLnByZXBhcmVOZXh0U291cmNlKCksITApOnRoaXMucHJldmlvdXN8fHRoaXMuX3NvdXJjZXMubGVuZ3RofHx0aGlzLmdlbmVyYXRlZEVycm9yP3ZvaWQgMDoodGhpcy5lbmQoKSwhMCkpfSxzLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9zb3VyY2VzO2lmKCFuLnByb3RvdHlwZS5lcnJvci5jYWxsKHRoaXMsdCkpcmV0dXJuITE7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdHJ5e2Vbcl0uZXJyb3IodCl9Y2F0Y2godCl7fXJldHVybiEwfSxzLnByb3RvdHlwZS5sb2NrPWZ1bmN0aW9uKCl7bi5wcm90b3R5cGUubG9jay5jYWxsKHRoaXMpO2Zvcih2YXIgdD10aGlzLl9zb3VyY2VzLGU9MDtlPHQubGVuZ3RoO2UrKyl0W2VdLmxvY2soKX0sZS5leHBvcnRzPXN9LHsiLi4vY3JjMzIiOjQsIi4uL3NpZ25hdHVyZSI6MjMsIi4uL3N0cmVhbS9HZW5lcmljV29ya2VyIjoyOCwiLi4vdXRmOCI6MzEsIi4uL3V0aWxzIjozMn1dLDk6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIHU9dCgiLi4vY29tcHJlc3Npb25zIiksaT10KCIuL1ppcEZpbGVXb3JrZXIiKTtyLmdlbmVyYXRlV29ya2VyPWZ1bmN0aW9uKHQsYSxlKXt2YXIgbz1uZXcgaShhLnN0cmVhbUZpbGVzLGUsYS5wbGF0Zm9ybSxhLmVuY29kZUZpbGVOYW1lKSxoPTA7dHJ5e3QuZm9yRWFjaChmdW5jdGlvbih0LGUpe2grKzt2YXIgcj1mdW5jdGlvbih0LGUpe3ZhciByPXR8fGUsaT11W3JdO2lmKCFpKXRocm93IG5ldyBFcnJvcihyKyIgaXMgbm90IGEgdmFsaWQgY29tcHJlc3Npb24gbWV0aG9kICEiKTtyZXR1cm4gaX0oZS5vcHRpb25zLmNvbXByZXNzaW9uLGEuY29tcHJlc3Npb24pLGk9ZS5vcHRpb25zLmNvbXByZXNzaW9uT3B0aW9uc3x8YS5jb21wcmVzc2lvbk9wdGlvbnN8fHt9LG49ZS5kaXIscz1lLmRhdGU7ZS5fY29tcHJlc3NXb3JrZXIocixpKS53aXRoU3RyZWFtSW5mbygiZmlsZSIse25hbWU6dCxkaXI6bixkYXRlOnMsY29tbWVudDplLmNvbW1lbnR8fCIiLHVuaXhQZXJtaXNzaW9uczplLnVuaXhQZXJtaXNzaW9ucyxkb3NQZXJtaXNzaW9uczplLmRvc1Blcm1pc3Npb25zfSkucGlwZShvKX0pLG8uZW50cmllc0NvdW50PWh9Y2F0Y2godCl7by5lcnJvcih0KX1yZXR1cm4gb319LHsiLi4vY29tcHJlc3Npb25zIjozLCIuL1ppcEZpbGVXb3JrZXIiOjh9XSwxMDpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgaSkpcmV0dXJuIG5ldyBpO2lmKGFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJUaGUgY29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuIik7dGhpcy5maWxlcz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuY29tbWVudD1udWxsLHRoaXMucm9vdD0iIix0aGlzLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGk7Zm9yKHZhciBlIGluIHRoaXMpImZ1bmN0aW9uIiE9dHlwZW9mIHRoaXNbZV0mJih0W2VdPXRoaXNbZV0pO3JldHVybiB0fX0oaS5wcm90b3R5cGU9dCgiLi9vYmplY3QiKSkubG9hZEFzeW5jPXQoIi4vbG9hZCIpLGkuc3VwcG9ydD10KCIuL3N1cHBvcnQiKSxpLmRlZmF1bHRzPXQoIi4vZGVmYXVsdHMiKSxpLnZlcnNpb249IjMuNy4xIixpLmxvYWRBc3luYz1mdW5jdGlvbih0LGUpe3JldHVybihuZXcgaSkubG9hZEFzeW5jKHQsZSl9LGkuZXh0ZXJuYWw9dCgiLi9leHRlcm5hbCIpLGUuZXhwb3J0cz1pfSx7Ii4vZGVmYXVsdHMiOjUsIi4vZXh0ZXJuYWwiOjYsIi4vbG9hZCI6MTEsIi4vb2JqZWN0IjoxNSwiLi9zdXBwb3J0IjozMH1dLDExOltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBpPXQoIi4vdXRpbHMiKSxuPXQoIi4vZXh0ZXJuYWwiKSxvPXQoIi4vdXRmOCIpLGg9dCgiLi96aXBFbnRyaWVzIikscz10KCIuL3N0cmVhbS9DcmMzMlByb2JlIiksdT10KCIuL25vZGVqc1V0aWxzIik7ZnVuY3Rpb24gbChpKXtyZXR1cm4gbmV3IG4uUHJvbWlzZShmdW5jdGlvbih0LGUpe3ZhciByPWkuZGVjb21wcmVzc2VkLmdldENvbnRlbnRXb3JrZXIoKS5waXBlKG5ldyBzKTtyLm9uKCJlcnJvciIsZnVuY3Rpb24odCl7ZSh0KX0pLm9uKCJlbmQiLGZ1bmN0aW9uKCl7ci5zdHJlYW1JbmZvLmNyYzMyIT09aS5kZWNvbXByZXNzZWQuY3JjMzI/ZShuZXcgRXJyb3IoIkNvcnJ1cHRlZCB6aXAgOiBDUkMzMiBtaXNtYXRjaCIpKTp0KCl9KS5yZXN1bWUoKX0pfWUuZXhwb3J0cz1mdW5jdGlvbih0LHMpe3ZhciBhPXRoaXM7cmV0dXJuIHM9aS5leHRlbmQoc3x8e30se2Jhc2U2NDohMSxjaGVja0NSQzMyOiExLG9wdGltaXplZEJpbmFyeVN0cmluZzohMSxjcmVhdGVGb2xkZXJzOiExLGRlY29kZUZpbGVOYW1lOm8udXRmOGRlY29kZX0pLHUuaXNOb2RlJiZ1LmlzU3RyZWFtKHQpP24uUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCJKU1ppcCBjYW4ndCBhY2NlcHQgYSBzdHJlYW0gd2hlbiBsb2FkaW5nIGEgemlwIGZpbGUuIikpOmkucHJlcGFyZUNvbnRlbnQoInRoZSBsb2FkZWQgemlwIGZpbGUiLHQsITAscy5vcHRpbWl6ZWRCaW5hcnlTdHJpbmcscy5iYXNlNjQpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9bmV3IGgocyk7cmV0dXJuIGUubG9hZCh0KSxlfSkudGhlbihmdW5jdGlvbih0KXt2YXIgZT1bbi5Qcm9taXNlLnJlc29sdmUodCldLHI9dC5maWxlcztpZihzLmNoZWNrQ1JDMzIpZm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspZS5wdXNoKGwocltpXSkpO3JldHVybiBuLlByb21pc2UuYWxsKGUpfSkudGhlbihmdW5jdGlvbih0KXtmb3IodmFyIGU9dC5zaGlmdCgpLHI9ZS5maWxlcyxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBuPXJbaV07YS5maWxlKG4uZmlsZU5hbWVTdHIsbi5kZWNvbXByZXNzZWQse2JpbmFyeTohMCxvcHRpbWl6ZWRCaW5hcnlTdHJpbmc6ITAsZGF0ZTpuLmRhdGUsZGlyOm4uZGlyLGNvbW1lbnQ6bi5maWxlQ29tbWVudFN0ci5sZW5ndGg/bi5maWxlQ29tbWVudFN0cjpudWxsLHVuaXhQZXJtaXNzaW9uczpuLnVuaXhQZXJtaXNzaW9ucyxkb3NQZXJtaXNzaW9uczpuLmRvc1Blcm1pc3Npb25zLGNyZWF0ZUZvbGRlcnM6cy5jcmVhdGVGb2xkZXJzfSl9cmV0dXJuIGUuemlwQ29tbWVudC5sZW5ndGgmJihhLmNvbW1lbnQ9ZS56aXBDb21tZW50KSxhfSl9fSx7Ii4vZXh0ZXJuYWwiOjYsIi4vbm9kZWpzVXRpbHMiOjE0LCIuL3N0cmVhbS9DcmMzMlByb2JlIjoyNSwiLi91dGY4IjozMSwiLi91dGlscyI6MzIsIi4vemlwRW50cmllcyI6MzN9XSwxMjpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT10KCIuLi91dGlscyIpLG49dCgiLi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiKTtmdW5jdGlvbiBzKHQsZSl7bi5jYWxsKHRoaXMsIk5vZGVqcyBzdHJlYW0gaW5wdXQgYWRhcHRlciBmb3IgIit0KSx0aGlzLl91cHN0cmVhbUVuZGVkPSExLHRoaXMuX2JpbmRTdHJlYW0oZSl9aS5pbmhlcml0cyhzLG4pLHMucHJvdG90eXBlLl9iaW5kU3RyZWFtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7KHRoaXMuX3N0cmVhbT10KS5wYXVzZSgpLHQub24oImRhdGEiLGZ1bmN0aW9uKHQpe2UucHVzaCh7ZGF0YTp0LG1ldGE6e3BlcmNlbnQ6MH19KX0pLm9uKCJlcnJvciIsZnVuY3Rpb24odCl7ZS5pc1BhdXNlZD90aGlzLmdlbmVyYXRlZEVycm9yPXQ6ZS5lcnJvcih0KX0pLm9uKCJlbmQiLGZ1bmN0aW9uKCl7ZS5pc1BhdXNlZD9lLl91cHN0cmVhbUVuZGVkPSEwOmUuZW5kKCl9KX0scy5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4hIW4ucHJvdG90eXBlLnBhdXNlLmNhbGwodGhpcykmJih0aGlzLl9zdHJlYW0ucGF1c2UoKSwhMCl9LHMucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiEhbi5wcm90b3R5cGUucmVzdW1lLmNhbGwodGhpcykmJih0aGlzLl91cHN0cmVhbUVuZGVkP3RoaXMuZW5kKCk6dGhpcy5fc3RyZWFtLnJlc3VtZSgpLCEwKX0sZS5leHBvcnRzPXN9LHsiLi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiOjI4LCIuLi91dGlscyI6MzJ9XSwxMzpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj10KCJyZWFkYWJsZS1zdHJlYW0iKS5SZWFkYWJsZTtmdW5jdGlvbiBpKHQsZSxyKXtuLmNhbGwodGhpcyxlKSx0aGlzLl9oZWxwZXI9dDt2YXIgaT10aGlzO3Qub24oImRhdGEiLGZ1bmN0aW9uKHQsZSl7aS5wdXNoKHQpfHxpLl9oZWxwZXIucGF1c2UoKSxyJiZyKGUpfSkub24oImVycm9yIixmdW5jdGlvbih0KXtpLmVtaXQoImVycm9yIix0KX0pLm9uKCJlbmQiLGZ1bmN0aW9uKCl7aS5wdXNoKG51bGwpfSl9dCgiLi4vdXRpbHMiKS5pbmhlcml0cyhpLG4pLGkucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKCl7dGhpcy5faGVscGVyLnJlc3VtZSgpfSxlLmV4cG9ydHM9aX0seyIuLi91dGlscyI6MzIsInJlYWRhYmxlLXN0cmVhbSI6MTZ9XSwxNDpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9e2lzTm9kZToidW5kZWZpbmVkIiE9dHlwZW9mIEJ1ZmZlcixuZXdCdWZmZXJGcm9tOmZ1bmN0aW9uKHQsZSl7aWYoQnVmZmVyLmZyb20mJkJ1ZmZlci5mcm9tIT09VWludDhBcnJheS5mcm9tKXJldHVybiBCdWZmZXIuZnJvbSh0LGUpO2lmKCJudW1iZXIiPT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoJ1RoZSAiZGF0YSIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKTtyZXR1cm4gbmV3IEJ1ZmZlcih0LGUpfSxhbGxvY0J1ZmZlcjpmdW5jdGlvbih0KXtpZihCdWZmZXIuYWxsb2MpcmV0dXJuIEJ1ZmZlci5hbGxvYyh0KTt2YXIgZT1uZXcgQnVmZmVyKHQpO3JldHVybiBlLmZpbGwoMCksZX0saXNCdWZmZXI6ZnVuY3Rpb24odCl7cmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcih0KX0saXNTdHJlYW06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB0Lm9uJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5wYXVzZSYmImZ1bmN0aW9uIj09dHlwZW9mIHQucmVzdW1lfX19LHt9XSwxNTpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBzKHQsZSxyKXt2YXIgaSxuPXUuZ2V0VHlwZU9mKGUpLHM9dS5leHRlbmQocnx8e30sZik7cy5kYXRlPXMuZGF0ZXx8bmV3IERhdGUsbnVsbCE9PXMuY29tcHJlc3Npb24mJihzLmNvbXByZXNzaW9uPXMuY29tcHJlc3Npb24udG9VcHBlckNhc2UoKSksInN0cmluZyI9PXR5cGVvZiBzLnVuaXhQZXJtaXNzaW9ucyYmKHMudW5peFBlcm1pc3Npb25zPXBhcnNlSW50KHMudW5peFBlcm1pc3Npb25zLDgpKSxzLnVuaXhQZXJtaXNzaW9ucyYmMTYzODQmcy51bml4UGVybWlzc2lvbnMmJihzLmRpcj0hMCkscy5kb3NQZXJtaXNzaW9ucyYmMTYmcy5kb3NQZXJtaXNzaW9ucyYmKHMuZGlyPSEwKSxzLmRpciYmKHQ9Zyh0KSkscy5jcmVhdGVGb2xkZXJzJiYoaT1fKHQpKSYmYi5jYWxsKHRoaXMsaSwhMCk7dmFyIGE9InN0cmluZyI9PT1uJiYhMT09PXMuYmluYXJ5JiYhMT09PXMuYmFzZTY0O3ImJnZvaWQgMCE9PXIuYmluYXJ5fHwocy5iaW5hcnk9IWEpLChlIGluc3RhbmNlb2YgZCYmMD09PWUudW5jb21wcmVzc2VkU2l6ZXx8cy5kaXJ8fCFlfHwwPT09ZS5sZW5ndGgpJiYocy5iYXNlNjQ9ITEscy5iaW5hcnk9ITAsZT0iIixzLmNvbXByZXNzaW9uPSJTVE9SRSIsbj0ic3RyaW5nIik7dmFyIG89bnVsbDtvPWUgaW5zdGFuY2VvZiBkfHxlIGluc3RhbmNlb2YgbD9lOnAuaXNOb2RlJiZwLmlzU3RyZWFtKGUpP25ldyBtKHQsZSk6dS5wcmVwYXJlQ29udGVudCh0LGUscy5iaW5hcnkscy5vcHRpbWl6ZWRCaW5hcnlTdHJpbmcscy5iYXNlNjQpO3ZhciBoPW5ldyBjKHQsbyxzKTt0aGlzLmZpbGVzW3RdPWh9dmFyIG49dCgiLi91dGY4IiksdT10KCIuL3V0aWxzIiksbD10KCIuL3N0cmVhbS9HZW5lcmljV29ya2VyIiksYT10KCIuL3N0cmVhbS9TdHJlYW1IZWxwZXIiKSxmPXQoIi4vZGVmYXVsdHMiKSxkPXQoIi4vY29tcHJlc3NlZE9iamVjdCIpLGM9dCgiLi96aXBPYmplY3QiKSxvPXQoIi4vZ2VuZXJhdGUiKSxwPXQoIi4vbm9kZWpzVXRpbHMiKSxtPXQoIi4vbm9kZWpzL05vZGVqc1N0cmVhbUlucHV0QWRhcHRlciIpLF89ZnVuY3Rpb24odCl7Ii8iPT09dC5zbGljZSgtMSkmJih0PXQuc3Vic3RyaW5nKDAsdC5sZW5ndGgtMSkpO3ZhciBlPXQubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gMDxlP3Quc3Vic3RyaW5nKDAsZSk6IiJ9LGc9ZnVuY3Rpb24odCl7cmV0dXJuIi8iIT09dC5zbGljZSgtMSkmJih0Kz0iLyIpLHR9LGI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT12b2lkIDAhPT1lP2U6Zi5jcmVhdGVGb2xkZXJzLHQ9Zyh0KSx0aGlzLmZpbGVzW3RdfHxzLmNhbGwodGhpcyx0LG51bGwse2RpcjohMCxjcmVhdGVGb2xkZXJzOmV9KSx0aGlzLmZpbGVzW3RdfTtmdW5jdGlvbiBoKHQpe3JldHVybiJbb2JqZWN0IFJlZ0V4cF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfXZhciBpPXtsb2FkOmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJUaGlzIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLiIpfSxmb3JFYWNoOmZ1bmN0aW9uKHQpe3ZhciBlLHIsaTtmb3IoZSBpbiB0aGlzLmZpbGVzKWk9dGhpcy5maWxlc1tlXSwocj1lLnNsaWNlKHRoaXMucm9vdC5sZW5ndGgsZS5sZW5ndGgpKSYmZS5zbGljZSgwLHRoaXMucm9vdC5sZW5ndGgpPT09dGhpcy5yb290JiZ0KHIsaSl9LGZpbHRlcjpmdW5jdGlvbihyKXt2YXIgaT1bXTtyZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7cih0LGUpJiZpLnB1c2goZSl9KSxpfSxmaWxlOmZ1bmN0aW9uKHQsZSxyKXtpZigxIT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdD10aGlzLnJvb3QrdCxzLmNhbGwodGhpcyx0LGUsciksdGhpcztpZihoKHQpKXt2YXIgaT10O3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbih0LGUpe3JldHVybiFlLmRpciYmaS50ZXN0KHQpfSl9dmFyIG49dGhpcy5maWxlc1t0aGlzLnJvb3QrdF07cmV0dXJuIG4mJiFuLmRpcj9uOm51bGx9LGZvbGRlcjpmdW5jdGlvbihyKXtpZighcilyZXR1cm4gdGhpcztpZihoKHIpKXJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbih0LGUpe3JldHVybiBlLmRpciYmci50ZXN0KHQpfSk7dmFyIHQ9dGhpcy5yb290K3IsZT1iLmNhbGwodGhpcyx0KSxpPXRoaXMuY2xvbmUoKTtyZXR1cm4gaS5yb290PWUubmFtZSxpfSxyZW1vdmU6ZnVuY3Rpb24ocil7cj10aGlzLnJvb3Qrcjt2YXIgdD10aGlzLmZpbGVzW3JdO2lmKHR8fCgiLyIhPT1yLnNsaWNlKC0xKSYmKHIrPSIvIiksdD10aGlzLmZpbGVzW3JdKSx0JiYhdC5kaXIpZGVsZXRlIHRoaXMuZmlsZXNbcl07ZWxzZSBmb3IodmFyIGU9dGhpcy5maWx0ZXIoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5uYW1lLnNsaWNlKDAsci5sZW5ndGgpPT09cn0pLGk9MDtpPGUubGVuZ3RoO2krKylkZWxldGUgdGhpcy5maWxlc1tlW2ldLm5hbWVdO3JldHVybiB0aGlzfSxnZW5lcmF0ZTpmdW5jdGlvbih0KXt0aHJvdyBuZXcgRXJyb3IoIlRoaXMgbWV0aG9kIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuIil9LGdlbmVyYXRlSW50ZXJuYWxTdHJlYW06ZnVuY3Rpb24odCl7dmFyIGUscj17fTt0cnl7aWYoKHI9dS5leHRlbmQodHx8e30se3N0cmVhbUZpbGVzOiExLGNvbXByZXNzaW9uOiJTVE9SRSIsY29tcHJlc3Npb25PcHRpb25zOm51bGwsdHlwZToiIixwbGF0Zm9ybToiRE9TIixjb21tZW50Om51bGwsbWltZVR5cGU6ImFwcGxpY2F0aW9uL3ppcCIsZW5jb2RlRmlsZU5hbWU6bi51dGY4ZW5jb2RlfSkpLnR5cGU9ci50eXBlLnRvTG93ZXJDYXNlKCksci5jb21wcmVzc2lvbj1yLmNvbXByZXNzaW9uLnRvVXBwZXJDYXNlKCksImJpbmFyeXN0cmluZyI9PT1yLnR5cGUmJihyLnR5cGU9InN0cmluZyIpLCFyLnR5cGUpdGhyb3cgbmV3IEVycm9yKCJObyBvdXRwdXQgdHlwZSBzcGVjaWZpZWQuIik7dS5jaGVja1N1cHBvcnQoci50eXBlKSwiZGFyd2luIiE9PXIucGxhdGZvcm0mJiJmcmVlYnNkIiE9PXIucGxhdGZvcm0mJiJsaW51eCIhPT1yLnBsYXRmb3JtJiYic3Vub3MiIT09ci5wbGF0Zm9ybXx8KHIucGxhdGZvcm09IlVOSVgiKSwid2luMzIiPT09ci5wbGF0Zm9ybSYmKHIucGxhdGZvcm09IkRPUyIpO3ZhciBpPXIuY29tbWVudHx8dGhpcy5jb21tZW50fHwiIjtlPW8uZ2VuZXJhdGVXb3JrZXIodGhpcyxyLGkpfWNhdGNoKHQpeyhlPW5ldyBsKCJlcnJvciIpKS5lcnJvcih0KX1yZXR1cm4gbmV3IGEoZSxyLnR5cGV8fCJzdHJpbmciLHIubWltZVR5cGUpfSxnZW5lcmF0ZUFzeW5jOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVJbnRlcm5hbFN0cmVhbSh0KS5hY2N1bXVsYXRlKGUpfSxnZW5lcmF0ZU5vZGVTdHJlYW06ZnVuY3Rpb24odCxlKXtyZXR1cm4odD10fHx7fSkudHlwZXx8KHQudHlwZT0ibm9kZWJ1ZmZlciIpLHRoaXMuZ2VuZXJhdGVJbnRlcm5hbFN0cmVhbSh0KS50b05vZGVqc1N0cmVhbShlKX19O2UuZXhwb3J0cz1pfSx7Ii4vY29tcHJlc3NlZE9iamVjdCI6MiwiLi9kZWZhdWx0cyI6NSwiLi9nZW5lcmF0ZSI6OSwiLi9ub2RlanMvTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyIjoxMiwiLi9ub2RlanNVdGlscyI6MTQsIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiOjI4LCIuL3N0cmVhbS9TdHJlYW1IZWxwZXIiOjI5LCIuL3V0ZjgiOjMxLCIuL3V0aWxzIjozMiwiLi96aXBPYmplY3QiOjM1fV0sMTY6W2Z1bmN0aW9uKHQsZSxyKXtlLmV4cG9ydHM9dCgic3RyZWFtIil9LHtzdHJlYW06dm9pZCAwfV0sMTc6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi9EYXRhUmVhZGVyIik7ZnVuY3Rpb24gbih0KXtpLmNhbGwodGhpcyx0KTtmb3IodmFyIGU9MDtlPHRoaXMuZGF0YS5sZW5ndGg7ZSsrKXRbZV09MjU1JnRbZV19dCgiLi4vdXRpbHMiKS5pbmhlcml0cyhuLGkpLG4ucHJvdG90eXBlLmJ5dGVBdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhW3RoaXMuemVybyt0XX0sbi5wcm90b3R5cGUubGFzdEluZGV4T2ZTaWduYXR1cmU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQuY2hhckNvZGVBdCgwKSxyPXQuY2hhckNvZGVBdCgxKSxpPXQuY2hhckNvZGVBdCgyKSxuPXQuY2hhckNvZGVBdCgzKSxzPXRoaXMubGVuZ3RoLTQ7MDw9czstLXMpaWYodGhpcy5kYXRhW3NdPT09ZSYmdGhpcy5kYXRhW3MrMV09PT1yJiZ0aGlzLmRhdGFbcysyXT09PWkmJnRoaXMuZGF0YVtzKzNdPT09bilyZXR1cm4gcy10aGlzLnplcm87cmV0dXJuLTF9LG4ucHJvdG90eXBlLnJlYWRBbmRDaGVja1NpZ25hdHVyZT1mdW5jdGlvbih0KXt2YXIgZT10LmNoYXJDb2RlQXQoMCkscj10LmNoYXJDb2RlQXQoMSksaT10LmNoYXJDb2RlQXQoMiksbj10LmNoYXJDb2RlQXQoMykscz10aGlzLnJlYWREYXRhKDQpO3JldHVybiBlPT09c1swXSYmcj09PXNbMV0mJmk9PT1zWzJdJiZuPT09c1szXX0sbi5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24odCl7aWYodGhpcy5jaGVja09mZnNldCh0KSwwPT09dClyZXR1cm5bXTt2YXIgZT10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrdCk7cmV0dXJuIHRoaXMuaW5kZXgrPXQsZX0sZS5leHBvcnRzPW59LHsiLi4vdXRpbHMiOjMyLCIuL0RhdGFSZWFkZXIiOjE4fV0sMTg6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi4vdXRpbHMiKTtmdW5jdGlvbiBuKHQpe3RoaXMuZGF0YT10LHRoaXMubGVuZ3RoPXQubGVuZ3RoLHRoaXMuaW5kZXg9MCx0aGlzLnplcm89MH1uLnByb3RvdHlwZT17Y2hlY2tPZmZzZXQ6ZnVuY3Rpb24odCl7dGhpcy5jaGVja0luZGV4KHRoaXMuaW5kZXgrdCl9LGNoZWNrSW5kZXg6ZnVuY3Rpb24odCl7aWYodGhpcy5sZW5ndGg8dGhpcy56ZXJvK3R8fHQ8MCl0aHJvdyBuZXcgRXJyb3IoIkVuZCBvZiBkYXRhIHJlYWNoZWQgKGRhdGEgbGVuZ3RoID0gIit0aGlzLmxlbmd0aCsiLCBhc2tlZCBpbmRleCA9ICIrdCsiKS4gQ29ycnVwdGVkIHppcCA/Iil9LHNldEluZGV4OmZ1bmN0aW9uKHQpe3RoaXMuY2hlY2tJbmRleCh0KSx0aGlzLmluZGV4PXR9LHNraXA6ZnVuY3Rpb24odCl7dGhpcy5zZXRJbmRleCh0aGlzLmluZGV4K3QpfSxieXRlQXQ6ZnVuY3Rpb24odCl7fSxyZWFkSW50OmZ1bmN0aW9uKHQpe3ZhciBlLHI9MDtmb3IodGhpcy5jaGVja09mZnNldCh0KSxlPXRoaXMuaW5kZXgrdC0xO2U+PXRoaXMuaW5kZXg7ZS0tKXI9KHI8PDgpK3RoaXMuYnl0ZUF0KGUpO3JldHVybiB0aGlzLmluZGV4Kz10LHJ9LHJlYWRTdHJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuIGkudHJhbnNmb3JtVG8oInN0cmluZyIsdGhpcy5yZWFkRGF0YSh0KSl9LHJlYWREYXRhOmZ1bmN0aW9uKHQpe30sbGFzdEluZGV4T2ZTaWduYXR1cmU6ZnVuY3Rpb24odCl7fSxyZWFkQW5kQ2hlY2tTaWduYXR1cmU6ZnVuY3Rpb24odCl7fSxyZWFkRGF0ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMucmVhZEludCg0KTtyZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoMTk4MCsodD4+MjUmMTI3KSwodD4+MjEmMTUpLTEsdD4+MTYmMzEsdD4+MTEmMzEsdD4+NSY2MywoMzEmdCk8PDEpKX19LGUuZXhwb3J0cz1ufSx7Ii4uL3V0aWxzIjozMn1dLDE5OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBpPXQoIi4vVWludDhBcnJheVJlYWRlciIpO2Z1bmN0aW9uIG4odCl7aS5jYWxsKHRoaXMsdCl9dCgiLi4vdXRpbHMiKS5pbmhlcml0cyhuLGkpLG4ucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHQpe3RoaXMuY2hlY2tPZmZzZXQodCk7dmFyIGU9dGhpcy5kYXRhLnNsaWNlKHRoaXMuemVybyt0aGlzLmluZGV4LHRoaXMuemVybyt0aGlzLmluZGV4K3QpO3JldHVybiB0aGlzLmluZGV4Kz10LGV9LGUuZXhwb3J0cz1ufSx7Ii4uL3V0aWxzIjozMiwiLi9VaW50OEFycmF5UmVhZGVyIjoyMX1dLDIwOltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBpPXQoIi4vRGF0YVJlYWRlciIpO2Z1bmN0aW9uIG4odCl7aS5jYWxsKHRoaXMsdCl9dCgiLi4vdXRpbHMiKS5pbmhlcml0cyhuLGkpLG4ucHJvdG90eXBlLmJ5dGVBdD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmNoYXJDb2RlQXQodGhpcy56ZXJvK3QpfSxuLnByb3RvdHlwZS5sYXN0SW5kZXhPZlNpZ25hdHVyZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kYXRhLmxhc3RJbmRleE9mKHQpLXRoaXMuemVyb30sbi5wcm90b3R5cGUucmVhZEFuZENoZWNrU2lnbmF0dXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dGhpcy5yZWFkRGF0YSg0KX0sbi5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24odCl7dGhpcy5jaGVja09mZnNldCh0KTt2YXIgZT10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrdCk7cmV0dXJuIHRoaXMuaW5kZXgrPXQsZX0sZS5leHBvcnRzPW59LHsiLi4vdXRpbHMiOjMyLCIuL0RhdGFSZWFkZXIiOjE4fV0sMjE6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi9BcnJheVJlYWRlciIpO2Z1bmN0aW9uIG4odCl7aS5jYWxsKHRoaXMsdCl9dCgiLi4vdXRpbHMiKS5pbmhlcml0cyhuLGkpLG4ucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHQpe2lmKHRoaXMuY2hlY2tPZmZzZXQodCksMD09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO3ZhciBlPXRoaXMuZGF0YS5zdWJhcnJheSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCt0KTtyZXR1cm4gdGhpcy5pbmRleCs9dCxlfSxlLmV4cG9ydHM9bn0seyIuLi91dGlscyI6MzIsIi4vQXJyYXlSZWFkZXIiOjE3fV0sMjI6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi4vdXRpbHMiKSxuPXQoIi4uL3N1cHBvcnQiKSxzPXQoIi4vQXJyYXlSZWFkZXIiKSxhPXQoIi4vU3RyaW5nUmVhZGVyIiksbz10KCIuL05vZGVCdWZmZXJSZWFkZXIiKSxoPXQoIi4vVWludDhBcnJheVJlYWRlciIpO2UuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1pLmdldFR5cGVPZih0KTtyZXR1cm4gaS5jaGVja1N1cHBvcnQoZSksInN0cmluZyIhPT1lfHxuLnVpbnQ4YXJyYXk/Im5vZGVidWZmZXIiPT09ZT9uZXcgbyh0KTpuLnVpbnQ4YXJyYXk/bmV3IGgoaS50cmFuc2Zvcm1UbygidWludDhhcnJheSIsdCkpOm5ldyBzKGkudHJhbnNmb3JtVG8oImFycmF5Iix0KSk6bmV3IGEodCl9fSx7Ii4uL3N1cHBvcnQiOjMwLCIuLi91dGlscyI6MzIsIi4vQXJyYXlSZWFkZXIiOjE3LCIuL05vZGVCdWZmZXJSZWFkZXIiOjE5LCIuL1N0cmluZ1JlYWRlciI6MjAsIi4vVWludDhBcnJheVJlYWRlciI6MjF9XSwyMzpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtyLkxPQ0FMX0ZJTEVfSEVBREVSPSJQSwMEIixyLkNFTlRSQUxfRklMRV9IRUFERVI9IlBLAQIiLHIuQ0VOVFJBTF9ESVJFQ1RPUllfRU5EPSJQSwUGIixyLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0xPQ0FUT1I9IlBLBgciLHIuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EPSJQSwYGIixyLkRBVEFfREVTQ1JJUFRPUj0iUEsHXGIifSx7fV0sMjQ6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi9HZW5lcmljV29ya2VyIiksbj10KCIuLi91dGlscyIpO2Z1bmN0aW9uIHModCl7aS5jYWxsKHRoaXMsIkNvbnZlcnRXb3JrZXIgdG8gIit0KSx0aGlzLmRlc3RUeXBlPXR9bi5pbmhlcml0cyhzLGkpLHMucHJvdG90eXBlLnByb2Nlc3NDaHVuaz1mdW5jdGlvbih0KXt0aGlzLnB1c2goe2RhdGE6bi50cmFuc2Zvcm1Ubyh0aGlzLmRlc3RUeXBlLHQuZGF0YSksbWV0YTp0Lm1ldGF9KX0sZS5leHBvcnRzPXN9LHsiLi4vdXRpbHMiOjMyLCIuL0dlbmVyaWNXb3JrZXIiOjI4fV0sMjU6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi9HZW5lcmljV29ya2VyIiksbj10KCIuLi9jcmMzMiIpO2Z1bmN0aW9uIHMoKXtpLmNhbGwodGhpcywiQ3JjMzJQcm9iZSIpLHRoaXMud2l0aFN0cmVhbUluZm8oImNyYzMyIiwwKX10KCIuLi91dGlscyIpLmluaGVyaXRzKHMsaSkscy5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKHQpe3RoaXMuc3RyZWFtSW5mby5jcmMzMj1uKHQuZGF0YSx0aGlzLnN0cmVhbUluZm8uY3JjMzJ8fDApLHRoaXMucHVzaCh0KX0sZS5leHBvcnRzPXN9LHsiLi4vY3JjMzIiOjQsIi4uL3V0aWxzIjozMiwiLi9HZW5lcmljV29ya2VyIjoyOH1dLDI2OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBpPXQoIi4uL3V0aWxzIiksbj10KCIuL0dlbmVyaWNXb3JrZXIiKTtmdW5jdGlvbiBzKHQpe24uY2FsbCh0aGlzLCJEYXRhTGVuZ3RoUHJvYmUgZm9yICIrdCksdGhpcy5wcm9wTmFtZT10LHRoaXMud2l0aFN0cmVhbUluZm8odCwwKX1pLmluaGVyaXRzKHMsbikscy5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXRoaXMuc3RyZWFtSW5mb1t0aGlzLnByb3BOYW1lXXx8MDt0aGlzLnN0cmVhbUluZm9bdGhpcy5wcm9wTmFtZV09ZSt0LmRhdGEubGVuZ3RofW4ucHJvdG90eXBlLnByb2Nlc3NDaHVuay5jYWxsKHRoaXMsdCl9LGUuZXhwb3J0cz1zfSx7Ii4uL3V0aWxzIjozMiwiLi9HZW5lcmljV29ya2VyIjoyOH1dLDI3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBpPXQoIi4uL3V0aWxzIiksbj10KCIuL0dlbmVyaWNXb3JrZXIiKTtmdW5jdGlvbiBzKHQpe24uY2FsbCh0aGlzLCJEYXRhV29ya2VyIik7dmFyIGU9dGhpczt0aGlzLmRhdGFJc1JlYWR5PSExLHRoaXMuaW5kZXg9MCx0aGlzLm1heD0wLHRoaXMuZGF0YT1udWxsLHRoaXMudHlwZT0iIix0aGlzLl90aWNrU2NoZWR1bGVkPSExLHQudGhlbihmdW5jdGlvbih0KXtlLmRhdGFJc1JlYWR5PSEwLGUuZGF0YT10LGUubWF4PXQmJnQubGVuZ3RofHwwLGUudHlwZT1pLmdldFR5cGVPZih0KSxlLmlzUGF1c2VkfHxlLl90aWNrQW5kUmVwZWF0KCl9LGZ1bmN0aW9uKHQpe2UuZXJyb3IodCl9KX1pLmluaGVyaXRzKHMsbikscy5wcm90b3R5cGUuY2xlYW5VcD1mdW5jdGlvbigpe24ucHJvdG90eXBlLmNsZWFuVXAuY2FsbCh0aGlzKSx0aGlzLmRhdGE9bnVsbH0scy5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7cmV0dXJuISFuLnByb3RvdHlwZS5yZXN1bWUuY2FsbCh0aGlzKSYmKCF0aGlzLl90aWNrU2NoZWR1bGVkJiZ0aGlzLmRhdGFJc1JlYWR5JiYodGhpcy5fdGlja1NjaGVkdWxlZD0hMCxpLmRlbGF5KHRoaXMuX3RpY2tBbmRSZXBlYXQsW10sdGhpcykpLCEwKX0scy5wcm90b3R5cGUuX3RpY2tBbmRSZXBlYXQ9ZnVuY3Rpb24oKXt0aGlzLl90aWNrU2NoZWR1bGVkPSExLHRoaXMuaXNQYXVzZWR8fHRoaXMuaXNGaW5pc2hlZHx8KHRoaXMuX3RpY2soKSx0aGlzLmlzRmluaXNoZWR8fChpLmRlbGF5KHRoaXMuX3RpY2tBbmRSZXBlYXQsW10sdGhpcyksdGhpcy5fdGlja1NjaGVkdWxlZD0hMCkpfSxzLnByb3RvdHlwZS5fdGljaz1mdW5jdGlvbigpe2lmKHRoaXMuaXNQYXVzZWR8fHRoaXMuaXNGaW5pc2hlZClyZXR1cm4hMTt2YXIgdD1udWxsLGU9TWF0aC5taW4odGhpcy5tYXgsdGhpcy5pbmRleCsxNjM4NCk7aWYodGhpcy5pbmRleD49dGhpcy5tYXgpcmV0dXJuIHRoaXMuZW5kKCk7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSJzdHJpbmciOnQ9dGhpcy5kYXRhLnN1YnN0cmluZyh0aGlzLmluZGV4LGUpO2JyZWFrO2Nhc2UidWludDhhcnJheSI6dD10aGlzLmRhdGEuc3ViYXJyYXkodGhpcy5pbmRleCxlKTticmVhaztjYXNlImFycmF5IjpjYXNlIm5vZGVidWZmZXIiOnQ9dGhpcy5kYXRhLnNsaWNlKHRoaXMuaW5kZXgsZSl9cmV0dXJuIHRoaXMuaW5kZXg9ZSx0aGlzLnB1c2goe2RhdGE6dCxtZXRhOntwZXJjZW50OnRoaXMubWF4P3RoaXMuaW5kZXgvdGhpcy5tYXgqMTAwOjB9fSl9LGUuZXhwb3J0cz1zfSx7Ii4uL3V0aWxzIjozMiwiLi9HZW5lcmljV29ya2VyIjoyOH1dLDI4OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkodCl7dGhpcy5uYW1lPXR8fCJkZWZhdWx0Iix0aGlzLnN0cmVhbUluZm89e30sdGhpcy5nZW5lcmF0ZWRFcnJvcj1udWxsLHRoaXMuZXh0cmFTdHJlYW1JbmZvPXt9LHRoaXMuaXNQYXVzZWQ9ITAsdGhpcy5pc0ZpbmlzaGVkPSExLHRoaXMuaXNMb2NrZWQ9ITEsdGhpcy5fbGlzdGVuZXJzPXtkYXRhOltdLGVuZDpbXSxlcnJvcjpbXX0sdGhpcy5wcmV2aW91cz1udWxsfWkucHJvdG90eXBlPXtwdXNoOmZ1bmN0aW9uKHQpe3RoaXMuZW1pdCgiZGF0YSIsdCl9LGVuZDpmdW5jdGlvbigpe2lmKHRoaXMuaXNGaW5pc2hlZClyZXR1cm4hMTt0aGlzLmZsdXNoKCk7dHJ5e3RoaXMuZW1pdCgiZW5kIiksdGhpcy5jbGVhblVwKCksdGhpcy5pc0ZpbmlzaGVkPSEwfWNhdGNoKHQpe3RoaXMuZW1pdCgiZXJyb3IiLHQpfXJldHVybiEwfSxlcnJvcjpmdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5pc0ZpbmlzaGVkJiYodGhpcy5pc1BhdXNlZD90aGlzLmdlbmVyYXRlZEVycm9yPXQ6KHRoaXMuaXNGaW5pc2hlZD0hMCx0aGlzLmVtaXQoImVycm9yIix0KSx0aGlzLnByZXZpb3VzJiZ0aGlzLnByZXZpb3VzLmVycm9yKHQpLHRoaXMuY2xlYW5VcCgpKSwhMCl9LG9uOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2xpc3RlbmVyc1t0XS5wdXNoKGUpLHRoaXN9LGNsZWFuVXA6ZnVuY3Rpb24oKXt0aGlzLnN0cmVhbUluZm89dGhpcy5nZW5lcmF0ZWRFcnJvcj10aGlzLmV4dHJhU3RyZWFtSW5mbz1udWxsLHRoaXMuX2xpc3RlbmVycz1bXX0sZW1pdDpmdW5jdGlvbih0LGUpe2lmKHRoaXMuX2xpc3RlbmVyc1t0XSlmb3IodmFyIHI9MDtyPHRoaXMuX2xpc3RlbmVyc1t0XS5sZW5ndGg7cisrKXRoaXMuX2xpc3RlbmVyc1t0XVtyXS5jYWxsKHRoaXMsZSl9LHBpcGU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVnaXN0ZXJQcmV2aW91cyh0aGlzKX0scmVnaXN0ZXJQcmV2aW91czpmdW5jdGlvbih0KXtpZih0aGlzLmlzTG9ja2VkKXRocm93IG5ldyBFcnJvcigiVGhlIHN0cmVhbSAnIit0aGlzKyInIGhhcyBhbHJlYWR5IGJlZW4gdXNlZC4iKTt0aGlzLnN0cmVhbUluZm89dC5zdHJlYW1JbmZvLHRoaXMubWVyZ2VTdHJlYW1JbmZvKCksdGhpcy5wcmV2aW91cz10O3ZhciBlPXRoaXM7cmV0dXJuIHQub24oImRhdGEiLGZ1bmN0aW9uKHQpe2UucHJvY2Vzc0NodW5rKHQpfSksdC5vbigiZW5kIixmdW5jdGlvbigpe2UuZW5kKCl9KSx0Lm9uKCJlcnJvciIsZnVuY3Rpb24odCl7ZS5lcnJvcih0KX0pLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNQYXVzZWQmJiF0aGlzLmlzRmluaXNoZWQmJih0aGlzLmlzUGF1c2VkPSEwLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMucGF1c2UoKSwhMCl9LHJlc3VtZTpmdW5jdGlvbigpe2lmKCF0aGlzLmlzUGF1c2VkfHx0aGlzLmlzRmluaXNoZWQpcmV0dXJuITE7dmFyIHQ9dGhpcy5pc1BhdXNlZD0hMTtyZXR1cm4gdGhpcy5nZW5lcmF0ZWRFcnJvciYmKHRoaXMuZXJyb3IodGhpcy5nZW5lcmF0ZWRFcnJvciksdD0hMCksdGhpcy5wcmV2aW91cyYmdGhpcy5wcmV2aW91cy5yZXN1bWUoKSwhdH0sZmx1c2g6ZnVuY3Rpb24oKXt9LHByb2Nlc3NDaHVuazpmdW5jdGlvbih0KXt0aGlzLnB1c2godCl9LHdpdGhTdHJlYW1JbmZvOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZXh0cmFTdHJlYW1JbmZvW3RdPWUsdGhpcy5tZXJnZVN0cmVhbUluZm8oKSx0aGlzfSxtZXJnZVN0cmVhbUluZm86ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gdGhpcy5leHRyYVN0cmVhbUluZm8pdGhpcy5leHRyYVN0cmVhbUluZm8uaGFzT3duUHJvcGVydHkodCkmJih0aGlzLnN0cmVhbUluZm9bdF09dGhpcy5leHRyYVN0cmVhbUluZm9bdF0pfSxsb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0xvY2tlZCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzdHJlYW0gJyIrdGhpcysiJyBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuIik7dGhpcy5pc0xvY2tlZD0hMCx0aGlzLnByZXZpb3VzJiZ0aGlzLnByZXZpb3VzLmxvY2soKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgdD0iV29ya2VyICIrdGhpcy5uYW1lO3JldHVybiB0aGlzLnByZXZpb3VzP3RoaXMucHJldmlvdXMrIiAtPiAiK3Q6dH19LGUuZXhwb3J0cz1pfSx7fV0sMjk6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGg9dCgiLi4vdXRpbHMiKSxuPXQoIi4vQ29udmVydFdvcmtlciIpLHM9dCgiLi9HZW5lcmljV29ya2VyIiksdT10KCIuLi9iYXNlNjQiKSxpPXQoIi4uL3N1cHBvcnQiKSxhPXQoIi4uL2V4dGVybmFsIiksbz1udWxsO2lmKGkubm9kZXN0cmVhbSl0cnl7bz10KCIuLi9ub2RlanMvTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlciIpfWNhdGNoKHQpe31mdW5jdGlvbiBsKHQsbyl7cmV0dXJuIG5ldyBhLlByb21pc2UoZnVuY3Rpb24oZSxyKXt2YXIgaT1bXSxuPXQuX2ludGVybmFsVHlwZSxzPXQuX291dHB1dFR5cGUsYT10Ll9taW1lVHlwZTt0Lm9uKCJkYXRhIixmdW5jdGlvbih0LGUpe2kucHVzaCh0KSxvJiZvKGUpfSkub24oImVycm9yIixmdW5jdGlvbih0KXtpPVtdLHIodCl9KS5vbigiZW5kIixmdW5jdGlvbigpe3RyeXt2YXIgdD1mdW5jdGlvbih0LGUscil7c3dpdGNoKHQpe2Nhc2UiYmxvYiI6cmV0dXJuIGgubmV3QmxvYihoLnRyYW5zZm9ybVRvKCJhcnJheWJ1ZmZlciIsZSkscik7Y2FzZSJiYXNlNjQiOnJldHVybiB1LmVuY29kZShlKTtkZWZhdWx0OnJldHVybiBoLnRyYW5zZm9ybVRvKHQsZSl9fShzLGZ1bmN0aW9uKHQsZSl7dmFyIHIsaT0wLG49bnVsbCxzPTA7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKylzKz1lW3JdLmxlbmd0aDtzd2l0Y2godCl7Y2FzZSJzdHJpbmciOnJldHVybiBlLmpvaW4oIiIpO2Nhc2UiYXJyYXkiOnJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLGUpO2Nhc2UidWludDhhcnJheSI6Zm9yKG49bmV3IFVpbnQ4QXJyYXkocykscj0wO3I8ZS5sZW5ndGg7cisrKW4uc2V0KGVbcl0saSksaSs9ZVtyXS5sZW5ndGg7cmV0dXJuIG47Y2FzZSJub2RlYnVmZmVyIjpyZXR1cm4gQnVmZmVyLmNvbmNhdChlKTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiY29uY2F0IDogdW5zdXBwb3J0ZWQgdHlwZSAnIit0KyInIil9fShuLGkpLGEpO2UodCl9Y2F0Y2godCl7cih0KX1pPVtdfSkucmVzdW1lKCl9KX1mdW5jdGlvbiBmKHQsZSxyKXt2YXIgaT1lO3N3aXRjaChlKXtjYXNlImJsb2IiOmNhc2UiYXJyYXlidWZmZXIiOmk9InVpbnQ4YXJyYXkiO2JyZWFrO2Nhc2UiYmFzZTY0IjppPSJzdHJpbmcifXRyeXt0aGlzLl9pbnRlcm5hbFR5cGU9aSx0aGlzLl9vdXRwdXRUeXBlPWUsdGhpcy5fbWltZVR5cGU9cixoLmNoZWNrU3VwcG9ydChpKSx0aGlzLl93b3JrZXI9dC5waXBlKG5ldyBuKGkpKSx0LmxvY2soKX1jYXRjaCh0KXt0aGlzLl93b3JrZXI9bmV3IHMoImVycm9yIiksdGhpcy5fd29ya2VyLmVycm9yKHQpfX1mLnByb3RvdHlwZT17YWNjdW11bGF0ZTpmdW5jdGlvbih0KXtyZXR1cm4gbCh0aGlzLHQpfSxvbjpmdW5jdGlvbih0LGUpe3ZhciByPXRoaXM7cmV0dXJuImRhdGEiPT09dD90aGlzLl93b3JrZXIub24odCxmdW5jdGlvbih0KXtlLmNhbGwocix0LmRhdGEsdC5tZXRhKX0pOnRoaXMuX3dvcmtlci5vbih0LGZ1bmN0aW9uKCl7aC5kZWxheShlLGFyZ3VtZW50cyxyKX0pLHRoaXN9LHJlc3VtZTpmdW5jdGlvbigpe3JldHVybiBoLmRlbGF5KHRoaXMuX3dvcmtlci5yZXN1bWUsW10sdGhpcy5fd29ya2VyKSx0aGlzfSxwYXVzZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93b3JrZXIucGF1c2UoKSx0aGlzfSx0b05vZGVqc1N0cmVhbTpmdW5jdGlvbih0KXtpZihoLmNoZWNrU3VwcG9ydCgibm9kZXN0cmVhbSIpLCJub2RlYnVmZmVyIiE9PXRoaXMuX291dHB1dFR5cGUpdGhyb3cgbmV3IEVycm9yKHRoaXMuX291dHB1dFR5cGUrIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgbWV0aG9kIik7cmV0dXJuIG5ldyBvKHRoaXMse29iamVjdE1vZGU6Im5vZGVidWZmZXIiIT09dGhpcy5fb3V0cHV0VHlwZX0sdCl9fSxlLmV4cG9ydHM9Zn0seyIuLi9iYXNlNjQiOjEsIi4uL2V4dGVybmFsIjo2LCIuLi9ub2RlanMvTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlciI6MTMsIi4uL3N1cHBvcnQiOjMwLCIuLi91dGlscyI6MzIsIi4vQ29udmVydFdvcmtlciI6MjQsIi4vR2VuZXJpY1dvcmtlciI6Mjh9XSwzMDpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtpZihyLmJhc2U2ND0hMCxyLmFycmF5PSEwLHIuc3RyaW5nPSEwLHIuYXJyYXlidWZmZXI9InVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmInVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5LHIubm9kZWJ1ZmZlcj0idW5kZWZpbmVkIiE9dHlwZW9mIEJ1ZmZlcixyLnVpbnQ4YXJyYXk9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5LCJ1bmRlZmluZWQiPT10eXBlb2YgQXJyYXlCdWZmZXIpci5ibG9iPSExO2Vsc2V7dmFyIGk9bmV3IEFycmF5QnVmZmVyKDApO3RyeXtyLmJsb2I9MD09PW5ldyBCbG9iKFtpXSx7dHlwZToiYXBwbGljYXRpb24vemlwIn0pLnNpemV9Y2F0Y2godCl7dHJ5e3ZhciBuPW5ldyhzZWxmLkJsb2JCdWlsZGVyfHxzZWxmLldlYktpdEJsb2JCdWlsZGVyfHxzZWxmLk1vekJsb2JCdWlsZGVyfHxzZWxmLk1TQmxvYkJ1aWxkZXIpO24uYXBwZW5kKGkpLHIuYmxvYj0wPT09bi5nZXRCbG9iKCJhcHBsaWNhdGlvbi96aXAiKS5zaXplfWNhdGNoKHQpe3IuYmxvYj0hMX19fXRyeXtyLm5vZGVzdHJlYW09ISF0KCJyZWFkYWJsZS1zdHJlYW0iKS5SZWFkYWJsZX1jYXRjaCh0KXtyLm5vZGVzdHJlYW09ITF9fSx7InJlYWRhYmxlLXN0cmVhbSI6MTZ9XSwzMTpbZnVuY3Rpb24odCxlLHMpeyJ1c2Ugc3RyaWN0Ijtmb3IodmFyIG89dCgiLi91dGlscyIpLGg9dCgiLi9zdXBwb3J0Iikscj10KCIuL25vZGVqc1V0aWxzIiksaT10KCIuL3N0cmVhbS9HZW5lcmljV29ya2VyIiksdT1uZXcgQXJyYXkoMjU2KSxuPTA7bjwyNTY7bisrKXVbbl09MjUyPD1uPzY6MjQ4PD1uPzU6MjQwPD1uPzQ6MjI0PD1uPzM6MTkyPD1uPzI6MTt1WzI1NF09dVsyNTRdPTE7ZnVuY3Rpb24gYSgpe2kuY2FsbCh0aGlzLCJ1dGYtOCBkZWNvZGUiKSx0aGlzLmxlZnRPdmVyPW51bGx9ZnVuY3Rpb24gbCgpe2kuY2FsbCh0aGlzLCJ1dGYtOCBlbmNvZGUiKX1zLnV0ZjhlbmNvZGU9ZnVuY3Rpb24odCl7cmV0dXJuIGgubm9kZWJ1ZmZlcj9yLm5ld0J1ZmZlckZyb20odCwidXRmLTgiKTpmdW5jdGlvbih0KXt2YXIgZSxyLGksbixzLGE9dC5sZW5ndGgsbz0wO2ZvcihuPTA7bjxhO24rKyk1NTI5Nj09KDY0NTEyJihyPXQuY2hhckNvZGVBdChuKSkpJiZuKzE8YSYmNTYzMjA9PSg2NDUxMiYoaT10LmNoYXJDb2RlQXQobisxKSkpJiYocj02NTUzNisoci01NTI5Njw8MTApKyhpLTU2MzIwKSxuKyspLG8rPXI8MTI4PzE6cjwyMDQ4PzI6cjw2NTUzNj8zOjQ7Zm9yKGU9aC51aW50OGFycmF5P25ldyBVaW50OEFycmF5KG8pOm5ldyBBcnJheShvKSxuPXM9MDtzPG87bisrKTU1Mjk2PT0oNjQ1MTImKHI9dC5jaGFyQ29kZUF0KG4pKSkmJm4rMTxhJiY1NjMyMD09KDY0NTEyJihpPXQuY2hhckNvZGVBdChuKzEpKSkmJihyPTY1NTM2KyhyLTU1Mjk2PDwxMCkrKGktNTYzMjApLG4rKykscjwxMjg/ZVtzKytdPXI6KHI8MjA0OD9lW3MrK109MTkyfHI+Pj42OihyPDY1NTM2P2VbcysrXT0yMjR8cj4+PjEyOihlW3MrK109MjQwfHI+Pj4xOCxlW3MrK109MTI4fHI+Pj4xMiY2MyksZVtzKytdPTEyOHxyPj4+NiY2MyksZVtzKytdPTEyOHw2MyZyKTtyZXR1cm4gZX0odCl9LHMudXRmOGRlY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gaC5ub2RlYnVmZmVyP28udHJhbnNmb3JtVG8oIm5vZGVidWZmZXIiLHQpLnRvU3RyaW5nKCJ1dGYtOCIpOmZ1bmN0aW9uKHQpe3ZhciBlLHIsaSxuLHM9dC5sZW5ndGgsYT1uZXcgQXJyYXkoMipzKTtmb3IoZT1yPTA7ZTxzOylpZigoaT10W2UrK10pPDEyOClhW3IrK109aTtlbHNlIGlmKDQ8KG49dVtpXSkpYVtyKytdPTY1NTMzLGUrPW4tMTtlbHNle2ZvcihpJj0yPT09bj8zMTozPT09bj8xNTo3OzE8biYmZTxzOylpPWk8PDZ8NjMmdFtlKytdLG4tLTsxPG4/YVtyKytdPTY1NTMzOmk8NjU1MzY/YVtyKytdPWk6KGktPTY1NTM2LGFbcisrXT01NTI5NnxpPj4xMCYxMDIzLGFbcisrXT01NjMyMHwxMDIzJmkpfXJldHVybiBhLmxlbmd0aCE9PXImJihhLnN1YmFycmF5P2E9YS5zdWJhcnJheSgwLHIpOmEubGVuZ3RoPXIpLG8uYXBwbHlGcm9tQ2hhckNvZGUoYSl9KHQ9by50cmFuc2Zvcm1UbyhoLnVpbnQ4YXJyYXk/InVpbnQ4YXJyYXkiOiJhcnJheSIsdCkpfSxvLmluaGVyaXRzKGEsaSksYS5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKHQpe3ZhciBlPW8udHJhbnNmb3JtVG8oaC51aW50OGFycmF5PyJ1aW50OGFycmF5IjoiYXJyYXkiLHQuZGF0YSk7aWYodGhpcy5sZWZ0T3ZlciYmdGhpcy5sZWZ0T3Zlci5sZW5ndGgpe2lmKGgudWludDhhcnJheSl7dmFyIHI9ZTsoZT1uZXcgVWludDhBcnJheShyLmxlbmd0aCt0aGlzLmxlZnRPdmVyLmxlbmd0aCkpLnNldCh0aGlzLmxlZnRPdmVyLDApLGUuc2V0KHIsdGhpcy5sZWZ0T3Zlci5sZW5ndGgpfWVsc2UgZT10aGlzLmxlZnRPdmVyLmNvbmNhdChlKTt0aGlzLmxlZnRPdmVyPW51bGx9dmFyIGk9ZnVuY3Rpb24odCxlKXt2YXIgcjtmb3IoKGU9ZXx8dC5sZW5ndGgpPnQubGVuZ3RoJiYoZT10Lmxlbmd0aCkscj1lLTE7MDw9ciYmMTI4PT0oMTkyJnRbcl0pOylyLS07cmV0dXJuIHI8MD9lOjA9PT1yP2U6cit1W3Rbcl1dPmU/cjplfShlKSxuPWU7aSE9PWUubGVuZ3RoJiYoaC51aW50OGFycmF5PyhuPWUuc3ViYXJyYXkoMCxpKSx0aGlzLmxlZnRPdmVyPWUuc3ViYXJyYXkoaSxlLmxlbmd0aCkpOihuPWUuc2xpY2UoMCxpKSx0aGlzLmxlZnRPdmVyPWUuc2xpY2UoaSxlLmxlbmd0aCkpKSx0aGlzLnB1c2goe2RhdGE6cy51dGY4ZGVjb2RlKG4pLG1ldGE6dC5tZXRhfSl9LGEucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7dGhpcy5sZWZ0T3ZlciYmdGhpcy5sZWZ0T3Zlci5sZW5ndGgmJih0aGlzLnB1c2goe2RhdGE6cy51dGY4ZGVjb2RlKHRoaXMubGVmdE92ZXIpLG1ldGE6e319KSx0aGlzLmxlZnRPdmVyPW51bGwpfSxzLlV0ZjhEZWNvZGVXb3JrZXI9YSxvLmluaGVyaXRzKGwsaSksbC5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKHQpe3RoaXMucHVzaCh7ZGF0YTpzLnV0ZjhlbmNvZGUodC5kYXRhKSxtZXRhOnQubWV0YX0pfSxzLlV0ZjhFbmNvZGVXb3JrZXI9bH0seyIuL25vZGVqc1V0aWxzIjoxNCwiLi9zdHJlYW0vR2VuZXJpY1dvcmtlciI6MjgsIi4vc3VwcG9ydCI6MzAsIi4vdXRpbHMiOjMyfV0sMzI6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7dmFyIG89dCgiLi9zdXBwb3J0IiksaD10KCIuL2Jhc2U2NCIpLHI9dCgiLi9ub2RlanNVdGlscyIpLGk9dCgic2V0LWltbWVkaWF0ZS1zaGltIiksdT10KCIuL2V4dGVybmFsIik7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdH1mdW5jdGlvbiBsKHQsZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDsrK3IpZVtyXT0yNTUmdC5jaGFyQ29kZUF0KHIpO3JldHVybiBlfWEubmV3QmxvYj1mdW5jdGlvbihlLHIpe2EuY2hlY2tTdXBwb3J0KCJibG9iIik7dHJ5e3JldHVybiBuZXcgQmxvYihbZV0se3R5cGU6cn0pfWNhdGNoKHQpe3RyeXt2YXIgaT1uZXcoc2VsZi5CbG9iQnVpbGRlcnx8c2VsZi5XZWJLaXRCbG9iQnVpbGRlcnx8c2VsZi5Nb3pCbG9iQnVpbGRlcnx8c2VsZi5NU0Jsb2JCdWlsZGVyKTtyZXR1cm4gaS5hcHBlbmQoZSksaS5nZXRCbG9iKHIpfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcigiQnVnIDogY2FuJ3QgY29uc3RydWN0IHRoZSBCbG9iLiIpfX19O3ZhciBzPXtzdHJpbmdpZnlCeUNodW5rOmZ1bmN0aW9uKHQsZSxyKXt2YXIgaT1bXSxuPTAscz10Lmxlbmd0aDtpZihzPD1yKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsdCk7Zm9yKDtuPHM7KSJhcnJheSI9PT1lfHwibm9kZWJ1ZmZlciI9PT1lP2kucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsdC5zbGljZShuLE1hdGgubWluKG4rcixzKSkpKTppLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLHQuc3ViYXJyYXkobixNYXRoLm1pbihuK3IscykpKSksbis9cjtyZXR1cm4gaS5qb2luKCIiKX0sc3RyaW5naWZ5QnlDaGFyOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0iIixyPTA7cjx0Lmxlbmd0aDtyKyspZSs9U3RyaW5nLmZyb21DaGFyQ29kZSh0W3JdKTtyZXR1cm4gZX0sYXBwbHlDYW5CZVVzZWQ6e3VpbnQ4YXJyYXk6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG8udWludDhhcnJheSYmMT09PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxuZXcgVWludDhBcnJheSgxKSkubGVuZ3RofWNhdGNoKHQpe3JldHVybiExfX0oKSxub2RlYnVmZmVyOmZ1bmN0aW9uKCl7dHJ5e3JldHVybiBvLm5vZGVidWZmZXImJjE9PT1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsci5hbGxvY0J1ZmZlcigxKSkubGVuZ3RofWNhdGNoKHQpe3JldHVybiExfX0oKX19O2Z1bmN0aW9uIGYodCl7dmFyIGU9NjU1MzYscj1hLmdldFR5cGVPZih0KSxpPSEwO2lmKCJ1aW50OGFycmF5Ij09PXI/aT1zLmFwcGx5Q2FuQmVVc2VkLnVpbnQ4YXJyYXk6Im5vZGVidWZmZXIiPT09ciYmKGk9cy5hcHBseUNhbkJlVXNlZC5ub2RlYnVmZmVyKSxpKWZvcig7MTxlOyl0cnl7cmV0dXJuIHMuc3RyaW5naWZ5QnlDaHVuayh0LHIsZSl9Y2F0Y2godCl7ZT1NYXRoLmZsb29yKGUvMil9cmV0dXJuIHMuc3RyaW5naWZ5QnlDaGFyKHQpfWZ1bmN0aW9uIGQodCxlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyllW3JdPXRbcl07cmV0dXJuIGV9YS5hcHBseUZyb21DaGFyQ29kZT1mO3ZhciBjPXt9O2Muc3RyaW5nPXtzdHJpbmc6bixhcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gbCh0LG5ldyBBcnJheSh0Lmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbih0KXtyZXR1cm4gYy5zdHJpbmcudWludDhhcnJheSh0KS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIGwodCxuZXcgVWludDhBcnJheSh0Lmxlbmd0aCkpfSxub2RlYnVmZmVyOmZ1bmN0aW9uKHQpe3JldHVybiBsKHQsci5hbGxvY0J1ZmZlcih0Lmxlbmd0aCkpfX0sYy5hcnJheT17c3RyaW5nOmYsYXJyYXk6bixhcnJheWJ1ZmZlcjpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodCkuYnVmZmVyfSx1aW50OGFycmF5OmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgVWludDhBcnJheSh0KX0sbm9kZWJ1ZmZlcjpmdW5jdGlvbih0KXtyZXR1cm4gci5uZXdCdWZmZXJGcm9tKHQpfX0sYy5hcnJheWJ1ZmZlcj17c3RyaW5nOmZ1bmN0aW9uKHQpe3JldHVybiBmKG5ldyBVaW50OEFycmF5KHQpKX0sYXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIGQobmV3IFVpbnQ4QXJyYXkodCksbmV3IEFycmF5KHQuYnl0ZUxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpuLHVpbnQ4YXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBVaW50OEFycmF5KHQpfSxub2RlYnVmZmVyOmZ1bmN0aW9uKHQpe3JldHVybiByLm5ld0J1ZmZlckZyb20obmV3IFVpbnQ4QXJyYXkodCkpfX0sYy51aW50OGFycmF5PXtzdHJpbmc6ZixhcnJheTpmdW5jdGlvbih0KXtyZXR1cm4gZCh0LG5ldyBBcnJheSh0Lmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbih0KXtyZXR1cm4gdC5idWZmZXJ9LHVpbnQ4YXJyYXk6bixub2RlYnVmZmVyOmZ1bmN0aW9uKHQpe3JldHVybiByLm5ld0J1ZmZlckZyb20odCl9fSxjLm5vZGVidWZmZXI9e3N0cmluZzpmLGFycmF5OmZ1bmN0aW9uKHQpe3JldHVybiBkKHQsbmV3IEFycmF5KHQubGVuZ3RoKSl9LGFycmF5YnVmZmVyOmZ1bmN0aW9uKHQpe3JldHVybiBjLm5vZGVidWZmZXIudWludDhhcnJheSh0KS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZnVuY3Rpb24odCl7cmV0dXJuIGQodCxuZXcgVWludDhBcnJheSh0Lmxlbmd0aCkpfSxub2RlYnVmZmVyOm59LGEudHJhbnNmb3JtVG89ZnVuY3Rpb24odCxlKXtpZihlPWV8fCIiLCF0KXJldHVybiBlO2EuY2hlY2tTdXBwb3J0KHQpO3ZhciByPWEuZ2V0VHlwZU9mKGUpO3JldHVybiBjW3JdW3RdKGUpfSxhLmdldFR5cGVPZj1mdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/InN0cmluZyI6IltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KT8iYXJyYXkiOm8ubm9kZWJ1ZmZlciYmci5pc0J1ZmZlcih0KT8ibm9kZWJ1ZmZlciI6by51aW50OGFycmF5JiZ0IGluc3RhbmNlb2YgVWludDhBcnJheT8idWludDhhcnJheSI6by5hcnJheWJ1ZmZlciYmdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyPyJhcnJheWJ1ZmZlciI6dm9pZCAwfSxhLmNoZWNrU3VwcG9ydD1mdW5jdGlvbih0KXtpZighb1t0LnRvTG93ZXJDYXNlKCldKXRocm93IG5ldyBFcnJvcih0KyIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIHBsYXRmb3JtIil9LGEuTUFYX1ZBTFVFXzE2QklUUz02NTUzNSxhLk1BWF9WQUxVRV8zMkJJVFM9LTEsYS5wcmV0dHk9ZnVuY3Rpb24odCl7dmFyIGUscixpPSIiO2ZvcihyPTA7cjwodHx8IiIpLmxlbmd0aDtyKyspaSs9IlxceCIrKChlPXQuY2hhckNvZGVBdChyKSk8MTY/IjAiOiIiKStlLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO3JldHVybiBpfSxhLmRlbGF5PWZ1bmN0aW9uKHQsZSxyKXtpKGZ1bmN0aW9uKCl7dC5hcHBseShyfHxudWxsLGV8fFtdKX0pfSxhLmluaGVyaXRzPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcigpe31yLnByb3RvdHlwZT1lLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgcn0sYS5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgdCxlLHI9e307Zm9yKHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWZvcihlIGluIGFyZ3VtZW50c1t0XSlhcmd1bWVudHNbdF0uaGFzT3duUHJvcGVydHkoZSkmJnZvaWQgMD09PXJbZV0mJihyW2VdPWFyZ3VtZW50c1t0XVtlXSk7cmV0dXJuIHJ9LGEucHJlcGFyZUNvbnRlbnQ9ZnVuY3Rpb24ocix0LGksbixzKXtyZXR1cm4gdS5Qcm9taXNlLnJlc29sdmUodCkudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gby5ibG9iJiYoaSBpbnN0YW5jZW9mIEJsb2J8fC0xIT09WyJbb2JqZWN0IEZpbGVdIiwiW29iamVjdCBCbG9iXSJdLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGkpKSkmJiJ1bmRlZmluZWQiIT10eXBlb2YgRmlsZVJlYWRlcj9uZXcgdS5Qcm9taXNlKGZ1bmN0aW9uKGUscil7dmFyIHQ9bmV3IEZpbGVSZWFkZXI7dC5vbmxvYWQ9ZnVuY3Rpb24odCl7ZSh0LnRhcmdldC5yZXN1bHQpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7cih0LnRhcmdldC5lcnJvcil9LHQucmVhZEFzQXJyYXlCdWZmZXIoaSl9KTppfSkudGhlbihmdW5jdGlvbih0KXt2YXIgZT1hLmdldFR5cGVPZih0KTtyZXR1cm4gZT8oImFycmF5YnVmZmVyIj09PWU/dD1hLnRyYW5zZm9ybVRvKCJ1aW50OGFycmF5Iix0KToic3RyaW5nIj09PWUmJihzP3Q9aC5kZWNvZGUodCk6aSYmITAhPT1uJiYodD1mdW5jdGlvbih0KXtyZXR1cm4gbCh0LG8udWludDhhcnJheT9uZXcgVWludDhBcnJheSh0Lmxlbmd0aCk6bmV3IEFycmF5KHQubGVuZ3RoKSl9KHQpKSksdCk6dS5Qcm9taXNlLnJlamVjdChuZXcgRXJyb3IoIkNhbid0IHJlYWQgdGhlIGRhdGEgb2YgJyIrcisiJy4gSXMgaXQgaW4gYSBzdXBwb3J0ZWQgSmF2YVNjcmlwdCB0eXBlIChTdHJpbmcsIEJsb2IsIEFycmF5QnVmZmVyLCBldGMpID8iKSl9KX19LHsiLi9iYXNlNjQiOjEsIi4vZXh0ZXJuYWwiOjYsIi4vbm9kZWpzVXRpbHMiOjE0LCIuL3N1cHBvcnQiOjMwLCJzZXQtaW1tZWRpYXRlLXNoaW0iOjU0fV0sMzM6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi9yZWFkZXIvcmVhZGVyRm9yIiksbj10KCIuL3V0aWxzIikscz10KCIuL3NpZ25hdHVyZSIpLGE9dCgiLi96aXBFbnRyeSIpLG89KHQoIi4vdXRmOCIpLHQoIi4vc3VwcG9ydCIpKTtmdW5jdGlvbiBoKHQpe3RoaXMuZmlsZXM9W10sdGhpcy5sb2FkT3B0aW9ucz10fWgucHJvdG90eXBlPXtjaGVja1NpZ25hdHVyZTpmdW5jdGlvbih0KXtpZighdGhpcy5yZWFkZXIucmVhZEFuZENoZWNrU2lnbmF0dXJlKHQpKXt0aGlzLnJlYWRlci5pbmRleC09NDt2YXIgZT10aGlzLnJlYWRlci5yZWFkU3RyaW5nKDQpO3Rocm93IG5ldyBFcnJvcigiQ29ycnVwdGVkIHppcCBvciBidWc6IHVuZXhwZWN0ZWQgc2lnbmF0dXJlICgiK24ucHJldHR5KGUpKyIsIGV4cGVjdGVkICIrbi5wcmV0dHkodCkrIikiKX19LGlzU2lnbmF0dXJlOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5yZWFkZXIuaW5kZXg7dGhpcy5yZWFkZXIuc2V0SW5kZXgodCk7dmFyIGk9dGhpcy5yZWFkZXIucmVhZFN0cmluZyg0KT09PWU7cmV0dXJuIHRoaXMucmVhZGVyLnNldEluZGV4KHIpLGl9LHJlYWRCbG9ja0VuZE9mQ2VudHJhbDpmdW5jdGlvbigpe3RoaXMuZGlza051bWJlcj10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuZGlza1dpdGhDZW50cmFsRGlyU3RhcnQ9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzT25UaGlzRGlzaz10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuY2VudHJhbERpclJlY29yZHM9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmNlbnRyYWxEaXJTaXplPXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5jZW50cmFsRGlyT2Zmc2V0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy56aXBDb21tZW50TGVuZ3RoPXRoaXMucmVhZGVyLnJlYWRJbnQoMik7dmFyIHQ9dGhpcy5yZWFkZXIucmVhZERhdGEodGhpcy56aXBDb21tZW50TGVuZ3RoKSxlPW8udWludDhhcnJheT8idWludDhhcnJheSI6ImFycmF5IixyPW4udHJhbnNmb3JtVG8oZSx0KTt0aGlzLnppcENvbW1lbnQ9dGhpcy5sb2FkT3B0aW9ucy5kZWNvZGVGaWxlTmFtZShyKX0scmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWw6ZnVuY3Rpb24oKXt0aGlzLnppcDY0RW5kT2ZDZW50cmFsU2l6ZT10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMucmVhZGVyLnNraXAoNCksdGhpcy5kaXNrTnVtYmVyPXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5kaXNrV2l0aENlbnRyYWxEaXJTdGFydD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuY2VudHJhbERpclJlY29yZHNPblRoaXNEaXNrPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5jZW50cmFsRGlyUmVjb3Jkcz10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuY2VudHJhbERpclNpemU9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmNlbnRyYWxEaXJPZmZzZXQ9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLnppcDY0RXh0ZW5zaWJsZURhdGE9e307Zm9yKHZhciB0LGUscixpPXRoaXMuemlwNjRFbmRPZkNlbnRyYWxTaXplLTQ0OzA8aTspdD10aGlzLnJlYWRlci5yZWFkSW50KDIpLGU9dGhpcy5yZWFkZXIucmVhZEludCg0KSxyPXRoaXMucmVhZGVyLnJlYWREYXRhKGUpLHRoaXMuemlwNjRFeHRlbnNpYmxlRGF0YVt0XT17aWQ6dCxsZW5ndGg6ZSx2YWx1ZTpyfX0scmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWxMb2NhdG9yOmZ1bmN0aW9uKCl7aWYodGhpcy5kaXNrV2l0aFppcDY0Q2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5kaXNrc0NvdW50PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksMTx0aGlzLmRpc2tzQ291bnQpdGhyb3cgbmV3IEVycm9yKCJNdWx0aS12b2x1bWVzIHppcCBhcmUgbm90IHN1cHBvcnRlZCIpfSxyZWFkTG9jYWxGaWxlczpmdW5jdGlvbigpe3ZhciB0LGU7Zm9yKHQ9MDt0PHRoaXMuZmlsZXMubGVuZ3RoO3QrKyllPXRoaXMuZmlsZXNbdF0sdGhpcy5yZWFkZXIuc2V0SW5kZXgoZS5sb2NhbEhlYWRlck9mZnNldCksdGhpcy5jaGVja1NpZ25hdHVyZShzLkxPQ0FMX0ZJTEVfSEVBREVSKSxlLnJlYWRMb2NhbFBhcnQodGhpcy5yZWFkZXIpLGUuaGFuZGxlVVRGOCgpLGUucHJvY2Vzc0F0dHJpYnV0ZXMoKX0scmVhZENlbnRyYWxEaXI6ZnVuY3Rpb24oKXt2YXIgdDtmb3IodGhpcy5yZWFkZXIuc2V0SW5kZXgodGhpcy5jZW50cmFsRGlyT2Zmc2V0KTt0aGlzLnJlYWRlci5yZWFkQW5kQ2hlY2tTaWduYXR1cmUocy5DRU5UUkFMX0ZJTEVfSEVBREVSKTspKHQ9bmV3IGEoe3ppcDY0OnRoaXMuemlwNjR9LHRoaXMubG9hZE9wdGlvbnMpKS5yZWFkQ2VudHJhbFBhcnQodGhpcy5yZWFkZXIpLHRoaXMuZmlsZXMucHVzaCh0KTtpZih0aGlzLmNlbnRyYWxEaXJSZWNvcmRzIT09dGhpcy5maWxlcy5sZW5ndGgmJjAhPT10aGlzLmNlbnRyYWxEaXJSZWNvcmRzJiYwPT09dGhpcy5maWxlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJDb3JydXB0ZWQgemlwIG9yIGJ1ZzogZXhwZWN0ZWQgIit0aGlzLmNlbnRyYWxEaXJSZWNvcmRzKyIgcmVjb3JkcyBpbiBjZW50cmFsIGRpciwgZ290ICIrdGhpcy5maWxlcy5sZW5ndGgpfSxyZWFkRW5kT2ZDZW50cmFsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWFkZXIubGFzdEluZGV4T2ZTaWduYXR1cmUocy5DRU5UUkFMX0RJUkVDVE9SWV9FTkQpO2lmKHQ8MCl0aHJvdyF0aGlzLmlzU2lnbmF0dXJlKDAscy5MT0NBTF9GSUxFX0hFQURFUik/bmV3IEVycm9yKCJDYW4ndCBmaW5kIGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeSA6IGlzIHRoaXMgYSB6aXAgZmlsZSA/IElmIGl0IGlzLCBzZWUgaHR0cHM6Ly9zdHVrLmdpdGh1Yi5pby9qc3ppcC9kb2N1bWVudGF0aW9uL2hvd3RvL3JlYWRfemlwLmh0bWwiKTpuZXcgRXJyb3IoIkNvcnJ1cHRlZCB6aXA6IGNhbid0IGZpbmQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5Iik7dGhpcy5yZWFkZXIuc2V0SW5kZXgodCk7dmFyIGU9dDtpZih0aGlzLmNoZWNrU2lnbmF0dXJlKHMuQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlYWRCbG9ja0VuZE9mQ2VudHJhbCgpLHRoaXMuZGlza051bWJlcj09PW4uTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5kaXNrV2l0aENlbnRyYWxEaXJTdGFydD09PW4uTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5jZW50cmFsRGlyUmVjb3Jkc09uVGhpc0Rpc2s9PT1uLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuY2VudHJhbERpclJlY29yZHM9PT1uLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuY2VudHJhbERpclNpemU9PT1uLk1BWF9WQUxVRV8zMkJJVFN8fHRoaXMuY2VudHJhbERpck9mZnNldD09PW4uTUFYX1ZBTFVFXzMyQklUUyl7aWYodGhpcy56aXA2ND0hMCwodD10aGlzLnJlYWRlci5sYXN0SW5kZXhPZlNpZ25hdHVyZShzLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0xPQ0FUT1IpKTwwKXRocm93IG5ldyBFcnJvcigiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCB0aGUgWklQNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IGxvY2F0b3IiKTtpZih0aGlzLnJlYWRlci5zZXRJbmRleCh0KSx0aGlzLmNoZWNrU2lnbmF0dXJlKHMuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUiksdGhpcy5yZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbExvY2F0b3IoKSwhdGhpcy5pc1NpZ25hdHVyZSh0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXIscy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQpJiYodGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKHMuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXI8MCkpdGhyb3cgbmV3IEVycm9yKCJDb3JydXB0ZWQgemlwOiBjYW4ndCBmaW5kIHRoZSBaSVA2NCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkiKTt0aGlzLnJlYWRlci5zZXRJbmRleCh0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXIpLHRoaXMuY2hlY2tTaWduYXR1cmUocy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQpLHRoaXMucmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWwoKX12YXIgcj10aGlzLmNlbnRyYWxEaXJPZmZzZXQrdGhpcy5jZW50cmFsRGlyU2l6ZTt0aGlzLnppcDY0JiYocis9MjAscis9MTIrdGhpcy56aXA2NEVuZE9mQ2VudHJhbFNpemUpO3ZhciBpPWUtcjtpZigwPGkpdGhpcy5pc1NpZ25hdHVyZShlLHMuQ0VOVFJBTF9GSUxFX0hFQURFUil8fCh0aGlzLnJlYWRlci56ZXJvPWkpO2Vsc2UgaWYoaTwwKXRocm93IG5ldyBFcnJvcigiQ29ycnVwdGVkIHppcDogbWlzc2luZyAiK01hdGguYWJzKGkpKyIgYnl0ZXMuIil9LHByZXBhcmVSZWFkZXI6ZnVuY3Rpb24odCl7dGhpcy5yZWFkZXI9aSh0KX0sbG9hZDpmdW5jdGlvbih0KXt0aGlzLnByZXBhcmVSZWFkZXIodCksdGhpcy5yZWFkRW5kT2ZDZW50cmFsKCksdGhpcy5yZWFkQ2VudHJhbERpcigpLHRoaXMucmVhZExvY2FsRmlsZXMoKX19LGUuZXhwb3J0cz1ofSx7Ii4vcmVhZGVyL3JlYWRlckZvciI6MjIsIi4vc2lnbmF0dXJlIjoyMywiLi9zdXBwb3J0IjozMCwiLi91dGY4IjozMSwiLi91dGlscyI6MzIsIi4vemlwRW50cnkiOjM0fV0sMzQ6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk9dCgiLi9yZWFkZXIvcmVhZGVyRm9yIikscz10KCIuL3V0aWxzIiksbj10KCIuL2NvbXByZXNzZWRPYmplY3QiKSxhPXQoIi4vY3JjMzIiKSxvPXQoIi4vdXRmOCIpLGg9dCgiLi9jb21wcmVzc2lvbnMiKSx1PXQoIi4vc3VwcG9ydCIpO2Z1bmN0aW9uIGwodCxlKXt0aGlzLm9wdGlvbnM9dCx0aGlzLmxvYWRPcHRpb25zPWV9bC5wcm90b3R5cGU9e2lzRW5jcnlwdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIDE9PSgxJnRoaXMuYml0RmxhZyl9LHVzZVVURjg6ZnVuY3Rpb24oKXtyZXR1cm4gMjA0OD09KDIwNDgmdGhpcy5iaXRGbGFnKX0scmVhZExvY2FsUGFydDpmdW5jdGlvbih0KXt2YXIgZSxyO2lmKHQuc2tpcCgyMiksdGhpcy5maWxlTmFtZUxlbmd0aD10LnJlYWRJbnQoMikscj10LnJlYWRJbnQoMiksdGhpcy5maWxlTmFtZT10LnJlYWREYXRhKHRoaXMuZmlsZU5hbWVMZW5ndGgpLHQuc2tpcChyKSwtMT09PXRoaXMuY29tcHJlc3NlZFNpemV8fC0xPT09dGhpcy51bmNvbXByZXNzZWRTaXplKXRocm93IG5ldyBFcnJvcigiQnVnIG9yIGNvcnJ1cHRlZCB6aXAgOiBkaWRuJ3QgZ2V0IGVub3VnaCBpbmZvcm1hdGlvbiBmcm9tIHRoZSBjZW50cmFsIGRpcmVjdG9yeSAoY29tcHJlc3NlZFNpemUgPT09IC0xIHx8IHVuY29tcHJlc3NlZFNpemUgPT09IC0xKSIpO2lmKG51bGw9PT0oZT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gaClpZihoLmhhc093blByb3BlcnR5KGUpJiZoW2VdLm1hZ2ljPT09dClyZXR1cm4gaFtlXTtyZXR1cm4gbnVsbH0odGhpcy5jb21wcmVzc2lvbk1ldGhvZCkpKXRocm93IG5ldyBFcnJvcigiQ29ycnVwdGVkIHppcCA6IGNvbXByZXNzaW9uICIrcy5wcmV0dHkodGhpcy5jb21wcmVzc2lvbk1ldGhvZCkrIiB1bmtub3duIChpbm5lciBmaWxlIDogIitzLnRyYW5zZm9ybVRvKCJzdHJpbmciLHRoaXMuZmlsZU5hbWUpKyIpIik7dGhpcy5kZWNvbXByZXNzZWQ9bmV3IG4odGhpcy5jb21wcmVzc2VkU2l6ZSx0aGlzLnVuY29tcHJlc3NlZFNpemUsdGhpcy5jcmMzMixlLHQucmVhZERhdGEodGhpcy5jb21wcmVzc2VkU2l6ZSkpfSxyZWFkQ2VudHJhbFBhcnQ6ZnVuY3Rpb24odCl7dGhpcy52ZXJzaW9uTWFkZUJ5PXQucmVhZEludCgyKSx0LnNraXAoMiksdGhpcy5iaXRGbGFnPXQucmVhZEludCgyKSx0aGlzLmNvbXByZXNzaW9uTWV0aG9kPXQucmVhZFN0cmluZygyKSx0aGlzLmRhdGU9dC5yZWFkRGF0ZSgpLHRoaXMuY3JjMzI9dC5yZWFkSW50KDQpLHRoaXMuY29tcHJlc3NlZFNpemU9dC5yZWFkSW50KDQpLHRoaXMudW5jb21wcmVzc2VkU2l6ZT10LnJlYWRJbnQoNCk7dmFyIGU9dC5yZWFkSW50KDIpO2lmKHRoaXMuZXh0cmFGaWVsZHNMZW5ndGg9dC5yZWFkSW50KDIpLHRoaXMuZmlsZUNvbW1lbnRMZW5ndGg9dC5yZWFkSW50KDIpLHRoaXMuZGlza051bWJlclN0YXJ0PXQucmVhZEludCgyKSx0aGlzLmludGVybmFsRmlsZUF0dHJpYnV0ZXM9dC5yZWFkSW50KDIpLHRoaXMuZXh0ZXJuYWxGaWxlQXR0cmlidXRlcz10LnJlYWRJbnQoNCksdGhpcy5sb2NhbEhlYWRlck9mZnNldD10LnJlYWRJbnQoNCksdGhpcy5pc0VuY3J5cHRlZCgpKXRocm93IG5ldyBFcnJvcigiRW5jcnlwdGVkIHppcCBhcmUgbm90IHN1cHBvcnRlZCIpO3Quc2tpcChlKSx0aGlzLnJlYWRFeHRyYUZpZWxkcyh0KSx0aGlzLnBhcnNlWklQNjRFeHRyYUZpZWxkKHQpLHRoaXMuZmlsZUNvbW1lbnQ9dC5yZWFkRGF0YSh0aGlzLmZpbGVDb21tZW50TGVuZ3RoKX0scHJvY2Vzc0F0dHJpYnV0ZXM6ZnVuY3Rpb24oKXt0aGlzLnVuaXhQZXJtaXNzaW9ucz1udWxsLHRoaXMuZG9zUGVybWlzc2lvbnM9bnVsbDt2YXIgdD10aGlzLnZlcnNpb25NYWRlQnk+Pjg7dGhpcy5kaXI9ISEoMTYmdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzKSwwPT10JiYodGhpcy5kb3NQZXJtaXNzaW9ucz02MyZ0aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXMpLDM9PXQmJih0aGlzLnVuaXhQZXJtaXNzaW9ucz10aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXM+PjE2JjY1NTM1KSx0aGlzLmRpcnx8Ii8iIT09dGhpcy5maWxlTmFtZVN0ci5zbGljZSgtMSl8fCh0aGlzLmRpcj0hMCl9LHBhcnNlWklQNjRFeHRyYUZpZWxkOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZXh0cmFGaWVsZHNbMV0pe3ZhciBlPWkodGhpcy5leHRyYUZpZWxkc1sxXS52YWx1ZSk7dGhpcy51bmNvbXByZXNzZWRTaXplPT09cy5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy51bmNvbXByZXNzZWRTaXplPWUucmVhZEludCg4KSksdGhpcy5jb21wcmVzc2VkU2l6ZT09PXMuTUFYX1ZBTFVFXzMyQklUUyYmKHRoaXMuY29tcHJlc3NlZFNpemU9ZS5yZWFkSW50KDgpKSx0aGlzLmxvY2FsSGVhZGVyT2Zmc2V0PT09cy5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy5sb2NhbEhlYWRlck9mZnNldD1lLnJlYWRJbnQoOCkpLHRoaXMuZGlza051bWJlclN0YXJ0PT09cy5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy5kaXNrTnVtYmVyU3RhcnQ9ZS5yZWFkSW50KDQpKX19LHJlYWRFeHRyYUZpZWxkczpmdW5jdGlvbih0KXt2YXIgZSxyLGksbj10LmluZGV4K3RoaXMuZXh0cmFGaWVsZHNMZW5ndGg7Zm9yKHRoaXMuZXh0cmFGaWVsZHN8fCh0aGlzLmV4dHJhRmllbGRzPXt9KTt0LmluZGV4KzQ8bjspZT10LnJlYWRJbnQoMikscj10LnJlYWRJbnQoMiksaT10LnJlYWREYXRhKHIpLHRoaXMuZXh0cmFGaWVsZHNbZV09e2lkOmUsbGVuZ3RoOnIsdmFsdWU6aX07dC5zZXRJbmRleChuKX0saGFuZGxlVVRGODpmdW5jdGlvbigpe3ZhciB0PXUudWludDhhcnJheT8idWludDhhcnJheSI6ImFycmF5IjtpZih0aGlzLnVzZVVURjgoKSl0aGlzLmZpbGVOYW1lU3RyPW8udXRmOGRlY29kZSh0aGlzLmZpbGVOYW1lKSx0aGlzLmZpbGVDb21tZW50U3RyPW8udXRmOGRlY29kZSh0aGlzLmZpbGVDb21tZW50KTtlbHNle3ZhciBlPXRoaXMuZmluZEV4dHJhRmllbGRVbmljb2RlUGF0aCgpO2lmKG51bGwhPT1lKXRoaXMuZmlsZU5hbWVTdHI9ZTtlbHNle3ZhciByPXMudHJhbnNmb3JtVG8odCx0aGlzLmZpbGVOYW1lKTt0aGlzLmZpbGVOYW1lU3RyPXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUocil9dmFyIGk9dGhpcy5maW5kRXh0cmFGaWVsZFVuaWNvZGVDb21tZW50KCk7aWYobnVsbCE9PWkpdGhpcy5maWxlQ29tbWVudFN0cj1pO2Vsc2V7dmFyIG49cy50cmFuc2Zvcm1Ubyh0LHRoaXMuZmlsZUNvbW1lbnQpO3RoaXMuZmlsZUNvbW1lbnRTdHI9dGhpcy5sb2FkT3B0aW9ucy5kZWNvZGVGaWxlTmFtZShuKX19fSxmaW5kRXh0cmFGaWVsZFVuaWNvZGVQYXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5leHRyYUZpZWxkc1syODc4OV07aWYodCl7dmFyIGU9aSh0LnZhbHVlKTtyZXR1cm4gMSE9PWUucmVhZEludCgxKT9udWxsOmEodGhpcy5maWxlTmFtZSkhPT1lLnJlYWRJbnQoNCk/bnVsbDpvLnV0ZjhkZWNvZGUoZS5yZWFkRGF0YSh0Lmxlbmd0aC01KSl9cmV0dXJuIG51bGx9LGZpbmRFeHRyYUZpZWxkVW5pY29kZUNvbW1lbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmV4dHJhRmllbGRzWzI1NDYxXTtpZih0KXt2YXIgZT1pKHQudmFsdWUpO3JldHVybiAxIT09ZS5yZWFkSW50KDEpP251bGw6YSh0aGlzLmZpbGVDb21tZW50KSE9PWUucmVhZEludCg0KT9udWxsOm8udXRmOGRlY29kZShlLnJlYWREYXRhKHQubGVuZ3RoLTUpKX1yZXR1cm4gbnVsbH19LGUuZXhwb3J0cz1sfSx7Ii4vY29tcHJlc3NlZE9iamVjdCI6MiwiLi9jb21wcmVzc2lvbnMiOjMsIi4vY3JjMzIiOjQsIi4vcmVhZGVyL3JlYWRlckZvciI6MjIsIi4vc3VwcG9ydCI6MzAsIi4vdXRmOCI6MzEsIi4vdXRpbHMiOjMyfV0sMzU6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaSh0LGUscil7dGhpcy5uYW1lPXQsdGhpcy5kaXI9ci5kaXIsdGhpcy5kYXRlPXIuZGF0ZSx0aGlzLmNvbW1lbnQ9ci5jb21tZW50LHRoaXMudW5peFBlcm1pc3Npb25zPXIudW5peFBlcm1pc3Npb25zLHRoaXMuZG9zUGVybWlzc2lvbnM9ci5kb3NQZXJtaXNzaW9ucyx0aGlzLl9kYXRhPWUsdGhpcy5fZGF0YUJpbmFyeT1yLmJpbmFyeSx0aGlzLm9wdGlvbnM9e2NvbXByZXNzaW9uOnIuY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zOnIuY29tcHJlc3Npb25PcHRpb25zfX12YXIgcz10KCIuL3N0cmVhbS9TdHJlYW1IZWxwZXIiKSxuPXQoIi4vc3RyZWFtL0RhdGFXb3JrZXIiKSxhPXQoIi4vdXRmOCIpLG89dCgiLi9jb21wcmVzc2VkT2JqZWN0IiksaD10KCIuL3N0cmVhbS9HZW5lcmljV29ya2VyIik7aS5wcm90b3R5cGU9e2ludGVybmFsU3RyZWFtOmZ1bmN0aW9uKHQpe3ZhciBlPW51bGwscj0ic3RyaW5nIjt0cnl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCJObyBvdXRwdXQgdHlwZSBzcGVjaWZpZWQuIik7dmFyIGk9InN0cmluZyI9PT0ocj10LnRvTG93ZXJDYXNlKCkpfHwidGV4dCI9PT1yOyJiaW5hcnlzdHJpbmciIT09ciYmInRleHQiIT09cnx8KHI9InN0cmluZyIpLGU9dGhpcy5fZGVjb21wcmVzc1dvcmtlcigpO3ZhciBuPSF0aGlzLl9kYXRhQmluYXJ5O24mJiFpJiYoZT1lLnBpcGUobmV3IGEuVXRmOEVuY29kZVdvcmtlcikpLCFuJiZpJiYoZT1lLnBpcGUobmV3IGEuVXRmOERlY29kZVdvcmtlcikpfWNhdGNoKHQpeyhlPW5ldyBoKCJlcnJvciIpKS5lcnJvcih0KX1yZXR1cm4gbmV3IHMoZSxyLCIiKX0sYXN5bmM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0cmVhbSh0KS5hY2N1bXVsYXRlKGUpfSxub2RlU3RyZWFtOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuaW50ZXJuYWxTdHJlYW0odHx8Im5vZGVidWZmZXIiKS50b05vZGVqc1N0cmVhbShlKX0sX2NvbXByZXNzV29ya2VyOmZ1bmN0aW9uKHQsZSl7aWYodGhpcy5fZGF0YSBpbnN0YW5jZW9mIG8mJnRoaXMuX2RhdGEuY29tcHJlc3Npb24ubWFnaWM9PT10Lm1hZ2ljKXJldHVybiB0aGlzLl9kYXRhLmdldENvbXByZXNzZWRXb3JrZXIoKTt2YXIgcj10aGlzLl9kZWNvbXByZXNzV29ya2VyKCk7cmV0dXJuIHRoaXMuX2RhdGFCaW5hcnl8fChyPXIucGlwZShuZXcgYS5VdGY4RW5jb2RlV29ya2VyKSksby5jcmVhdGVXb3JrZXJGcm9tKHIsdCxlKX0sX2RlY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YSBpbnN0YW5jZW9mIG8/dGhpcy5fZGF0YS5nZXRDb250ZW50V29ya2VyKCk6dGhpcy5fZGF0YSBpbnN0YW5jZW9mIGg/dGhpcy5fZGF0YTpuZXcgbih0aGlzLl9kYXRhKX19O2Zvcih2YXIgdT1bImFzVGV4dCIsImFzQmluYXJ5IiwiYXNOb2RlQnVmZmVyIiwiYXNVaW50OEFycmF5IiwiYXNBcnJheUJ1ZmZlciJdLGw9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIlRoaXMgbWV0aG9kIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuIil9LGY9MDtmPHUubGVuZ3RoO2YrKylpLnByb3RvdHlwZVt1W2ZdXT1sO2UuZXhwb3J0cz1pfSx7Ii4vY29tcHJlc3NlZE9iamVjdCI6MiwiLi9zdHJlYW0vRGF0YVdvcmtlciI6MjcsIi4vc3RyZWFtL0dlbmVyaWNXb3JrZXIiOjI4LCIuL3N0cmVhbS9TdHJlYW1IZWxwZXIiOjI5LCIuL3V0ZjgiOjMxfV0sMzY6W2Z1bmN0aW9uKHQsbCxlKXsoZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO3ZhciByLGksdD1lLk11dGF0aW9uT2JzZXJ2ZXJ8fGUuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtpZih0KXt2YXIgbj0wLHM9bmV3IHQodSksYT1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtzLm9ic2VydmUoYSx7Y2hhcmFjdGVyRGF0YTohMH0pLHI9ZnVuY3Rpb24oKXthLmRhdGE9bj0rK24lMn19ZWxzZSBpZihlLnNldEltbWVkaWF0ZXx8dm9pZCAwPT09ZS5NZXNzYWdlQ2hhbm5lbClyPSJkb2N1bWVudCJpbiBlJiYib25yZWFkeXN0YXRlY2hhbmdlImluIGUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik/ZnVuY3Rpb24oKXt2YXIgdD1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3Qub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dSgpLHQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpLHQ9bnVsbH0sZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodCl9OmZ1bmN0aW9uKCl7c2V0VGltZW91dCh1LDApfTtlbHNle3ZhciBvPW5ldyBlLk1lc3NhZ2VDaGFubmVsO28ucG9ydDEub25tZXNzYWdlPXUscj1mdW5jdGlvbigpe28ucG9ydDIucG9zdE1lc3NhZ2UoMCl9fXZhciBoPVtdO2Z1bmN0aW9uIHUoKXt2YXIgdCxlO2k9ITA7Zm9yKHZhciByPWgubGVuZ3RoO3I7KXtmb3IoZT1oLGg9W10sdD0tMTsrK3Q8cjspZVt0XSgpO3I9aC5sZW5ndGh9aT0hMX1sLmV4cG9ydHM9ZnVuY3Rpb24odCl7MSE9PWgucHVzaCh0KXx8aXx8cigpfX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDM3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBuPXQoImltbWVkaWF0ZSIpO2Z1bmN0aW9uIHUoKXt9dmFyIGw9e30scz1bIlJFSkVDVEVEIl0sYT1bIkZVTEZJTExFRCJdLGk9WyJQRU5ESU5HIl07ZnVuY3Rpb24gbyh0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb24iKTt0aGlzLnN0YXRlPWksdGhpcy5xdWV1ZT1bXSx0aGlzLm91dGNvbWU9dm9pZCAwLHQhPT11JiZjKHRoaXMsdCl9ZnVuY3Rpb24gaCh0LGUscil7dGhpcy5wcm9taXNlPXQsImZ1bmN0aW9uIj09dHlwZW9mIGUmJih0aGlzLm9uRnVsZmlsbGVkPWUsdGhpcy5jYWxsRnVsZmlsbGVkPXRoaXMub3RoZXJDYWxsRnVsZmlsbGVkKSwiZnVuY3Rpb24iPT10eXBlb2YgciYmKHRoaXMub25SZWplY3RlZD1yLHRoaXMuY2FsbFJlamVjdGVkPXRoaXMub3RoZXJDYWxsUmVqZWN0ZWQpfWZ1bmN0aW9uIGYoZSxyLGkpe24oZnVuY3Rpb24oKXt2YXIgdDt0cnl7dD1yKGkpfWNhdGNoKHQpe3JldHVybiBsLnJlamVjdChlLHQpfXQ9PT1lP2wucmVqZWN0KGUsbmV3IFR5cGVFcnJvcigiQ2Fubm90IHJlc29sdmUgcHJvbWlzZSB3aXRoIGl0c2VsZiIpKTpsLnJlc29sdmUoZSx0KX0pfWZ1bmN0aW9uIGQodCl7dmFyIGU9dCYmdC50aGVuO2lmKHQmJigib2JqZWN0Ij09dHlwZW9mIHR8fCJmdW5jdGlvbiI9PXR5cGVvZiB0KSYmImZ1bmN0aW9uIj09dHlwZW9mIGUpcmV0dXJuIGZ1bmN0aW9uKCl7ZS5hcHBseSh0LGFyZ3VtZW50cyl9fWZ1bmN0aW9uIGMoZSx0KXt2YXIgcj0hMTtmdW5jdGlvbiBpKHQpe3J8fChyPSEwLGwucmVqZWN0KGUsdCkpfWZ1bmN0aW9uIG4odCl7cnx8KHI9ITAsbC5yZXNvbHZlKGUsdCkpfXZhciBzPXAoZnVuY3Rpb24oKXt0KG4saSl9KTsiZXJyb3IiPT09cy5zdGF0dXMmJmkocy52YWx1ZSl9ZnVuY3Rpb24gcCh0LGUpe3ZhciByPXt9O3RyeXtyLnZhbHVlPXQoZSksci5zdGF0dXM9InN1Y2Nlc3MifWNhdGNoKHQpe3Iuc3RhdHVzPSJlcnJvciIsci52YWx1ZT10fXJldHVybiByfShlLmV4cG9ydHM9bykucHJvdG90eXBlLmZpbmFsbHk9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGUpcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiByLnJlc29sdmUoZSgpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0sZnVuY3Rpb24odCl7cmV0dXJuIHIucmVzb2x2ZShlKCkpLnRoZW4oZnVuY3Rpb24oKXt0aHJvdyB0fSl9KX0sby5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGhlbihudWxsLHQpfSxvLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKHQsZSl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJnRoaXMuc3RhdGU9PT1hfHwiZnVuY3Rpb24iIT10eXBlb2YgZSYmdGhpcy5zdGF0ZT09PXMpcmV0dXJuIHRoaXM7dmFyIHI9bmV3IHRoaXMuY29uc3RydWN0b3IodSk7dGhpcy5zdGF0ZSE9PWk/ZihyLHRoaXMuc3RhdGU9PT1hP3Q6ZSx0aGlzLm91dGNvbWUpOnRoaXMucXVldWUucHVzaChuZXcgaChyLHQsZSkpO3JldHVybiByfSxoLnByb3RvdHlwZS5jYWxsRnVsZmlsbGVkPWZ1bmN0aW9uKHQpe2wucmVzb2x2ZSh0aGlzLnByb21pc2UsdCl9LGgucHJvdG90eXBlLm90aGVyQ2FsbEZ1bGZpbGxlZD1mdW5jdGlvbih0KXtmKHRoaXMucHJvbWlzZSx0aGlzLm9uRnVsZmlsbGVkLHQpfSxoLnByb3RvdHlwZS5jYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24odCl7bC5yZWplY3QodGhpcy5wcm9taXNlLHQpfSxoLnByb3RvdHlwZS5vdGhlckNhbGxSZWplY3RlZD1mdW5jdGlvbih0KXtmKHRoaXMucHJvbWlzZSx0aGlzLm9uUmVqZWN0ZWQsdCl9LGwucmVzb2x2ZT1mdW5jdGlvbih0LGUpe3ZhciByPXAoZCxlKTtpZigiZXJyb3IiPT09ci5zdGF0dXMpcmV0dXJuIGwucmVqZWN0KHQsci52YWx1ZSk7dmFyIGk9ci52YWx1ZTtpZihpKWModCxpKTtlbHNle3Quc3RhdGU9YSx0Lm91dGNvbWU9ZTtmb3IodmFyIG49LTEscz10LnF1ZXVlLmxlbmd0aDsrK248czspdC5xdWV1ZVtuXS5jYWxsRnVsZmlsbGVkKGUpfXJldHVybiB0fSxsLnJlamVjdD1mdW5jdGlvbih0LGUpe3Quc3RhdGU9cyx0Lm91dGNvbWU9ZTtmb3IodmFyIHI9LTEsaT10LnF1ZXVlLmxlbmd0aDsrK3I8aTspdC5xdWV1ZVtyXS5jYWxsUmVqZWN0ZWQoZSk7cmV0dXJuIHR9LG8ucmVzb2x2ZT1mdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgdGhpcylyZXR1cm4gdDtyZXR1cm4gbC5yZXNvbHZlKG5ldyB0aGlzKHUpLHQpfSxvLnJlamVjdD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdGhpcyh1KTtyZXR1cm4gbC5yZWplY3QoZSx0KX0sby5hbGw9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztpZigiW29iamVjdCBBcnJheV0iIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKCJtdXN0IGJlIGFuIGFycmF5IikpO3ZhciBpPXQubGVuZ3RoLG49ITE7aWYoIWkpcmV0dXJuIHRoaXMucmVzb2x2ZShbXSk7dmFyIHM9bmV3IEFycmF5KGkpLGE9MCxlPS0xLG89bmV3IHRoaXModSk7Zm9yKDsrK2U8aTspaCh0W2VdLGUpO3JldHVybiBvO2Z1bmN0aW9uIGgodCxlKXtyLnJlc29sdmUodCkudGhlbihmdW5jdGlvbih0KXtzW2VdPXQsKythIT09aXx8bnx8KG49ITAsbC5yZXNvbHZlKG8scykpfSxmdW5jdGlvbih0KXtufHwobj0hMCxsLnJlamVjdChvLHQpKX0pfX0sby5yYWNlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7aWYoIltvYmplY3QgQXJyYXldIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcigibXVzdCBiZSBhbiBhcnJheSIpKTt2YXIgcj10Lmxlbmd0aCxpPSExO2lmKCFyKXJldHVybiB0aGlzLnJlc29sdmUoW10pO3ZhciBuPS0xLHM9bmV3IHRoaXModSk7Zm9yKDsrK248cjspYT10W25dLGUucmVzb2x2ZShhKS50aGVuKGZ1bmN0aW9uKHQpe2l8fChpPSEwLGwucmVzb2x2ZShzLHQpKX0sZnVuY3Rpb24odCl7aXx8KGk9ITAsbC5yZWplY3Qocyx0KSl9KTt2YXIgYTtyZXR1cm4gc319LHtpbW1lZGlhdGU6MzZ9XSwzODpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT17fTsoMCx0KCIuL2xpYi91dGlscy9jb21tb24iKS5hc3NpZ24pKGksdCgiLi9saWIvZGVmbGF0ZSIpLHQoIi4vbGliL2luZmxhdGUiKSx0KCIuL2xpYi96bGliL2NvbnN0YW50cyIpKSxlLmV4cG9ydHM9aX0seyIuL2xpYi9kZWZsYXRlIjozOSwiLi9saWIvaW5mbGF0ZSI6NDAsIi4vbGliL3V0aWxzL2NvbW1vbiI6NDEsIi4vbGliL3psaWIvY29uc3RhbnRzIjo0NH1dLDM5OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBhPXQoIi4vemxpYi9kZWZsYXRlIiksbz10KCIuL3V0aWxzL2NvbW1vbiIpLGg9dCgiLi91dGlscy9zdHJpbmdzIiksbj10KCIuL3psaWIvbWVzc2FnZXMiKSxzPXQoIi4vemxpYi96c3RyZWFtIiksdT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGw9MCxmPS0xLGQ9MCxjPTg7ZnVuY3Rpb24gcCh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBwKSlyZXR1cm4gbmV3IHAodCk7dGhpcy5vcHRpb25zPW8uYXNzaWduKHtsZXZlbDpmLG1ldGhvZDpjLGNodW5rU2l6ZToxNjM4NCx3aW5kb3dCaXRzOjE1LG1lbUxldmVsOjgsc3RyYXRlZ3k6ZCx0bzoiIn0sdHx8e30pO3ZhciBlPXRoaXMub3B0aW9ucztlLnJhdyYmMDxlLndpbmRvd0JpdHM/ZS53aW5kb3dCaXRzPS1lLndpbmRvd0JpdHM6ZS5nemlwJiYwPGUud2luZG93Qml0cyYmZS53aW5kb3dCaXRzPDE2JiYoZS53aW5kb3dCaXRzKz0xNiksdGhpcy5lcnI9MCx0aGlzLm1zZz0iIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgcyx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIHI9YS5kZWZsYXRlSW5pdDIodGhpcy5zdHJtLGUubGV2ZWwsZS5tZXRob2QsZS53aW5kb3dCaXRzLGUubWVtTGV2ZWwsZS5zdHJhdGVneSk7aWYociE9PWwpdGhyb3cgbmV3IEVycm9yKG5bcl0pO2lmKGUuaGVhZGVyJiZhLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLGUuaGVhZGVyKSxlLmRpY3Rpb25hcnkpe3ZhciBpO2lmKGk9InN0cmluZyI9PXR5cGVvZiBlLmRpY3Rpb25hcnk/aC5zdHJpbmcyYnVmKGUuZGljdGlvbmFyeSk6IltvYmplY3QgQXJyYXlCdWZmZXJdIj09PXUuY2FsbChlLmRpY3Rpb25hcnkpP25ldyBVaW50OEFycmF5KGUuZGljdGlvbmFyeSk6ZS5kaWN0aW9uYXJ5LChyPWEuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGkpKSE9PWwpdGhyb3cgbmV3IEVycm9yKG5bcl0pO3RoaXMuX2RpY3Rfc2V0PSEwfX1mdW5jdGlvbiBpKHQsZSl7dmFyIHI9bmV3IHAoZSk7aWYoci5wdXNoKHQsITApLHIuZXJyKXRocm93IHIubXNnfHxuW3IuZXJyXTtyZXR1cm4gci5yZXN1bHR9cC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih0LGUpe3ZhciByLGksbj10aGlzLnN0cm0scz10aGlzLm9wdGlvbnMuY2h1bmtTaXplO2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7aT1lPT09fn5lP2U6ITA9PT1lPzQ6MCwic3RyaW5nIj09dHlwZW9mIHQ/bi5pbnB1dD1oLnN0cmluZzJidWYodCk6IltvYmplY3QgQXJyYXlCdWZmZXJdIj09PXUuY2FsbCh0KT9uLmlucHV0PW5ldyBVaW50OEFycmF5KHQpOm4uaW5wdXQ9dCxuLm5leHRfaW49MCxuLmF2YWlsX2luPW4uaW5wdXQubGVuZ3RoO2Rve2lmKDA9PT1uLmF2YWlsX291dCYmKG4ub3V0cHV0PW5ldyBvLkJ1Zjgocyksbi5uZXh0X291dD0wLG4uYXZhaWxfb3V0PXMpLDEhPT0ocj1hLmRlZmxhdGUobixpKSkmJnIhPT1sKXJldHVybiB0aGlzLm9uRW5kKHIpLCEodGhpcy5lbmRlZD0hMCk7MCE9PW4uYXZhaWxfb3V0JiYoMCE9PW4uYXZhaWxfaW58fDQhPT1pJiYyIT09aSl8fCgic3RyaW5nIj09PXRoaXMub3B0aW9ucy50bz90aGlzLm9uRGF0YShoLmJ1ZjJiaW5zdHJpbmcoby5zaHJpbmtCdWYobi5vdXRwdXQsbi5uZXh0X291dCkpKTp0aGlzLm9uRGF0YShvLnNocmlua0J1ZihuLm91dHB1dCxuLm5leHRfb3V0KSkpfXdoaWxlKCgwPG4uYXZhaWxfaW58fDA9PT1uLmF2YWlsX291dCkmJjEhPT1yKTtyZXR1cm4gND09PWk/KHI9YS5kZWZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChyKSx0aGlzLmVuZGVkPSEwLHI9PT1sKToyIT09aXx8KHRoaXMub25FbmQobCksIShuLmF2YWlsX291dD0wKSl9LHAucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbih0KXt0aGlzLmNodW5rcy5wdXNoKHQpfSxwLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbih0KXt0PT09bCYmKCJzdHJpbmciPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oIiIpOnRoaXMucmVzdWx0PW8uZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcykpLHRoaXMuY2h1bmtzPVtdLHRoaXMuZXJyPXQsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZ30sci5EZWZsYXRlPXAsci5kZWZsYXRlPWksci5kZWZsYXRlUmF3PWZ1bmN0aW9uKHQsZSl7cmV0dXJuKGU9ZXx8e30pLnJhdz0hMCxpKHQsZSl9LHIuZ3ppcD1mdW5jdGlvbih0LGUpe3JldHVybihlPWV8fHt9KS5nemlwPSEwLGkodCxlKX19LHsiLi91dGlscy9jb21tb24iOjQxLCIuL3V0aWxzL3N0cmluZ3MiOjQyLCIuL3psaWIvZGVmbGF0ZSI6NDYsIi4vemxpYi9tZXNzYWdlcyI6NTEsIi4vemxpYi96c3RyZWFtIjo1M31dLDQwOltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBkPXQoIi4vemxpYi9pbmZsYXRlIiksYz10KCIuL3V0aWxzL2NvbW1vbiIpLHA9dCgiLi91dGlscy9zdHJpbmdzIiksbT10KCIuL3psaWIvY29uc3RhbnRzIiksaT10KCIuL3psaWIvbWVzc2FnZXMiKSxuPXQoIi4vemxpYi96c3RyZWFtIikscz10KCIuL3psaWIvZ3poZWFkZXIiKSxfPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gYSh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBhKSlyZXR1cm4gbmV3IGEodCk7dGhpcy5vcHRpb25zPWMuYXNzaWduKHtjaHVua1NpemU6MTYzODQsd2luZG93Qml0czowLHRvOiIifSx0fHx7fSk7dmFyIGU9dGhpcy5vcHRpb25zO2UucmF3JiYwPD1lLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNiYmKGUud2luZG93Qml0cz0tZS53aW5kb3dCaXRzLDA9PT1lLndpbmRvd0JpdHMmJihlLndpbmRvd0JpdHM9LTE1KSksISgwPD1lLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNil8fHQmJnQud2luZG93Qml0c3x8KGUud2luZG93Qml0cys9MzIpLDE1PGUud2luZG93Qml0cyYmZS53aW5kb3dCaXRzPDQ4JiYwPT0oMTUmZS53aW5kb3dCaXRzKSYmKGUud2luZG93Qml0c3w9MTUpLHRoaXMuZXJyPTAsdGhpcy5tc2c9IiIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IG4sdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciByPWQuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSxlLndpbmRvd0JpdHMpO2lmKHIhPT1tLlpfT0spdGhyb3cgbmV3IEVycm9yKGlbcl0pO3RoaXMuaGVhZGVyPW5ldyBzLGQuaW5mbGF0ZUdldEhlYWRlcih0aGlzLnN0cm0sdGhpcy5oZWFkZXIpfWZ1bmN0aW9uIG8odCxlKXt2YXIgcj1uZXcgYShlKTtpZihyLnB1c2godCwhMCksci5lcnIpdGhyb3cgci5tc2d8fGlbci5lcnJdO3JldHVybiByLnJlc3VsdH1hLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSl7dmFyIHIsaSxuLHMsYSxvLGg9dGhpcy5zdHJtLHU9dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxsPXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5LGY9ITE7aWYodGhpcy5lbmRlZClyZXR1cm4hMTtpPWU9PT1+fmU/ZTohMD09PWU/bS5aX0ZJTklTSDptLlpfTk9fRkxVU0gsInN0cmluZyI9PXR5cGVvZiB0P2guaW5wdXQ9cC5iaW5zdHJpbmcyYnVmKHQpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1fLmNhbGwodCk/aC5pbnB1dD1uZXcgVWludDhBcnJheSh0KTpoLmlucHV0PXQsaC5uZXh0X2luPTAsaC5hdmFpbF9pbj1oLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09aC5hdmFpbF9vdXQmJihoLm91dHB1dD1uZXcgYy5CdWY4KHUpLGgubmV4dF9vdXQ9MCxoLmF2YWlsX291dD11KSwocj1kLmluZmxhdGUoaCxtLlpfTk9fRkxVU0gpKT09PW0uWl9ORUVEX0RJQ1QmJmwmJihvPSJzdHJpbmciPT10eXBlb2YgbD9wLnN0cmluZzJidWYobCk6IltvYmplY3QgQXJyYXlCdWZmZXJdIj09PV8uY2FsbChsKT9uZXcgVWludDhBcnJheShsKTpsLHI9ZC5pbmZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sbykpLHI9PT1tLlpfQlVGX0VSUk9SJiYhMD09PWYmJihyPW0uWl9PSyxmPSExKSxyIT09bS5aX1NUUkVBTV9FTkQmJnIhPT1tLlpfT0spcmV0dXJuIHRoaXMub25FbmQociksISh0aGlzLmVuZGVkPSEwKTtoLm5leHRfb3V0JiYoMCE9PWguYXZhaWxfb3V0JiZyIT09bS5aX1NUUkVBTV9FTkQmJigwIT09aC5hdmFpbF9pbnx8aSE9PW0uWl9GSU5JU0gmJmkhPT1tLlpfU1lOQ19GTFVTSCl8fCgic3RyaW5nIj09PXRoaXMub3B0aW9ucy50bz8obj1wLnV0Zjhib3JkZXIoaC5vdXRwdXQsaC5uZXh0X291dCkscz1oLm5leHRfb3V0LW4sYT1wLmJ1ZjJzdHJpbmcoaC5vdXRwdXQsbiksaC5uZXh0X291dD1zLGguYXZhaWxfb3V0PXUtcyxzJiZjLmFycmF5U2V0KGgub3V0cHV0LGgub3V0cHV0LG4scywwKSx0aGlzLm9uRGF0YShhKSk6dGhpcy5vbkRhdGEoYy5zaHJpbmtCdWYoaC5vdXRwdXQsaC5uZXh0X291dCkpKSksMD09PWguYXZhaWxfaW4mJjA9PT1oLmF2YWlsX291dCYmKGY9ITApfXdoaWxlKCgwPGguYXZhaWxfaW58fDA9PT1oLmF2YWlsX291dCkmJnIhPT1tLlpfU1RSRUFNX0VORCk7cmV0dXJuIHI9PT1tLlpfU1RSRUFNX0VORCYmKGk9bS5aX0ZJTklTSCksaT09PW0uWl9GSU5JU0g/KHI9ZC5pbmZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChyKSx0aGlzLmVuZGVkPSEwLHI9PT1tLlpfT0spOmkhPT1tLlpfU1lOQ19GTFVTSHx8KHRoaXMub25FbmQobS5aX09LKSwhKGguYXZhaWxfb3V0PTApKX0sYS5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKHQpe3RoaXMuY2h1bmtzLnB1c2godCl9LGEucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKHQpe3Q9PT1tLlpfT0smJigic3RyaW5nIj09PXRoaXMub3B0aW9ucy50bz90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKCIiKTp0aGlzLnJlc3VsdD1jLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj10LHRoaXMubXNnPXRoaXMuc3RybS5tc2d9LHIuSW5mbGF0ZT1hLHIuaW5mbGF0ZT1vLHIuaW5mbGF0ZVJhdz1mdW5jdGlvbih0LGUpe3JldHVybihlPWV8fHt9KS5yYXc9ITAsbyh0LGUpfSxyLnVuZ3ppcD1vfSx7Ii4vdXRpbHMvY29tbW9uIjo0MSwiLi91dGlscy9zdHJpbmdzIjo0MiwiLi96bGliL2NvbnN0YW50cyI6NDQsIi4vemxpYi9nemhlYWRlciI6NDcsIi4vemxpYi9pbmZsYXRlIjo0OSwiLi96bGliL21lc3NhZ2VzIjo1MSwiLi96bGliL3pzdHJlYW0iOjUzfV0sNDE6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5JiYidW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQxNkFycmF5JiYidW5kZWZpbmVkIiE9dHlwZW9mIEludDMyQXJyYXk7ci5hc3NpZ249ZnVuY3Rpb24odCl7Zm9yKHZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtlLmxlbmd0aDspe3ZhciByPWUuc2hpZnQoKTtpZihyKXtpZigib2JqZWN0IiE9dHlwZW9mIHIpdGhyb3cgbmV3IFR5cGVFcnJvcihyKyJtdXN0IGJlIG5vbi1vYmplY3QiKTtmb3IodmFyIGkgaW4gcilyLmhhc093blByb3BlcnR5KGkpJiYodFtpXT1yW2ldKX19cmV0dXJuIHR9LHIuc2hyaW5rQnVmPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVuZ3RoPT09ZT90OnQuc3ViYXJyYXk/dC5zdWJhcnJheSgwLGUpOih0Lmxlbmd0aD1lLHQpfTt2YXIgbj17YXJyYXlTZXQ6ZnVuY3Rpb24odCxlLHIsaSxuKXtpZihlLnN1YmFycmF5JiZ0LnN1YmFycmF5KXQuc2V0KGUuc3ViYXJyYXkocixyK2kpLG4pO2Vsc2UgZm9yKHZhciBzPTA7czxpO3MrKyl0W24rc109ZVtyK3NdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKHQpe3ZhciBlLHIsaSxuLHMsYTtmb3IoZT1pPTAscj10Lmxlbmd0aDtlPHI7ZSsrKWkrPXRbZV0ubGVuZ3RoO2ZvcihhPW5ldyBVaW50OEFycmF5KGkpLGU9bj0wLHI9dC5sZW5ndGg7ZTxyO2UrKylzPXRbZV0sYS5zZXQocyxuKSxuKz1zLmxlbmd0aDtyZXR1cm4gYX19LHM9e2FycmF5U2V0OmZ1bmN0aW9uKHQsZSxyLGksbil7Zm9yKHZhciBzPTA7czxpO3MrKyl0W24rc109ZVtyK3NdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKHQpe3JldHVybltdLmNvbmNhdC5hcHBseShbXSx0KX19O3Iuc2V0VHlwZWQ9ZnVuY3Rpb24odCl7dD8oci5CdWY4PVVpbnQ4QXJyYXksci5CdWYxNj1VaW50MTZBcnJheSxyLkJ1ZjMyPUludDMyQXJyYXksci5hc3NpZ24ocixuKSk6KHIuQnVmOD1BcnJheSxyLkJ1ZjE2PUFycmF5LHIuQnVmMzI9QXJyYXksci5hc3NpZ24ocixzKSl9LHIuc2V0VHlwZWQoaSl9LHt9XSw0MjpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgaD10KCIuL2NvbW1vbiIpLG49ITAscz0hMDt0cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLFswXSl9Y2F0Y2godCl7bj0hMX10cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKX1jYXRjaCh0KXtzPSExfWZvcih2YXIgdT1uZXcgaC5CdWY4KDI1NiksaT0wO2k8MjU2O2krKyl1W2ldPTI1Mjw9aT82OjI0ODw9aT81OjI0MDw9aT80OjIyNDw9aT8zOjE5Mjw9aT8yOjE7ZnVuY3Rpb24gbCh0LGUpe2lmKGU8NjU1MzcmJih0LnN1YmFycmF5JiZzfHwhdC5zdWJhcnJheSYmbikpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxoLnNocmlua0J1Zih0LGUpKTtmb3IodmFyIHI9IiIsaT0wO2k8ZTtpKyspcis9U3RyaW5nLmZyb21DaGFyQ29kZSh0W2ldKTtyZXR1cm4gcn11WzI1NF09dVsyNTRdPTEsci5zdHJpbmcyYnVmPWZ1bmN0aW9uKHQpe3ZhciBlLHIsaSxuLHMsYT10Lmxlbmd0aCxvPTA7Zm9yKG49MDtuPGE7bisrKTU1Mjk2PT0oNjQ1MTImKHI9dC5jaGFyQ29kZUF0KG4pKSkmJm4rMTxhJiY1NjMyMD09KDY0NTEyJihpPXQuY2hhckNvZGVBdChuKzEpKSkmJihyPTY1NTM2KyhyLTU1Mjk2PDwxMCkrKGktNTYzMjApLG4rKyksbys9cjwxMjg/MTpyPDIwNDg/MjpyPDY1NTM2PzM6NDtmb3IoZT1uZXcgaC5CdWY4KG8pLG49cz0wO3M8bztuKyspNTUyOTY9PSg2NDUxMiYocj10LmNoYXJDb2RlQXQobikpKSYmbisxPGEmJjU2MzIwPT0oNjQ1MTImKGk9dC5jaGFyQ29kZUF0KG4rMSkpKSYmKHI9NjU1MzYrKHItNTUyOTY8PDEwKSsoaS01NjMyMCksbisrKSxyPDEyOD9lW3MrK109cjoocjwyMDQ4P2VbcysrXT0xOTJ8cj4+PjY6KHI8NjU1MzY/ZVtzKytdPTIyNHxyPj4+MTI6KGVbcysrXT0yNDB8cj4+PjE4LGVbcysrXT0xMjh8cj4+PjEyJjYzKSxlW3MrK109MTI4fHI+Pj42JjYzKSxlW3MrK109MTI4fDYzJnIpO3JldHVybiBlfSxyLmJ1ZjJiaW5zdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIGwodCx0Lmxlbmd0aCl9LHIuYmluc3RyaW5nMmJ1Zj1mdW5jdGlvbih0KXtmb3IodmFyIGU9bmV3IGguQnVmOCh0Lmxlbmd0aCkscj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyllW3JdPXQuY2hhckNvZGVBdChyKTtyZXR1cm4gZX0sci5idWYyc3RyaW5nPWZ1bmN0aW9uKHQsZSl7dmFyIHIsaSxuLHMsYT1lfHx0Lmxlbmd0aCxvPW5ldyBBcnJheSgyKmEpO2ZvcihyPWk9MDtyPGE7KWlmKChuPXRbcisrXSk8MTI4KW9baSsrXT1uO2Vsc2UgaWYoNDwocz11W25dKSlvW2krK109NjU1MzMscis9cy0xO2Vsc2V7Zm9yKG4mPTI9PT1zPzMxOjM9PT1zPzE1Ojc7MTxzJiZyPGE7KW49bjw8Nnw2MyZ0W3IrK10scy0tOzE8cz9vW2krK109NjU1MzM6bjw2NTUzNj9vW2krK109bjoobi09NjU1MzYsb1tpKytdPTU1Mjk2fG4+PjEwJjEwMjMsb1tpKytdPTU2MzIwfDEwMjMmbil9cmV0dXJuIGwobyxpKX0sci51dGY4Ym9yZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIHI7Zm9yKChlPWV8fHQubGVuZ3RoKT50Lmxlbmd0aCYmKGU9dC5sZW5ndGgpLHI9ZS0xOzA8PXImJjEyOD09KDE5MiZ0W3JdKTspci0tO3JldHVybiByPDA/ZTowPT09cj9lOnIrdVt0W3JdXT5lP3I6ZX19LHsiLi9jb21tb24iOjQxfV0sNDM6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLGkpe2Zvcih2YXIgbj02NTUzNSZ0fDAscz10Pj4+MTYmNjU1MzV8MCxhPTA7MCE9PXI7KXtmb3Ioci09YT0yZTM8cj8yZTM6cjtzPXMrKG49bitlW2krK118MCl8MCwtLWE7KTtuJT02NTUyMSxzJT02NTUyMX1yZXR1cm4gbnxzPDwxNnwwfX0se31dLDQ0OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz17Wl9OT19GTFVTSDowLFpfUEFSVElBTF9GTFVTSDoxLFpfU1lOQ19GTFVTSDoyLFpfRlVMTF9GTFVTSDozLFpfRklOSVNIOjQsWl9CTE9DSzo1LFpfVFJFRVM6NixaX09LOjAsWl9TVFJFQU1fRU5EOjEsWl9ORUVEX0RJQ1Q6MixaX0VSUk5POi0xLFpfU1RSRUFNX0VSUk9SOi0yLFpfREFUQV9FUlJPUjotMyxaX0JVRl9FUlJPUjotNSxaX05PX0NPTVBSRVNTSU9OOjAsWl9CRVNUX1NQRUVEOjEsWl9CRVNUX0NPTVBSRVNTSU9OOjksWl9ERUZBVUxUX0NPTVBSRVNTSU9OOi0xLFpfRklMVEVSRUQ6MSxaX0hVRkZNQU5fT05MWToyLFpfUkxFOjMsWl9GSVhFRDo0LFpfREVGQVVMVF9TVFJBVEVHWTowLFpfQklOQVJZOjAsWl9URVhUOjEsWl9VTktOT1dOOjIsWl9ERUZMQVRFRDo4fX0se31dLDQ1OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBvPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGU9W10scj0wO3I8MjU2O3IrKyl7dD1yO2Zvcih2YXIgaT0wO2k8ODtpKyspdD0xJnQ/Mzk4ODI5MjM4NF50Pj4+MTp0Pj4+MTtlW3JdPXR9cmV0dXJuIGV9KCk7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLGkpe3ZhciBuPW8scz1pK3I7dF49LTE7Zm9yKHZhciBhPWk7YTxzO2ErKyl0PXQ+Pj44Xm5bMjU1Jih0XmVbYV0pXTtyZXR1cm4tMV50fX0se31dLDQ2OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBoLGQ9dCgiLi4vdXRpbHMvY29tbW9uIiksdT10KCIuL3RyZWVzIiksYz10KCIuL2FkbGVyMzIiKSxwPXQoIi4vY3JjMzIiKSxpPXQoIi4vbWVzc2FnZXMiKSxsPTAsZj00LG09MCxfPS0yLGc9LTEsYj00LG49Mix2PTgseT05LHM9Mjg2LGE9MzAsbz0xOSx3PTIqcysxLGs9MTUseD0zLFM9MjU4LHo9Uyt4KzEsQz00MixFPTExMyxBPTEsST0yLE89MyxCPTQ7ZnVuY3Rpb24gUih0LGUpe3JldHVybiB0Lm1zZz1pW2VdLGV9ZnVuY3Rpb24gVCh0KXtyZXR1cm4odDw8MSktKDQ8dD85OjApfWZ1bmN0aW9uIEQodCl7Zm9yKHZhciBlPXQubGVuZ3RoOzA8PS0tZTspdFtlXT0wfWZ1bmN0aW9uIEYodCl7dmFyIGU9dC5zdGF0ZSxyPWUucGVuZGluZztyPnQuYXZhaWxfb3V0JiYocj10LmF2YWlsX291dCksMCE9PXImJihkLmFycmF5U2V0KHQub3V0cHV0LGUucGVuZGluZ19idWYsZS5wZW5kaW5nX291dCxyLHQubmV4dF9vdXQpLHQubmV4dF9vdXQrPXIsZS5wZW5kaW5nX291dCs9cix0LnRvdGFsX291dCs9cix0LmF2YWlsX291dC09cixlLnBlbmRpbmctPXIsMD09PWUucGVuZGluZyYmKGUucGVuZGluZ19vdXQ9MCkpfWZ1bmN0aW9uIE4odCxlKXt1Ll90cl9mbHVzaF9ibG9jayh0LDA8PXQuYmxvY2tfc3RhcnQ/dC5ibG9ja19zdGFydDotMSx0LnN0cnN0YXJ0LXQuYmxvY2tfc3RhcnQsZSksdC5ibG9ja19zdGFydD10LnN0cnN0YXJ0LEYodC5zdHJtKX1mdW5jdGlvbiBVKHQsZSl7dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZX1mdW5jdGlvbiBQKHQsZSl7dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZT4+PjgmMjU1LHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPTI1NSZlfWZ1bmN0aW9uIEwodCxlKXt2YXIgcixpLG49dC5tYXhfY2hhaW5fbGVuZ3RoLHM9dC5zdHJzdGFydCxhPXQucHJldl9sZW5ndGgsbz10Lm5pY2VfbWF0Y2gsaD10LnN0cnN0YXJ0PnQud19zaXplLXo/dC5zdHJzdGFydC0odC53X3NpemUteik6MCx1PXQud2luZG93LGw9dC53X21hc2ssZj10LnByZXYsZD10LnN0cnN0YXJ0K1MsYz11W3MrYS0xXSxwPXVbcythXTt0LnByZXZfbGVuZ3RoPj10Lmdvb2RfbWF0Y2gmJihuPj49Miksbz50Lmxvb2thaGVhZCYmKG89dC5sb29rYWhlYWQpO2Rve2lmKHVbKHI9ZSkrYV09PT1wJiZ1W3IrYS0xXT09PWMmJnVbcl09PT11W3NdJiZ1Wysrcl09PT11W3MrMV0pe3MrPTIscisrO2Rve313aGlsZSh1Wysrc109PT11Wysrcl0mJnVbKytzXT09PXVbKytyXSYmdVsrK3NdPT09dVsrK3JdJiZ1Wysrc109PT11Wysrcl0mJnVbKytzXT09PXVbKytyXSYmdVsrK3NdPT09dVsrK3JdJiZ1Wysrc109PT11Wysrcl0mJnVbKytzXT09PXVbKytyXSYmczxkKTtpZihpPVMtKGQtcykscz1kLVMsYTxpKXtpZih0Lm1hdGNoX3N0YXJ0PWUsbzw9KGE9aSkpYnJlYWs7Yz11W3MrYS0xXSxwPXVbcythXX19fXdoaWxlKChlPWZbZSZsXSk+aCYmMCE9LS1uKTtyZXR1cm4gYTw9dC5sb29rYWhlYWQ/YTp0Lmxvb2thaGVhZH1mdW5jdGlvbiBqKHQpe3ZhciBlLHIsaSxuLHMsYSxvLGgsdSxsLGY9dC53X3NpemU7ZG97aWYobj10LndpbmRvd19zaXplLXQubG9va2FoZWFkLXQuc3Ryc3RhcnQsdC5zdHJzdGFydD49ZisoZi16KSl7Zm9yKGQuYXJyYXlTZXQodC53aW5kb3csdC53aW5kb3csZixmLDApLHQubWF0Y2hfc3RhcnQtPWYsdC5zdHJzdGFydC09Zix0LmJsb2NrX3N0YXJ0LT1mLGU9cj10Lmhhc2hfc2l6ZTtpPXQuaGVhZFstLWVdLHQuaGVhZFtlXT1mPD1pP2ktZjowLC0tcjspO2ZvcihlPXI9ZjtpPXQucHJldlstLWVdLHQucHJldltlXT1mPD1pP2ktZjowLC0tcjspO24rPWZ9aWYoMD09PXQuc3RybS5hdmFpbF9pbilicmVhaztpZihhPXQuc3RybSxvPXQud2luZG93LGg9dC5zdHJzdGFydCt0Lmxvb2thaGVhZCx1PW4sbD12b2lkIDAsbD1hLmF2YWlsX2luLHU8bCYmKGw9dSkscj0wPT09bD8wOihhLmF2YWlsX2luLT1sLGQuYXJyYXlTZXQobyxhLmlucHV0LGEubmV4dF9pbixsLGgpLDE9PT1hLnN0YXRlLndyYXA/YS5hZGxlcj1jKGEuYWRsZXIsbyxsLGgpOjI9PT1hLnN0YXRlLndyYXAmJihhLmFkbGVyPXAoYS5hZGxlcixvLGwsaCkpLGEubmV4dF9pbis9bCxhLnRvdGFsX2luKz1sLGwpLHQubG9va2FoZWFkKz1yLHQubG9va2FoZWFkK3QuaW5zZXJ0Pj14KWZvcihzPXQuc3Ryc3RhcnQtdC5pbnNlcnQsdC5pbnNfaD10LndpbmRvd1tzXSx0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbcysxXSkmdC5oYXNoX21hc2s7dC5pbnNlcnQmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbcyt4LTFdKSZ0Lmhhc2hfbWFzayx0LnByZXZbcyZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT1zLHMrKyx0Lmluc2VydC0tLCEodC5sb29rYWhlYWQrdC5pbnNlcnQ8eCkpOyk7fXdoaWxlKHQubG9va2FoZWFkPHomJjAhPT10LnN0cm0uYXZhaWxfaW4pfWZ1bmN0aW9uIFoodCxlKXtmb3IodmFyIHIsaTs7KXtpZih0Lmxvb2thaGVhZDx6KXtpZihqKHQpLHQubG9va2FoZWFkPHomJmU9PT1sKXJldHVybiBBO2lmKDA9PT10Lmxvb2thaGVhZClicmVha31pZihyPTAsdC5sb29rYWhlYWQ+PXgmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbdC5zdHJzdGFydCt4LTFdKSZ0Lmhhc2hfbWFzayxyPXQucHJldlt0LnN0cnN0YXJ0JnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPXQuc3Ryc3RhcnQpLDAhPT1yJiZ0LnN0cnN0YXJ0LXI8PXQud19zaXplLXomJih0Lm1hdGNoX2xlbmd0aD1MKHQscikpLHQubWF0Y2hfbGVuZ3RoPj14KWlmKGk9dS5fdHJfdGFsbHkodCx0LnN0cnN0YXJ0LXQubWF0Y2hfc3RhcnQsdC5tYXRjaF9sZW5ndGgteCksdC5sb29rYWhlYWQtPXQubWF0Y2hfbGVuZ3RoLHQubWF0Y2hfbGVuZ3RoPD10Lm1heF9sYXp5X21hdGNoJiZ0Lmxvb2thaGVhZD49eCl7Zm9yKHQubWF0Y2hfbGVuZ3RoLS07dC5zdHJzdGFydCsrLHQuaW5zX2g9KHQuaW5zX2g8PHQuaGFzaF9zaGlmdF50LndpbmRvd1t0LnN0cnN0YXJ0K3gtMV0pJnQuaGFzaF9tYXNrLHI9dC5wcmV2W3Quc3Ryc3RhcnQmdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09dC5zdHJzdGFydCwwIT0tLXQubWF0Y2hfbGVuZ3RoOyk7dC5zdHJzdGFydCsrfWVsc2UgdC5zdHJzdGFydCs9dC5tYXRjaF9sZW5ndGgsdC5tYXRjaF9sZW5ndGg9MCx0Lmluc19oPXQud2luZG93W3Quc3Ryc3RhcnRdLHQuaW5zX2g9KHQuaW5zX2g8PHQuaGFzaF9zaGlmdF50LndpbmRvd1t0LnN0cnN0YXJ0KzFdKSZ0Lmhhc2hfbWFzaztlbHNlIGk9dS5fdHJfdGFsbHkodCwwLHQud2luZG93W3Quc3Ryc3RhcnRdKSx0Lmxvb2thaGVhZC0tLHQuc3Ryc3RhcnQrKztpZihpJiYoTih0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8eC0xP3Quc3Ryc3RhcnQ6eC0xLGU9PT1mPyhOKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P086Qik6dC5sYXN0X2xpdCYmKE4odCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6SX1mdW5jdGlvbiBXKHQsZSl7Zm9yKHZhciByLGksbjs7KXtpZih0Lmxvb2thaGVhZDx6KXtpZihqKHQpLHQubG9va2FoZWFkPHomJmU9PT1sKXJldHVybiBBO2lmKDA9PT10Lmxvb2thaGVhZClicmVha31pZihyPTAsdC5sb29rYWhlYWQ+PXgmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbdC5zdHJzdGFydCt4LTFdKSZ0Lmhhc2hfbWFzayxyPXQucHJldlt0LnN0cnN0YXJ0JnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPXQuc3Ryc3RhcnQpLHQucHJldl9sZW5ndGg9dC5tYXRjaF9sZW5ndGgsdC5wcmV2X21hdGNoPXQubWF0Y2hfc3RhcnQsdC5tYXRjaF9sZW5ndGg9eC0xLDAhPT1yJiZ0LnByZXZfbGVuZ3RoPHQubWF4X2xhenlfbWF0Y2gmJnQuc3Ryc3RhcnQtcjw9dC53X3NpemUteiYmKHQubWF0Y2hfbGVuZ3RoPUwodCxyKSx0Lm1hdGNoX2xlbmd0aDw9NSYmKDE9PT10LnN0cmF0ZWd5fHx0Lm1hdGNoX2xlbmd0aD09PXgmJjQwOTY8dC5zdHJzdGFydC10Lm1hdGNoX3N0YXJ0KSYmKHQubWF0Y2hfbGVuZ3RoPXgtMSkpLHQucHJldl9sZW5ndGg+PXgmJnQubWF0Y2hfbGVuZ3RoPD10LnByZXZfbGVuZ3RoKXtmb3Iobj10LnN0cnN0YXJ0K3QubG9va2FoZWFkLXgsaT11Ll90cl90YWxseSh0LHQuc3Ryc3RhcnQtMS10LnByZXZfbWF0Y2gsdC5wcmV2X2xlbmd0aC14KSx0Lmxvb2thaGVhZC09dC5wcmV2X2xlbmd0aC0xLHQucHJldl9sZW5ndGgtPTI7Kyt0LnN0cnN0YXJ0PD1uJiYodC5pbnNfaD0odC5pbnNfaDw8dC5oYXNoX3NoaWZ0XnQud2luZG93W3Quc3Ryc3RhcnQreC0xXSkmdC5oYXNoX21hc2sscj10LnByZXZbdC5zdHJzdGFydCZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT10LnN0cnN0YXJ0KSwwIT0tLXQucHJldl9sZW5ndGg7KTtpZih0Lm1hdGNoX2F2YWlsYWJsZT0wLHQubWF0Y2hfbGVuZ3RoPXgtMSx0LnN0cnN0YXJ0KyssaSYmKE4odCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBfWVsc2UgaWYodC5tYXRjaF9hdmFpbGFibGUpe2lmKChpPXUuX3RyX3RhbGx5KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0LTFdKSkmJk4odCwhMSksdC5zdHJzdGFydCsrLHQubG9va2FoZWFkLS0sMD09PXQuc3RybS5hdmFpbF9vdXQpcmV0dXJuIEF9ZWxzZSB0Lm1hdGNoX2F2YWlsYWJsZT0xLHQuc3Ryc3RhcnQrKyx0Lmxvb2thaGVhZC0tfXJldHVybiB0Lm1hdGNoX2F2YWlsYWJsZSYmKGk9dS5fdHJfdGFsbHkodCwwLHQud2luZG93W3Quc3Ryc3RhcnQtMV0pLHQubWF0Y2hfYXZhaWxhYmxlPTApLHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8eC0xP3Quc3Ryc3RhcnQ6eC0xLGU9PT1mPyhOKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P086Qik6dC5sYXN0X2xpdCYmKE4odCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6SX1mdW5jdGlvbiBNKHQsZSxyLGksbil7dGhpcy5nb29kX2xlbmd0aD10LHRoaXMubWF4X2xhenk9ZSx0aGlzLm5pY2VfbGVuZ3RoPXIsdGhpcy5tYXhfY2hhaW49aSx0aGlzLmZ1bmM9bn1mdW5jdGlvbiBIKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9dix0aGlzLmxhc3RfZmx1c2g9LTEsdGhpcy53X3NpemU9MCx0aGlzLndfYml0cz0wLHRoaXMud19tYXNrPTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLndpbmRvd19zaXplPTAsdGhpcy5wcmV2PW51bGwsdGhpcy5oZWFkPW51bGwsdGhpcy5pbnNfaD0wLHRoaXMuaGFzaF9zaXplPTAsdGhpcy5oYXNoX2JpdHM9MCx0aGlzLmhhc2hfbWFzaz0wLHRoaXMuaGFzaF9zaGlmdD0wLHRoaXMuYmxvY2tfc3RhcnQ9MCx0aGlzLm1hdGNoX2xlbmd0aD0wLHRoaXMucHJldl9tYXRjaD0wLHRoaXMubWF0Y2hfYXZhaWxhYmxlPTAsdGhpcy5zdHJzdGFydD0wLHRoaXMubWF0Y2hfc3RhcnQ9MCx0aGlzLmxvb2thaGVhZD0wLHRoaXMucHJldl9sZW5ndGg9MCx0aGlzLm1heF9jaGFpbl9sZW5ndGg9MCx0aGlzLm1heF9sYXp5X21hdGNoPTAsdGhpcy5sZXZlbD0wLHRoaXMuc3RyYXRlZ3k9MCx0aGlzLmdvb2RfbWF0Y2g9MCx0aGlzLm5pY2VfbWF0Y2g9MCx0aGlzLmR5bl9sdHJlZT1uZXcgZC5CdWYxNigyKncpLHRoaXMuZHluX2R0cmVlPW5ldyBkLkJ1ZjE2KDIqKDIqYSsxKSksdGhpcy5ibF90cmVlPW5ldyBkLkJ1ZjE2KDIqKDIqbysxKSksRCh0aGlzLmR5bl9sdHJlZSksRCh0aGlzLmR5bl9kdHJlZSksRCh0aGlzLmJsX3RyZWUpLHRoaXMubF9kZXNjPW51bGwsdGhpcy5kX2Rlc2M9bnVsbCx0aGlzLmJsX2Rlc2M9bnVsbCx0aGlzLmJsX2NvdW50PW5ldyBkLkJ1ZjE2KGsrMSksdGhpcy5oZWFwPW5ldyBkLkJ1ZjE2KDIqcysxKSxEKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyBkLkJ1ZjE2KDIqcysxKSxEKHRoaXMuZGVwdGgpLHRoaXMubF9idWY9MCx0aGlzLmxpdF9idWZzaXplPTAsdGhpcy5sYXN0X2xpdD0wLHRoaXMuZF9idWY9MCx0aGlzLm9wdF9sZW49MCx0aGlzLnN0YXRpY19sZW49MCx0aGlzLm1hdGNoZXM9MCx0aGlzLmluc2VydD0wLHRoaXMuYmlfYnVmPTAsdGhpcy5iaV92YWxpZD0wfWZ1bmN0aW9uIEcodCl7dmFyIGU7cmV0dXJuIHQmJnQuc3RhdGU/KHQudG90YWxfaW49dC50b3RhbF9vdXQ9MCx0LmRhdGFfdHlwZT1uLChlPXQuc3RhdGUpLnBlbmRpbmc9MCxlLnBlbmRpbmdfb3V0PTAsZS53cmFwPDAmJihlLndyYXA9LWUud3JhcCksZS5zdGF0dXM9ZS53cmFwP0M6RSx0LmFkbGVyPTI9PT1lLndyYXA/MDoxLGUubGFzdF9mbHVzaD1sLHUuX3RyX2luaXQoZSksbSk6Uih0LF8pfWZ1bmN0aW9uIEsodCl7dmFyIGU9Ryh0KTtyZXR1cm4gZT09PW0mJmZ1bmN0aW9uKHQpe3Qud2luZG93X3NpemU9Mip0Lndfc2l6ZSxEKHQuaGVhZCksdC5tYXhfbGF6eV9tYXRjaD1oW3QubGV2ZWxdLm1heF9sYXp5LHQuZ29vZF9tYXRjaD1oW3QubGV2ZWxdLmdvb2RfbGVuZ3RoLHQubmljZV9tYXRjaD1oW3QubGV2ZWxdLm5pY2VfbGVuZ3RoLHQubWF4X2NoYWluX2xlbmd0aD1oW3QubGV2ZWxdLm1heF9jaGFpbix0LnN0cnN0YXJ0PTAsdC5ibG9ja19zdGFydD0wLHQubG9va2FoZWFkPTAsdC5pbnNlcnQ9MCx0Lm1hdGNoX2xlbmd0aD10LnByZXZfbGVuZ3RoPXgtMSx0Lm1hdGNoX2F2YWlsYWJsZT0wLHQuaW5zX2g9MH0odC5zdGF0ZSksZX1mdW5jdGlvbiBZKHQsZSxyLGksbixzKXtpZighdClyZXR1cm4gXzt2YXIgYT0xO2lmKGU9PT1nJiYoZT02KSxpPDA/KGE9MCxpPS1pKToxNTxpJiYoYT0yLGktPTE2KSxuPDF8fHk8bnx8ciE9PXZ8fGk8OHx8MTU8aXx8ZTwwfHw5PGV8fHM8MHx8YjxzKXJldHVybiBSKHQsXyk7OD09PWkmJihpPTkpO3ZhciBvPW5ldyBIO3JldHVybih0LnN0YXRlPW8pLnN0cm09dCxvLndyYXA9YSxvLmd6aGVhZD1udWxsLG8ud19iaXRzPWksby53X3NpemU9MTw8by53X2JpdHMsby53X21hc2s9by53X3NpemUtMSxvLmhhc2hfYml0cz1uKzcsby5oYXNoX3NpemU9MTw8by5oYXNoX2JpdHMsby5oYXNoX21hc2s9by5oYXNoX3NpemUtMSxvLmhhc2hfc2hpZnQ9fn4oKG8uaGFzaF9iaXRzK3gtMSkveCksby53aW5kb3c9bmV3IGQuQnVmOCgyKm8ud19zaXplKSxvLmhlYWQ9bmV3IGQuQnVmMTYoby5oYXNoX3NpemUpLG8ucHJldj1uZXcgZC5CdWYxNihvLndfc2l6ZSksby5saXRfYnVmc2l6ZT0xPDxuKzYsby5wZW5kaW5nX2J1Zl9zaXplPTQqby5saXRfYnVmc2l6ZSxvLnBlbmRpbmdfYnVmPW5ldyBkLkJ1Zjgoby5wZW5kaW5nX2J1Zl9zaXplKSxvLmRfYnVmPTEqby5saXRfYnVmc2l6ZSxvLmxfYnVmPTMqby5saXRfYnVmc2l6ZSxvLmxldmVsPWUsby5zdHJhdGVneT1zLG8ubWV0aG9kPXIsSyh0KX1oPVtuZXcgTSgwLDAsMCwwLGZ1bmN0aW9uKHQsZSl7dmFyIHI9NjU1MzU7Zm9yKHI+dC5wZW5kaW5nX2J1Zl9zaXplLTUmJihyPXQucGVuZGluZ19idWZfc2l6ZS01KTs7KXtpZih0Lmxvb2thaGVhZDw9MSl7aWYoaih0KSwwPT09dC5sb29rYWhlYWQmJmU9PT1sKXJldHVybiBBO2lmKDA9PT10Lmxvb2thaGVhZClicmVha310LnN0cnN0YXJ0Kz10Lmxvb2thaGVhZCx0Lmxvb2thaGVhZD0wO3ZhciBpPXQuYmxvY2tfc3RhcnQrcjtpZigoMD09PXQuc3Ryc3RhcnR8fHQuc3Ryc3RhcnQ+PWkpJiYodC5sb29rYWhlYWQ9dC5zdHJzdGFydC1pLHQuc3Ryc3RhcnQ9aSxOKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQTtpZih0LnN0cnN0YXJ0LXQuYmxvY2tfc3RhcnQ+PXQud19zaXplLXomJihOKHQsITEpLDA9PT10LnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQX1yZXR1cm4gdC5pbnNlcnQ9MCxlPT09Zj8oTih0LCEwKSwwPT09dC5zdHJtLmF2YWlsX291dD9POkIpOih0LnN0cnN0YXJ0PnQuYmxvY2tfc3RhcnQmJihOKHQsITEpLHQuc3RybS5hdmFpbF9vdXQpLEEpfSksbmV3IE0oNCw0LDgsNCxaKSxuZXcgTSg0LDUsMTYsOCxaKSxuZXcgTSg0LDYsMzIsMzIsWiksbmV3IE0oNCw0LDE2LDE2LFcpLG5ldyBNKDgsMTYsMzIsMzIsVyksbmV3IE0oOCwxNiwxMjgsMTI4LFcpLG5ldyBNKDgsMzIsMTI4LDI1NixXKSxuZXcgTSgzMiwxMjgsMjU4LDEwMjQsVyksbmV3IE0oMzIsMjU4LDI1OCw0MDk2LFcpXSxyLmRlZmxhdGVJbml0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFkodCxlLHYsMTUsOCwwKX0sci5kZWZsYXRlSW5pdDI9WSxyLmRlZmxhdGVSZXNldD1LLHIuZGVmbGF0ZVJlc2V0S2VlcD1HLHIuZGVmbGF0ZVNldEhlYWRlcj1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0LnN0YXRlPzIhPT10LnN0YXRlLndyYXA/XzoodC5zdGF0ZS5nemhlYWQ9ZSxtKTpffSxyLmRlZmxhdGU9ZnVuY3Rpb24odCxlKXt2YXIgcixpLG4scztpZighdHx8IXQuc3RhdGV8fDU8ZXx8ZTwwKXJldHVybiB0P1IodCxfKTpfO2lmKGk9dC5zdGF0ZSwhdC5vdXRwdXR8fCF0LmlucHV0JiYwIT09dC5hdmFpbF9pbnx8NjY2PT09aS5zdGF0dXMmJmUhPT1mKXJldHVybiBSKHQsMD09PXQuYXZhaWxfb3V0Py01Ol8pO2lmKGkuc3RybT10LHI9aS5sYXN0X2ZsdXNoLGkubGFzdF9mbHVzaD1lLGkuc3RhdHVzPT09QylpZigyPT09aS53cmFwKXQuYWRsZXI9MCxVKGksMzEpLFUoaSwxMzkpLFUoaSw4KSxpLmd6aGVhZD8oVShpLChpLmd6aGVhZC50ZXh0PzE6MCkrKGkuZ3poZWFkLmhjcmM/MjowKSsoaS5nemhlYWQuZXh0cmE/NDowKSsoaS5nemhlYWQubmFtZT84OjApKyhpLmd6aGVhZC5jb21tZW50PzE2OjApKSxVKGksMjU1JmkuZ3poZWFkLnRpbWUpLFUoaSxpLmd6aGVhZC50aW1lPj44JjI1NSksVShpLGkuZ3poZWFkLnRpbWU+PjE2JjI1NSksVShpLGkuZ3poZWFkLnRpbWU+PjI0JjI1NSksVShpLDk9PT1pLmxldmVsPzI6Mjw9aS5zdHJhdGVneXx8aS5sZXZlbDwyPzQ6MCksVShpLDI1NSZpLmd6aGVhZC5vcyksaS5nemhlYWQuZXh0cmEmJmkuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKFUoaSwyNTUmaS5nemhlYWQuZXh0cmEubGVuZ3RoKSxVKGksaS5nemhlYWQuZXh0cmEubGVuZ3RoPj44JjI1NSkpLGkuZ3poZWFkLmhjcmMmJih0LmFkbGVyPXAodC5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZywwKSksaS5nemluZGV4PTAsaS5zdGF0dXM9NjkpOihVKGksMCksVShpLDApLFUoaSwwKSxVKGksMCksVShpLDApLFUoaSw5PT09aS5sZXZlbD8yOjI8PWkuc3RyYXRlZ3l8fGkubGV2ZWw8Mj80OjApLFUoaSwzKSxpLnN0YXR1cz1FKTtlbHNle3ZhciBhPXYrKGkud19iaXRzLTg8PDQpPDw4O2F8PSgyPD1pLnN0cmF0ZWd5fHxpLmxldmVsPDI/MDppLmxldmVsPDY/MTo2PT09aS5sZXZlbD8yOjMpPDw2LDAhPT1pLnN0cnN0YXJ0JiYoYXw9MzIpLGErPTMxLWElMzEsaS5zdGF0dXM9RSxQKGksYSksMCE9PWkuc3Ryc3RhcnQmJihQKGksdC5hZGxlcj4+PjE2KSxQKGksNjU1MzUmdC5hZGxlcikpLHQuYWRsZXI9MX1pZig2OT09PWkuc3RhdHVzKWlmKGkuZ3poZWFkLmV4dHJhKXtmb3Iobj1pLnBlbmRpbmc7aS5nemluZGV4PCg2NTUzNSZpLmd6aGVhZC5leHRyYS5sZW5ndGgpJiYoaS5wZW5kaW5nIT09aS5wZW5kaW5nX2J1Zl9zaXplfHwoaS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm4mJih0LmFkbGVyPXAodC5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1uLG4pKSxGKHQpLG49aS5wZW5kaW5nLGkucGVuZGluZyE9PWkucGVuZGluZ19idWZfc2l6ZSkpOylVKGksMjU1JmkuZ3poZWFkLmV4dHJhW2kuZ3ppbmRleF0pLGkuZ3ppbmRleCsrO2kuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYodC5hZGxlcj1wKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksaS5nemluZGV4PT09aS5nemhlYWQuZXh0cmEubGVuZ3RoJiYoaS5nemluZGV4PTAsaS5zdGF0dXM9NzMpfWVsc2UgaS5zdGF0dXM9NzM7aWYoNzM9PT1pLnN0YXR1cylpZihpLmd6aGVhZC5uYW1lKXtuPWkucGVuZGluZztkb3tpZihpLnBlbmRpbmc9PT1pLnBlbmRpbmdfYnVmX3NpemUmJihpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKHQuYWRsZXI9cCh0LmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLEYodCksbj1pLnBlbmRpbmcsaS5wZW5kaW5nPT09aS5wZW5kaW5nX2J1Zl9zaXplKSl7cz0xO2JyZWFrfXM9aS5nemluZGV4PGkuZ3poZWFkLm5hbWUubGVuZ3RoPzI1NSZpLmd6aGVhZC5uYW1lLmNoYXJDb2RlQXQoaS5nemluZGV4KyspOjAsVShpLHMpfXdoaWxlKDAhPT1zKTtpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKHQuYWRsZXI9cCh0LmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLDA9PT1zJiYoaS5nemluZGV4PTAsaS5zdGF0dXM9OTEpfWVsc2UgaS5zdGF0dXM9OTE7aWYoOTE9PT1pLnN0YXR1cylpZihpLmd6aGVhZC5jb21tZW50KXtuPWkucGVuZGluZztkb3tpZihpLnBlbmRpbmc9PT1pLnBlbmRpbmdfYnVmX3NpemUmJihpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKHQuYWRsZXI9cCh0LmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLEYodCksbj1pLnBlbmRpbmcsaS5wZW5kaW5nPT09aS5wZW5kaW5nX2J1Zl9zaXplKSl7cz0xO2JyZWFrfXM9aS5nemluZGV4PGkuZ3poZWFkLmNvbW1lbnQubGVuZ3RoPzI1NSZpLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQoaS5nemluZGV4KyspOjAsVShpLHMpfXdoaWxlKDAhPT1zKTtpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKHQuYWRsZXI9cCh0LmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLDA9PT1zJiYoaS5zdGF0dXM9MTAzKX1lbHNlIGkuc3RhdHVzPTEwMztpZigxMDM9PT1pLnN0YXR1cyYmKGkuZ3poZWFkLmhjcmM/KGkucGVuZGluZysyPmkucGVuZGluZ19idWZfc2l6ZSYmRih0KSxpLnBlbmRpbmcrMjw9aS5wZW5kaW5nX2J1Zl9zaXplJiYoVShpLDI1NSZ0LmFkbGVyKSxVKGksdC5hZGxlcj4+OCYyNTUpLHQuYWRsZXI9MCxpLnN0YXR1cz1FKSk6aS5zdGF0dXM9RSksMCE9PWkucGVuZGluZyl7aWYoRih0KSwwPT09dC5hdmFpbF9vdXQpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSxtfWVsc2UgaWYoMD09PXQuYXZhaWxfaW4mJlQoZSk8PVQocikmJmUhPT1mKXJldHVybiBSKHQsLTUpO2lmKDY2Nj09PWkuc3RhdHVzJiYwIT09dC5hdmFpbF9pbilyZXR1cm4gUih0LC01KTtpZigwIT09dC5hdmFpbF9pbnx8MCE9PWkubG9va2FoZWFkfHxlIT09bCYmNjY2IT09aS5zdGF0dXMpe3ZhciBvPTI9PT1pLnN0cmF0ZWd5P2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciByOzspe2lmKDA9PT10Lmxvb2thaGVhZCYmKGoodCksMD09PXQubG9va2FoZWFkKSl7aWYoZT09PWwpcmV0dXJuIEE7YnJlYWt9aWYodC5tYXRjaF9sZW5ndGg9MCxyPXUuX3RyX3RhbGx5KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0XSksdC5sb29rYWhlYWQtLSx0LnN0cnN0YXJ0KyssciYmKE4odCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBfXJldHVybiB0Lmluc2VydD0wLGU9PT1mPyhOKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P086Qik6dC5sYXN0X2xpdCYmKE4odCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6SX0oaSxlKTozPT09aS5zdHJhdGVneT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgcixpLG4scyxhPXQud2luZG93Ozspe2lmKHQubG9va2FoZWFkPD1TKXtpZihqKHQpLHQubG9va2FoZWFkPD1TJiZlPT09bClyZXR1cm4gQTtpZigwPT09dC5sb29rYWhlYWQpYnJlYWt9aWYodC5tYXRjaF9sZW5ndGg9MCx0Lmxvb2thaGVhZD49eCYmMDx0LnN0cnN0YXJ0JiYoaT1hW249dC5zdHJzdGFydC0xXSk9PT1hWysrbl0mJmk9PT1hWysrbl0mJmk9PT1hWysrbl0pe3M9dC5zdHJzdGFydCtTO2Rve313aGlsZShpPT09YVsrK25dJiZpPT09YVsrK25dJiZpPT09YVsrK25dJiZpPT09YVsrK25dJiZpPT09YVsrK25dJiZpPT09YVsrK25dJiZpPT09YVsrK25dJiZpPT09YVsrK25dJiZuPHMpO3QubWF0Y2hfbGVuZ3RoPVMtKHMtbiksdC5tYXRjaF9sZW5ndGg+dC5sb29rYWhlYWQmJih0Lm1hdGNoX2xlbmd0aD10Lmxvb2thaGVhZCl9aWYodC5tYXRjaF9sZW5ndGg+PXg/KHI9dS5fdHJfdGFsbHkodCwxLHQubWF0Y2hfbGVuZ3RoLXgpLHQubG9va2FoZWFkLT10Lm1hdGNoX2xlbmd0aCx0LnN0cnN0YXJ0Kz10Lm1hdGNoX2xlbmd0aCx0Lm1hdGNoX2xlbmd0aD0wKToocj11Ll90cl90YWxseSh0LDAsdC53aW5kb3dbdC5zdHJzdGFydF0pLHQubG9va2FoZWFkLS0sdC5zdHJzdGFydCsrKSxyJiYoTih0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIHQuaW5zZXJ0PTAsZT09PWY/KE4odCwhMCksMD09PXQuc3RybS5hdmFpbF9vdXQ/TzpCKTp0Lmxhc3RfbGl0JiYoTih0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCk/QTpJfShpLGUpOmhbaS5sZXZlbF0uZnVuYyhpLGUpO2lmKG8hPT1PJiZvIT09Qnx8KGkuc3RhdHVzPTY2Niksbz09PUF8fG89PT1PKXJldHVybiAwPT09dC5hdmFpbF9vdXQmJihpLmxhc3RfZmx1c2g9LTEpLG07aWYobz09PUkmJigxPT09ZT91Ll90cl9hbGlnbihpKTo1IT09ZSYmKHUuX3RyX3N0b3JlZF9ibG9jayhpLDAsMCwhMSksMz09PWUmJihEKGkuaGVhZCksMD09PWkubG9va2FoZWFkJiYoaS5zdHJzdGFydD0wLGkuYmxvY2tfc3RhcnQ9MCxpLmluc2VydD0wKSkpLEYodCksMD09PXQuYXZhaWxfb3V0KSlyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLG19cmV0dXJuIGUhPT1mP206aS53cmFwPD0wPzE6KDI9PT1pLndyYXA/KFUoaSwyNTUmdC5hZGxlciksVShpLHQuYWRsZXI+PjgmMjU1KSxVKGksdC5hZGxlcj4+MTYmMjU1KSxVKGksdC5hZGxlcj4+MjQmMjU1KSxVKGksMjU1JnQudG90YWxfaW4pLFUoaSx0LnRvdGFsX2luPj44JjI1NSksVShpLHQudG90YWxfaW4+PjE2JjI1NSksVShpLHQudG90YWxfaW4+PjI0JjI1NSkpOihQKGksdC5hZGxlcj4+PjE2KSxQKGksNjU1MzUmdC5hZGxlcikpLEYodCksMDxpLndyYXAmJihpLndyYXA9LWkud3JhcCksMCE9PWkucGVuZGluZz9tOjEpfSxyLmRlZmxhdGVFbmQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQmJnQuc3RhdGU/KGU9dC5zdGF0ZS5zdGF0dXMpIT09QyYmNjkhPT1lJiY3MyE9PWUmJjkxIT09ZSYmMTAzIT09ZSYmZSE9PUUmJjY2NiE9PWU/Uih0LF8pOih0LnN0YXRlPW51bGwsZT09PUU/Uih0LC0zKTptKTpffSxyLmRlZmxhdGVTZXREaWN0aW9uYXJ5PWZ1bmN0aW9uKHQsZSl7dmFyIHIsaSxuLHMsYSxvLGgsdSxsPWUubGVuZ3RoO2lmKCF0fHwhdC5zdGF0ZSlyZXR1cm4gXztpZigyPT09KHM9KHI9dC5zdGF0ZSkud3JhcCl8fDE9PT1zJiZyLnN0YXR1cyE9PUN8fHIubG9va2FoZWFkKXJldHVybiBfO2ZvcigxPT09cyYmKHQuYWRsZXI9Yyh0LmFkbGVyLGUsbCwwKSksci53cmFwPTAsbD49ci53X3NpemUmJigwPT09cyYmKEQoci5oZWFkKSxyLnN0cnN0YXJ0PTAsci5ibG9ja19zdGFydD0wLHIuaW5zZXJ0PTApLHU9bmV3IGQuQnVmOChyLndfc2l6ZSksZC5hcnJheVNldCh1LGUsbC1yLndfc2l6ZSxyLndfc2l6ZSwwKSxlPXUsbD1yLndfc2l6ZSksYT10LmF2YWlsX2luLG89dC5uZXh0X2luLGg9dC5pbnB1dCx0LmF2YWlsX2luPWwsdC5uZXh0X2luPTAsdC5pbnB1dD1lLGoocik7ci5sb29rYWhlYWQ+PXg7KXtmb3IoaT1yLnN0cnN0YXJ0LG49ci5sb29rYWhlYWQtKHgtMSk7ci5pbnNfaD0oci5pbnNfaDw8ci5oYXNoX3NoaWZ0XnIud2luZG93W2kreC0xXSkmci5oYXNoX21hc2ssci5wcmV2W2kmci53X21hc2tdPXIuaGVhZFtyLmluc19oXSxyLmhlYWRbci5pbnNfaF09aSxpKyssLS1uOyk7ci5zdHJzdGFydD1pLHIubG9va2FoZWFkPXgtMSxqKHIpfXJldHVybiByLnN0cnN0YXJ0Kz1yLmxvb2thaGVhZCxyLmJsb2NrX3N0YXJ0PXIuc3Ryc3RhcnQsci5pbnNlcnQ9ci5sb29rYWhlYWQsci5sb29rYWhlYWQ9MCxyLm1hdGNoX2xlbmd0aD1yLnByZXZfbGVuZ3RoPXgtMSxyLm1hdGNoX2F2YWlsYWJsZT0wLHQubmV4dF9pbj1vLHQuaW5wdXQ9aCx0LmF2YWlsX2luPWEsci53cmFwPXMsbX0sci5kZWZsYXRlSW5mbz0icGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSJ9LHsiLi4vdXRpbHMvY29tbW9uIjo0MSwiLi9hZGxlcjMyIjo0MywiLi9jcmMzMiI6NDUsIi4vbWVzc2FnZXMiOjUxLCIuL3RyZWVzIjo1Mn1dLDQ3OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbigpe3RoaXMudGV4dD0wLHRoaXMudGltZT0wLHRoaXMueGZsYWdzPTAsdGhpcy5vcz0wLHRoaXMuZXh0cmE9bnVsbCx0aGlzLmV4dHJhX2xlbj0wLHRoaXMubmFtZT0iIix0aGlzLmNvbW1lbnQ9IiIsdGhpcy5oY3JjPTAsdGhpcy5kb25lPSExfX0se31dLDQ4OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUpe3ZhciByLGksbixzLGEsbyxoLHUsbCxmLGQsYyxwLG0sXyxnLGIsdix5LHcsayx4LFMseixDO3I9dC5zdGF0ZSxpPXQubmV4dF9pbix6PXQuaW5wdXQsbj1pKyh0LmF2YWlsX2luLTUpLHM9dC5uZXh0X291dCxDPXQub3V0cHV0LGE9cy0oZS10LmF2YWlsX291dCksbz1zKyh0LmF2YWlsX291dC0yNTcpLGg9ci5kbWF4LHU9ci53c2l6ZSxsPXIud2hhdmUsZj1yLnduZXh0LGQ9ci53aW5kb3csYz1yLmhvbGQscD1yLmJpdHMsbT1yLmxlbmNvZGUsXz1yLmRpc3Rjb2RlLGc9KDE8PHIubGVuYml0cyktMSxiPSgxPDxyLmRpc3RiaXRzKS0xO3Q6ZG97cDwxNSYmKGMrPXpbaSsrXTw8cCxwKz04LGMrPXpbaSsrXTw8cCxwKz04KSx2PW1bYyZnXTtlOmZvcig7Oyl7aWYoYz4+Pj15PXY+Pj4yNCxwLT15LDA9PT0oeT12Pj4+MTYmMjU1KSlDW3MrK109NjU1MzUmdjtlbHNle2lmKCEoMTYmeSkpe2lmKDA9PSg2NCZ5KSl7dj1tWyg2NTUzNSZ2KSsoYyYoMTw8eSktMSldO2NvbnRpbnVlIGV9aWYoMzImeSl7ci5tb2RlPTEyO2JyZWFrIHR9dC5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSIsci5tb2RlPTMwO2JyZWFrIHR9dz02NTUzNSZ2LCh5Jj0xNSkmJihwPHkmJihjKz16W2krK108PHAscCs9OCksdys9YyYoMTw8eSktMSxjPj4+PXkscC09eSkscDwxNSYmKGMrPXpbaSsrXTw8cCxwKz04LGMrPXpbaSsrXTw8cCxwKz04KSx2PV9bYyZiXTtyOmZvcig7Oyl7aWYoYz4+Pj15PXY+Pj4yNCxwLT15LCEoMTYmKHk9dj4+PjE2JjI1NSkpKXtpZigwPT0oNjQmeSkpe3Y9X1soNjU1MzUmdikrKGMmKDE8PHkpLTEpXTtjb250aW51ZSByfXQubXNnPSJpbnZhbGlkIGRpc3RhbmNlIGNvZGUiLHIubW9kZT0zMDticmVhayB0fWlmKGs9NjU1MzUmdixwPCh5Jj0xNSkmJihjKz16W2krK108PHAsKHArPTgpPHkmJihjKz16W2krK108PHAscCs9OCkpLGg8KGsrPWMmKDE8PHkpLTEpKXt0Lm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siLHIubW9kZT0zMDticmVhayB0fWlmKGM+Pj49eSxwLT15LCh5PXMtYSk8ayl7aWYobDwoeT1rLXkpJiZyLnNhbmUpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsci5tb2RlPTMwO2JyZWFrIHR9aWYoUz1kLCh4PTApPT09Zil7aWYoeCs9dS15LHk8dyl7Zm9yKHctPXk7Q1tzKytdPWRbeCsrXSwtLXk7KTt4PXMtayxTPUN9fWVsc2UgaWYoZjx5KXtpZih4Kz11K2YteSwoeS09Zik8dyl7Zm9yKHctPXk7Q1tzKytdPWRbeCsrXSwtLXk7KTtpZih4PTAsZjx3KXtmb3Iody09eT1mO0NbcysrXT1kW3grK10sLS15Oyk7eD1zLWssUz1DfX19ZWxzZSBpZih4Kz1mLXkseTx3KXtmb3Iody09eTtDW3MrK109ZFt4KytdLC0teTspO3g9cy1rLFM9Q31mb3IoOzI8dzspQ1tzKytdPVNbeCsrXSxDW3MrK109U1t4KytdLENbcysrXT1TW3grK10sdy09Mzt3JiYoQ1tzKytdPVNbeCsrXSwxPHcmJihDW3MrK109U1t4KytdKSl9ZWxzZXtmb3IoeD1zLWs7Q1tzKytdPUNbeCsrXSxDW3MrK109Q1t4KytdLENbcysrXT1DW3grK10sMjwody09Myk7KTt3JiYoQ1tzKytdPUNbeCsrXSwxPHcmJihDW3MrK109Q1t4KytdKSl9YnJlYWt9fWJyZWFrfX13aGlsZShpPG4mJnM8byk7aS09dz1wPj4zLGMmPSgxPDwocC09dzw8MykpLTEsdC5uZXh0X2luPWksdC5uZXh0X291dD1zLHQuYXZhaWxfaW49aTxuP24taSs1OjUtKGktbiksdC5hdmFpbF9vdXQ9czxvP28tcysyNTc6MjU3LShzLW8pLHIuaG9sZD1jLHIuYml0cz1wfX0se31dLDQ5OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO3ZhciBJPXQoIi4uL3V0aWxzL2NvbW1vbiIpLE89dCgiLi9hZGxlcjMyIiksQj10KCIuL2NyYzMyIiksUj10KCIuL2luZmZhc3QiKSxUPXQoIi4vaW5mdHJlZXMiKSxEPTEsRj0yLE49MCxVPS0yLFA9MSxpPTg1MixuPTU5MjtmdW5jdGlvbiBMKHQpe3JldHVybih0Pj4+MjQmMjU1KSsodD4+PjgmNjUyODApKygoNjUyODAmdCk8PDgpKygoMjU1JnQpPDwyNCl9ZnVuY3Rpb24gcygpe3RoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgSS5CdWYxNigzMjApLHRoaXMud29yaz1uZXcgSS5CdWYxNigyODgpLHRoaXMubGVuZHluPW51bGwsdGhpcy5kaXN0ZHluPW51bGwsdGhpcy5zYW5lPTAsdGhpcy5iYWNrPTAsdGhpcy53YXM9MH1mdW5jdGlvbiBhKHQpe3ZhciBlO3JldHVybiB0JiZ0LnN0YXRlPyhlPXQuc3RhdGUsdC50b3RhbF9pbj10LnRvdGFsX291dD1lLnRvdGFsPTAsdC5tc2c9IiIsZS53cmFwJiYodC5hZGxlcj0xJmUud3JhcCksZS5tb2RlPVAsZS5sYXN0PTAsZS5oYXZlZGljdD0wLGUuZG1heD0zMjc2OCxlLmhlYWQ9bnVsbCxlLmhvbGQ9MCxlLmJpdHM9MCxlLmxlbmNvZGU9ZS5sZW5keW49bmV3IEkuQnVmMzIoaSksZS5kaXN0Y29kZT1lLmRpc3RkeW49bmV3IEkuQnVmMzIobiksZS5zYW5lPTEsZS5iYWNrPS0xLE4pOlV9ZnVuY3Rpb24gbyh0KXt2YXIgZTtyZXR1cm4gdCYmdC5zdGF0ZT8oKGU9dC5zdGF0ZSkud3NpemU9MCxlLndoYXZlPTAsZS53bmV4dD0wLGEodCkpOlV9ZnVuY3Rpb24gaCh0LGUpe3ZhciByLGk7cmV0dXJuIHQmJnQuc3RhdGU/KGk9dC5zdGF0ZSxlPDA/KHI9MCxlPS1lKToocj0xKyhlPj40KSxlPDQ4JiYoZSY9MTUpKSxlJiYoZTw4fHwxNTxlKT9VOihudWxsIT09aS53aW5kb3cmJmkud2JpdHMhPT1lJiYoaS53aW5kb3c9bnVsbCksaS53cmFwPXIsaS53Yml0cz1lLG8odCkpKTpVfWZ1bmN0aW9uIHUodCxlKXt2YXIgcixpO3JldHVybiB0PyhpPW5ldyBzLCh0LnN0YXRlPWkpLndpbmRvdz1udWxsLChyPWgodCxlKSkhPT1OJiYodC5zdGF0ZT1udWxsKSxyKTpVfXZhciBsLGYsZD0hMDtmdW5jdGlvbiBqKHQpe2lmKGQpe3ZhciBlO2ZvcihsPW5ldyBJLkJ1ZjMyKDUxMiksZj1uZXcgSS5CdWYzMigzMiksZT0wO2U8MTQ0Oyl0LmxlbnNbZSsrXT04O2Zvcig7ZTwyNTY7KXQubGVuc1tlKytdPTk7Zm9yKDtlPDI4MDspdC5sZW5zW2UrK109Nztmb3IoO2U8Mjg4Oyl0LmxlbnNbZSsrXT04O2ZvcihUKEQsdC5sZW5zLDAsMjg4LGwsMCx0Lndvcmsse2JpdHM6OX0pLGU9MDtlPDMyOyl0LmxlbnNbZSsrXT01O1QoRix0LmxlbnMsMCwzMixmLDAsdC53b3JrLHtiaXRzOjV9KSxkPSExfXQubGVuY29kZT1sLHQubGVuYml0cz05LHQuZGlzdGNvZGU9Zix0LmRpc3RiaXRzPTV9ZnVuY3Rpb24gWih0LGUscixpKXt2YXIgbixzPXQuc3RhdGU7cmV0dXJuIG51bGw9PT1zLndpbmRvdyYmKHMud3NpemU9MTw8cy53Yml0cyxzLnduZXh0PTAscy53aGF2ZT0wLHMud2luZG93PW5ldyBJLkJ1Zjgocy53c2l6ZSkpLGk+PXMud3NpemU/KEkuYXJyYXlTZXQocy53aW5kb3csZSxyLXMud3NpemUscy53c2l6ZSwwKSxzLnduZXh0PTAscy53aGF2ZT1zLndzaXplKTooaTwobj1zLndzaXplLXMud25leHQpJiYobj1pKSxJLmFycmF5U2V0KHMud2luZG93LGUsci1pLG4scy53bmV4dCksKGktPW4pPyhJLmFycmF5U2V0KHMud2luZG93LGUsci1pLGksMCkscy53bmV4dD1pLHMud2hhdmU9cy53c2l6ZSk6KHMud25leHQrPW4scy53bmV4dD09PXMud3NpemUmJihzLnduZXh0PTApLHMud2hhdmU8cy53c2l6ZSYmKHMud2hhdmUrPW4pKSksMH1yLmluZmxhdGVSZXNldD1vLHIuaW5mbGF0ZVJlc2V0Mj1oLHIuaW5mbGF0ZVJlc2V0S2VlcD1hLHIuaW5mbGF0ZUluaXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHUodCwxNSl9LHIuaW5mbGF0ZUluaXQyPXUsci5pbmZsYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIHIsaSxuLHMsYSxvLGgsdSxsLGYsZCxjLHAsbSxfLGcsYix2LHksdyxrLHgsUyx6LEM9MCxFPW5ldyBJLkJ1ZjgoNCksQT1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV07aWYoIXR8fCF0LnN0YXRlfHwhdC5vdXRwdXR8fCF0LmlucHV0JiYwIT09dC5hdmFpbF9pbilyZXR1cm4gVTsxMj09PShyPXQuc3RhdGUpLm1vZGUmJihyLm1vZGU9MTMpLGE9dC5uZXh0X291dCxuPXQub3V0cHV0LGg9dC5hdmFpbF9vdXQscz10Lm5leHRfaW4saT10LmlucHV0LG89dC5hdmFpbF9pbix1PXIuaG9sZCxsPXIuYml0cyxmPW8sZD1oLHg9Tjt0OmZvcig7Oylzd2l0Y2goci5tb2RlKXtjYXNlIFA6aWYoMD09PXIud3JhcCl7ci5tb2RlPTEzO2JyZWFrfWZvcig7bDwxNjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fWlmKDImci53cmFwJiYzNTYxNT09PXUpe0Vbci5jaGVjaz0wXT0yNTUmdSxFWzFdPXU+Pj44JjI1NSxyLmNoZWNrPUIoci5jaGVjayxFLDIsMCksbD11PTAsci5tb2RlPTI7YnJlYWt9aWYoci5mbGFncz0wLHIuaGVhZCYmKHIuaGVhZC5kb25lPSExKSwhKDEmci53cmFwKXx8KCgoMjU1JnUpPDw4KSsodT4+OCkpJTMxKXt0Lm1zZz0iaW5jb3JyZWN0IGhlYWRlciBjaGVjayIsci5tb2RlPTMwO2JyZWFrfWlmKDghPSgxNSZ1KSl7dC5tc2c9InVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIixyLm1vZGU9MzA7YnJlYWt9aWYobC09NCxrPTgrKDE1Jih1Pj4+PTQpKSwwPT09ci53Yml0cylyLndiaXRzPWs7ZWxzZSBpZihrPnIud2JpdHMpe3QubXNnPSJpbnZhbGlkIHdpbmRvdyBzaXplIixyLm1vZGU9MzA7YnJlYWt9ci5kbWF4PTE8PGssdC5hZGxlcj1yLmNoZWNrPTEsci5tb2RlPTUxMiZ1PzEwOjEyLGw9dT0wO2JyZWFrO2Nhc2UgMjpmb3IoO2w8MTY7KXtpZigwPT09bylicmVhayB0O28tLSx1Kz1pW3MrK108PGwsbCs9OH1pZihyLmZsYWdzPXUsOCE9KDI1NSZyLmZsYWdzKSl7dC5tc2c9InVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIixyLm1vZGU9MzA7YnJlYWt9aWYoNTczNDQmci5mbGFncyl7dC5tc2c9InVua25vd24gaGVhZGVyIGZsYWdzIHNldCIsci5tb2RlPTMwO2JyZWFrfXIuaGVhZCYmKHIuaGVhZC50ZXh0PXU+PjgmMSksNTEyJnIuZmxhZ3MmJihFWzBdPTI1NSZ1LEVbMV09dT4+PjgmMjU1LHIuY2hlY2s9QihyLmNoZWNrLEUsMiwwKSksbD11PTAsci5tb2RlPTM7Y2FzZSAzOmZvcig7bDwzMjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fXIuaGVhZCYmKHIuaGVhZC50aW1lPXUpLDUxMiZyLmZsYWdzJiYoRVswXT0yNTUmdSxFWzFdPXU+Pj44JjI1NSxFWzJdPXU+Pj4xNiYyNTUsRVszXT11Pj4+MjQmMjU1LHIuY2hlY2s9QihyLmNoZWNrLEUsNCwwKSksbD11PTAsci5tb2RlPTQ7Y2FzZSA0OmZvcig7bDwxNjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fXIuaGVhZCYmKHIuaGVhZC54ZmxhZ3M9MjU1JnUsci5oZWFkLm9zPXU+PjgpLDUxMiZyLmZsYWdzJiYoRVswXT0yNTUmdSxFWzFdPXU+Pj44JjI1NSxyLmNoZWNrPUIoci5jaGVjayxFLDIsMCkpLGw9dT0wLHIubW9kZT01O2Nhc2UgNTppZigxMDI0JnIuZmxhZ3Mpe2Zvcig7bDwxNjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fXIubGVuZ3RoPXUsci5oZWFkJiYoci5oZWFkLmV4dHJhX2xlbj11KSw1MTImci5mbGFncyYmKEVbMF09MjU1JnUsRVsxXT11Pj4+OCYyNTUsci5jaGVjaz1CKHIuY2hlY2ssRSwyLDApKSxsPXU9MH1lbHNlIHIuaGVhZCYmKHIuaGVhZC5leHRyYT1udWxsKTtyLm1vZGU9NjtjYXNlIDY6aWYoMTAyNCZyLmZsYWdzJiYobzwoYz1yLmxlbmd0aCkmJihjPW8pLGMmJihyLmhlYWQmJihrPXIuaGVhZC5leHRyYV9sZW4tci5sZW5ndGgsci5oZWFkLmV4dHJhfHwoci5oZWFkLmV4dHJhPW5ldyBBcnJheShyLmhlYWQuZXh0cmFfbGVuKSksSS5hcnJheVNldChyLmhlYWQuZXh0cmEsaSxzLGMsaykpLDUxMiZyLmZsYWdzJiYoci5jaGVjaz1CKHIuY2hlY2ssaSxjLHMpKSxvLT1jLHMrPWMsci5sZW5ndGgtPWMpLHIubGVuZ3RoKSlicmVhayB0O3IubGVuZ3RoPTAsci5tb2RlPTc7Y2FzZSA3OmlmKDIwNDgmci5mbGFncyl7aWYoMD09PW8pYnJlYWsgdDtmb3IoYz0wO2s9aVtzK2MrK10sci5oZWFkJiZrJiZyLmxlbmd0aDw2NTUzNiYmKHIuaGVhZC5uYW1lKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGspKSxrJiZjPG87KTtpZig1MTImci5mbGFncyYmKHIuY2hlY2s9QihyLmNoZWNrLGksYyxzKSksby09YyxzKz1jLGspYnJlYWsgdH1lbHNlIHIuaGVhZCYmKHIuaGVhZC5uYW1lPW51bGwpO3IubGVuZ3RoPTAsci5tb2RlPTg7Y2FzZSA4OmlmKDQwOTYmci5mbGFncyl7aWYoMD09PW8pYnJlYWsgdDtmb3IoYz0wO2s9aVtzK2MrK10sci5oZWFkJiZrJiZyLmxlbmd0aDw2NTUzNiYmKHIuaGVhZC5jb21tZW50Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGspKSxrJiZjPG87KTtpZig1MTImci5mbGFncyYmKHIuY2hlY2s9QihyLmNoZWNrLGksYyxzKSksby09YyxzKz1jLGspYnJlYWsgdH1lbHNlIHIuaGVhZCYmKHIuaGVhZC5jb21tZW50PW51bGwpO3IubW9kZT05O2Nhc2UgOTppZig1MTImci5mbGFncyl7Zm9yKDtsPDE2Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0sdSs9aVtzKytdPDxsLGwrPTh9aWYodSE9PSg2NTUzNSZyLmNoZWNrKSl7dC5tc2c9ImhlYWRlciBjcmMgbWlzbWF0Y2giLHIubW9kZT0zMDticmVha31sPXU9MH1yLmhlYWQmJihyLmhlYWQuaGNyYz1yLmZsYWdzPj45JjEsci5oZWFkLmRvbmU9ITApLHQuYWRsZXI9ci5jaGVjaz0wLHIubW9kZT0xMjticmVhaztjYXNlIDEwOmZvcig7bDwzMjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fXQuYWRsZXI9ci5jaGVjaz1MKHUpLGw9dT0wLHIubW9kZT0xMTtjYXNlIDExOmlmKDA9PT1yLmhhdmVkaWN0KXJldHVybiB0Lm5leHRfb3V0PWEsdC5hdmFpbF9vdXQ9aCx0Lm5leHRfaW49cyx0LmF2YWlsX2luPW8sci5ob2xkPXUsci5iaXRzPWwsMjt0LmFkbGVyPXIuY2hlY2s9MSxyLm1vZGU9MTI7Y2FzZSAxMjppZig1PT09ZXx8Nj09PWUpYnJlYWsgdDtjYXNlIDEzOmlmKHIubGFzdCl7dT4+Pj03JmwsbC09NyZsLHIubW9kZT0yNzticmVha31mb3IoO2w8Mzspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fXN3aXRjaChyLmxhc3Q9MSZ1LGwtPTEsMyYodT4+Pj0xKSl7Y2FzZSAwOnIubW9kZT0xNDticmVhaztjYXNlIDE6aWYoaihyKSxyLm1vZGU9MjAsNiE9PWUpYnJlYWs7dT4+Pj0yLGwtPTI7YnJlYWsgdDtjYXNlIDI6ci5tb2RlPTE3O2JyZWFrO2Nhc2UgMzp0Lm1zZz0iaW52YWxpZCBibG9jayB0eXBlIixyLm1vZGU9MzB9dT4+Pj0yLGwtPTI7YnJlYWs7Y2FzZSAxNDpmb3IodT4+Pj03JmwsbC09NyZsO2w8MzI7KXtpZigwPT09bylicmVhayB0O28tLSx1Kz1pW3MrK108PGwsbCs9OH1pZigoNjU1MzUmdSkhPSh1Pj4+MTZeNjU1MzUpKXt0Lm1zZz0iaW52YWxpZCBzdG9yZWQgYmxvY2sgbGVuZ3RocyIsci5tb2RlPTMwO2JyZWFrfWlmKHIubGVuZ3RoPTY1NTM1JnUsbD11PTAsci5tb2RlPTE1LDY9PT1lKWJyZWFrIHQ7Y2FzZSAxNTpyLm1vZGU9MTY7Y2FzZSAxNjppZihjPXIubGVuZ3RoKXtpZihvPGMmJihjPW8pLGg8YyYmKGM9aCksMD09PWMpYnJlYWsgdDtJLmFycmF5U2V0KG4saSxzLGMsYSksby09YyxzKz1jLGgtPWMsYSs9YyxyLmxlbmd0aC09YzticmVha31yLm1vZGU9MTI7YnJlYWs7Y2FzZSAxNzpmb3IoO2w8MTQ7KXtpZigwPT09bylicmVhayB0O28tLSx1Kz1pW3MrK108PGwsbCs9OH1pZihyLm5sZW49MjU3KygzMSZ1KSx1Pj4+PTUsbC09NSxyLm5kaXN0PTErKDMxJnUpLHU+Pj49NSxsLT01LHIubmNvZGU9NCsoMTUmdSksdT4+Pj00LGwtPTQsMjg2PHIubmxlbnx8MzA8ci5uZGlzdCl7dC5tc2c9InRvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzIixyLm1vZGU9MzA7YnJlYWt9ci5oYXZlPTAsci5tb2RlPTE4O2Nhc2UgMTg6Zm9yKDtyLmhhdmU8ci5uY29kZTspe2Zvcig7bDwzOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0sdSs9aVtzKytdPDxsLGwrPTh9ci5sZW5zW0Fbci5oYXZlKytdXT03JnUsdT4+Pj0zLGwtPTN9Zm9yKDtyLmhhdmU8MTk7KXIubGVuc1tBW3IuaGF2ZSsrXV09MDtpZihyLmxlbmNvZGU9ci5sZW5keW4sci5sZW5iaXRzPTcsUz17Yml0czpyLmxlbmJpdHN9LHg9VCgwLHIubGVucywwLDE5LHIubGVuY29kZSwwLHIud29yayxTKSxyLmxlbmJpdHM9Uy5iaXRzLHgpe3QubXNnPSJpbnZhbGlkIGNvZGUgbGVuZ3RocyBzZXQiLHIubW9kZT0zMDticmVha31yLmhhdmU9MCxyLm1vZGU9MTk7Y2FzZSAxOTpmb3IoO3IuaGF2ZTxyLm5sZW4rci5uZGlzdDspe2Zvcig7Zz0oQz1yLmxlbmNvZGVbdSYoMTw8ci5sZW5iaXRzKS0xXSk+Pj4xNiYyNTUsYj02NTUzNSZDLCEoKF89Qz4+PjI0KTw9bCk7KXtpZigwPT09bylicmVhayB0O28tLSx1Kz1pW3MrK108PGwsbCs9OH1pZihiPDE2KXU+Pj49XyxsLT1fLHIubGVuc1tyLmhhdmUrK109YjtlbHNle2lmKDE2PT09Yil7Zm9yKHo9XysyO2w8ejspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fWlmKHU+Pj49XyxsLT1fLDA9PT1yLmhhdmUpe3QubXNnPSJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0IixyLm1vZGU9MzA7YnJlYWt9az1yLmxlbnNbci5oYXZlLTFdLGM9MysoMyZ1KSx1Pj4+PTIsbC09Mn1lbHNlIGlmKDE3PT09Yil7Zm9yKHo9XyszO2w8ejspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fWwtPV8saz0wLGM9MysoNyYodT4+Pj1fKSksdT4+Pj0zLGwtPTN9ZWxzZXtmb3Ioej1fKzc7bDx6Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0sdSs9aVtzKytdPDxsLGwrPTh9bC09XyxrPTAsYz0xMSsoMTI3Jih1Pj4+PV8pKSx1Pj4+PTcsbC09N31pZihyLmhhdmUrYz5yLm5sZW4rci5uZGlzdCl7dC5tc2c9ImludmFsaWQgYml0IGxlbmd0aCByZXBlYXQiLHIubW9kZT0zMDticmVha31mb3IoO2MtLTspci5sZW5zW3IuaGF2ZSsrXT1rfX1pZigzMD09PXIubW9kZSlicmVhaztpZigwPT09ci5sZW5zWzI1Nl0pe3QubXNnPSJpbnZhbGlkIGNvZGUgLS0gbWlzc2luZyBlbmQtb2YtYmxvY2siLHIubW9kZT0zMDticmVha31pZihyLmxlbmJpdHM9OSxTPXtiaXRzOnIubGVuYml0c30seD1UKEQsci5sZW5zLDAsci5ubGVuLHIubGVuY29kZSwwLHIud29yayxTKSxyLmxlbmJpdHM9Uy5iaXRzLHgpe3QubXNnPSJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXQiLHIubW9kZT0zMDticmVha31pZihyLmRpc3RiaXRzPTYsci5kaXN0Y29kZT1yLmRpc3RkeW4sUz17Yml0czpyLmRpc3RiaXRzfSx4PVQoRixyLmxlbnMsci5ubGVuLHIubmRpc3Qsci5kaXN0Y29kZSwwLHIud29yayxTKSxyLmRpc3RiaXRzPVMuYml0cyx4KXt0Lm1zZz0iaW52YWxpZCBkaXN0YW5jZXMgc2V0IixyLm1vZGU9MzA7YnJlYWt9aWYoci5tb2RlPTIwLDY9PT1lKWJyZWFrIHQ7Y2FzZSAyMDpyLm1vZGU9MjE7Y2FzZSAyMTppZig2PD1vJiYyNTg8PWgpe3QubmV4dF9vdXQ9YSx0LmF2YWlsX291dD1oLHQubmV4dF9pbj1zLHQuYXZhaWxfaW49byxyLmhvbGQ9dSxyLmJpdHM9bCxSKHQsZCksYT10Lm5leHRfb3V0LG49dC5vdXRwdXQsaD10LmF2YWlsX291dCxzPXQubmV4dF9pbixpPXQuaW5wdXQsbz10LmF2YWlsX2luLHU9ci5ob2xkLGw9ci5iaXRzLDEyPT09ci5tb2RlJiYoci5iYWNrPS0xKTticmVha31mb3Ioci5iYWNrPTA7Zz0oQz1yLmxlbmNvZGVbdSYoMTw8ci5sZW5iaXRzKS0xXSk+Pj4xNiYyNTUsYj02NTUzNSZDLCEoKF89Qz4+PjI0KTw9bCk7KXtpZigwPT09bylicmVhayB0O28tLSx1Kz1pW3MrK108PGwsbCs9OH1pZihnJiYwPT0oMjQwJmcpKXtmb3Iodj1fLHk9Zyx3PWI7Zz0oQz1yLmxlbmNvZGVbdysoKHUmKDE8PHYreSktMSk+PnYpXSk+Pj4xNiYyNTUsYj02NTUzNSZDLCEodisoXz1DPj4+MjQpPD1sKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fXU+Pj49dixsLT12LHIuYmFjays9dn1pZih1Pj4+PV8sbC09XyxyLmJhY2srPV8sci5sZW5ndGg9YiwwPT09Zyl7ci5tb2RlPTI2O2JyZWFrfWlmKDMyJmcpe3IuYmFjaz0tMSxyLm1vZGU9MTI7YnJlYWt9aWYoNjQmZyl7dC5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZSIsci5tb2RlPTMwO2JyZWFrfXIuZXh0cmE9MTUmZyxyLm1vZGU9MjI7Y2FzZSAyMjppZihyLmV4dHJhKXtmb3Ioej1yLmV4dHJhO2w8ejspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fXIubGVuZ3RoKz11JigxPDxyLmV4dHJhKS0xLHU+Pj49ci5leHRyYSxsLT1yLmV4dHJhLHIuYmFjays9ci5leHRyYX1yLndhcz1yLmxlbmd0aCxyLm1vZGU9MjM7Y2FzZSAyMzpmb3IoO2c9KEM9ci5kaXN0Y29kZVt1JigxPDxyLmRpc3RiaXRzKS0xXSk+Pj4xNiYyNTUsYj02NTUzNSZDLCEoKF89Qz4+PjI0KTw9bCk7KXtpZigwPT09bylicmVhayB0O28tLSx1Kz1pW3MrK108PGwsbCs9OH1pZigwPT0oMjQwJmcpKXtmb3Iodj1fLHk9Zyx3PWI7Zz0oQz1yLmRpc3Rjb2RlW3crKCh1JigxPDx2K3kpLTEpPj52KV0pPj4+MTYmMjU1LGI9NjU1MzUmQywhKHYrKF89Qz4+PjI0KTw9bCk7KXtpZigwPT09bylicmVhayB0O28tLSx1Kz1pW3MrK108PGwsbCs9OH11Pj4+PXYsbC09dixyLmJhY2srPXZ9aWYodT4+Pj1fLGwtPV8sci5iYWNrKz1fLDY0Jmcpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlIGNvZGUiLHIubW9kZT0zMDticmVha31yLm9mZnNldD1iLHIuZXh0cmE9MTUmZyxyLm1vZGU9MjQ7Y2FzZSAyNDppZihyLmV4dHJhKXtmb3Ioej1yLmV4dHJhO2w8ejspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fXIub2Zmc2V0Kz11JigxPDxyLmV4dHJhKS0xLHU+Pj49ci5leHRyYSxsLT1yLmV4dHJhLHIuYmFjays9ci5leHRyYX1pZihyLm9mZnNldD5yLmRtYXgpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsci5tb2RlPTMwO2JyZWFrfXIubW9kZT0yNTtjYXNlIDI1OmlmKDA9PT1oKWJyZWFrIHQ7aWYoYz1kLWgsci5vZmZzZXQ+Yyl7aWYoKGM9ci5vZmZzZXQtYyk+ci53aGF2ZSYmci5zYW5lKXt0Lm1zZz0iaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siLHIubW9kZT0zMDticmVha31wPWM+ci53bmV4dD8oYy09ci53bmV4dCxyLndzaXplLWMpOnIud25leHQtYyxjPnIubGVuZ3RoJiYoYz1yLmxlbmd0aCksbT1yLndpbmRvd31lbHNlIG09bixwPWEtci5vZmZzZXQsYz1yLmxlbmd0aDtmb3IoaDxjJiYoYz1oKSxoLT1jLHIubGVuZ3RoLT1jO25bYSsrXT1tW3ArK10sLS1jOyk7MD09PXIubGVuZ3RoJiYoci5tb2RlPTIxKTticmVhaztjYXNlIDI2OmlmKDA9PT1oKWJyZWFrIHQ7blthKytdPXIubGVuZ3RoLGgtLSxyLm1vZGU9MjE7YnJlYWs7Y2FzZSAyNzppZihyLndyYXApe2Zvcig7bDwzMjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHV8PWlbcysrXTw8bCxsKz04fWlmKGQtPWgsdC50b3RhbF9vdXQrPWQsci50b3RhbCs9ZCxkJiYodC5hZGxlcj1yLmNoZWNrPXIuZmxhZ3M/QihyLmNoZWNrLG4sZCxhLWQpOk8oci5jaGVjayxuLGQsYS1kKSksZD1oLChyLmZsYWdzP3U6TCh1KSkhPT1yLmNoZWNrKXt0Lm1zZz0iaW5jb3JyZWN0IGRhdGEgY2hlY2siLHIubW9kZT0zMDticmVha31sPXU9MH1yLm1vZGU9Mjg7Y2FzZSAyODppZihyLndyYXAmJnIuZmxhZ3Mpe2Zvcig7bDwzMjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLHUrPWlbcysrXTw8bCxsKz04fWlmKHUhPT0oNDI5NDk2NzI5NSZyLnRvdGFsKSl7dC5tc2c9ImluY29ycmVjdCBsZW5ndGggY2hlY2siLHIubW9kZT0zMDticmVha31sPXU9MH1yLm1vZGU9Mjk7Y2FzZSAyOTp4PTE7YnJlYWsgdDtjYXNlIDMwOng9LTM7YnJlYWsgdDtjYXNlIDMxOnJldHVybi00O2Nhc2UgMzI6ZGVmYXVsdDpyZXR1cm4gVX1yZXR1cm4gdC5uZXh0X291dD1hLHQuYXZhaWxfb3V0PWgsdC5uZXh0X2luPXMsdC5hdmFpbF9pbj1vLHIuaG9sZD11LHIuYml0cz1sLChyLndzaXplfHxkIT09dC5hdmFpbF9vdXQmJnIubW9kZTwzMCYmKHIubW9kZTwyN3x8NCE9PWUpKSYmWih0LHQub3V0cHV0LHQubmV4dF9vdXQsZC10LmF2YWlsX291dCk/KHIubW9kZT0zMSwtNCk6KGYtPXQuYXZhaWxfaW4sZC09dC5hdmFpbF9vdXQsdC50b3RhbF9pbis9Zix0LnRvdGFsX291dCs9ZCxyLnRvdGFsKz1kLHIud3JhcCYmZCYmKHQuYWRsZXI9ci5jaGVjaz1yLmZsYWdzP0Ioci5jaGVjayxuLGQsdC5uZXh0X291dC1kKTpPKHIuY2hlY2ssbixkLHQubmV4dF9vdXQtZCkpLHQuZGF0YV90eXBlPXIuYml0cysoci5sYXN0PzY0OjApKygxMj09PXIubW9kZT8xMjg6MCkrKDIwPT09ci5tb2RlfHwxNT09PXIubW9kZT8yNTY6MCksKDA9PWYmJjA9PT1kfHw0PT09ZSkmJng9PT1OJiYoeD0tNSkseCl9LHIuaW5mbGF0ZUVuZD1mdW5jdGlvbih0KXtpZighdHx8IXQuc3RhdGUpcmV0dXJuIFU7dmFyIGU9dC5zdGF0ZTtyZXR1cm4gZS53aW5kb3cmJihlLndpbmRvdz1udWxsKSx0LnN0YXRlPW51bGwsTn0sci5pbmZsYXRlR2V0SGVhZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIHI7cmV0dXJuIHQmJnQuc3RhdGU/MD09KDImKHI9dC5zdGF0ZSkud3JhcCk/VTooKHIuaGVhZD1lKS5kb25lPSExLE4pOlV9LHIuaW5mbGF0ZVNldERpY3Rpb25hcnk9ZnVuY3Rpb24odCxlKXt2YXIgcixpPWUubGVuZ3RoO3JldHVybiB0JiZ0LnN0YXRlPzAhPT0ocj10LnN0YXRlKS53cmFwJiYxMSE9PXIubW9kZT9VOjExPT09ci5tb2RlJiZPKDEsZSxpLDApIT09ci5jaGVjaz8tMzpaKHQsZSxpLGkpPyhyLm1vZGU9MzEsLTQpOihyLmhhdmVkaWN0PTEsTik6VX0sci5pbmZsYXRlSW5mbz0icGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSJ9LHsiLi4vdXRpbHMvY29tbW9uIjo0MSwiLi9hZGxlcjMyIjo0MywiLi9jcmMzMiI6NDUsIi4vaW5mZmFzdCI6NDgsIi4vaW5mdHJlZXMiOjUwfV0sNTA6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIEQ9dCgiLi4vdXRpbHMvY29tbW9uIiksRj1bMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdLE49WzE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE3LDE3LDE3LDE3LDE4LDE4LDE4LDE4LDE5LDE5LDE5LDE5LDIwLDIwLDIwLDIwLDIxLDIxLDIxLDIxLDE2LDcyLDc4XSxVPVsxLDIsMyw0LDUsNyw5LDEzLDE3LDI1LDMzLDQ5LDY1LDk3LDEyOSwxOTMsMjU3LDM4NSw1MTMsNzY5LDEwMjUsMTUzNywyMDQ5LDMwNzMsNDA5Nyw2MTQ1LDgxOTMsMTIyODksMTYzODUsMjQ1NzcsMCwwXSxQPVsxNiwxNiwxNiwxNiwxNywxNywxOCwxOCwxOSwxOSwyMCwyMCwyMSwyMSwyMiwyMiwyMywyMywyNCwyNCwyNSwyNSwyNiwyNiwyNywyNywyOCwyOCwyOSwyOSw2NCw2NF07ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxyLGksbixzLGEsbyl7dmFyIGgsdSxsLGYsZCxjLHAsbSxfLGc9by5iaXRzLGI9MCx2PTAseT0wLHc9MCxrPTAseD0wLFM9MCx6PTAsQz0wLEU9MCxBPW51bGwsST0wLE89bmV3IEQuQnVmMTYoMTYpLEI9bmV3IEQuQnVmMTYoMTYpLFI9bnVsbCxUPTA7Zm9yKGI9MDtiPD0xNTtiKyspT1tiXT0wO2Zvcih2PTA7djxpO3YrKylPW2Vbcit2XV0rKztmb3Ioaz1nLHc9MTU7MTw9dyYmMD09PU9bd107dy0tKTtpZih3PGsmJihrPXcpLDA9PT13KXJldHVybiBuW3MrK109MjA5NzE1MjAsbltzKytdPTIwOTcxNTIwLG8uYml0cz0xLDA7Zm9yKHk9MTt5PHcmJjA9PT1PW3ldO3krKyk7Zm9yKGs8eSYmKGs9eSksYj16PTE7Yjw9MTU7YisrKWlmKHo8PD0xLCh6LT1PW2JdKTwwKXJldHVybi0xO2lmKDA8eiYmKDA9PT10fHwxIT09dykpcmV0dXJuLTE7Zm9yKEJbMV09MCxiPTE7YjwxNTtiKyspQltiKzFdPUJbYl0rT1tiXTtmb3Iodj0wO3Y8aTt2KyspMCE9PWVbcit2XSYmKGFbQltlW3Irdl1dKytdPXYpO2lmKGM9MD09PXQ/KEE9Uj1hLDE5KToxPT09dD8oQT1GLEktPTI1NyxSPU4sVC09MjU3LDI1Nik6KEE9VSxSPVAsLTEpLGI9eSxkPXMsUz12PUU9MCxsPS0xLGY9KEM9MTw8KHg9aykpLTEsMT09PXQmJjg1MjxDfHwyPT09dCYmNTkyPEMpcmV0dXJuIDE7Zm9yKDs7KXtmb3IocD1iLVMsXz1hW3ZdPGM/KG09MCxhW3ZdKTphW3ZdPmM/KG09UltUK2Fbdl1dLEFbSSthW3ZdXSk6KG09OTYsMCksaD0xPDxiLVMseT11PTE8PHg7bltkKyhFPj5TKSsodS09aCldPXA8PDI0fG08PDE2fF98MCwwIT09dTspO2ZvcihoPTE8PGItMTtFJmg7KWg+Pj0xO2lmKDAhPT1oPyhFJj1oLTEsRSs9aCk6RT0wLHYrKywwPT0tLU9bYl0pe2lmKGI9PT13KWJyZWFrO2I9ZVtyK2Fbdl1dfWlmKGs8YiYmKEUmZikhPT1sKXtmb3IoMD09PVMmJihTPWspLGQrPXksej0xPDwoeD1iLVMpO3grUzx3JiYhKCh6LT1PW3grU10pPD0wKTspeCsrLHo8PD0xO2lmKEMrPTE8PHgsMT09PXQmJjg1MjxDfHwyPT09dCYmNTkyPEMpcmV0dXJuIDE7bltsPUUmZl09azw8MjR8eDw8MTZ8ZC1zfDB9fXJldHVybiAwIT09RSYmKG5bZCtFXT1iLVM8PDI0fDY0PDwxNnwwKSxvLmJpdHM9aywwfX0seyIuLi91dGlscy9jb21tb24iOjQxfV0sNTE6W2Z1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXsyOiJuZWVkIGRpY3Rpb25hcnkiLDE6InN0cmVhbSBlbmQiLDA6IiIsIi0xIjoiZmlsZSBlcnJvciIsIi0yIjoic3RyZWFtIGVycm9yIiwiLTMiOiJkYXRhIGVycm9yIiwiLTQiOiJpbnN1ZmZpY2llbnQgbWVtb3J5IiwiLTUiOiJidWZmZXIgZXJyb3IiLCItNiI6ImluY29tcGF0aWJsZSB2ZXJzaW9uIn19LHt9XSw1MjpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj10KCIuLi91dGlscy9jb21tb24iKSxvPTAsaD0xO2Z1bmN0aW9uIGkodCl7Zm9yKHZhciBlPXQubGVuZ3RoOzA8PS0tZTspdFtlXT0wfXZhciBzPTAsYT0yOSx1PTI1NixsPXUrMSthLGY9MzAsZD0xOSxfPTIqbCsxLGc9MTUsYz0xNixwPTcsbT0yNTYsYj0xNix2PTE3LHk9MTgsdz1bMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwXSxrPVswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSx4PVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSxTPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSx6PW5ldyBBcnJheSgyKihsKzIpKTtpKHopO3ZhciBDPW5ldyBBcnJheSgyKmYpO2koQyk7dmFyIEU9bmV3IEFycmF5KDUxMik7aShFKTt2YXIgQT1uZXcgQXJyYXkoMjU2KTtpKEEpO3ZhciBJPW5ldyBBcnJheShhKTtpKEkpO3ZhciBPLEIsUixUPW5ldyBBcnJheShmKTtmdW5jdGlvbiBEKHQsZSxyLGksbil7dGhpcy5zdGF0aWNfdHJlZT10LHRoaXMuZXh0cmFfYml0cz1lLHRoaXMuZXh0cmFfYmFzZT1yLHRoaXMuZWxlbXM9aSx0aGlzLm1heF9sZW5ndGg9bix0aGlzLmhhc19zdHJlZT10JiZ0Lmxlbmd0aH1mdW5jdGlvbiBGKHQsZSl7dGhpcy5keW5fdHJlZT10LHRoaXMubWF4X2NvZGU9MCx0aGlzLnN0YXRfZGVzYz1lfWZ1bmN0aW9uIE4odCl7cmV0dXJuIHQ8MjU2P0VbdF06RVsyNTYrKHQ+Pj43KV19ZnVuY3Rpb24gVSh0LGUpe3QucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPTI1NSZlLHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPWU+Pj44JjI1NX1mdW5jdGlvbiBQKHQsZSxyKXt0LmJpX3ZhbGlkPmMtcj8odC5iaV9idWZ8PWU8PHQuYmlfdmFsaWQmNjU1MzUsVSh0LHQuYmlfYnVmKSx0LmJpX2J1Zj1lPj5jLXQuYmlfdmFsaWQsdC5iaV92YWxpZCs9ci1jKToodC5iaV9idWZ8PWU8PHQuYmlfdmFsaWQmNjU1MzUsdC5iaV92YWxpZCs9cil9ZnVuY3Rpb24gTCh0LGUscil7UCh0LHJbMiplXSxyWzIqZSsxXSl9ZnVuY3Rpb24gaih0LGUpe2Zvcih2YXIgcj0wO3J8PTEmdCx0Pj4+PTEscjw8PTEsMDwtLWU7KTtyZXR1cm4gcj4+PjF9ZnVuY3Rpb24gWih0LGUscil7dmFyIGksbixzPW5ldyBBcnJheShnKzEpLGE9MDtmb3IoaT0xO2k8PWc7aSsrKXNbaV09YT1hK3JbaS0xXTw8MTtmb3Iobj0wO248PWU7bisrKXt2YXIgbz10WzIqbisxXTswIT09byYmKHRbMipuXT1qKHNbb10rKyxvKSl9fWZ1bmN0aW9uIFcodCl7dmFyIGU7Zm9yKGU9MDtlPGw7ZSsrKXQuZHluX2x0cmVlWzIqZV09MDtmb3IoZT0wO2U8ZjtlKyspdC5keW5fZHRyZWVbMiplXT0wO2ZvcihlPTA7ZTxkO2UrKyl0LmJsX3RyZWVbMiplXT0wO3QuZHluX2x0cmVlWzIqbV09MSx0Lm9wdF9sZW49dC5zdGF0aWNfbGVuPTAsdC5sYXN0X2xpdD10Lm1hdGNoZXM9MH1mdW5jdGlvbiBNKHQpezg8dC5iaV92YWxpZD9VKHQsdC5iaV9idWYpOjA8dC5iaV92YWxpZCYmKHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPXQuYmlfYnVmKSx0LmJpX2J1Zj0wLHQuYmlfdmFsaWQ9MH1mdW5jdGlvbiBIKHQsZSxyLGkpe3ZhciBuPTIqZSxzPTIqcjtyZXR1cm4gdFtuXTx0W3NdfHx0W25dPT09dFtzXSYmaVtlXTw9aVtyXX1mdW5jdGlvbiBHKHQsZSxyKXtmb3IodmFyIGk9dC5oZWFwW3JdLG49cjw8MTtuPD10LmhlYXBfbGVuJiYobjx0LmhlYXBfbGVuJiZIKGUsdC5oZWFwW24rMV0sdC5oZWFwW25dLHQuZGVwdGgpJiZuKyssIUgoZSxpLHQuaGVhcFtuXSx0LmRlcHRoKSk7KXQuaGVhcFtyXT10LmhlYXBbbl0scj1uLG48PD0xO3QuaGVhcFtyXT1pfWZ1bmN0aW9uIEsodCxlLHIpe3ZhciBpLG4scyxhLG89MDtpZigwIT09dC5sYXN0X2xpdClmb3IoO2k9dC5wZW5kaW5nX2J1Zlt0LmRfYnVmKzIqb108PDh8dC5wZW5kaW5nX2J1Zlt0LmRfYnVmKzIqbysxXSxuPXQucGVuZGluZ19idWZbdC5sX2J1ZitvXSxvKyssMD09PWk/TCh0LG4sZSk6KEwodCwocz1BW25dKSt1KzEsZSksMCE9PShhPXdbc10pJiZQKHQsbi09SVtzXSxhKSxMKHQscz1OKC0taSksciksMCE9PShhPWtbc10pJiZQKHQsaS09VFtzXSxhKSksbzx0Lmxhc3RfbGl0Oyk7TCh0LG0sZSl9ZnVuY3Rpb24gWSh0LGUpe3ZhciByLGksbixzPWUuZHluX3RyZWUsYT1lLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxvPWUuc3RhdF9kZXNjLmhhc19zdHJlZSxoPWUuc3RhdF9kZXNjLmVsZW1zLHU9LTE7Zm9yKHQuaGVhcF9sZW49MCx0LmhlYXBfbWF4PV8scj0wO3I8aDtyKyspMCE9PXNbMipyXT8odC5oZWFwWysrdC5oZWFwX2xlbl09dT1yLHQuZGVwdGhbcl09MCk6c1syKnIrMV09MDtmb3IoO3QuaGVhcF9sZW48Mjspc1syKihuPXQuaGVhcFsrK3QuaGVhcF9sZW5dPXU8Mj8rK3U6MCldPTEsdC5kZXB0aFtuXT0wLHQub3B0X2xlbi0tLG8mJih0LnN0YXRpY19sZW4tPWFbMipuKzFdKTtmb3IoZS5tYXhfY29kZT11LHI9dC5oZWFwX2xlbj4+MTsxPD1yO3ItLSlHKHQscyxyKTtmb3Iobj1oO3I9dC5oZWFwWzFdLHQuaGVhcFsxXT10LmhlYXBbdC5oZWFwX2xlbi0tXSxHKHQscywxKSxpPXQuaGVhcFsxXSx0LmhlYXBbLS10LmhlYXBfbWF4XT1yLHQuaGVhcFstLXQuaGVhcF9tYXhdPWksc1syKm5dPXNbMipyXStzWzIqaV0sdC5kZXB0aFtuXT0odC5kZXB0aFtyXT49dC5kZXB0aFtpXT90LmRlcHRoW3JdOnQuZGVwdGhbaV0pKzEsc1syKnIrMV09c1syKmkrMV09bix0LmhlYXBbMV09bisrLEcodCxzLDEpLDI8PXQuaGVhcF9sZW47KTt0LmhlYXBbLS10LmhlYXBfbWF4XT10LmhlYXBbMV0sZnVuY3Rpb24odCxlKXt2YXIgcixpLG4scyxhLG8saD1lLmR5bl90cmVlLHU9ZS5tYXhfY29kZSxsPWUuc3RhdF9kZXNjLnN0YXRpY190cmVlLGY9ZS5zdGF0X2Rlc2MuaGFzX3N0cmVlLGQ9ZS5zdGF0X2Rlc2MuZXh0cmFfYml0cyxjPWUuc3RhdF9kZXNjLmV4dHJhX2Jhc2UscD1lLnN0YXRfZGVzYy5tYXhfbGVuZ3RoLG09MDtmb3Iocz0wO3M8PWc7cysrKXQuYmxfY291bnRbc109MDtmb3IoaFsyKnQuaGVhcFt0LmhlYXBfbWF4XSsxXT0wLHI9dC5oZWFwX21heCsxO3I8XztyKyspcDwocz1oWzIqaFsyKihpPXQuaGVhcFtyXSkrMV0rMV0rMSkmJihzPXAsbSsrKSxoWzIqaSsxXT1zLHU8aXx8KHQuYmxfY291bnRbc10rKyxhPTAsYzw9aSYmKGE9ZFtpLWNdKSxvPWhbMippXSx0Lm9wdF9sZW4rPW8qKHMrYSksZiYmKHQuc3RhdGljX2xlbis9byoobFsyKmkrMV0rYSkpKTtpZigwIT09bSl7ZG97Zm9yKHM9cC0xOzA9PT10LmJsX2NvdW50W3NdOylzLS07dC5ibF9jb3VudFtzXS0tLHQuYmxfY291bnRbcysxXSs9Mix0LmJsX2NvdW50W3BdLS0sbS09Mn13aGlsZSgwPG0pO2ZvcihzPXA7MCE9PXM7cy0tKWZvcihpPXQuYmxfY291bnRbc107MCE9PWk7KXU8KG49dC5oZWFwWy0tcl0pfHwoaFsyKm4rMV0hPT1zJiYodC5vcHRfbGVuKz0ocy1oWzIqbisxXSkqaFsyKm5dLGhbMipuKzFdPXMpLGktLSl9fSh0LGUpLFoocyx1LHQuYmxfY291bnQpfWZ1bmN0aW9uIFgodCxlLHIpe3ZhciBpLG4scz0tMSxhPWVbMV0sbz0wLGg9Nyx1PTQ7Zm9yKDA9PT1hJiYoaD0xMzgsdT0zKSxlWzIqKHIrMSkrMV09NjU1MzUsaT0wO2k8PXI7aSsrKW49YSxhPWVbMiooaSsxKSsxXSwrK288aCYmbj09PWF8fChvPHU/dC5ibF90cmVlWzIqbl0rPW86MCE9PW4/KG4hPT1zJiZ0LmJsX3RyZWVbMipuXSsrLHQuYmxfdHJlZVsyKmJdKyspOm88PTEwP3QuYmxfdHJlZVsyKnZdKys6dC5ibF90cmVlWzIqeV0rKyxzPW4sdT0obz0wKT09PWE/KGg9MTM4LDMpOm49PT1hPyhoPTYsMyk6KGg9Nyw0KSl9ZnVuY3Rpb24gVih0LGUscil7dmFyIGksbixzPS0xLGE9ZVsxXSxvPTAsaD03LHU9NDtmb3IoMD09PWEmJihoPTEzOCx1PTMpLGk9MDtpPD1yO2krKylpZihuPWEsYT1lWzIqKGkrMSkrMV0sISgrK288aCYmbj09PWEpKXtpZihvPHUpZm9yKDtMKHQsbix0LmJsX3RyZWUpLDAhPS0tbzspO2Vsc2UgMCE9PW4/KG4hPT1zJiYoTCh0LG4sdC5ibF90cmVlKSxvLS0pLEwodCxiLHQuYmxfdHJlZSksUCh0LG8tMywyKSk6bzw9MTA/KEwodCx2LHQuYmxfdHJlZSksUCh0LG8tMywzKSk6KEwodCx5LHQuYmxfdHJlZSksUCh0LG8tMTEsNykpO3M9bix1PShvPTApPT09YT8oaD0xMzgsMyk6bj09PWE/KGg9NiwzKTooaD03LDQpfX1pKFQpO3ZhciBxPSExO2Z1bmN0aW9uIEoodCxlLHIsaSl7UCh0LChzPDwxKSsoaT8xOjApLDMpLGZ1bmN0aW9uKHQsZSxyLGkpe00odCksaSYmKFUodCxyKSxVKHQsfnIpKSxuLmFycmF5U2V0KHQucGVuZGluZ19idWYsdC53aW5kb3csZSxyLHQucGVuZGluZyksdC5wZW5kaW5nKz1yfSh0LGUsciwhMCl9ci5fdHJfaW5pdD1mdW5jdGlvbih0KXtxfHwoZnVuY3Rpb24oKXt2YXIgdCxlLHIsaSxuLHM9bmV3IEFycmF5KGcrMSk7Zm9yKGk9cj0wO2k8YS0xO2krKylmb3IoSVtpXT1yLHQ9MDt0PDE8PHdbaV07dCsrKUFbcisrXT1pO2ZvcihBW3ItMV09aSxpPW49MDtpPDE2O2krKylmb3IoVFtpXT1uLHQ9MDt0PDE8PGtbaV07dCsrKUVbbisrXT1pO2ZvcihuPj49NztpPGY7aSsrKWZvcihUW2ldPW48PDcsdD0wO3Q8MTw8a1tpXS03O3QrKylFWzI1NituKytdPWk7Zm9yKGU9MDtlPD1nO2UrKylzW2VdPTA7Zm9yKHQ9MDt0PD0xNDM7KXpbMip0KzFdPTgsdCsrLHNbOF0rKztmb3IoO3Q8PTI1NTspelsyKnQrMV09OSx0Kyssc1s5XSsrO2Zvcig7dDw9Mjc5Oyl6WzIqdCsxXT03LHQrKyxzWzddKys7Zm9yKDt0PD0yODc7KXpbMip0KzFdPTgsdCsrLHNbOF0rKztmb3IoWih6LGwrMSxzKSx0PTA7dDxmO3QrKylDWzIqdCsxXT01LENbMip0XT1qKHQsNSk7Tz1uZXcgRCh6LHcsdSsxLGwsZyksQj1uZXcgRChDLGssMCxmLGcpLFI9bmV3IEQobmV3IEFycmF5KDApLHgsMCxkLHApfSgpLHE9ITApLHQubF9kZXNjPW5ldyBGKHQuZHluX2x0cmVlLE8pLHQuZF9kZXNjPW5ldyBGKHQuZHluX2R0cmVlLEIpLHQuYmxfZGVzYz1uZXcgRih0LmJsX3RyZWUsUiksdC5iaV9idWY9MCx0LmJpX3ZhbGlkPTAsVyh0KX0sci5fdHJfc3RvcmVkX2Jsb2NrPUosci5fdHJfZmx1c2hfYmxvY2s9ZnVuY3Rpb24odCxlLHIsaSl7dmFyIG4scyxhPTA7MDx0LmxldmVsPygyPT09dC5zdHJtLmRhdGFfdHlwZSYmKHQuc3RybS5kYXRhX3R5cGU9ZnVuY3Rpb24odCl7dmFyIGUscj00MDkzNjI0NDQ3O2ZvcihlPTA7ZTw9MzE7ZSsrLHI+Pj49MSlpZigxJnImJjAhPT10LmR5bl9sdHJlZVsyKmVdKXJldHVybiBvO2lmKDAhPT10LmR5bl9sdHJlZVsxOF18fDAhPT10LmR5bl9sdHJlZVsyMF18fDAhPT10LmR5bl9sdHJlZVsyNl0pcmV0dXJuIGg7Zm9yKGU9MzI7ZTx1O2UrKylpZigwIT09dC5keW5fbHRyZWVbMiplXSlyZXR1cm4gaDtyZXR1cm4gb30odCkpLFkodCx0LmxfZGVzYyksWSh0LHQuZF9kZXNjKSxhPWZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihYKHQsdC5keW5fbHRyZWUsdC5sX2Rlc2MubWF4X2NvZGUpLFgodCx0LmR5bl9kdHJlZSx0LmRfZGVzYy5tYXhfY29kZSksWSh0LHQuYmxfZGVzYyksZT1kLTE7Mzw9ZSYmMD09PXQuYmxfdHJlZVsyKlNbZV0rMV07ZS0tKTtyZXR1cm4gdC5vcHRfbGVuKz0zKihlKzEpKzUrNSs0LGV9KHQpLG49dC5vcHRfbGVuKzMrNz4+PjMsKHM9dC5zdGF0aWNfbGVuKzMrNz4+PjMpPD1uJiYobj1zKSk6bj1zPXIrNSxyKzQ8PW4mJi0xIT09ZT9KKHQsZSxyLGkpOjQ9PT10LnN0cmF0ZWd5fHxzPT09bj8oUCh0LDIrKGk/MTowKSwzKSxLKHQseixDKSk6KFAodCw0KyhpPzE6MCksMyksZnVuY3Rpb24odCxlLHIsaSl7dmFyIG47Zm9yKFAodCxlLTI1Nyw1KSxQKHQsci0xLDUpLFAodCxpLTQsNCksbj0wO248aTtuKyspUCh0LHQuYmxfdHJlZVsyKlNbbl0rMV0sMyk7Vih0LHQuZHluX2x0cmVlLGUtMSksVih0LHQuZHluX2R0cmVlLHItMSl9KHQsdC5sX2Rlc2MubWF4X2NvZGUrMSx0LmRfZGVzYy5tYXhfY29kZSsxLGErMSksSyh0LHQuZHluX2x0cmVlLHQuZHluX2R0cmVlKSksVyh0KSxpJiZNKHQpfSxyLl90cl90YWxseT1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQucGVuZGluZ19idWZbdC5kX2J1ZisyKnQubGFzdF9saXRdPWU+Pj44JjI1NSx0LnBlbmRpbmdfYnVmW3QuZF9idWYrMip0Lmxhc3RfbGl0KzFdPTI1NSZlLHQucGVuZGluZ19idWZbdC5sX2J1Zit0Lmxhc3RfbGl0XT0yNTUmcix0Lmxhc3RfbGl0KyssMD09PWU/dC5keW5fbHRyZWVbMipyXSsrOih0Lm1hdGNoZXMrKyxlLS0sdC5keW5fbHRyZWVbMiooQVtyXSt1KzEpXSsrLHQuZHluX2R0cmVlWzIqTihlKV0rKyksdC5sYXN0X2xpdD09PXQubGl0X2J1ZnNpemUtMX0sci5fdHJfYWxpZ249ZnVuY3Rpb24odCl7UCh0LDIsMyksTCh0LG0seiksZnVuY3Rpb24odCl7MTY9PT10LmJpX3ZhbGlkPyhVKHQsdC5iaV9idWYpLHQuYmlfYnVmPTAsdC5iaV92YWxpZD0wKTo4PD10LmJpX3ZhbGlkJiYodC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109MjU1JnQuYmlfYnVmLHQuYmlfYnVmPj49OCx0LmJpX3ZhbGlkLT04KX0odCl9fSx7Ii4uL3V0aWxzL2NvbW1vbiI6NDF9XSw1MzpbZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLmlucHV0PW51bGwsdGhpcy5uZXh0X2luPTAsdGhpcy5hdmFpbF9pbj0wLHRoaXMudG90YWxfaW49MCx0aGlzLm91dHB1dD1udWxsLHRoaXMubmV4dF9vdXQ9MCx0aGlzLmF2YWlsX291dD0wLHRoaXMudG90YWxfb3V0PTAsdGhpcy5tc2c9IiIsdGhpcy5zdGF0ZT1udWxsLHRoaXMuZGF0YV90eXBlPTIsdGhpcy5hZGxlcj0wfX0se31dLDU0OltmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0SW1tZWRpYXRlP3NldEltbWVkaWF0ZTpmdW5jdGlvbigpe3ZhciB0PVtdLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyk7dC5zcGxpY2UoMSwwLDApLHNldFRpbWVvdXQuYXBwbHkobnVsbCx0KX19LHt9XX0se30sWzEwXSkoMTApfSk7"},{"meta":{"name":"FileSaver.min.js","url":"https://cdn.bootcss.com/FileSaver.js/1.3.8/FileSaver.min.js","ts":1661936236434,"mimetype":"text/javascript"},"source":"LyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL0ZpbGVTYXZlci5qcy9ibG9iL21hc3Rlci9GaWxlU2F2ZXIuanMgKi8KdmFyIHNhdmVBcz1zYXZlQXN8fGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtpZih0eXBlb2YgZT09PSJ1bmRlZmluZWQifHx0eXBlb2YgbmF2aWdhdG9yIT09InVuZGVmaW5lZCImJi9NU0lFIFsxLTldXC4vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpe3JldHVybn12YXIgdD1lLmRvY3VtZW50LG49ZnVuY3Rpb24oKXtyZXR1cm4gZS5VUkx8fGUud2Via2l0VVJMfHxlfSxyPXQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiYSIpLG89ImRvd25sb2FkImluIHIsYT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgTW91c2VFdmVudCgiY2xpY2siKTtlLmRpc3BhdGNoRXZlbnQodCl9LGk9L2NvbnN0cnVjdG9yL2kudGVzdChlLkhUTUxFbGVtZW50KXx8ZS5zYWZhcmksZj0vQ3JpT1NcL1tcZF0rLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHU9ZnVuY3Rpb24odCl7KGUuc2V0SW1tZWRpYXRlfHxlLnNldFRpbWVvdXQpKGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9LHM9ImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSIsZD0xZTMqNDAsYz1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbigpe2lmKHR5cGVvZiBlPT09InN0cmluZyIpe24oKS5yZXZva2VPYmplY3RVUkwoZSl9ZWxzZXtlLnJlbW92ZSgpfX07c2V0VGltZW91dCh0LGQpfSxsPWZ1bmN0aW9uKGUsdCxuKXt0PVtdLmNvbmNhdCh0KTt2YXIgcj10Lmxlbmd0aDt3aGlsZShyLS0pe3ZhciBvPWVbIm9uIit0W3JdXTtpZih0eXBlb2Ygbz09PSJmdW5jdGlvbiIpe3RyeXtvLmNhbGwoZSxufHxlKX1jYXRjaChhKXt1KGEpfX19fSxwPWZ1bmN0aW9uKGUpe2lmKC9eXHMqKD86dGV4dFwvXFMqfGFwcGxpY2F0aW9uXC94bWx8XFMqXC9cUypcK3htbClccyo7LipjaGFyc2V0XHMqPVxzKnV0Zi04L2kudGVzdChlLnR5cGUpKXtyZXR1cm4gbmV3IEJsb2IoW1N0cmluZy5mcm9tQ2hhckNvZGUoNjUyNzkpLGVdLHt0eXBlOmUudHlwZX0pfXJldHVybiBlfSx2PWZ1bmN0aW9uKHQsdSxkKXtpZighZCl7dD1wKHQpfXZhciB2PXRoaXMsdz10LnR5cGUsbT13PT09cyx5LGg9ZnVuY3Rpb24oKXtsKHYsIndyaXRlc3RhcnQgcHJvZ3Jlc3Mgd3JpdGUgd3JpdGVlbmQiLnNwbGl0KCIgIikpfSxTPWZ1bmN0aW9uKCl7aWYoKGZ8fG0mJmkpJiZlLkZpbGVSZWFkZXIpe3ZhciByPW5ldyBGaWxlUmVhZGVyO3Iub25sb2FkZW5kPWZ1bmN0aW9uKCl7dmFyIHQ9Zj9yLnJlc3VsdDpyLnJlc3VsdC5yZXBsYWNlKC9eZGF0YTpbXjtdKjsvLCJkYXRhOmF0dGFjaG1lbnQvZmlsZTsiKTt2YXIgbj1lLm9wZW4odCwiX2JsYW5rIik7aWYoIW4pZS5sb2NhdGlvbi5ocmVmPXQ7dD11bmRlZmluZWQ7di5yZWFkeVN0YXRlPXYuRE9ORTtoKCl9O3IucmVhZEFzRGF0YVVSTCh0KTt2LnJlYWR5U3RhdGU9di5JTklUO3JldHVybn1pZigheSl7eT1uKCkuY3JlYXRlT2JqZWN0VVJMKHQpfWlmKG0pe2UubG9jYXRpb24uaHJlZj15fWVsc2V7dmFyIG89ZS5vcGVuKHksIl9ibGFuayIpO2lmKCFvKXtlLmxvY2F0aW9uLmhyZWY9eX19di5yZWFkeVN0YXRlPXYuRE9ORTtoKCk7Yyh5KX07di5yZWFkeVN0YXRlPXYuSU5JVDtpZihvKXt5PW4oKS5jcmVhdGVPYmplY3RVUkwodCk7c2V0VGltZW91dChmdW5jdGlvbigpe3IuaHJlZj15O3IuZG93bmxvYWQ9dTthKHIpO2goKTtjKHkpO3YucmVhZHlTdGF0ZT12LkRPTkV9KTtyZXR1cm59UygpfSx3PXYucHJvdG90eXBlLG09ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuZXcgdihlLHR8fGUubmFtZXx8ImRvd25sb2FkIixuKX07aWYodHlwZW9mIG5hdmlnYXRvciE9PSJ1bmRlZmluZWQiJiZuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt0PXR8fGUubmFtZXx8ImRvd25sb2FkIjtpZighbil7ZT1wKGUpfXJldHVybiBuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYihlLHQpfX13LmFib3J0PWZ1bmN0aW9uKCl7fTt3LnJlYWR5U3RhdGU9dy5JTklUPTA7dy5XUklUSU5HPTE7dy5ET05FPTI7dy5lcnJvcj13Lm9ud3JpdGVzdGFydD13Lm9ucHJvZ3Jlc3M9dy5vbndyaXRlPXcub25hYm9ydD13Lm9uZXJyb3I9dy5vbndyaXRlZW5kPW51bGw7cmV0dXJuIG19KHR5cGVvZiBzZWxmIT09InVuZGVmaW5lZCImJnNlbGZ8fHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIiYmd2luZG93fHx0aGlzLmNvbnRlbnQpO2lmKHR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIiYmbW9kdWxlLmV4cG9ydHMpe21vZHVsZS5leHBvcnRzLnNhdmVBcz1zYXZlQXN9ZWxzZSBpZih0eXBlb2YgZGVmaW5lIT09InVuZGVmaW5lZCImJmRlZmluZSE9PW51bGwmJmRlZmluZS5hbWQhPT1udWxsKXtkZWZpbmUoIkZpbGVTYXZlci5qcyIsZnVuY3Rpb24oKXtyZXR1cm4gc2F2ZUFzfSl9Cg=="}]},{"name":"搞定设计 || 创客贴 (屏蔽水印和会员小提示，下载PDF格式！！）","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*.gaoding.com/design?id=*","*://*.gaoding.com/odyssey/design?*","*://*.chuangkit.com/design*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1661936236488,"data":{}},"enabled":false,"position":3,"file_url":"https://greasyfork.org/scripts/401870-%E6%90%9E%E5%AE%9A%E8%AE%BE%E8%AE%A1-%E5%88%9B%E5%AE%A2%E8%B4%B4-%E5%B1%8F%E8%94%BD%E6%B0%B4%E5%8D%B0%E5%92%8C%E4%BC%9A%E5%91%98%E5%B0%8F%E6%8F%90%E7%A4%BA-%E4%B8%8B%E8%BD%BDpdf%E6%A0%BC%E5%BC%8F/code/%E6%90%9E%E5%AE%9A%E8%AE%BE%E8%AE%A1%20%7C%7C%20%E5%88%9B%E5%AE%A2%E8%B4%B4%20(%E5%B1%8F%E8%94%BD%E6%B0%B4%E5%8D%B0%E5%92%8C%E4%BC%9A%E5%91%98%E5%B0%8F%E6%8F%90%E7%A4%BA%EF%BC%8C%E4%B8%8B%E8%BD%BDPDF%E6%A0%BC%E5%BC%8F%EF%BC%81%EF%BC%81%EF%BC%89.user.js","uuid":"7ba1b4a4-0793-4802-a929-8c288030ab3c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDmkJ7lrprorr7orqEgfHwg5Yib5a6i6LS0ICjlsY/olL3msLTljbDlkozkvJrlkZjlsI/mj5DnpLrvvIzkuIvovb1QREbmoLzlvI/vvIHvvIHvvIkKLy8gQHZlcnNpb24gICAgICAwLjI0Ci8vIEBpY29uICAgICAgICBodHRwOi8vZHluYW1pYy1pbWFnZS5iZWFyMjAuY29tLzY0MHgyNjcvdXBsb2FkSW1hZ2VzLzIwMjAvMjg5LzM0LzlEVEtUM1kyWFIwNi5qcGcKLy8gQGRlc2NyaXB0aW9uICDlh7rnjrDkuI3og73nlKjkuLrmraPluLjnjrDosaHvvIzkvZvns7vmm7TmlrDjgILmkJ7lrprorr7orqHjgIHliJvlrqLotLQg77yM5bGP6JS95rC05Y2w77yM5Lya5ZGY5bCP5o+Q56S677yM5LiL6L29UERG5qC85byP77yB77yB77yI5Yib5a6i6LS06L+Y5LiN6IO95L+d5a2YUERG77yJCi8vIEBtYXRjaCAgICAgICAgKjovLyouZ2FvZGluZy5jb20vZGVzaWduP2lkPSoKLy8gQG1hdGNoICAgICAgICAqOi8vKi5nYW9kaW5nLmNvbS9vZHlzc2V5L2Rlc2lnbj8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouY2h1YW5na2l0LmNvbS9kZXNpZ24qCi8vIEByZXF1aXJlICAgICAgaHR0cDovL2Nkbi5zdGF0aWNmaWxlLm9yZy9qcXVlcnkvMS44LjMvanF1ZXJ5Lm1pbi5qcwovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gQG5hbWVzcGFjZSBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24gKCkgewogICAgKGZ1bmN0aW9uICgkKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICAvLyBBIG5pY2UgY2xvc3VyZSBmb3Igb3VyIGRlZmluaXRpb25zCiAgICBmdW5jdGlvbiBnZXRqUXVlcnlPYmplY3Qoc3RyaW5nKSB7CiAgICAgICAgLy8gTWFrZSBzdHJpbmcgYSB2YWlsZCBqUXVlcnkgdGhpbmcKICAgICAgICB2YXIganFPYmogPSAkKCIiKTsKICAgICAgICB0cnkgewogICAgICAgICAgICBqcU9iaiA9ICQoc3RyaW5nKQogICAgICAgICAgICAgICAgLmNsb25lKCk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBqcU9iaiA9ICQoIjxzcGFuIC8+IikKICAgICAgICAgICAgICAgIC5odG1sKHN0cmluZyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBqcU9iajsKICAgIH0KCiAgICBmdW5jdGlvbiBwcmludEZyYW1lKGZyYW1lV2luZG93LCBjb250ZW50LCBvcHRpb25zKSB7CiAgICAgICAgLy8gUHJpbnQgdGhlIHNlbGVjdGVkIHdpbmRvdy9pZnJhbWUKICAgICAgICB2YXIgZGVmID0gJC5EZWZlcnJlZCgpOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGZyYW1lV2luZG93ID0gZnJhbWVXaW5kb3cuY29udGVudFdpbmRvdyB8fCBmcmFtZVdpbmRvdy5jb250ZW50RG9jdW1lbnQgfHwgZnJhbWVXaW5kb3c7CiAgICAgICAgICAgIHZhciB3ZG9jID0gZnJhbWVXaW5kb3cuZG9jdW1lbnQgfHwgZnJhbWVXaW5kb3cuY29udGVudERvY3VtZW50IHx8IGZyYW1lV2luZG93OwogICAgICAgICAgICBpZihvcHRpb25zLmRvY3R5cGUpIHsKICAgICAgICAgICAgICAgIHdkb2Mud3JpdGUob3B0aW9ucy5kb2N0eXBlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB3ZG9jLndyaXRlKGNvbnRlbnQpOwogICAgICAgICAgICB3ZG9jLmNsb3NlKCk7CiAgICAgICAgICAgIHZhciBwcmludGVkID0gZmFsc2U7CiAgICAgICAgICAgIHZhciBjYWxsUHJpbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZihwcmludGVkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gRml4IGZvciBJRSA6IEFsbG93IGl0IHRvIHJlbmRlciB0aGUgaWZyYW1lCiAgICAgICAgICAgICAgICBmcmFtZVdpbmRvdy5mb2N1cygpOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAvLyBGaXggZm9yIElFMTEgLSBwcmludG5nIHRoZSB3aG9sZSBwYWdlIGluc3RlYWQgb2YgdGhlIGlmcmFtZSBjb250ZW50CiAgICAgICAgICAgICAgICAgICAgaWYgKCFmcmFtZVdpbmRvdy5kb2N1bWVudC5leGVjQ29tbWFuZCgncHJpbnQnLCBmYWxzZSwgbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQuZXhlY0NvbW1hbmQgcmV0dXJucyBmYWxzZSBpZiBpdCBmYWlsZWQgLWh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMzM2NDQ4LzkzNzg5MQogICAgICAgICAgICAgICAgICAgICAgICBmcmFtZVdpbmRvdy5wcmludCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyBmb2N1cyBib2R5IGFzIGl0IGlzIGxvc2luZyBmb2N1cyBpbiBpUGFkIGFuZCBjb250ZW50IG5vdCBnZXR0aW5nIHByaW50ZWQKICAgICAgICAgICAgICAgICAgICAkKCdib2R5JykuZm9jdXMoKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBmcmFtZVdpbmRvdy5wcmludCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZnJhbWVXaW5kb3cuY2xvc2UoKTsKICAgICAgICAgICAgICAgIHByaW50ZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgZGVmLnJlc29sdmUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBQcmludCBvbmNlIHRoZSBmcmFtZSB3aW5kb3cgbG9hZHMgLSBzZWVtcyB0byB3b3JrIGZvciB0aGUgbmV3LXdpbmRvdyBvcHRpb24gYnV0IHVucmVsaWFibGUgZm9yIHRoZSBpZnJhbWUKICAgICAgICAgICAgJChmcmFtZVdpbmRvdykub24oImxvYWQiLCBjYWxsUHJpbnQpOwogICAgICAgICAgICAvLyBGYWxsYmFjayB0byBwcmludGluZyBkaXJlY3RseSBpZiB0aGUgZnJhbWUgZG9lc24ndCBmaXJlIHRoZSBsb2FkIGV2ZW50IGZvciB3aGF0ZXZlciByZWFzb24KICAgICAgICAgICAgc2V0VGltZW91dChjYWxsUHJpbnQsIG9wdGlvbnMudGltZW91dCk7CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIGRlZi5yZWplY3QoZXJyKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGRlZjsKICAgIH0KCiAgICBmdW5jdGlvbiBwcmludENvbnRlbnRJbklGcmFtZShjb250ZW50LCBvcHRpb25zKSB7CiAgICAgICAgdmFyICRpZnJhbWUgPSAkKG9wdGlvbnMuaWZyYW1lICsgIiIpOwogICAgICAgIHZhciBpZnJhbWVDb3VudCA9ICRpZnJhbWUubGVuZ3RoOwogICAgICAgIGlmIChpZnJhbWVDb3VudCA9PT0gMCkgewogICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgaUZyYW1lIGlmIG5vbmUgaXMgZ2l2ZW4KICAgICAgICAgICAgJGlmcmFtZSA9ICQoJzxpZnJhbWUgaGVpZ2h0PSIwIiB3aWR0aD0iMCIgYm9yZGVyPSIwIiB3bW9kZT0iT3BhcXVlIi8+JykKICAgICAgICAgICAgICAgIC5wcmVwZW5kVG8oJ2JvZHknKQogICAgICAgICAgICAgICAgLmNzcyh7CiAgICAgICAgICAgICAgICAgICAgInBvc2l0aW9uIjogImFic29sdXRlIiwKICAgICAgICAgICAgICAgICAgICAidG9wIjogLTk5OSwKICAgICAgICAgICAgICAgICAgICAibGVmdCI6IC05OTkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICB2YXIgZnJhbWVXaW5kb3cgPSAkaWZyYW1lLmdldCgwKTsKICAgICAgICByZXR1cm4gcHJpbnRGcmFtZShmcmFtZVdpbmRvdywgY29udGVudCwgb3B0aW9ucykKICAgICAgICAgICAgLmRvbmUoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgLy8gU3VjY2VzcwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgSUUKICAgICAgICAgICAgICAgICAgICBpZiAoaWZyYW1lQ291bnQgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVzdHJveSB0aGUgaWZyYW1lIGlmIGNyZWF0ZWQgaGVyZQogICAgICAgICAgICAgICAgICAgICAgICAkaWZyYW1lLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuZmFpbChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIHBvcC11cCBtZXRob2QgaWYgaWZyYW1lIGZhaWxzIGZvciBzb21lIHJlYXNvbgogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRmFpbGVkIHRvIHByaW50IGZyb20gaWZyYW1lIiwgZXJyKTsKICAgICAgICAgICAgICAgIHByaW50Q29udGVudEluTmV3V2luZG93KGNvbnRlbnQsIG9wdGlvbnMpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuYWx3YXlzKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5kZWZlcnJlZC5yZXNvbHZlKCk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIG5vdGlmeWluZyBkZWZlcnJlZCcsIGVycik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHByaW50Q29udGVudEluTmV3V2luZG93KGNvbnRlbnQsIG9wdGlvbnMpIHsKICAgICAgICAvLyBPcGVuIGEgbmV3IHdpbmRvdyBhbmQgcHJpbnQgc2VsZWN0ZWQgY29udGVudAogICAgICAgIHZhciBmcmFtZVdpbmRvdyA9IHdpbmRvdy5vcGVuKCk7CiAgICAgICAgcmV0dXJuIHByaW50RnJhbWUoZnJhbWVXaW5kb3csIGNvbnRlbnQsIG9wdGlvbnMpCiAgICAgICAgICAgIC5hbHdheXMoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmRlZmVycmVkLnJlc29sdmUoKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3Igbm90aWZ5aW5nIGRlZmVycmVkJywgZXJyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gaXNOb2RlKG8pIHsKICAgICAgICAvKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zODQzODAvOTM3ODkxICovCiAgICAgICAgcmV0dXJuICEhKHR5cGVvZiBOb2RlID09PSAib2JqZWN0IiA/IG8gaW5zdGFuY2VvZiBOb2RlIDogbyAmJiB0eXBlb2YgbyA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIG8ubm9kZVR5cGUgPT09ICJudW1iZXIiICYmIHR5cGVvZiBvLm5vZGVOYW1lID09PSAic3RyaW5nIik7CiAgICB9CiAgICAkLnByaW50ID0gJC5mbi5wcmludCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBQcmludCBhIGdpdmVuIHNldCBvZiBlbGVtZW50cwogICAgICAgIHZhciBvcHRpb25zLCAkdGhpcywgc2VsZiA9IHRoaXM7CiAgICAgICAgLy8gY29uc29sZS5sb2coIlByaW50aW5nIiwgdGhpcywgYXJndW1lbnRzKTsKICAgICAgICBpZiAoc2VsZiBpbnN0YW5jZW9mICQpIHsKICAgICAgICAgICAgLy8gR2V0IHRoZSBub2RlIGlmIGl0IGlzIGEgalF1ZXJ5IG9iamVjdAogICAgICAgICAgICBzZWxmID0gc2VsZi5nZXQoMCk7CiAgICAgICAgfQogICAgICAgIGlmIChpc05vZGUoc2VsZikpIHsKICAgICAgICAgICAgLy8gSWYgYHRoaXNgIGlzIGEgSFRNTCBlbGVtZW50LCBpLmUuIGZvcgogICAgICAgICAgICAvLyAkKHNlbGVjdG9yKS5wcmludCgpCiAgICAgICAgICAgICR0aGlzID0gJChzZWxmKTsKICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzWzBdOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAvLyAkLnByaW50KHNlbGVjdG9yLG9wdGlvbnMpCiAgICAgICAgICAgICAgICAkdGhpcyA9ICQoYXJndW1lbnRzWzBdKTsKICAgICAgICAgICAgICAgIGlmIChpc05vZGUoJHRoaXNbMF0pKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbMV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAvLyAkLnByaW50KG9wdGlvbnMpCiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1swXTsKICAgICAgICAgICAgICAgICAgICAkdGhpcyA9ICQoImh0bWwiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vICQucHJpbnQoKQogICAgICAgICAgICAgICAgJHRoaXMgPSAkKCJodG1sIik7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gRGVmYXVsdCBvcHRpb25zCiAgICAgICAgdmFyIGRlZmF1bHRzID0gewogICAgICAgICAgICBnbG9iYWxTdHlsZXM6IHRydWUsCiAgICAgICAgICAgIG1lZGlhUHJpbnQ6IGZhbHNlLAogICAgICAgICAgICBzdHlsZXNoZWV0OiBudWxsLAogICAgICAgICAgICBub1ByaW50U2VsZWN0b3I6ICIubm8tcHJpbnQiLAogICAgICAgICAgICBpZnJhbWU6IHRydWUsCiAgICAgICAgICAgIGFwcGVuZDogbnVsbCwKICAgICAgICAgICAgcHJlcGVuZDogbnVsbCwKICAgICAgICAgICAgbWFudWFsbHlDb3B5Rm9ybVZhbHVlczogdHJ1ZSwKICAgICAgICAgICAgZGVmZXJyZWQ6ICQuRGVmZXJyZWQoKSwKICAgICAgICAgICAgdGltZW91dDogNzUwLAogICAgICAgICAgICB0aXRsZTogbnVsbCwKICAgICAgICAgICAgZG9jdHlwZTogJzwhZG9jdHlwZSBodG1sPicKICAgICAgICB9OwogICAgICAgIC8vIE1lcmdlIHdpdGggdXNlci1vcHRpb25zCiAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgKG9wdGlvbnMgfHwge30pKTsKICAgICAgICB2YXIgJHN0eWxlcyA9ICQoIiIpOwogICAgICAgIGlmIChvcHRpb25zLmdsb2JhbFN0eWxlcykgewogICAgICAgICAgICAvLyBBcHBseSB0aGUgc3RseWVzIGZyb20gdGhlIGN1cnJlbnQgc2hlZXQgdG8gdGhlIHByaW50ZWQgcGFnZQogICAgICAgICAgICAkc3R5bGVzID0gJCgic3R5bGUsIGxpbmssIG1ldGEsIGJhc2UsIHRpdGxlIik7CiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm1lZGlhUHJpbnQpIHsKICAgICAgICAgICAgLy8gQXBwbHkgdGhlIG1lZGlhLXByaW50IHN0eWxlc2hlZXQKICAgICAgICAgICAgJHN0eWxlcyA9ICQoImxpbmtbbWVkaWE9cHJpbnRdIik7CiAgICAgICAgfQogICAgICAgIGlmIChvcHRpb25zLnN0eWxlc2hlZXQpIHsKICAgICAgICAgICAgLy8gQWRkIGEgY3VzdG9tIHN0eWxlc2hlZXQgaWYgZ2l2ZW4KICAgICAgICAgICAgJHN0eWxlcyA9ICQubWVyZ2UoJHN0eWxlcywgJCgnPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInICsgb3B0aW9ucy5zdHlsZXNoZWV0ICsgJyI+JykpOwogICAgICAgIH0KICAgICAgICAvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBlbGVtZW50IHRvIHByaW50CiAgICAgICAgdmFyIGNvcHkgPSAkdGhpcy5jbG9uZSgpOwogICAgICAgIC8vIFdyYXAgaXQgaW4gYSBzcGFuIHRvIGdldCB0aGUgSFRNTCBtYXJrdXAgc3RyaW5nCiAgICAgICAgY29weSA9ICQoIjxzcGFuLz4iKQogICAgICAgICAgICAuYXBwZW5kKGNvcHkpOwogICAgICAgIC8vIFJlbW92ZSB1bndhbnRlZCBlbGVtZW50cwogICAgICAgIGNvcHkuZmluZChvcHRpb25zLm5vUHJpbnRTZWxlY3RvcikKICAgICAgICAgICAgLnJlbW92ZSgpOwogICAgICAgIC8vIEFkZCBpbiB0aGUgc3R5bGVzCiAgICAgICAgY29weS5hcHBlbmQoJHN0eWxlcy5jbG9uZSgpKTsKICAgICAgICAvLyBVcGRhdGUgdGl0bGUKICAgICAgICBpZiAob3B0aW9ucy50aXRsZSkgewogICAgICAgICAgICB2YXIgdGl0bGUgPSAkKCJ0aXRsZSIsIGNvcHkpOwogICAgICAgICAgICBpZiAodGl0bGUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICAgICB0aXRsZSA9ICQoIjx0aXRsZSAvPiIpOwogICAgICAgICAgICAgICAgY29weS5hcHBlbmQodGl0bGUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRpdGxlLnRleHQob3B0aW9ucy50aXRsZSk7CiAgICAgICAgfQogICAgICAgIC8vIEFwcGVkbmVkIGNvbnRlbnQKICAgICAgICBjb3B5LmFwcGVuZChnZXRqUXVlcnlPYmplY3Qob3B0aW9ucy5hcHBlbmQpKTsKICAgICAgICAvLyBQcmVwZW5kZWQgY29udGVudAogICAgICAgIGNvcHkucHJlcGVuZChnZXRqUXVlcnlPYmplY3Qob3B0aW9ucy5wcmVwZW5kKSk7CiAgICAgICAgaWYgKG9wdGlvbnMubWFudWFsbHlDb3B5Rm9ybVZhbHVlcykgewogICAgICAgICAgICAvLyBNYW51YWxseSBjb3B5IGZvcm0gdmFsdWVzIGludG8gdGhlIEhUTUwgZm9yIHByaW50aW5nIHVzZXItbW9kaWZpZWQgaW5wdXQgZmllbGRzCiAgICAgICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NzA3NzUzCiAgICAgICAgICAgIGNvcHkuZmluZCgiaW5wdXQiKQogICAgICAgICAgICAgICAgLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciAkZmllbGQgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgICAgIGlmICgkZmllbGQuaXMoIlt0eXBlPSdyYWRpbyddIikgfHwgJGZpZWxkLmlzKCJbdHlwZT0nY2hlY2tib3gnXSIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZmllbGQucHJvcCgiY2hlY2tlZCIpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZmllbGQuYXR0cigiY2hlY2tlZCIsICJjaGVja2VkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkZmllbGQuYXR0cigidmFsdWUiLCAkZmllbGQudmFsKCkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb3B5LmZpbmQoInNlbGVjdCIpLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyICRmaWVsZCA9ICQodGhpcyk7CiAgICAgICAgICAgICAgICAkZmllbGQuZmluZCgiOnNlbGVjdGVkIikuYXR0cigic2VsZWN0ZWQiLCAic2VsZWN0ZWQiKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvcHkuZmluZCgidGV4dGFyZWEiKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIC8vIEZpeCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL0RvZXJzR3VpbGQvalF1ZXJ5LnByaW50L2lzc3Vlcy8xOCNpc3N1ZWNvbW1lbnQtOTY0NTE1ODkKICAgICAgICAgICAgICAgIHZhciAkZmllbGQgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgJGZpZWxkLnRleHQoJGZpZWxkLnZhbCgpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIC8vIEdldCB0aGUgSFRNTCBtYXJrdXAgc3RyaW5nCiAgICAgICAgdmFyIGNvbnRlbnQgPSBjb3B5Lmh0bWwoKTsKICAgICAgICAvLyBOb3RpZnkgd2l0aCBnZW5lcmF0ZWQgbWFya3VwICYgY2xvbmVkIGVsZW1lbnRzIC0gdXNlZnVsIGZvciBsb2dnaW5nLCBldGMKICAgICAgICB0cnkgewogICAgICAgICAgICBvcHRpb25zLmRlZmVycmVkLm5vdGlmeSgnZ2VuZXJhdGVkX21hcmt1cCcsIGNvbnRlbnQsIGNvcHkpOwogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIG5vdGlmeWluZyBkZWZlcnJlZCcsIGVycik7CiAgICAgICAgfQogICAgICAgIC8vIERlc3Ryb3kgdGhlIGNvcHkKICAgICAgICBjb3B5LnJlbW92ZSgpOwogICAgICAgIGlmIChvcHRpb25zLmlmcmFtZSkgewogICAgICAgICAgICAvLyBVc2UgYW4gaWZyYW1lIGZvciBwcmludGluZwogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgcHJpbnRDb250ZW50SW5JRnJhbWUoY29udGVudCwgb3B0aW9ucyk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgcG9wLXVwIG1ldGhvZCBpZiBpZnJhbWUgZmFpbHMgZm9yIHNvbWUgcmVhc29uCiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gcHJpbnQgZnJvbSBpZnJhbWUiLCBlLnN0YWNrLCBlLm1lc3NhZ2UpOwogICAgICAgICAgICAgICAgcHJpbnRDb250ZW50SW5OZXdXaW5kb3coY29udGVudCwgb3B0aW9ucyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBVc2UgYSBuZXcgd2luZG93IGZvciBwcmludGluZwogICAgICAgICAgICBwcmludENvbnRlbnRJbk5ld1dpbmRvdyhjb250ZW50LCBvcHRpb25zKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9Owp9KShqUXVlcnkpOwogICAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkgewogICAgdmFyIHdpbmRvd1VybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwogICAgdmFyIEdkdXJsUmVnID0gL2dhb2RpbmcuY29tLzsKICAgIHZhciBDa3R1cmxSZWcgPSAvY2h1YW5na2l0LmNvbS87CiAgICB2YXIgR2RkaXlDc3MgPSBgCiAgICAgICAgLmVkaXRvci13YXRlcm1hcmssCiAgICAgICAgLmVkaXRvci1yZW1vdmUtd2F0ZXJtYXJrLAogICAgICAgIC5yZW1vdmUtd2F0ZXJtYXJrLAogICAgICAgIC5pY29uLXZpcC1kaWFtb25kLAogICAgICAgIC5nZGQtbWF0ZXJpYWwtY2FyZF9fdmlwLAogICAgICAgIC5nLXBvcG92ZXJfX2NvbnRhaW5lcjpudGgtY2hpbGQoMiksCiAgICAgICAgI3N2ZVBkZgogICAgICAgIHsgZGlzcGxheTpub25lO30KICAgICAgICAuZXVpLWJ1dHRvbnMtYmFyLS1kcm9wZG93biA+IGJ1dHRvbjpudGgtY2hpbGQoMSksCiAgICAgICAgLmV1aS1idXR0b25zLWJhci0tZHJvcGRvd24gPiBidXR0b246bnRoLWNoaWxkKDIpCiAgICAgICAge3BvaW50ZXItZXZlbnRzOm5vbmU7fQogICAgICAgIC5ldWktYnV0dG9ucy1iYXItLWRyb3Bkb3due2N1cnNvcjogcG9pbnRlcjt9CmAKICAgIHZhciBDa3RkaXlDc3MgPSBgCiAgICAgICAgLnRlbXBsYXRlV2F0ZXJNYXJrLAogICAgICAgIC5yZW1vdmUtY2t0VGVtcGxhdGUtd2F0ZXJtYXJrLAogICAgICAgICNyZW5kZXJlciA+IGRpdjpudGgtY2hpbGQoNSkgPiBkaXYsCiAgICAgICAgI3JlbmRlcmVyID4gZGl2Om50aC1jaGlsZCgyKSA+IGRpdiA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXYsCiAgICAgICAgI3JlbmRlcmVyID4gZGl2Om50aC1jaGlsZCg2KSA+IGRpdiA+IGRpdjpudGgtY2hpbGQoMikgPiBkaXYsCiAgICAgICAgI3N2ZVBkZgogICAgICAgIHsgZGlzcGxheTpub25lO30KICAgICAgICAuZGVzaWduLWhlYWRlci1kb3dubG9hZC1zcGFuLW5ld0Rvd24sCiAgICAgICAgLmRlc2lnbi1oZWFkZXItZG93bmxvYWQtbGVmdC1kb3dubG9hZAogICAgICAgIHtwb2ludGVyLWV2ZW50czpub25lO30KYAogICAgZnVuY3Rpb24gYWRkU3R5bGUobmFtZSkgewogICAgICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgc3R5bGUuaW5uZXJIVE1MID0gbmFtZTsKICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZChzdHlsZSk7CiAgICAgICAgfSk7CiAgICB9CiAgICBmdW5jdGlvbiB5ZXMoY29udGVudElELERvd25sb2FkQnV0KSB7CgogICAgICAgIHZhciBkaXZIdG1sID0gJzxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0ic3ZlUGRmIj48L2J1dHRvbj4nCgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewoKICAgICAgICAkKERvd25sb2FkQnV0KS5hcHBlbmQoZGl2SHRtbCkKICAgICAgICAgICAgJChEb3dubG9hZEJ1dCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgIGFsZXJ0KCfoibrmnK/lrZfkvZPkvJrlh7rnjrDpl67popjvvIHvvIHvvIEtLTHig6PvuI/miZPljbDmnLrpgInmi6nlrZjlgqjkuLpQREYtLS0tMuKDo++4j+i+uei3neemu+aXoC0tLS0tM+KDo++4j+mAieS4iuiDjOaZr+WbvuW9oicpCiAgICAgICAgICAgICAgICB2YXIgZGl5UHJ0Q3NzID0gYEBtZWRpYSBwcmludCB7CiAgICAgICAgICAgIEBwYWdlIHsKICAgICAgICAgICAgc2l6ZTogYCsgJChjb250ZW50SUQpLndpZHRoKCkgKyBgcHggYCArICQoY29udGVudElEKS5oZWlnaHQoKSArIGBweDsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJvZHkgewogICAgICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICAgIH0KICAgICAgICB9KTtgCiAgICAgICAgICAgICAgICB2YXIgcHJ0U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgICAgICAgICAgICAgcHJ0U3R5bGUuaW5uZXJIVE1MID0gZGl5UHJ0Q3NzOwogICAgICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZChwcnRTdHlsZSk7CiAgICAgICAgICAgICAgICAkKGNvbnRlbnRJRCkucHJpbnQoewogICAgICAgICAgICAgICAgICAgIGdsb2JhbFN0eWxlczogdHJ1ZSwvL+aYr+WQpuWMheWQq+eItuaWh+aho+eahOagt+W8j++8jOm7mOiupOS4unRydWUKICAgICAgICAgICAgICAgICAgICBtZWRpYVByaW50OiBmYWxzZSwvL+aYr+WQpuWMheWQq21lZGlhPSdwcmludCfnmoTpk77mjqXmoIfnrb7jgILkvJrooqtnbG9iYWxTdHlsZXPpgInpobnopobnm5bvvIzpu5jorqTkuLpmYWxzZQogICAgICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQ6IG51bGwsLy/lpJbpg6jmoLflvI/ooajnmoRVUkzlnLDlnYDvvIzpu5jorqTkuLpudWxsCiAgICAgICAgICAgICAgICAgICAgbm9QcmludFNlbGVjdG9yOiAiLm5vLXByaW50IiwvL+S4jeaDs+aJk+WNsOeahOWFg+e0oOeahGpRdWVyeemAieaLqeWZqO+8jOm7mOiupOS4uiIubm8tcHJpbnQiCiAgICAgICAgICAgICAgICAgICAgaWZyYW1lOiB0cnVlLC8v5piv5ZCm5L2/55So5LiA5LiqaWZyYW1l5p2l5pu/5Luj5omT5Y2w6KGo5Y2V55qE5by55Ye656qX5Y+j77yMdHJ1ZeS4uuWcqOacrOmhtemdoui/m+ihjOaJk+WNsO+8jGZhbHNl5bCx5piv6K+05paw5byA5LiA5Liq6aG16Z2i5omT5Y2w77yM6buY6K6k5Li6dHJ1ZQogICAgICAgICAgICAgICAgICAgIGFwcGVuZDogbnVsbCwvL+WwhuWGheWuuea3u+WKoOWIsOaJk+WNsOWGheWuueeahOWQjumdogogICAgICAgICAgICAgICAgICAgIHByZXBlbmQ6IG51bGwsLy/lsIblhoXlrrnmt7vliqDliLDmiZPljbDlhoXlrrnnmoTliY3pnaLvvIzlj6/ku6XnlKjmnaXkvZzkuLropoHmiZPljbDlhoXlrrkKICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZDoKICAgICAgICAgICAgICAgICAgICAgICAgJC5EZWZlcnJlZCgpLy/lm57osIPlh73mlbAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KQoKICAgICAgICB9LCAyMDAwKQogICAgfQogICAgaWYgKEdkdXJsUmVnLnRlc3Qod2luZG93VXJsKSkgewogICAgICAgIGFkZFN0eWxlKEdkZGl5Q3NzKQogICAgICAgIHllcygnLmVkaXRvci1jYW52YXMnLCcuZWRpdG9yLXJpZ2h0LWFjdGlvbnMgPiAuZXVpLWJ1dHRvbnMtYmFyLS1kcm9wZG93bicpCiAgICB9IGVsc2UgaWYgKENrdHVybFJlZy50ZXN0KHdpbmRvd1VybCkpIHsKICAgICAgICBhZGRTdHlsZShDa3RkaXlDc3MpCiAgICAgICAgeWVzKCcjcGFnZScsJy5kZXNpZ24taGVhZGVyLWRvd25sb2FkLW5ld0Rvd24nKQogICAgfQp9KQp9KSgp","requires":[{"meta":{"name":"jquery.min.js","url":"http://cdn.staticfile.org/jquery/1.8.3/jquery.min.js","ts":1661936236484,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2MS44LjMganF1ZXJ5LmNvbSB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwooZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBfKGUpe3ZhciB0PU1bZV09e307cmV0dXJuIHYuZWFjaChlLnNwbGl0KHkpLGZ1bmN0aW9uKGUsbil7dFtuXT0hMH0pLHR9ZnVuY3Rpb24gSChlLG4scil7aWYocj09PXQmJmUubm9kZVR5cGU9PT0xKXt2YXIgaT0iZGF0YS0iK24ucmVwbGFjZShQLCItJDEiKS50b0xvd2VyQ2FzZSgpO3I9ZS5nZXRBdHRyaWJ1dGUoaSk7aWYodHlwZW9mIHI9PSJzdHJpbmciKXt0cnl7cj1yPT09InRydWUiPyEwOnI9PT0iZmFsc2UiPyExOnI9PT0ibnVsbCI/bnVsbDorcisiIj09PXI/K3I6RC50ZXN0KHIpP3YucGFyc2VKU09OKHIpOnJ9Y2F0Y2gocyl7fXYuZGF0YShlLG4scil9ZWxzZSByPXR9cmV0dXJuIHJ9ZnVuY3Rpb24gQihlKXt2YXIgdDtmb3IodCBpbiBlKXtpZih0PT09ImRhdGEiJiZ2LmlzRW1wdHlPYmplY3QoZVt0XSkpY29udGludWU7aWYodCE9PSJ0b0pTT04iKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGV0KCl7cmV0dXJuITF9ZnVuY3Rpb24gdHQoKXtyZXR1cm4hMH1mdW5jdGlvbiB1dChlKXtyZXR1cm4hZXx8IWUucGFyZW50Tm9kZXx8ZS5wYXJlbnROb2RlLm5vZGVUeXBlPT09MTF9ZnVuY3Rpb24gYXQoZSx0KXtkbyBlPWVbdF07d2hpbGUoZSYmZS5ub2RlVHlwZSE9PTEpO3JldHVybiBlfWZ1bmN0aW9uIGZ0KGUsdCxuKXt0PXR8fDA7aWYodi5pc0Z1bmN0aW9uKHQpKXJldHVybiB2LmdyZXAoZSxmdW5jdGlvbihlLHIpe3ZhciBpPSEhdC5jYWxsKGUscixlKTtyZXR1cm4gaT09PW59KTtpZih0Lm5vZGVUeXBlKXJldHVybiB2LmdyZXAoZSxmdW5jdGlvbihlLHIpe3JldHVybiBlPT09dD09PW59KTtpZih0eXBlb2YgdD09InN0cmluZyIpe3ZhciByPXYuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVUeXBlPT09MX0pO2lmKGl0LnRlc3QodCkpcmV0dXJuIHYuZmlsdGVyKHQsciwhbik7dD12LmZpbHRlcih0LHIpfXJldHVybiB2LmdyZXAoZSxmdW5jdGlvbihlLHIpe3JldHVybiB2LmluQXJyYXkoZSx0KT49MD09PW59KX1mdW5jdGlvbiBsdChlKXt2YXIgdD1jdC5zcGxpdCgifCIpLG49ZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYobi5jcmVhdGVFbGVtZW50KXdoaWxlKHQubGVuZ3RoKW4uY3JlYXRlRWxlbWVudCh0LnBvcCgpKTtyZXR1cm4gbn1mdW5jdGlvbiBMdChlLHQpe3JldHVybiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lKHQpWzBdfHxlLmFwcGVuZENoaWxkKGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpKX1mdW5jdGlvbiBBdChlLHQpe2lmKHQubm9kZVR5cGUhPT0xfHwhdi5oYXNEYXRhKGUpKXJldHVybjt2YXIgbixyLGkscz12Ll9kYXRhKGUpLG89di5fZGF0YSh0LHMpLHU9cy5ldmVudHM7aWYodSl7ZGVsZXRlIG8uaGFuZGxlLG8uZXZlbnRzPXt9O2ZvcihuIGluIHUpZm9yKHI9MCxpPXVbbl0ubGVuZ3RoO3I8aTtyKyspdi5ldmVudC5hZGQodCxuLHVbbl1bcl0pfW8uZGF0YSYmKG8uZGF0YT12LmV4dGVuZCh7fSxvLmRhdGEpKX1mdW5jdGlvbiBPdChlLHQpe3ZhciBuO2lmKHQubm9kZVR5cGUhPT0xKXJldHVybjt0LmNsZWFyQXR0cmlidXRlcyYmdC5jbGVhckF0dHJpYnV0ZXMoKSx0Lm1lcmdlQXR0cmlidXRlcyYmdC5tZXJnZUF0dHJpYnV0ZXMoZSksbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksbj09PSJvYmplY3QiPyh0LnBhcmVudE5vZGUmJih0Lm91dGVySFRNTD1lLm91dGVySFRNTCksdi5zdXBwb3J0Lmh0bWw1Q2xvbmUmJmUuaW5uZXJIVE1MJiYhdi50cmltKHQuaW5uZXJIVE1MKSYmKHQuaW5uZXJIVE1MPWUuaW5uZXJIVE1MKSk6bj09PSJpbnB1dCImJkV0LnRlc3QoZS50eXBlKT8odC5kZWZhdWx0Q2hlY2tlZD10LmNoZWNrZWQ9ZS5jaGVja2VkLHQudmFsdWUhPT1lLnZhbHVlJiYodC52YWx1ZT1lLnZhbHVlKSk6bj09PSJvcHRpb24iP3Quc2VsZWN0ZWQ9ZS5kZWZhdWx0U2VsZWN0ZWQ6bj09PSJpbnB1dCJ8fG49PT0idGV4dGFyZWEiP3QuZGVmYXVsdFZhbHVlPWUuZGVmYXVsdFZhbHVlOm49PT0ic2NyaXB0IiYmdC50ZXh0IT09ZS50ZXh0JiYodC50ZXh0PWUudGV4dCksdC5yZW1vdmVBdHRyaWJ1dGUodi5leHBhbmRvKX1mdW5jdGlvbiBNdChlKXtyZXR1cm4gdHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPSJ1bmRlZmluZWQiP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKTp0eXBlb2YgZS5xdWVyeVNlbGVjdG9yQWxsIT0idW5kZWZpbmVkIj9lLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKTpbXX1mdW5jdGlvbiBfdChlKXtFdC50ZXN0KGUudHlwZSkmJihlLmRlZmF1bHRDaGVja2VkPWUuY2hlY2tlZCl9ZnVuY3Rpb24gUXQoZSx0KXtpZih0IGluIGUpcmV0dXJuIHQ7dmFyIG49dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpLHI9dCxpPUp0Lmxlbmd0aDt3aGlsZShpLS0pe3Q9SnRbaV0rbjtpZih0IGluIGUpcmV0dXJuIHR9cmV0dXJuIHJ9ZnVuY3Rpb24gR3QoZSx0KXtyZXR1cm4gZT10fHxlLHYuY3NzKGUsImRpc3BsYXkiKT09PSJub25lInx8IXYuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfWZ1bmN0aW9uIFl0KGUsdCl7dmFyIG4scixpPVtdLHM9MCxvPWUubGVuZ3RoO2Zvcig7czxvO3MrKyl7bj1lW3NdO2lmKCFuLnN0eWxlKWNvbnRpbnVlO2lbc109di5fZGF0YShuLCJvbGRkaXNwbGF5IiksdD8oIWlbc10mJm4uc3R5bGUuZGlzcGxheT09PSJub25lIiYmKG4uc3R5bGUuZGlzcGxheT0iIiksbi5zdHlsZS5kaXNwbGF5PT09IiImJkd0KG4pJiYoaVtzXT12Ll9kYXRhKG4sIm9sZGRpc3BsYXkiLG5uKG4ubm9kZU5hbWUpKSkpOihyPUR0KG4sImRpc3BsYXkiKSwhaVtzXSYmciE9PSJub25lIiYmdi5fZGF0YShuLCJvbGRkaXNwbGF5IixyKSl9Zm9yKHM9MDtzPG87cysrKXtuPWVbc107aWYoIW4uc3R5bGUpY29udGludWU7aWYoIXR8fG4uc3R5bGUuZGlzcGxheT09PSJub25lInx8bi5zdHlsZS5kaXNwbGF5PT09IiIpbi5zdHlsZS5kaXNwbGF5PXQ/aVtzXXx8IiI6Im5vbmUifXJldHVybiBlfWZ1bmN0aW9uIFp0KGUsdCxuKXt2YXIgcj1SdC5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsxXS0obnx8MCkpKyhyWzJdfHwicHgiKTp0fWZ1bmN0aW9uIGVuKGUsdCxuLHIpe3ZhciBpPW49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpPzQ6dD09PSJ3aWR0aCI/MTowLHM9MDtmb3IoO2k8NDtpKz0yKW49PT0ibWFyZ2luIiYmKHMrPXYuY3NzKGUsbiskdFtpXSwhMCkpLHI/KG49PT0iY29udGVudCImJihzLT1wYXJzZUZsb2F0KER0KGUsInBhZGRpbmciKyR0W2ldKSl8fDApLG4hPT0ibWFyZ2luIiYmKHMtPXBhcnNlRmxvYXQoRHQoZSwiYm9yZGVyIiskdFtpXSsiV2lkdGgiKSl8fDApKToocys9cGFyc2VGbG9hdChEdChlLCJwYWRkaW5nIiskdFtpXSkpfHwwLG4hPT0icGFkZGluZyImJihzKz1wYXJzZUZsb2F0KER0KGUsImJvcmRlciIrJHRbaV0rIldpZHRoIikpfHwwKSk7cmV0dXJuIHN9ZnVuY3Rpb24gdG4oZSx0LG4pe3ZhciByPXQ9PT0id2lkdGgiP2Uub2Zmc2V0V2lkdGg6ZS5vZmZzZXRIZWlnaHQsaT0hMCxzPXYuc3VwcG9ydC5ib3hTaXppbmcmJnYuY3NzKGUsImJveFNpemluZyIpPT09ImJvcmRlci1ib3giO2lmKHI8PTB8fHI9PW51bGwpe3I9RHQoZSx0KTtpZihyPDB8fHI9PW51bGwpcj1lLnN0eWxlW3RdO2lmKFV0LnRlc3QocikpcmV0dXJuIHI7aT1zJiYodi5zdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlfHxyPT09ZS5zdHlsZVt0XSkscj1wYXJzZUZsb2F0KHIpfHwwfXJldHVybiByK2VuKGUsdCxufHwocz8iYm9yZGVyIjoiY29udGVudCIpLGkpKyJweCJ9ZnVuY3Rpb24gbm4oZSl7aWYoV3RbZV0pcmV0dXJuIFd0W2VdO3ZhciB0PXYoIjwiK2UrIj4iKS5hcHBlbmRUbyhpLmJvZHkpLG49dC5jc3MoImRpc3BsYXkiKTt0LnJlbW92ZSgpO2lmKG49PT0ibm9uZSJ8fG49PT0iIil7UHQ9aS5ib2R5LmFwcGVuZENoaWxkKFB0fHx2LmV4dGVuZChpLmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpLHtmcmFtZUJvcmRlcjowLHdpZHRoOjAsaGVpZ2h0OjB9KSk7aWYoIUh0fHwhUHQuY3JlYXRlRWxlbWVudClIdD0oUHQuY29udGVudFdpbmRvd3x8UHQuY29udGVudERvY3VtZW50KS5kb2N1bWVudCxIdC53cml0ZSgiPCFkb2N0eXBlIGh0bWw+PGh0bWw+PGJvZHk+IiksSHQuY2xvc2UoKTt0PUh0LmJvZHkuYXBwZW5kQ2hpbGQoSHQuY3JlYXRlRWxlbWVudChlKSksbj1EdCh0LCJkaXNwbGF5IiksaS5ib2R5LnJlbW92ZUNoaWxkKFB0KX1yZXR1cm4gV3RbZV09bixufWZ1bmN0aW9uIGZuKGUsdCxuLHIpe3ZhciBpO2lmKHYuaXNBcnJheSh0KSl2LmVhY2godCxmdW5jdGlvbih0LGkpe258fHNuLnRlc3QoZSk/cihlLGkpOmZuKGUrIlsiKyh0eXBlb2YgaT09Im9iamVjdCI/dDoiIikrIl0iLGksbixyKX0pO2Vsc2UgaWYoIW4mJnYudHlwZSh0KT09PSJvYmplY3QiKWZvcihpIGluIHQpZm4oZSsiWyIraSsiXSIsdFtpXSxuLHIpO2Vsc2UgcihlLHQpfWZ1bmN0aW9uIENuKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3R5cGVvZiB0IT0ic3RyaW5nIiYmKG49dCx0PSIqIik7dmFyIHIsaSxzLG89dC50b0xvd2VyQ2FzZSgpLnNwbGl0KHkpLHU9MCxhPW8ubGVuZ3RoO2lmKHYuaXNGdW5jdGlvbihuKSlmb3IoO3U8YTt1Kyspcj1vW3VdLHM9L15cKy8udGVzdChyKSxzJiYocj1yLnN1YnN0cigxKXx8IioiKSxpPWVbcl09ZVtyXXx8W10saVtzPyJ1bnNoaWZ0IjoicHVzaCJdKG4pfX1mdW5jdGlvbiBrbihlLG4scixpLHMsbyl7cz1zfHxuLmRhdGFUeXBlc1swXSxvPW98fHt9LG9bc109ITA7dmFyIHUsYT1lW3NdLGY9MCxsPWE/YS5sZW5ndGg6MCxjPWU9PT1Tbjtmb3IoO2Y8bCYmKGN8fCF1KTtmKyspdT1hW2ZdKG4scixpKSx0eXBlb2YgdT09InN0cmluZyImJighY3x8b1t1XT91PXQ6KG4uZGF0YVR5cGVzLnVuc2hpZnQodSksdT1rbihlLG4scixpLHUsbykpKTtyZXR1cm4oY3x8IXUpJiYhb1siKiJdJiYodT1rbihlLG4scixpLCIqIixvKSksdX1mdW5jdGlvbiBMbihlLG4pe3ZhciByLGkscz12LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKHIgaW4gbiluW3JdIT09dCYmKChzW3JdP2U6aXx8KGk9e30pKVtyXT1uW3JdKTtpJiZ2LmV4dGVuZCghMCxlLGkpfWZ1bmN0aW9uIEFuKGUsbixyKXt2YXIgaSxzLG8sdSxhPWUuY29udGVudHMsZj1lLmRhdGFUeXBlcyxsPWUucmVzcG9uc2VGaWVsZHM7Zm9yKHMgaW4gbClzIGluIHImJihuW2xbc11dPXJbc10pO3doaWxlKGZbMF09PT0iKiIpZi5zaGlmdCgpLGk9PT10JiYoaT1lLm1pbWVUeXBlfHxuLmdldFJlc3BvbnNlSGVhZGVyKCJjb250ZW50LXR5cGUiKSk7aWYoaSlmb3IocyBpbiBhKWlmKGFbc10mJmFbc10udGVzdChpKSl7Zi51bnNoaWZ0KHMpO2JyZWFrfWlmKGZbMF1pbiByKW89ZlswXTtlbHNle2ZvcihzIGluIHIpe2lmKCFmWzBdfHxlLmNvbnZlcnRlcnNbcysiICIrZlswXV0pe289czticmVha311fHwodT1zKX1vPW98fHV9aWYobylyZXR1cm4gbyE9PWZbMF0mJmYudW5zaGlmdChvKSxyW29dfWZ1bmN0aW9uIE9uKGUsdCl7dmFyIG4scixpLHMsbz1lLmRhdGFUeXBlcy5zbGljZSgpLHU9b1swXSxhPXt9LGY9MDtlLmRhdGFGaWx0ZXImJih0PWUuZGF0YUZpbHRlcih0LGUuZGF0YVR5cGUpKTtpZihvWzFdKWZvcihuIGluIGUuY29udmVydGVycylhW24udG9Mb3dlckNhc2UoKV09ZS5jb252ZXJ0ZXJzW25dO2Zvcig7aT1vWysrZl07KWlmKGkhPT0iKiIpe2lmKHUhPT0iKiImJnUhPT1pKXtuPWFbdSsiICIraV18fGFbIiogIitpXTtpZighbilmb3IociBpbiBhKXtzPXIuc3BsaXQoIiAiKTtpZihzWzFdPT09aSl7bj1hW3UrIiAiK3NbMF1dfHxhWyIqICIrc1swXV07aWYobil7bj09PSEwP249YVtyXTphW3JdIT09ITAmJihpPXNbMF0sby5zcGxpY2UoZi0tLDAsaSkpO2JyZWFrfX19aWYobiE9PSEwKWlmKG4mJmVbInRocm93cyJdKXQ9bih0KTtlbHNlIHRyeXt0PW4odCl9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6bj9sOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitpfX19dT1pfXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTp0fX1mdW5jdGlvbiBGbigpe3RyeXtyZXR1cm4gbmV3IGUuWE1MSHR0cFJlcXVlc3R9Y2F0Y2godCl7fX1mdW5jdGlvbiBJbigpe3RyeXtyZXR1cm4gbmV3IGUuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaCh0KXt9fWZ1bmN0aW9uICRuKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtxbj10fSwwKSxxbj12Lm5vdygpfWZ1bmN0aW9uIEpuKGUsdCl7di5lYWNoKHQsZnVuY3Rpb24odCxuKXt2YXIgcj0oVm5bdF18fFtdKS5jb25jYXQoVm5bIioiXSksaT0wLHM9ci5sZW5ndGg7Zm9yKDtpPHM7aSsrKWlmKHJbaV0uY2FsbChlLHQsbikpcmV0dXJufSl9ZnVuY3Rpb24gS24oZSx0LG4pe3ZhciByLGk9MCxzPTAsbz1Ybi5sZW5ndGgsdT12LkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGEuZWxlbX0pLGE9ZnVuY3Rpb24oKXt2YXIgdD1xbnx8JG4oKSxuPU1hdGgubWF4KDAsZi5zdGFydFRpbWUrZi5kdXJhdGlvbi10KSxyPW4vZi5kdXJhdGlvbnx8MCxpPTEtcixzPTAsbz1mLnR3ZWVucy5sZW5ndGg7Zm9yKDtzPG87cysrKWYudHdlZW5zW3NdLnJ1bihpKTtyZXR1cm4gdS5ub3RpZnlXaXRoKGUsW2YsaSxuXSksaTwxJiZvP246KHUucmVzb2x2ZVdpdGgoZSxbZl0pLCExKX0sZj11LnByb21pc2Uoe2VsZW06ZSxwcm9wczp2LmV4dGVuZCh7fSx0KSxvcHRzOnYuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxuKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6bixzdGFydFRpbWU6cW58fCRuKCksZHVyYXRpb246bi5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxuLHIpe3ZhciBpPXYuVHdlZW4oZSxmLm9wdHMsdCxuLGYub3B0cy5zcGVjaWFsRWFzaW5nW3RdfHxmLm9wdHMuZWFzaW5nKTtyZXR1cm4gZi50d2VlbnMucHVzaChpKSxpfSxzdG9wOmZ1bmN0aW9uKHQpe3ZhciBuPTAscj10P2YudHdlZW5zLmxlbmd0aDowO2Zvcig7bjxyO24rKylmLnR3ZWVuc1tuXS5ydW4oMSk7cmV0dXJuIHQ/dS5yZXNvbHZlV2l0aChlLFtmLHRdKTp1LnJlamVjdFdpdGgoZSxbZix0XSksdGhpc319KSxsPWYucHJvcHM7UW4obCxmLm9wdHMuc3BlY2lhbEVhc2luZyk7Zm9yKDtpPG87aSsrKXtyPVhuW2ldLmNhbGwoZixlLGwsZi5vcHRzKTtpZihyKXJldHVybiByfXJldHVybiBKbihmLGwpLHYuaXNGdW5jdGlvbihmLm9wdHMuc3RhcnQpJiZmLm9wdHMuc3RhcnQuY2FsbChlLGYpLHYuZngudGltZXIodi5leHRlbmQoYSx7YW5pbTpmLHF1ZXVlOmYub3B0cy5xdWV1ZSxlbGVtOmV9KSksZi5wcm9ncmVzcyhmLm9wdHMucHJvZ3Jlc3MpLmRvbmUoZi5vcHRzLmRvbmUsZi5vcHRzLmNvbXBsZXRlKS5mYWlsKGYub3B0cy5mYWlsKS5hbHdheXMoZi5vcHRzLmFsd2F5cyl9ZnVuY3Rpb24gUW4oZSx0KXt2YXIgbixyLGkscyxvO2ZvcihuIGluIGUpe3I9di5jYW1lbENhc2UobiksaT10W3JdLHM9ZVtuXSx2LmlzQXJyYXkocykmJihpPXNbMV0scz1lW25dPXNbMF0pLG4hPT1yJiYoZVtyXT1zLGRlbGV0ZSBlW25dKSxvPXYuY3NzSG9va3Nbcl07aWYobyYmImV4cGFuZCJpbiBvKXtzPW8uZXhwYW5kKHMpLGRlbGV0ZSBlW3JdO2ZvcihuIGluIHMpbiBpbiBlfHwoZVtuXT1zW25dLHRbbl09aSl9ZWxzZSB0W3JdPWl9fWZ1bmN0aW9uIEduKGUsdCxuKXt2YXIgcixpLHMsbyx1LGEsZixsLGMsaD10aGlzLHA9ZS5zdHlsZSxkPXt9LG09W10sZz1lLm5vZGVUeXBlJiZHdChlKTtuLnF1ZXVlfHwobD12Ll9xdWV1ZUhvb2tzKGUsImZ4IiksbC51bnF1ZXVlZD09bnVsbCYmKGwudW5xdWV1ZWQ9MCxjPWwuZW1wdHkuZmlyZSxsLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtsLnVucXVldWVkfHxjKCl9KSxsLnVucXVldWVkKyssaC5hbHdheXMoZnVuY3Rpb24oKXtoLmFsd2F5cyhmdW5jdGlvbigpe2wudW5xdWV1ZWQtLSx2LnF1ZXVlKGUsImZ4IikubGVuZ3RofHxsLmVtcHR5LmZpcmUoKX0pfSkpLGUubm9kZVR5cGU9PT0xJiYoImhlaWdodCJpbiB0fHwid2lkdGgiaW4gdCkmJihuLm92ZXJmbG93PVtwLm92ZXJmbG93LHAub3ZlcmZsb3dYLHAub3ZlcmZsb3dZXSx2LmNzcyhlLCJkaXNwbGF5Iik9PT0iaW5saW5lIiYmdi5jc3MoZSwiZmxvYXQiKT09PSJub25lIiYmKCF2LnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dHx8bm4oZS5ub2RlTmFtZSk9PT0iaW5saW5lIj9wLmRpc3BsYXk9ImlubGluZS1ibG9jayI6cC56b29tPTEpKSxuLm92ZXJmbG93JiYocC5vdmVyZmxvdz0iaGlkZGVuIix2LnN1cHBvcnQuc2hyaW5rV3JhcEJsb2Nrc3x8aC5kb25lKGZ1bmN0aW9uKCl7cC5vdmVyZmxvdz1uLm92ZXJmbG93WzBdLHAub3ZlcmZsb3dYPW4ub3ZlcmZsb3dbMV0scC5vdmVyZmxvd1k9bi5vdmVyZmxvd1syXX0pKTtmb3IociBpbiB0KXtzPXRbcl07aWYoVW4uZXhlYyhzKSl7ZGVsZXRlIHRbcl0sYT1hfHxzPT09InRvZ2dsZSI7aWYocz09PShnPyJoaWRlIjoic2hvdyIpKWNvbnRpbnVlO20ucHVzaChyKX19bz1tLmxlbmd0aDtpZihvKXt1PXYuX2RhdGEoZSwiZnhzaG93Iil8fHYuX2RhdGEoZSwiZnhzaG93Iix7fSksImhpZGRlbiJpbiB1JiYoZz11LmhpZGRlbiksYSYmKHUuaGlkZGVuPSFnKSxnP3YoZSkuc2hvdygpOmguZG9uZShmdW5jdGlvbigpe3YoZSkuaGlkZSgpfSksaC5kb25lKGZ1bmN0aW9uKCl7dmFyIHQ7di5yZW1vdmVEYXRhKGUsImZ4c2hvdyIsITApO2Zvcih0IGluIGQpdi5zdHlsZShlLHQsZFt0XSl9KTtmb3Iocj0wO3I8bztyKyspaT1tW3JdLGY9aC5jcmVhdGVUd2VlbihpLGc/dVtpXTowKSxkW2ldPXVbaV18fHYuc3R5bGUoZSxpKSxpIGluIHV8fCh1W2ldPWYuc3RhcnQsZyYmKGYuZW5kPWYuc3RhcnQsZi5zdGFydD1pPT09IndpZHRoInx8aT09PSJoZWlnaHQiPzE6MCkpfX1mdW5jdGlvbiBZbihlLHQsbixyLGkpe3JldHVybiBuZXcgWW4ucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1mdW5jdGlvbiBabihlLHQpe3ZhciBuLHI9e2hlaWdodDplfSxpPTA7dD10PzE6MDtmb3IoO2k8NDtpKz0yLXQpbj0kdFtpXSxyWyJtYXJnaW4iK25dPXJbInBhZGRpbmciK25dPWU7cmV0dXJuIHQmJihyLm9wYWNpdHk9ci53aWR0aD1lKSxyfWZ1bmN0aW9uIHRyKGUpe3JldHVybiB2LmlzV2luZG93KGUpP2U6ZS5ub2RlVHlwZT09PTk/ZS5kZWZhdWx0Vmlld3x8ZS5wYXJlbnRXaW5kb3c6ITF9dmFyIG4scixpPWUuZG9jdW1lbnQscz1lLmxvY2F0aW9uLG89ZS5uYXZpZ2F0b3IsdT1lLmpRdWVyeSxhPWUuJCxmPUFycmF5LnByb3RvdHlwZS5wdXNoLGw9QXJyYXkucHJvdG90eXBlLnNsaWNlLGM9QXJyYXkucHJvdG90eXBlLmluZGV4T2YsaD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHA9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxkPVN0cmluZy5wcm90b3R5cGUudHJpbSx2PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyB2LmZuLmluaXQoZSx0LG4pfSxtPS9bXC0rXT8oPzpcZCpcLnwpXGQrKD86W2VFXVtcLStdP1xkK3wpLy5zb3VyY2UsZz0vXFMvLHk9L1xzKy8sYj0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2csdz0vXig/OlteIzxdKig8W1x3XFddKz4pW14+XSokfCMoW1x3XC1dKikkKS8sRT0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT58KSQvLFM9L15bXF0sOnt9XHNdKiQvLHg9Lyg/Ol58OnwsKSg/OlxzKlxbKSsvZyxUPS9cXCg/OlsiXFxcL2JmbnJ0XXx1W1xkYS1mQS1GXXs0fSkvZyxOPS8iW14iXFxcclxuXSoifHRydWV8ZmFsc2V8bnVsbHwtPyg/OlxkXGQqXC58KVxkKyg/OltlRV1bXC0rXT9cZCt8KS9nLEM9L14tbXMtLyxrPS8tKFtcZGEtel0pL2dpLEw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4odCsiIikudG9VcHBlckNhc2UoKX0sQT1mdW5jdGlvbigpe2kuYWRkRXZlbnRMaXN0ZW5lcj8oaS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixBLCExKSx2LnJlYWR5KCkpOmkucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSImJihpLmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLEEpLHYucmVhZHkoKSl9LE89e307di5mbj12LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dixpbml0OmZ1bmN0aW9uKGUsbixyKXt2YXIgcyxvLHUsYTtpZighZSlyZXR1cm4gdGhpcztpZihlLm5vZGVUeXBlKXJldHVybiB0aGlzLmNvbnRleHQ9dGhpc1swXT1lLHRoaXMubGVuZ3RoPTEsdGhpcztpZih0eXBlb2YgZT09InN0cmluZyIpe2UuY2hhckF0KDApPT09IjwiJiZlLmNoYXJBdChlLmxlbmd0aC0xKT09PSI+IiYmZS5sZW5ndGg+PTM/cz1bbnVsbCxlLG51bGxdOnM9dy5leGVjKGUpO2lmKHMmJihzWzFdfHwhbikpe2lmKHNbMV0pcmV0dXJuIG49biBpbnN0YW5jZW9mIHY/blswXTpuLGE9biYmbi5ub2RlVHlwZT9uLm93bmVyRG9jdW1lbnR8fG46aSxlPXYucGFyc2VIVE1MKHNbMV0sYSwhMCksRS50ZXN0KHNbMV0pJiZ2LmlzUGxhaW5PYmplY3QobikmJnRoaXMuYXR0ci5jYWxsKGUsbiwhMCksdi5tZXJnZSh0aGlzLGUpO289aS5nZXRFbGVtZW50QnlJZChzWzJdKTtpZihvJiZvLnBhcmVudE5vZGUpe2lmKG8uaWQhPT1zWzJdKXJldHVybiByLmZpbmQoZSk7dGhpcy5sZW5ndGg9MSx0aGlzWzBdPW99cmV0dXJuIHRoaXMuY29udGV4dD1pLHRoaXMuc2VsZWN0b3I9ZSx0aGlzfXJldHVybiFufHxuLmpxdWVyeT8obnx8cikuZmluZChlKTp0aGlzLmNvbnN0cnVjdG9yKG4pLmZpbmQoZSl9cmV0dXJuIHYuaXNGdW5jdGlvbihlKT9yLnJlYWR5KGUpOihlLnNlbGVjdG9yIT09dCYmKHRoaXMuc2VsZWN0b3I9ZS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9ZS5jb250ZXh0KSx2Lm1ha2VBcnJheShlLHRoaXMpKX0sc2VsZWN0b3I6IiIsanF1ZXJ5OiIxLjguMyIsbGVuZ3RoOjAsc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBsLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gZT09bnVsbD90aGlzLnRvQXJyYXkoKTplPDA/dGhpc1t0aGlzLmxlbmd0aCtlXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXYubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiByLnByZXZPYmplY3Q9dGhpcyxyLmNvbnRleHQ9dGhpcy5jb250ZXh0LHQ9PT0iZmluZCI/ci5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyh0aGlzLnNlbGVjdG9yPyIgIjoiIikrbjp0JiYoci5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyIuIit0KyIoIituKyIpIikscn0sZWFjaDpmdW5jdGlvbihlLHQpe3JldHVybiB2LmVhY2godGhpcyxlLHQpfSxyZWFkeTpmdW5jdGlvbihlKXtyZXR1cm4gdi5yZWFkeS5wcm9taXNlKCkuZG9uZShlKSx0aGlzfSxlcTpmdW5jdGlvbihlKXtyZXR1cm4gZT0rZSxlPT09LTE/dGhpcy5zbGljZShlKTp0aGlzLnNsaWNlKGUsZSsxKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobC5hcHBseSh0aGlzLGFyZ3VtZW50cyksInNsaWNlIixsLmNhbGwoYXJndW1lbnRzKS5qb2luKCIsIikpfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHYubWFwKHRoaXMsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5jYWxsKHQsbix0KX0pKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpmLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfSx2LmZuLmluaXQucHJvdG90eXBlPXYuZm4sdi5leHRlbmQ9di5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxzLG8sdT1hcmd1bWVudHNbMF18fHt9LGE9MSxmPWFyZ3VtZW50cy5sZW5ndGgsbD0hMTt0eXBlb2YgdT09ImJvb2xlYW4iJiYobD11LHU9YXJndW1lbnRzWzFdfHx7fSxhPTIpLHR5cGVvZiB1IT0ib2JqZWN0IiYmIXYuaXNGdW5jdGlvbih1KSYmKHU9e30pLGY9PT1hJiYodT10aGlzLC0tYSk7Zm9yKDthPGY7YSsrKWlmKChlPWFyZ3VtZW50c1thXSkhPW51bGwpZm9yKG4gaW4gZSl7cj11W25dLGk9ZVtuXTtpZih1PT09aSljb250aW51ZTtsJiZpJiYodi5pc1BsYWluT2JqZWN0KGkpfHwocz12LmlzQXJyYXkoaSkpKT8ocz8ocz0hMSxvPXImJnYuaXNBcnJheShyKT9yOltdKTpvPXImJnYuaXNQbGFpbk9iamVjdChyKT9yOnt9LHVbbl09di5leHRlbmQobCxvLGkpKTppIT09dCYmKHVbbl09aSl9cmV0dXJuIHV9LHYuZXh0ZW5kKHtub0NvbmZsaWN0OmZ1bmN0aW9uKHQpe3JldHVybiBlLiQ9PT12JiYoZS4kPWEpLHQmJmUualF1ZXJ5PT09diYmKGUualF1ZXJ5PXUpLHZ9LGlzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGUpe2U/di5yZWFkeVdhaXQrKzp2LnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oZSl7aWYoZT09PSEwPy0tdi5yZWFkeVdhaXQ6di5pc1JlYWR5KXJldHVybjtpZighaS5ib2R5KXJldHVybiBzZXRUaW1lb3V0KHYucmVhZHksMSk7di5pc1JlYWR5PSEwO2lmKGUhPT0hMCYmLS12LnJlYWR5V2FpdD4wKXJldHVybjtyLnJlc29sdmVXaXRoKGksW3ZdKSx2LmZuLnRyaWdnZXImJnYoaSkudHJpZ2dlcigicmVhZHkiKS5vZmYoInJlYWR5Iil9LGlzRnVuY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuIHYudHlwZShlKT09PSJmdW5jdGlvbiJ9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIHYudHlwZShlKT09PSJhcnJheSJ9LGlzV2luZG93OmZ1bmN0aW9uKGUpe3JldHVybiBlIT1udWxsJiZlPT1lLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGUpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KGUpKSYmaXNGaW5pdGUoZSl9LHR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PW51bGw/U3RyaW5nKGUpOk9baC5jYWxsKGUpXXx8Im9iamVjdCJ9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7aWYoIWV8fHYudHlwZShlKSE9PSJvYmplY3QifHxlLm5vZGVUeXBlfHx2LmlzV2luZG93KGUpKXJldHVybiExO3RyeXtpZihlLmNvbnN0cnVjdG9yJiYhcC5jYWxsKGUsImNvbnN0cnVjdG9yIikmJiFwLmNhbGwoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKSlyZXR1cm4hMX1jYXRjaChuKXtyZXR1cm4hMX12YXIgcjtmb3IociBpbiBlKTtyZXR1cm4gcj09PXR8fHAuY2FsbChlLHIpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0scGFyc2VIVE1MOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4hZXx8dHlwZW9mIGUhPSJzdHJpbmciP251bGw6KHR5cGVvZiB0PT0iYm9vbGVhbiImJihuPXQsdD0wKSx0PXR8fGksKHI9RS5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KHJbMV0pXToocj12LmJ1aWxkRnJhZ21lbnQoW2VdLHQsbj9udWxsOltdKSx2Lm1lcmdlKFtdLChyLmNhY2hlYWJsZT92LmNsb25lKHIuZnJhZ21lbnQpOnIuZnJhZ21lbnQpLmNoaWxkTm9kZXMpKSl9LHBhcnNlSlNPTjpmdW5jdGlvbih0KXtpZighdHx8dHlwZW9mIHQhPSJzdHJpbmciKXJldHVybiBudWxsO3Q9di50cmltKHQpO2lmKGUuSlNPTiYmZS5KU09OLnBhcnNlKXJldHVybiBlLkpTT04ucGFyc2UodCk7aWYoUy50ZXN0KHQucmVwbGFjZShULCJAIikucmVwbGFjZShOLCJdIikucmVwbGFjZSh4LCIiKSkpcmV0dXJuKG5ldyBGdW5jdGlvbigicmV0dXJuICIrdCkpKCk7di5lcnJvcigiSW52YWxpZCBKU09OOiAiK3QpfSxwYXJzZVhNTDpmdW5jdGlvbihuKXt2YXIgcixpO2lmKCFufHx0eXBlb2YgbiE9InN0cmluZyIpcmV0dXJuIG51bGw7dHJ5e2UuRE9NUGFyc2VyPyhpPW5ldyBET01QYXJzZXIscj1pLnBhcnNlRnJvbVN0cmluZyhuLCJ0ZXh0L3htbCIpKToocj1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLHIuYXN5bmM9ImZhbHNlIixyLmxvYWRYTUwobikpfWNhdGNoKHMpe3I9dH1yZXR1cm4oIXJ8fCFyLmRvY3VtZW50RWxlbWVudHx8ci5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpJiZ2LmVycm9yKCJJbnZhbGlkIFhNTDogIituKSxyfSxub29wOmZ1bmN0aW9uKCl7fSxnbG9iYWxFdmFsOmZ1bmN0aW9uKHQpe3QmJmcudGVzdCh0KSYmKGUuZXhlY1NjcmlwdHx8ZnVuY3Rpb24odCl7ZS5ldmFsLmNhbGwoZSx0KX0pKHQpfSxjYW1lbENhc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShDLCJtcy0iKS5yZXBsYWNlKGssTCl9LG5vZGVOYW1lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihlLG4scil7dmFyIGkscz0wLG89ZS5sZW5ndGgsdT1vPT09dHx8di5pc0Z1bmN0aW9uKGUpO2lmKHIpe2lmKHUpe2ZvcihpIGluIGUpaWYobi5hcHBseShlW2ldLHIpPT09ITEpYnJlYWt9ZWxzZSBmb3IoO3M8bzspaWYobi5hcHBseShlW3MrK10scik9PT0hMSlicmVha31lbHNlIGlmKHUpe2ZvcihpIGluIGUpaWYobi5jYWxsKGVbaV0saSxlW2ldKT09PSExKWJyZWFrfWVsc2UgZm9yKDtzPG87KWlmKG4uY2FsbChlW3NdLHMsZVtzKytdKT09PSExKWJyZWFrO3JldHVybiBlfSx0cmltOmQmJiFkLmNhbGwoIlx1ZmVmZlx1MDBhMCIpP2Z1bmN0aW9uKGUpe3JldHVybiBlPT1udWxsPyIiOmQuY2FsbChlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PW51bGw/IiI6KGUrIiIpLnJlcGxhY2UoYiwiIil9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9dHx8W107cmV0dXJuIGUhPW51bGwmJihuPXYudHlwZShlKSxlLmxlbmd0aD09bnVsbHx8bj09PSJzdHJpbmcifHxuPT09ImZ1bmN0aW9uInx8bj09PSJyZWdleHAifHx2LmlzV2luZG93KGUpP2YuY2FsbChyLGUpOnYubWVyZ2UocixlKSkscn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYodCl7aWYoYylyZXR1cm4gYy5jYWxsKHQsZSxuKTtyPXQubGVuZ3RoLG49bj9uPDA/TWF0aC5tYXgoMCxyK24pOm46MDtmb3IoO248cjtuKyspaWYobiBpbiB0JiZ0W25dPT09ZSlyZXR1cm4gbn1yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmxlbmd0aCxpPWUubGVuZ3RoLHM9MDtpZih0eXBlb2Ygcj09Im51bWJlciIpZm9yKDtzPHI7cysrKWVbaSsrXT1uW3NdO2Vsc2Ugd2hpbGUobltzXSE9PXQpZVtpKytdPW5bcysrXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVtdLHM9MCxvPWUubGVuZ3RoO249ISFuO2Zvcig7czxvO3MrKylyPSEhdChlW3NdLHMpLG4hPT1yJiZpLnB1c2goZVtzXSk7cmV0dXJuIGl9LG1hcDpmdW5jdGlvbihlLG4scil7dmFyIGkscyxvPVtdLHU9MCxhPWUubGVuZ3RoLGY9ZSBpbnN0YW5jZW9mIHZ8fGEhPT10JiZ0eXBlb2YgYT09Im51bWJlciImJihhPjAmJmVbMF0mJmVbYS0xXXx8YT09PTB8fHYuaXNBcnJheShlKSk7aWYoZilmb3IoO3U8YTt1KyspaT1uKGVbdV0sdSxyKSxpIT1udWxsJiYob1tvLmxlbmd0aF09aSk7ZWxzZSBmb3IocyBpbiBlKWk9bihlW3NdLHMsciksaSE9bnVsbCYmKG9bby5sZW5ndGhdPWkpO3JldHVybiBvLmNvbmNhdC5hcHBseShbXSxvKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGUsbil7dmFyIHIsaSxzO3JldHVybiB0eXBlb2Ygbj09InN0cmluZyImJihyPWVbbl0sbj1lLGU9ciksdi5pc0Z1bmN0aW9uKGUpPyhpPWwuY2FsbChhcmd1bWVudHMsMikscz1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KG4saS5jb25jYXQobC5jYWxsKGFyZ3VtZW50cykpKX0scy5ndWlkPWUuZ3VpZD1lLmd1aWR8fHYuZ3VpZCsrLHMpOnR9LGFjY2VzczpmdW5jdGlvbihlLG4scixpLHMsbyx1KXt2YXIgYSxmPXI9PW51bGwsbD0wLGM9ZS5sZW5ndGg7aWYociYmdHlwZW9mIHI9PSJvYmplY3QiKXtmb3IobCBpbiByKXYuYWNjZXNzKGUsbixsLHJbbF0sMSxvLGkpO3M9MX1lbHNlIGlmKGkhPT10KXthPXU9PT10JiZ2LmlzRnVuY3Rpb24oaSksZiYmKGE/KGE9bixuPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYS5jYWxsKHYoZSksbil9KToobi5jYWxsKGUsaSksbj1udWxsKSk7aWYobilmb3IoO2w8YztsKyspbihlW2xdLHIsYT9pLmNhbGwoZVtsXSxsLG4oZVtsXSxyKSk6aSx1KTtzPTF9cmV0dXJuIHM/ZTpmP24uY2FsbChlKTpjP24oZVswXSxyKTpvfSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX19KSx2LnJlYWR5LnByb21pc2U9ZnVuY3Rpb24odCl7aWYoIXIpe3I9di5EZWZlcnJlZCgpO2lmKGkucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSIpc2V0VGltZW91dCh2LnJlYWR5LDEpO2Vsc2UgaWYoaS5hZGRFdmVudExpc3RlbmVyKWkuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQSwhMSksZS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix2LnJlYWR5LCExKTtlbHNle2kuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsQSksZS5hdHRhY2hFdmVudCgib25sb2FkIix2LnJlYWR5KTt2YXIgbj0hMTt0cnl7bj1lLmZyYW1lRWxlbWVudD09bnVsbCYmaS5kb2N1bWVudEVsZW1lbnR9Y2F0Y2gocyl7fW4mJm4uZG9TY3JvbGwmJmZ1bmN0aW9uIG8oKXtpZighdi5pc1JlYWR5KXt0cnl7bi5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKGUpe3JldHVybiBzZXRUaW1lb3V0KG8sNTApfXYucmVhZHkoKX19KCl9fXJldHVybiByLnByb21pc2UodCl9LHYuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLHQpe09bIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSksbj12KGkpO3ZhciBNPXt9O3YuQ2FsbGJhY2tzPWZ1bmN0aW9uKGUpe2U9dHlwZW9mIGU9PSJzdHJpbmciP01bZV18fF8oZSk6di5leHRlbmQoe30sZSk7dmFyIG4scixpLHMsbyx1LGE9W10sZj0hZS5vbmNlJiZbXSxsPWZ1bmN0aW9uKHQpe249ZS5tZW1vcnkmJnQscj0hMCx1PXN8fDAscz0wLG89YS5sZW5ndGgsaT0hMDtmb3IoO2EmJnU8bzt1KyspaWYoYVt1XS5hcHBseSh0WzBdLHRbMV0pPT09ITEmJmUuc3RvcE9uRmFsc2Upe249ITE7YnJlYWt9aT0hMSxhJiYoZj9mLmxlbmd0aCYmbChmLnNoaWZ0KCkpOm4/YT1bXTpjLmRpc2FibGUoKSl9LGM9e2FkZDpmdW5jdGlvbigpe2lmKGEpe3ZhciB0PWEubGVuZ3RoOyhmdW5jdGlvbiByKHQpe3YuZWFjaCh0LGZ1bmN0aW9uKHQsbil7dmFyIGk9di50eXBlKG4pO2k9PT0iZnVuY3Rpb24iPyghZS51bmlxdWV8fCFjLmhhcyhuKSkmJmEucHVzaChuKTpuJiZuLmxlbmd0aCYmaSE9PSJzdHJpbmciJiZyKG4pfSl9KShhcmd1bWVudHMpLGk/bz1hLmxlbmd0aDpuJiYocz10LGwobikpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gYSYmdi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihlLHQpe3ZhciBuO3doaWxlKChuPXYuaW5BcnJheSh0LGEsbikpPi0xKWEuc3BsaWNlKG4sMSksaSYmKG48PW8mJm8tLSxuPD11JiZ1LS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiB2LmluQXJyYXkoZSxhKT4tMX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gYT1bXSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGE9Zj1uPXQsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hYX0sbG9jazpmdW5jdGlvbigpe3JldHVybiBmPXQsbnx8Yy5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWZ9LGZpcmVXaXRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8W10sdD1bZSx0LnNsaWNlP3Quc2xpY2UoKTp0XSxhJiYoIXJ8fGYpJiYoaT9mLnB1c2godCk6bCh0KSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBjLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhcn19O3JldHVybiBjfSx2LmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9W1sicmVzb2x2ZSIsImRvbmUiLHYuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsdi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsdi5DYWxsYmFja3MoIm1lbW9yeSIpXV0sbj0icGVuZGluZyIscj17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3JldHVybiB2LkRlZmVycmVkKGZ1bmN0aW9uKG4pe3YuZWFjaCh0LGZ1bmN0aW9uKHQscil7dmFyIHM9clswXSxvPWVbdF07aVtyWzFdXSh2LmlzRnVuY3Rpb24obyk/ZnVuY3Rpb24oKXt2YXIgZT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlJiZ2LmlzRnVuY3Rpb24oZS5wcm9taXNlKT9lLnByb21pc2UoKS5kb25lKG4ucmVzb2x2ZSkuZmFpbChuLnJlamVjdCkucHJvZ3Jlc3Mobi5ub3RpZnkpOm5bcysiV2l0aCJdKHRoaXM9PT1pP246dGhpcyxbZV0pfTpuW3NdKX0pLGU9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gZSE9bnVsbD92LmV4dGVuZChlLHIpOnJ9fSxpPXt9O3JldHVybiByLnBpcGU9ci50aGVuLHYuZWFjaCh0LGZ1bmN0aW9uKGUscyl7dmFyIG89c1syXSx1PXNbM107cltzWzFdXT1vLmFkZCx1JiZvLmFkZChmdW5jdGlvbigpe249dX0sdFtlXjFdWzJdLmRpc2FibGUsdFsyXVsyXS5sb2NrKSxpW3NbMF1dPW8uZmlyZSxpW3NbMF0rIldpdGgiXT1vLmZpcmVXaXRofSksci5wcm9taXNlKGkpLGUmJmUuY2FsbChpLGkpLGl9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWwuY2FsbChhcmd1bWVudHMpLHI9bi5sZW5ndGgsaT1yIT09MXx8ZSYmdi5pc0Z1bmN0aW9uKGUucHJvbWlzZSk/cjowLHM9aT09PTE/ZTp2LkRlZmVycmVkKCksbz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3RbZV09dGhpcyxuW2VdPWFyZ3VtZW50cy5sZW5ndGg+MT9sLmNhbGwoYXJndW1lbnRzKTpyLG49PT11P3Mubm90aWZ5V2l0aCh0LG4pOi0taXx8cy5yZXNvbHZlV2l0aCh0LG4pfX0sdSxhLGY7aWYocj4xKXt1PW5ldyBBcnJheShyKSxhPW5ldyBBcnJheShyKSxmPW5ldyBBcnJheShyKTtmb3IoO3Q8cjt0Kyspblt0XSYmdi5pc0Z1bmN0aW9uKG5bdF0ucHJvbWlzZSk/blt0XS5wcm9taXNlKCkuZG9uZShvKHQsZixuKSkuZmFpbChzLnJlamVjdCkucHJvZ3Jlc3Mobyh0LGEsdSkpOi0taX1yZXR1cm4gaXx8cy5yZXNvbHZlV2l0aChmLG4pLHMucHJvbWlzZSgpfX0pLHYuc3VwcG9ydD1mdW5jdGlvbigpe3ZhciB0LG4scixzLG8sdSxhLGYsbCxjLGgscD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Auc2V0QXR0cmlidXRlKCJjbGFzc05hbWUiLCJ0IikscC5pbm5lckhUTUw9IiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiIsbj1wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikscj1wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF07aWYoIW58fCFyfHwhbi5sZW5ndGgpcmV0dXJue307cz1pLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLG89cy5hcHBlbmRDaGlsZChpLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSx1PXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF0sci5zdHlsZS5jc3NUZXh0PSJ0b3A6MXB4O2Zsb2F0OmxlZnQ7b3BhY2l0eTouNSIsdD17bGVhZGluZ1doaXRlc3BhY2U6cC5maXJzdENoaWxkLm5vZGVUeXBlPT09Myx0Ym9keTohcC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsaHRtbFNlcmlhbGl6ZTohIXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGgsc3R5bGU6L3RvcC8udGVzdChyLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksaHJlZk5vcm1hbGl6ZWQ6ci5nZXRBdHRyaWJ1dGUoImhyZWYiKT09PSIvYSIsb3BhY2l0eTovXjAuNS8udGVzdChyLnN0eWxlLm9wYWNpdHkpLGNzc0Zsb2F0OiEhci5zdHlsZS5jc3NGbG9hdCxjaGVja09uOnUudmFsdWU9PT0ib24iLG9wdFNlbGVjdGVkOm8uc2VsZWN0ZWQsZ2V0U2V0QXR0cmlidXRlOnAuY2xhc3NOYW1lIT09InQiLGVuY3R5cGU6ISFpLmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlLGh0bWw1Q2xvbmU6aS5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCE9PSI8Om5hdj48LzpuYXY+Iixib3hNb2RlbDppLmNvbXBhdE1vZGU9PT0iQ1NTMUNvbXBhdCIsc3VibWl0QnViYmxlczohMCxjaGFuZ2VCdWJibGVzOiEwLGZvY3VzaW5CdWJibGVzOiExLGRlbGV0ZUV4cGFuZG86ITAsbm9DbG9uZUV2ZW50OiEwLGlubGluZUJsb2NrTmVlZHNMYXlvdXQ6ITEsc2hyaW5rV3JhcEJsb2NrczohMSxyZWxpYWJsZU1hcmdpblJpZ2h0OiEwLGJveFNpemluZ1JlbGlhYmxlOiEwLHBpeGVsUG9zaXRpb246ITF9LHUuY2hlY2tlZD0hMCx0Lm5vQ2xvbmVDaGVja2VkPXUuY2xvbmVOb2RlKCEwKS5jaGVja2VkLHMuZGlzYWJsZWQ9ITAsdC5vcHREaXNhYmxlZD0hby5kaXNhYmxlZDt0cnl7ZGVsZXRlIHAudGVzdH1jYXRjaChkKXt0LmRlbGV0ZUV4cGFuZG89ITF9IXAuYWRkRXZlbnRMaXN0ZW5lciYmcC5hdHRhY2hFdmVudCYmcC5maXJlRXZlbnQmJihwLmF0dGFjaEV2ZW50KCJvbmNsaWNrIixoPWZ1bmN0aW9uKCl7dC5ub0Nsb25lRXZlbnQ9ITF9KSxwLmNsb25lTm9kZSghMCkuZmlyZUV2ZW50KCJvbmNsaWNrIikscC5kZXRhY2hFdmVudCgib25jbGljayIsaCkpLHU9aS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLHUudmFsdWU9InQiLHUuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSx0LnJhZGlvVmFsdWU9dS52YWx1ZT09PSJ0Iix1LnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSx1LnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKSxwLmFwcGVuZENoaWxkKHUpLGE9aS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYS5hcHBlbmRDaGlsZChwLmxhc3RDaGlsZCksdC5jaGVja0Nsb25lPWEuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLHQuYXBwZW5kQ2hlY2tlZD11LmNoZWNrZWQsYS5yZW1vdmVDaGlsZCh1KSxhLmFwcGVuZENoaWxkKHApO2lmKHAuYXR0YWNoRXZlbnQpZm9yKGwgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSlmPSJvbiIrbCxjPWYgaW4gcCxjfHwocC5zZXRBdHRyaWJ1dGUoZiwicmV0dXJuOyIpLGM9dHlwZW9mIHBbZl09PSJmdW5jdGlvbiIpLHRbbCsiQnViYmxlcyJdPWM7cmV0dXJuIHYoZnVuY3Rpb24oKXt2YXIgbixyLHMsbyx1PSJwYWRkaW5nOjA7bWFyZ2luOjA7Ym9yZGVyOjA7ZGlzcGxheTpibG9jaztvdmVyZmxvdzpoaWRkZW47IixhPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXTtpZighYSlyZXR1cm47bj1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG4uc3R5bGUuY3NzVGV4dD0idmlzaWJpbGl0eTpoaWRkZW47Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjpzdGF0aWM7dG9wOjA7bWFyZ2luLXRvcDoxcHgiLGEuaW5zZXJ0QmVmb3JlKG4sYS5maXJzdENoaWxkKSxyPWkuY3JlYXRlRWxlbWVudCgiZGl2Iiksbi5hcHBlbmRDaGlsZChyKSxyLmlubmVySFRNTD0iPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIscz1yLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLHNbMF0uc3R5bGUuY3NzVGV4dD0icGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowO2Rpc3BsYXk6bm9uZSIsYz1zWzBdLm9mZnNldEhlaWdodD09PTAsc1swXS5zdHlsZS5kaXNwbGF5PSIiLHNbMV0uc3R5bGUuZGlzcGxheT0ibm9uZSIsdC5yZWxpYWJsZUhpZGRlbk9mZnNldHM9YyYmc1swXS5vZmZzZXRIZWlnaHQ9PT0wLHIuaW5uZXJIVE1MPSIiLHIuc3R5bGUuY3NzVGV4dD0iYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94Oy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MXB4O2JvcmRlcjoxcHg7ZGlzcGxheTpibG9jazt3aWR0aDo0cHg7bWFyZ2luLXRvcDoxJTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MSU7Iix0LmJveFNpemluZz1yLm9mZnNldFdpZHRoPT09NCx0LmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0PWEub2Zmc2V0VG9wIT09MSxlLmdldENvbXB1dGVkU3R5bGUmJih0LnBpeGVsUG9zaXRpb249KGUuZ2V0Q29tcHV0ZWRTdHlsZShyLG51bGwpfHx7fSkudG9wIT09IjElIix0LmJveFNpemluZ1JlbGlhYmxlPShlLmdldENvbXB1dGVkU3R5bGUocixudWxsKXx8e3dpZHRoOiI0cHgifSkud2lkdGg9PT0iNHB4IixvPWkuY3JlYXRlRWxlbWVudCgiZGl2Iiksby5zdHlsZS5jc3NUZXh0PXIuc3R5bGUuY3NzVGV4dD11LG8uc3R5bGUubWFyZ2luUmlnaHQ9by5zdHlsZS53aWR0aD0iMCIsci5zdHlsZS53aWR0aD0iMXB4IixyLmFwcGVuZENoaWxkKG8pLHQucmVsaWFibGVNYXJnaW5SaWdodD0hcGFyc2VGbG9hdCgoZS5nZXRDb21wdXRlZFN0eWxlKG8sbnVsbCl8fHt9KS5tYXJnaW5SaWdodCkpLHR5cGVvZiByLnN0eWxlLnpvb20hPSJ1bmRlZmluZWQiJiYoci5pbm5lckhUTUw9IiIsci5zdHlsZS5jc3NUZXh0PXUrIndpZHRoOjFweDtwYWRkaW5nOjFweDtkaXNwbGF5OmlubGluZTt6b29tOjEiLHQuaW5saW5lQmxvY2tOZWVkc0xheW91dD1yLm9mZnNldFdpZHRoPT09MyxyLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyLnN0eWxlLm92ZXJmbG93PSJ2aXNpYmxlIixyLmlubmVySFRNTD0iPGRpdj48L2Rpdj4iLHIuZmlyc3RDaGlsZC5zdHlsZS53aWR0aD0iNXB4Iix0LnNocmlua1dyYXBCbG9ja3M9ci5vZmZzZXRXaWR0aCE9PTMsbi5zdHlsZS56b29tPTEpLGEucmVtb3ZlQ2hpbGQobiksbj1yPXM9bz1udWxsfSksYS5yZW1vdmVDaGlsZChwKSxuPXI9cz1vPXU9YT1wPW51bGwsdH0oKTt2YXIgRD0vKD86XHtbXHNcU10qXH18XFtbXHNcU10qXF0pJC8sUD0vKFtBLVpdKS9nO3YuZXh0ZW5kKHtjYWNoZTp7fSxkZWxldGVkSWRzOltdLHV1aWQ6MCxleHBhbmRvOiJqUXVlcnkiKyh2LmZuLmpxdWVyeStNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxub0RhdGE6e2VtYmVkOiEwLG9iamVjdDoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIixhcHBsZXQ6ITB9LGhhc0RhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5ub2RlVHlwZT92LmNhY2hlW2Vbdi5leHBhbmRvXV06ZVt2LmV4cGFuZG9dLCEhZSYmIUIoZSl9LGRhdGE6ZnVuY3Rpb24oZSxuLHIsaSl7aWYoIXYuYWNjZXB0RGF0YShlKSlyZXR1cm47dmFyIHMsbyx1PXYuZXhwYW5kbyxhPXR5cGVvZiBuPT0ic3RyaW5nIixmPWUubm9kZVR5cGUsbD1mP3YuY2FjaGU6ZSxjPWY/ZVt1XTplW3VdJiZ1O2lmKCghY3x8IWxbY118fCFpJiYhbFtjXS5kYXRhKSYmYSYmcj09PXQpcmV0dXJuO2N8fChmP2VbdV09Yz12LmRlbGV0ZWRJZHMucG9wKCl8fHYuZ3VpZCsrOmM9dSksbFtjXXx8KGxbY109e30sZnx8KGxbY10udG9KU09OPXYubm9vcCkpO2lmKHR5cGVvZiBuPT0ib2JqZWN0Inx8dHlwZW9mIG49PSJmdW5jdGlvbiIpaT9sW2NdPXYuZXh0ZW5kKGxbY10sbik6bFtjXS5kYXRhPXYuZXh0ZW5kKGxbY10uZGF0YSxuKTtyZXR1cm4gcz1sW2NdLGl8fChzLmRhdGF8fChzLmRhdGE9e30pLHM9cy5kYXRhKSxyIT09dCYmKHNbdi5jYW1lbENhc2UobildPXIpLGE/KG89c1tuXSxvPT1udWxsJiYobz1zW3YuY2FtZWxDYXNlKG4pXSkpOm89cyxvfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCxuKXtpZighdi5hY2NlcHREYXRhKGUpKXJldHVybjt2YXIgcixpLHMsbz1lLm5vZGVUeXBlLHU9bz92LmNhY2hlOmUsYT1vP2Vbdi5leHBhbmRvXTp2LmV4cGFuZG87aWYoIXVbYV0pcmV0dXJuO2lmKHQpe3I9bj91W2FdOnVbYV0uZGF0YTtpZihyKXt2LmlzQXJyYXkodCl8fCh0IGluIHI/dD1bdF06KHQ9di5jYW1lbENhc2UodCksdCBpbiByP3Q9W3RdOnQ9dC5zcGxpdCgiICIpKSk7Zm9yKGk9MCxzPXQubGVuZ3RoO2k8cztpKyspZGVsZXRlIHJbdFtpXV07aWYoIShuP0I6di5pc0VtcHR5T2JqZWN0KShyKSlyZXR1cm59fWlmKCFuKXtkZWxldGUgdVthXS5kYXRhO2lmKCFCKHVbYV0pKXJldHVybn1vP3YuY2xlYW5EYXRhKFtlXSwhMCk6di5zdXBwb3J0LmRlbGV0ZUV4cGFuZG98fHUhPXUud2luZG93P2RlbGV0ZSB1W2FdOnVbYV09bnVsbH0sX2RhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2LmRhdGEoZSx0LG4sITApfSxhY2NlcHREYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUmJnYubm9EYXRhW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07cmV0dXJuIXR8fHQhPT0hMCYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKT09PXR9fSksdi5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oZSxuKXt2YXIgcixpLHMsbyx1LGE9dGhpc1swXSxmPTAsbD1udWxsO2lmKGU9PT10KXtpZih0aGlzLmxlbmd0aCl7bD12LmRhdGEoYSk7aWYoYS5ub2RlVHlwZT09PTEmJiF2Ll9kYXRhKGEsInBhcnNlZEF0dHJzIikpe3M9YS5hdHRyaWJ1dGVzO2Zvcih1PXMubGVuZ3RoO2Y8dTtmKyspbz1zW2ZdLm5hbWUsby5pbmRleE9mKCJkYXRhLSIpfHwobz12LmNhbWVsQ2FzZShvLnN1YnN0cmluZyg1KSksSChhLG8sbFtvXSkpO3YuX2RhdGEoYSwicGFyc2VkQXR0cnMiLCEwKX19cmV0dXJuIGx9cmV0dXJuIHR5cGVvZiBlPT0ib2JqZWN0Ij90aGlzLmVhY2goZnVuY3Rpb24oKXt2LmRhdGEodGhpcyxlKX0pOihyPWUuc3BsaXQoIi4iLDIpLHJbMV09clsxXT8iLiIrclsxXToiIixpPXJbMV0rIiEiLHYuYWNjZXNzKHRoaXMsZnVuY3Rpb24obil7aWYobj09PXQpcmV0dXJuIGw9dGhpcy50cmlnZ2VySGFuZGxlcigiZ2V0RGF0YSIraSxbclswXV0pLGw9PT10JiZhJiYobD12LmRhdGEoYSxlKSxsPUgoYSxlLGwpKSxsPT09dCYmclsxXT90aGlzLmRhdGEoclswXSk6bDtyWzFdPW4sdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dih0aGlzKTt0LnRyaWdnZXJIYW5kbGVyKCJzZXREYXRhIitpLHIpLHYuZGF0YSh0aGlzLGUsbiksdC50cmlnZ2VySGFuZGxlcigiY2hhbmdlRGF0YSIraSxyKX0pfSxudWxsLG4sYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITEpKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7di5yZW1vdmVEYXRhKHRoaXMsZSl9KX19KSx2LmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKGUpcmV0dXJuIHQ9KHR8fCJmeCIpKyJxdWV1ZSIscj12Ll9kYXRhKGUsdCksbiYmKCFyfHx2LmlzQXJyYXkobik/cj12Ll9kYXRhKGUsdCx2Lm1ha2VBcnJheShuKSk6ci5wdXNoKG4pKSxyfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8ImZ4Ijt2YXIgbj12LnF1ZXVlKGUsdCkscj1uLmxlbmd0aCxpPW4uc2hpZnQoKSxzPXYuX3F1ZXVlSG9va3MoZSx0KSxvPWZ1bmN0aW9uKCl7di5kZXF1ZXVlKGUsdCl9O2k9PT0iaW5wcm9ncmVzcyImJihpPW4uc2hpZnQoKSxyLS0pLGkmJih0PT09ImZ4IiYmbi51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIHMuc3RvcCxpLmNhbGwoZSxvLHMpKSwhciYmcyYmcy5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIHYuX2RhdGEoZSxuKXx8di5fZGF0YShlLG4se2VtcHR5OnYuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe3YucmVtb3ZlRGF0YShlLHQrInF1ZXVlIiwhMCksdi5yZW1vdmVEYXRhKGUsbiwhMCl9KX0pfX0pLHYuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLG4pe3ZhciByPTI7cmV0dXJuIHR5cGVvZiBlIT0ic3RyaW5nIiYmKG49ZSxlPSJmeCIsci0tKSxhcmd1bWVudHMubGVuZ3RoPHI/di5xdWV1ZSh0aGlzWzBdLGUpOm49PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9di5xdWV1ZSh0aGlzLGUsbik7di5fcXVldWVIb29rcyh0aGlzLGUpLGU9PT0iZngiJiZ0WzBdIT09ImlucHJvZ3Jlc3MiJiZ2LmRlcXVldWUodGhpcyxlKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2LmRlcXVldWUodGhpcyxlKX0pfSxkZWxheTpmdW5jdGlvbihlLHQpe3JldHVybiBlPXYuZng/di5meC5zcGVlZHNbZV18fGU6ZSx0PXR8fCJmeCIsdGhpcy5xdWV1ZSh0LGZ1bmN0aW9uKHQsbil7dmFyIHI9c2V0VGltZW91dCh0LGUpO24uc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChyKX19KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWV1ZShlfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihlLG4pe3ZhciByLGk9MSxzPXYuRGVmZXJyZWQoKSxvPXRoaXMsdT10aGlzLmxlbmd0aCxhPWZ1bmN0aW9uKCl7LS1pfHxzLnJlc29sdmVXaXRoKG8sW29dKX07dHlwZW9mIGUhPSJzdHJpbmciJiYobj1lLGU9dCksZT1lfHwiZngiO3doaWxlKHUtLSlyPXYuX2RhdGEob1t1XSxlKyJxdWV1ZUhvb2tzIiksciYmci5lbXB0eSYmKGkrKyxyLmVtcHR5LmFkZChhKSk7cmV0dXJuIGEoKSxzLnByb21pc2Uobil9fSk7dmFyIGosRixJLHE9L1tcdFxyXG5dL2csUj0vXHIvZyxVPS9eKD86YnV0dG9ufGlucHV0KSQvaSx6PS9eKD86YnV0dG9ufGlucHV0fG9iamVjdHxzZWxlY3R8dGV4dGFyZWEpJC9pLFc9L15hKD86cmVhfCkkL2ksWD0vXig/OmF1dG9mb2N1c3xhdXRvcGxheXxhc3luY3xjaGVja2VkfGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkfHNlbGVjdGVkKSQvaSxWPXYuc3VwcG9ydC5nZXRTZXRBdHRyaWJ1dGU7di5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdi5hY2Nlc3ModGhpcyx2LmF0dHIsZSx0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3YucmVtb3ZlQXR0cih0aGlzLGUpfSl9LHByb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdi5hY2Nlc3ModGhpcyx2LnByb3AsZSx0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9di5wcm9wRml4W2VdfHxlLHRoaXMuZWFjaChmdW5jdGlvbigpe3RyeXt0aGlzW2VdPXQsZGVsZXRlIHRoaXNbZV19Y2F0Y2gobil7fX0pfSxhZGRDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxzLG8sdTtpZih2LmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt2KHRoaXMpLmFkZENsYXNzKGUuY2FsbCh0aGlzLHQsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGUmJnR5cGVvZiBlPT0ic3RyaW5nIil7dD1lLnNwbGl0KHkpO2ZvcihuPTAscj10aGlzLmxlbmd0aDtuPHI7bisrKXtpPXRoaXNbbl07aWYoaS5ub2RlVHlwZT09PTEpaWYoIWkuY2xhc3NOYW1lJiZ0Lmxlbmd0aD09PTEpaS5jbGFzc05hbWU9ZTtlbHNle3M9IiAiK2kuY2xhc3NOYW1lKyIgIjtmb3Iobz0wLHU9dC5sZW5ndGg7bzx1O28rKylzLmluZGV4T2YoIiAiK3Rbb10rIiAiKTwwJiYocys9dFtvXSsiICIpO2kuY2xhc3NOYW1lPXYudHJpbShzKX19fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXt2YXIgbixyLGkscyxvLHUsYTtpZih2LmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt2KHRoaXMpLnJlbW92ZUNsYXNzKGUuY2FsbCh0aGlzLHQsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGUmJnR5cGVvZiBlPT0ic3RyaW5nInx8ZT09PXQpe249KGV8fCIiKS5zcGxpdCh5KTtmb3IodT0wLGE9dGhpcy5sZW5ndGg7dTxhO3UrKyl7aT10aGlzW3VdO2lmKGkubm9kZVR5cGU9PT0xJiZpLmNsYXNzTmFtZSl7cj0oIiAiK2kuY2xhc3NOYW1lKyIgIikucmVwbGFjZShxLCIgIik7Zm9yKHM9MCxvPW4ubGVuZ3RoO3M8bztzKyspd2hpbGUoci5pbmRleE9mKCIgIituW3NdKyIgIik+PTApcj1yLnJlcGxhY2UoIiAiK25bc10rIiAiLCIgIik7aS5jbGFzc05hbWU9ZT92LnRyaW0ocik6IiJ9fX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2YgZSxyPXR5cGVvZiB0PT0iYm9vbGVhbiI7cmV0dXJuIHYuaXNGdW5jdGlvbihlKT90aGlzLmVhY2goZnVuY3Rpb24obil7dih0aGlzKS50b2dnbGVDbGFzcyhlLmNhbGwodGhpcyxuLHRoaXMuY2xhc3NOYW1lLHQpLHQpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYobj09PSJzdHJpbmciKXt2YXIgaSxzPTAsbz12KHRoaXMpLHU9dCxhPWUuc3BsaXQoeSk7d2hpbGUoaT1hW3MrK10pdT1yP3U6IW8uaGFzQ2xhc3MoaSksb1t1PyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oaSl9ZWxzZSBpZihuPT09InVuZGVmaW5lZCJ8fG49PT0iYm9vbGVhbiIpdGhpcy5jbGFzc05hbWUmJnYuX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIsdGhpcy5jbGFzc05hbWUpLHRoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lfHxlPT09ITE/IiI6di5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIifSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0PSIgIitlKyIgIixuPTAscj10aGlzLmxlbmd0aDtmb3IoO248cjtuKyspaWYodGhpc1tuXS5ub2RlVHlwZT09PTEmJigiICIrdGhpc1tuXS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKHEsIiAiKS5pbmRleE9mKHQpPj0wKXJldHVybiEwO3JldHVybiExfSx2YWw6ZnVuY3Rpb24oZSl7dmFyIG4scixpLHM9dGhpc1swXTtpZighYXJndW1lbnRzLmxlbmd0aCl7aWYocylyZXR1cm4gbj12LnZhbEhvb2tzW3MudHlwZV18fHYudmFsSG9va3Nbcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxuJiYiZ2V0ImluIG4mJihyPW4uZ2V0KHMsInZhbHVlIikpIT09dD9yOihyPXMudmFsdWUsdHlwZW9mIHI9PSJzdHJpbmciP3IucmVwbGFjZShSLCIiKTpyPT1udWxsPyIiOnIpO3JldHVybn1yZXR1cm4gaT12LmlzRnVuY3Rpb24oZSksdGhpcy5lYWNoKGZ1bmN0aW9uKHIpe3ZhciBzLG89dih0aGlzKTtpZih0aGlzLm5vZGVUeXBlIT09MSlyZXR1cm47aT9zPWUuY2FsbCh0aGlzLHIsby52YWwoKSk6cz1lLHM9PW51bGw/cz0iIjp0eXBlb2Ygcz09Im51bWJlciI/cys9IiI6di5pc0FycmF5KHMpJiYocz12Lm1hcChzLGZ1bmN0aW9uKGUpe3JldHVybiBlPT1udWxsPyIiOmUrIiJ9KSksbj12LnZhbEhvb2tzW3RoaXMudHlwZV18fHYudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXTtpZighbnx8ISgic2V0ImluIG4pfHxuLnNldCh0aGlzLHMsInZhbHVlIik9PT10KXRoaXMudmFsdWU9c30pfX0pLHYuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hdHRyaWJ1dGVzLnZhbHVlO3JldHVybiF0fHx0LnNwZWNpZmllZD9lLnZhbHVlOmUudGV4dH19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lLm9wdGlvbnMsaT1lLnNlbGVjdGVkSW5kZXgscz1lLnR5cGU9PT0ic2VsZWN0LW9uZSJ8fGk8MCxvPXM/bnVsbDpbXSx1PXM/aSsxOnIubGVuZ3RoLGE9aTwwP3U6cz9pOjA7Zm9yKDthPHU7YSsrKXtuPXJbYV07aWYoKG4uc2VsZWN0ZWR8fGE9PT1pKSYmKHYuc3VwcG9ydC5vcHREaXNhYmxlZD8hbi5kaXNhYmxlZDpuLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKT09PW51bGwpJiYoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZHx8IXYubm9kZU5hbWUobi5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7dD12KG4pLnZhbCgpO2lmKHMpcmV0dXJuIHQ7by5wdXNoKHQpfX1yZXR1cm4gb30sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG49di5tYWtlQXJyYXkodCk7cmV0dXJuIHYoZSkuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9di5pbkFycmF5KHYodGhpcykudmFsKCksbik+PTB9KSxuLmxlbmd0aHx8KGUuc2VsZWN0ZWRJbmRleD0tMSksbn19fSxhdHRyRm46e30sYXR0cjpmdW5jdGlvbihlLG4scixpKXt2YXIgcyxvLHUsYT1lLm5vZGVUeXBlO2lmKCFlfHxhPT09M3x8YT09PTh8fGE9PT0yKXJldHVybjtpZihpJiZ2LmlzRnVuY3Rpb24odi5mbltuXSkpcmV0dXJuIHYoZSlbbl0ocik7aWYodHlwZW9mIGUuZ2V0QXR0cmlidXRlPT0idW5kZWZpbmVkIilyZXR1cm4gdi5wcm9wKGUsbixyKTt1PWEhPT0xfHwhdi5pc1hNTERvYyhlKSx1JiYobj1uLnRvTG93ZXJDYXNlKCksbz12LmF0dHJIb29rc1tuXXx8KFgudGVzdChuKT9GOmopKTtpZihyIT09dCl7aWYocj09PW51bGwpe3YucmVtb3ZlQXR0cihlLG4pO3JldHVybn1yZXR1cm4gbyYmInNldCJpbiBvJiZ1JiYocz1vLnNldChlLHIsbikpIT09dD9zOihlLnNldEF0dHJpYnV0ZShuLHIrIiIpLHIpfXJldHVybiBvJiYiZ2V0ImluIG8mJnUmJihzPW8uZ2V0KGUsbikpIT09bnVsbD9zOihzPWUuZ2V0QXR0cmlidXRlKG4pLHM9PT1udWxsP3Q6cyl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGkscyxvPTA7aWYodCYmZS5ub2RlVHlwZT09PTEpe3I9dC5zcGxpdCh5KTtmb3IoO288ci5sZW5ndGg7bysrKWk9cltvXSxpJiYobj12LnByb3BGaXhbaV18fGkscz1YLnRlc3QoaSksc3x8di5hdHRyKGUsaSwiIiksZS5yZW1vdmVBdHRyaWJ1dGUoVj9pOm4pLHMmJm4gaW4gZSYmKGVbbl09ITEpKX19LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoVS50ZXN0KGUubm9kZU5hbWUpJiZlLnBhcmVudE5vZGUpdi5lcnJvcigidHlwZSBwcm9wZXJ0eSBjYW4ndCBiZSBjaGFuZ2VkIik7ZWxzZSBpZighdi5zdXBwb3J0LnJhZGlvVmFsdWUmJnQ9PT0icmFkaW8iJiZ2Lm5vZGVOYW1lKGUsImlucHV0Iikpe3ZhciBuPWUudmFsdWU7cmV0dXJuIGUuc2V0QXR0cmlidXRlKCJ0eXBlIix0KSxuJiYoZS52YWx1ZT1uKSx0fX19LHZhbHVlOntnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaiYmdi5ub2RlTmFtZShlLCJidXR0b24iKT9qLmdldChlLHQpOnQgaW4gZT9lLnZhbHVlOm51bGx9LHNldDpmdW5jdGlvbihlLHQsbil7aWYoaiYmdi5ub2RlTmFtZShlLCJidXR0b24iKSlyZXR1cm4gai5zZXQoZSx0LG4pO2UudmFsdWU9dH19fSxwcm9wRml4Ont0YWJpbmRleDoidGFiSW5kZXgiLHJlYWRvbmx5OiJyZWFkT25seSIsImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSIsbWF4bGVuZ3RoOiJtYXhMZW5ndGgiLGNlbGxzcGFjaW5nOiJjZWxsU3BhY2luZyIsY2VsbHBhZGRpbmc6ImNlbGxQYWRkaW5nIixyb3dzcGFuOiJyb3dTcGFuIixjb2xzcGFuOiJjb2xTcGFuIix1c2VtYXA6InVzZU1hcCIsZnJhbWVib3JkZXI6ImZyYW1lQm9yZGVyIixjb250ZW50ZWRpdGFibGU6ImNvbnRlbnRFZGl0YWJsZSJ9LHByb3A6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLHMsbyx1PWUubm9kZVR5cGU7aWYoIWV8fHU9PT0zfHx1PT09OHx8dT09PTIpcmV0dXJuO3JldHVybiBvPXUhPT0xfHwhdi5pc1hNTERvYyhlKSxvJiYobj12LnByb3BGaXhbbl18fG4scz12LnByb3BIb29rc1tuXSksciE9PXQ/cyYmInNldCJpbiBzJiYoaT1zLnNldChlLHIsbikpIT09dD9pOmVbbl09cjpzJiYiZ2V0ImluIHMmJihpPXMuZ2V0KGUsbikpIT09bnVsbD9pOmVbbl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihlKXt2YXIgbj1lLmdldEF0dHJpYnV0ZU5vZGUoInRhYmluZGV4Iik7cmV0dXJuIG4mJm4uc3BlY2lmaWVkP3BhcnNlSW50KG4udmFsdWUsMTApOnoudGVzdChlLm5vZGVOYW1lKXx8Vy50ZXN0KGUubm9kZU5hbWUpJiZlLmhyZWY/MDp0fX19fSksRj17Z2V0OmZ1bmN0aW9uKGUsbil7dmFyIHIsaT12LnByb3AoZSxuKTtyZXR1cm4gaT09PSEwfHx0eXBlb2YgaSE9ImJvb2xlYW4iJiYocj1lLmdldEF0dHJpYnV0ZU5vZGUobikpJiZyLm5vZGVWYWx1ZSE9PSExP24udG9Mb3dlckNhc2UoKTp0fSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB0PT09ITE/di5yZW1vdmVBdHRyKGUsbik6KHI9di5wcm9wRml4W25dfHxuLHIgaW4gZSYmKGVbcl09ITApLGUuc2V0QXR0cmlidXRlKG4sbi50b0xvd2VyQ2FzZSgpKSksbn19LFZ8fChJPXtuYW1lOiEwLGlkOiEwLGNvb3JkczohMH0saj12LnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGUsbil7dmFyIHI7cmV0dXJuIHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKG4pLHImJihJW25dP3IudmFsdWUhPT0iIjpyLnNwZWNpZmllZCk/ci52YWx1ZTp0fSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZ2V0QXR0cmlidXRlTm9kZShuKTtyZXR1cm4gcnx8KHI9aS5jcmVhdGVBdHRyaWJ1dGUobiksZS5zZXRBdHRyaWJ1dGVOb2RlKHIpKSxyLnZhbHVlPXQrIiJ9fSx2LmVhY2goWyJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGUsdCl7di5hdHRySG9va3NbdF09di5leHRlbmQodi5hdHRySG9va3NbdF0se3NldDpmdW5jdGlvbihlLG4pe2lmKG49PT0iIilyZXR1cm4gZS5zZXRBdHRyaWJ1dGUodCwiYXV0byIpLG59fSl9KSx2LmF0dHJIb29rcy5jb250ZW50ZWRpdGFibGU9e2dldDpqLmdldCxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3Q9PT0iIiYmKHQ9ImZhbHNlIiksai5zZXQoZSx0LG4pfX0pLHYuc3VwcG9ydC5ocmVmTm9ybWFsaXplZHx8di5lYWNoKFsiaHJlZiIsInNyYyIsIndpZHRoIiwiaGVpZ2h0Il0sZnVuY3Rpb24oZSxuKXt2LmF0dHJIb29rc1tuXT12LmV4dGVuZCh2LmF0dHJIb29rc1tuXSx7Z2V0OmZ1bmN0aW9uKGUpe3ZhciByPWUuZ2V0QXR0cmlidXRlKG4sMik7cmV0dXJuIHI9PT1udWxsP3Q6cn19KX0pLHYuc3VwcG9ydC5zdHlsZXx8KHYuYXR0ckhvb2tzLnN0eWxlPXtnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3R5bGUuY3NzVGV4dC50b0xvd2VyQ2FzZSgpfHx0fSxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zdHlsZS5jc3NUZXh0PXQrIiJ9fSksdi5zdXBwb3J0Lm9wdFNlbGVjdGVkfHwodi5wcm9wSG9va3Muc2VsZWN0ZWQ9di5leHRlbmQodi5wcm9wSG9va3Muc2VsZWN0ZWQse2dldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJih0LnNlbGVjdGVkSW5kZXgsdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH19KSksdi5zdXBwb3J0LmVuY3R5cGV8fCh2LnByb3BGaXguZW5jdHlwZT0iZW5jb2RpbmciKSx2LnN1cHBvcnQuY2hlY2tPbnx8di5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7di52YWxIb29rc1t0aGlzXT17Z2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSgidmFsdWUiKT09PW51bGw/Im9uIjplLnZhbHVlfX19KSx2LmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXt2LnZhbEhvb2tzW3RoaXNdPXYuZXh0ZW5kKHYudmFsSG9va3NbdGhpc10se3NldDpmdW5jdGlvbihlLHQpe2lmKHYuaXNBcnJheSh0KSlyZXR1cm4gZS5jaGVja2VkPXYuaW5BcnJheSh2KGUpLnZhbCgpLHQpPj0wfX0pfSk7dmFyICQ9L14oPzp0ZXh0YXJlYXxpbnB1dHxzZWxlY3QpJC9pLEo9L14oW15cLl0qfCkoPzpcLiguKyl8KSQvLEs9Lyg/Ol58XHMpaG92ZXIoXC5cUyt8KVxiLyxRPS9ea2V5LyxHPS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxZPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxaPWZ1bmN0aW9uKGUpe3JldHVybiB2LmV2ZW50LnNwZWNpYWwuaG92ZXI/ZTplLnJlcGxhY2UoSywibW91c2VlbnRlciQxIG1vdXNlbGVhdmUkMSIpfTt2LmV2ZW50PXthZGQ6ZnVuY3Rpb24oZSxuLHIsaSxzKXt2YXIgbyx1LGEsZixsLGMsaCxwLGQsbSxnO2lmKGUubm9kZVR5cGU9PT0zfHxlLm5vZGVUeXBlPT09OHx8IW58fCFyfHwhKG89di5fZGF0YShlKSkpcmV0dXJuO3IuaGFuZGxlciYmKGQ9cixyPWQuaGFuZGxlcixzPWQuc2VsZWN0b3IpLHIuZ3VpZHx8KHIuZ3VpZD12Lmd1aWQrKyksYT1vLmV2ZW50cyxhfHwoby5ldmVudHM9YT17fSksdT1vLmhhbmRsZSx1fHwoby5oYW5kbGU9dT1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIHY9PSJ1bmRlZmluZWQifHwhIWUmJnYuZXZlbnQudHJpZ2dlcmVkPT09ZS50eXBlP3Q6di5ldmVudC5kaXNwYXRjaC5hcHBseSh1LmVsZW0sYXJndW1lbnRzKX0sdS5lbGVtPWUpLG49di50cmltKFoobikpLnNwbGl0KCIgIik7Zm9yKGY9MDtmPG4ubGVuZ3RoO2YrKyl7bD1KLmV4ZWMobltmXSl8fFtdLGM9bFsxXSxoPShsWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksZz12LmV2ZW50LnNwZWNpYWxbY118fHt9LGM9KHM/Zy5kZWxlZ2F0ZVR5cGU6Zy5iaW5kVHlwZSl8fGMsZz12LmV2ZW50LnNwZWNpYWxbY118fHt9LHA9di5leHRlbmQoe3R5cGU6YyxvcmlnVHlwZTpsWzFdLGRhdGE6aSxoYW5kbGVyOnIsZ3VpZDpyLmd1aWQsc2VsZWN0b3I6cyxuZWVkc0NvbnRleHQ6cyYmdi5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KHMpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sZCksbT1hW2NdO2lmKCFtKXttPWFbY109W10sbS5kZWxlZ2F0ZUNvdW50PTA7aWYoIWcuc2V0dXB8fGcuc2V0dXAuY2FsbChlLGksaCx1KT09PSExKWUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoYyx1LCExKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KCJvbiIrYyx1KX1nLmFkZCYmKGcuYWRkLmNhbGwoZSxwKSxwLmhhbmRsZXIuZ3VpZHx8KHAuaGFuZGxlci5ndWlkPXIuZ3VpZCkpLHM/bS5zcGxpY2UobS5kZWxlZ2F0ZUNvdW50KyssMCxwKTptLnB1c2gocCksdi5ldmVudC5nbG9iYWxbY109ITB9ZT1udWxsfSxnbG9iYWw6e30scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHMsbyx1LGEsZixsLGMsaCxwLGQsbSxnPXYuaGFzRGF0YShlKSYmdi5fZGF0YShlKTtpZighZ3x8IShoPWcuZXZlbnRzKSlyZXR1cm47dD12LnRyaW0oWih0fHwiIikpLnNwbGl0KCIgIik7Zm9yKHM9MDtzPHQubGVuZ3RoO3MrKyl7bz1KLmV4ZWModFtzXSl8fFtdLHU9YT1vWzFdLGY9b1syXTtpZighdSl7Zm9yKHUgaW4gaCl2LmV2ZW50LnJlbW92ZShlLHUrdFtzXSxuLHIsITApO2NvbnRpbnVlfXA9di5ldmVudC5zcGVjaWFsW3VdfHx7fSx1PShyP3AuZGVsZWdhdGVUeXBlOnAuYmluZFR5cGUpfHx1LGQ9aFt1XXx8W10sbD1kLmxlbmd0aCxmPWY/bmV3IFJlZ0V4cCgiKF58XFwuKSIrZi5zcGxpdCgiLiIpLnNvcnQoKS5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspbT1kW2NdLChpfHxhPT09bS5vcmlnVHlwZSkmJighbnx8bi5ndWlkPT09bS5ndWlkKSYmKCFmfHxmLnRlc3QobS5uYW1lc3BhY2UpKSYmKCFyfHxyPT09bS5zZWxlY3Rvcnx8cj09PSIqKiImJm0uc2VsZWN0b3IpJiYoZC5zcGxpY2UoYy0tLDEpLG0uc2VsZWN0b3ImJmQuZGVsZWdhdGVDb3VudC0tLHAucmVtb3ZlJiZwLnJlbW92ZS5jYWxsKGUsbSkpO2QubGVuZ3RoPT09MCYmbCE9PWQubGVuZ3RoJiYoKCFwLnRlYXJkb3dufHxwLnRlYXJkb3duLmNhbGwoZSxmLGcuaGFuZGxlKT09PSExKSYmdi5yZW1vdmVFdmVudChlLHUsZy5oYW5kbGUpLGRlbGV0ZSBoW3VdKX12LmlzRW1wdHlPYmplY3QoaCkmJihkZWxldGUgZy5oYW5kbGUsdi5yZW1vdmVEYXRhKGUsImV2ZW50cyIsITApKX0sY3VzdG9tRXZlbnQ6e2dldERhdGE6ITAsc2V0RGF0YTohMCxjaGFuZ2VEYXRhOiEwfSx0cmlnZ2VyOmZ1bmN0aW9uKG4scixzLG8pe2lmKCFzfHxzLm5vZGVUeXBlIT09MyYmcy5ub2RlVHlwZSE9PTgpe3ZhciB1LGEsZixsLGMsaCxwLGQsbSxnLHk9bi50eXBlfHxuLGI9W107aWYoWS50ZXN0KHkrdi5ldmVudC50cmlnZ2VyZWQpKXJldHVybjt5LmluZGV4T2YoIiEiKT49MCYmKHk9eS5zbGljZSgwLC0xKSxhPSEwKSx5LmluZGV4T2YoIi4iKT49MCYmKGI9eS5zcGxpdCgiLiIpLHk9Yi5zaGlmdCgpLGIuc29ydCgpKTtpZigoIXN8fHYuZXZlbnQuY3VzdG9tRXZlbnRbeV0pJiYhdi5ldmVudC5nbG9iYWxbeV0pcmV0dXJuO249dHlwZW9mIG49PSJvYmplY3QiP25bdi5leHBhbmRvXT9uOm5ldyB2LkV2ZW50KHksbik6bmV3IHYuRXZlbnQoeSksbi50eXBlPXksbi5pc1RyaWdnZXI9ITAsbi5leGNsdXNpdmU9YSxuLm5hbWVzcGFjZT1iLmpvaW4oIi4iKSxuLm5hbWVzcGFjZV9yZT1uLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitiLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsaD15LmluZGV4T2YoIjoiKTwwPyJvbiIreToiIjtpZighcyl7dT12LmNhY2hlO2ZvcihmIGluIHUpdVtmXS5ldmVudHMmJnVbZl0uZXZlbnRzW3ldJiZ2LmV2ZW50LnRyaWdnZXIobixyLHVbZl0uaGFuZGxlLmVsZW0sITApO3JldHVybn1uLnJlc3VsdD10LG4udGFyZ2V0fHwobi50YXJnZXQ9cykscj1yIT1udWxsP3YubWFrZUFycmF5KHIpOltdLHIudW5zaGlmdChuKSxwPXYuZXZlbnQuc3BlY2lhbFt5XXx8e307aWYocC50cmlnZ2VyJiZwLnRyaWdnZXIuYXBwbHkocyxyKT09PSExKXJldHVybjttPVtbcyxwLmJpbmRUeXBlfHx5XV07aWYoIW8mJiFwLm5vQnViYmxlJiYhdi5pc1dpbmRvdyhzKSl7Zz1wLmRlbGVnYXRlVHlwZXx8eSxsPVkudGVzdChnK3kpP3M6cy5wYXJlbnROb2RlO2ZvcihjPXM7bDtsPWwucGFyZW50Tm9kZSltLnB1c2goW2wsZ10pLGM9bDtjPT09KHMub3duZXJEb2N1bWVudHx8aSkmJm0ucHVzaChbYy5kZWZhdWx0Vmlld3x8Yy5wYXJlbnRXaW5kb3d8fGUsZ10pfWZvcihmPTA7ZjxtLmxlbmd0aCYmIW4uaXNQcm9wYWdhdGlvblN0b3BwZWQoKTtmKyspbD1tW2ZdWzBdLG4udHlwZT1tW2ZdWzFdLGQ9KHYuX2RhdGEobCwiZXZlbnRzIil8fHt9KVtuLnR5cGVdJiZ2Ll9kYXRhKGwsImhhbmRsZSIpLGQmJmQuYXBwbHkobCxyKSxkPWgmJmxbaF0sZCYmdi5hY2NlcHREYXRhKGwpJiZkLmFwcGx5JiZkLmFwcGx5KGwscik9PT0hMSYmbi5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBuLnR5cGU9eSwhbyYmIW4uaXNEZWZhdWx0UHJldmVudGVkKCkmJighcC5fZGVmYXVsdHx8cC5fZGVmYXVsdC5hcHBseShzLm93bmVyRG9jdW1lbnQscik9PT0hMSkmJih5IT09ImNsaWNrInx8IXYubm9kZU5hbWUocywiYSIpKSYmdi5hY2NlcHREYXRhKHMpJiZoJiZzW3ldJiYoeSE9PSJmb2N1cyImJnkhPT0iYmx1ciJ8fG4udGFyZ2V0Lm9mZnNldFdpZHRoIT09MCkmJiF2LmlzV2luZG93KHMpJiYoYz1zW2hdLGMmJihzW2hdPW51bGwpLHYuZXZlbnQudHJpZ2dlcmVkPXksc1t5XSgpLHYuZXZlbnQudHJpZ2dlcmVkPXQsYyYmKHNbaF09YykpLG4ucmVzdWx0fXJldHVybn0sZGlzcGF0Y2g6ZnVuY3Rpb24obil7bj12LmV2ZW50LmZpeChufHxlLmV2ZW50KTt2YXIgcixpLHMsbyx1LGEsZixjLGgscCxkPSh2Ll9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbbi50eXBlXXx8W10sbT1kLmRlbGVnYXRlQ291bnQsZz1sLmNhbGwoYXJndW1lbnRzKSx5PSFuLmV4Y2x1c2l2ZSYmIW4ubmFtZXNwYWNlLGI9di5ldmVudC5zcGVjaWFsW24udHlwZV18fHt9LHc9W107Z1swXT1uLG4uZGVsZWdhdGVUYXJnZXQ9dGhpcztpZihiLnByZURpc3BhdGNoJiZiLnByZURpc3BhdGNoLmNhbGwodGhpcyxuKT09PSExKXJldHVybjtpZihtJiYoIW4uYnV0dG9ufHxuLnR5cGUhPT0iY2xpY2siKSlmb3Iocz1uLnRhcmdldDtzIT10aGlzO3M9cy5wYXJlbnROb2RlfHx0aGlzKWlmKHMuZGlzYWJsZWQhPT0hMHx8bi50eXBlIT09ImNsaWNrIil7dT17fSxmPVtdO2ZvcihyPTA7cjxtO3IrKyljPWRbcl0saD1jLnNlbGVjdG9yLHVbaF09PT10JiYodVtoXT1jLm5lZWRzQ29udGV4dD92KGgsdGhpcykuaW5kZXgocyk+PTA6di5maW5kKGgsdGhpcyxudWxsLFtzXSkubGVuZ3RoKSx1W2hdJiZmLnB1c2goYyk7Zi5sZW5ndGgmJncucHVzaCh7ZWxlbTpzLG1hdGNoZXM6Zn0pfWQubGVuZ3RoPm0mJncucHVzaCh7ZWxlbTp0aGlzLG1hdGNoZXM6ZC5zbGljZShtKX0pO2ZvcihyPTA7cjx3Lmxlbmd0aCYmIW4uaXNQcm9wYWdhdGlvblN0b3BwZWQoKTtyKyspe2E9d1tyXSxuLmN1cnJlbnRUYXJnZXQ9YS5lbGVtO2ZvcihpPTA7aTxhLm1hdGNoZXMubGVuZ3RoJiYhbi5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpO2krKyl7Yz1hLm1hdGNoZXNbaV07aWYoeXx8IW4ubmFtZXNwYWNlJiYhYy5uYW1lc3BhY2V8fG4ubmFtZXNwYWNlX3JlJiZuLm5hbWVzcGFjZV9yZS50ZXN0KGMubmFtZXNwYWNlKSluLmRhdGE9Yy5kYXRhLG4uaGFuZGxlT2JqPWMsbz0oKHYuZXZlbnQuc3BlY2lhbFtjLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Yy5oYW5kbGVyKS5hcHBseShhLmVsZW0sZyksbyE9PXQmJihuLnJlc3VsdD1vLG89PT0hMSYmKG4ucHJldmVudERlZmF1bHQoKSxuLnN0b3BQcm9wYWdhdGlvbigpKSl9fXJldHVybiBiLnBvc3REaXNwYXRjaCYmYi5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLG4pLG4ucmVzdWx0fSxwcm9wczoiYXR0ckNoYW5nZSBhdHRyTmFtZSByZWxhdGVkTm9kZSBzcmNFbGVtZW50IGFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaCIuc3BsaXQoIiAiKSxmaXhIb29rczp7fSxrZXlIb29rczp7cHJvcHM6ImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGUiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUud2hpY2g9PW51bGwmJihlLndoaWNoPXQuY2hhckNvZGUhPW51bGw/dC5jaGFyQ29kZTp0LmtleUNvZGUpLGV9fSxtb3VzZUhvb2tzOntwcm9wczoiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIGZyb21FbGVtZW50IG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50Ii5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihlLG4pe3ZhciByLHMsbyx1PW4uYnV0dG9uLGE9bi5mcm9tRWxlbWVudDtyZXR1cm4gZS5wYWdlWD09bnVsbCYmbi5jbGllbnRYIT1udWxsJiYocj1lLnRhcmdldC5vd25lckRvY3VtZW50fHxpLHM9ci5kb2N1bWVudEVsZW1lbnQsbz1yLmJvZHksZS5wYWdlWD1uLmNsaWVudFgrKHMmJnMuc2Nyb2xsTGVmdHx8byYmby5zY3JvbGxMZWZ0fHwwKS0ocyYmcy5jbGllbnRMZWZ0fHxvJiZvLmNsaWVudExlZnR8fDApLGUucGFnZVk9bi5jbGllbnRZKyhzJiZzLnNjcm9sbFRvcHx8byYmby5zY3JvbGxUb3B8fDApLShzJiZzLmNsaWVudFRvcHx8byYmby5jbGllbnRUb3B8fDApKSwhZS5yZWxhdGVkVGFyZ2V0JiZhJiYoZS5yZWxhdGVkVGFyZ2V0PWE9PT1lLnRhcmdldD9uLnRvRWxlbWVudDphKSwhZS53aGljaCYmdSE9PXQmJihlLndoaWNoPXUmMT8xOnUmMj8zOnUmND8yOjApLGV9fSxmaXg6ZnVuY3Rpb24oZSl7aWYoZVt2LmV4cGFuZG9dKXJldHVybiBlO3ZhciB0LG4scj1lLHM9di5ldmVudC5maXhIb29rc1tlLnR5cGVdfHx7fSxvPXMucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQocy5wcm9wcyk6dGhpcy5wcm9wcztlPXYuRXZlbnQocik7Zm9yKHQ9by5sZW5ndGg7dDspbj1vWy0tdF0sZVtuXT1yW25dO3JldHVybiBlLnRhcmdldHx8KGUudGFyZ2V0PXIuc3JjRWxlbWVudHx8aSksZS50YXJnZXQubm9kZVR5cGU9PT0zJiYoZS50YXJnZXQ9ZS50YXJnZXQucGFyZW50Tm9kZSksZS5tZXRhS2V5PSEhZS5tZXRhS2V5LHMuZmlsdGVyP3MuZmlsdGVyKGUscik6ZX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOntkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOntkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sYmVmb3JldW5sb2FkOntzZXR1cDpmdW5jdGlvbihlLHQsbil7di5pc1dpbmRvdyh0aGlzKSYmKHRoaXMub25iZWZvcmV1bmxvYWQ9bil9LHRlYXJkb3duOmZ1bmN0aW9uKGUsdCl7dGhpcy5vbmJlZm9yZXVubG9hZD09PXQmJih0aGlzLm9uYmVmb3JldW5sb2FkPW51bGwpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXYuZXh0ZW5kKG5ldyB2LkV2ZW50LG4se3R5cGU6ZSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7cj92LmV2ZW50LnRyaWdnZXIoaSxudWxsLHQpOnYuZXZlbnQuZGlzcGF0Y2guY2FsbCh0LGkpLGkuaXNEZWZhdWx0UHJldmVudGVkKCkmJm4ucHJldmVudERlZmF1bHQoKX19LHYuZXZlbnQuaGFuZGxlPXYuZXZlbnQuZGlzcGF0Y2gsdi5yZW1vdmVFdmVudD1pLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbiwhMSl9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0ib24iK3Q7ZS5kZXRhY2hFdmVudCYmKHR5cGVvZiBlW3JdPT0idW5kZWZpbmVkIiYmKGVbcl09bnVsbCksZS5kZXRhY2hFdmVudChyLG4pKX0sdi5FdmVudD1mdW5jdGlvbihlLHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHYuRXZlbnQpKXJldHVybiBuZXcgdi5FdmVudChlLHQpO2UmJmUudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWUsdGhpcy50eXBlPWUudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1lLmRlZmF1bHRQcmV2ZW50ZWR8fGUucmV0dXJuVmFsdWU9PT0hMXx8ZS5nZXRQcmV2ZW50RGVmYXVsdCYmZS5nZXRQcmV2ZW50RGVmYXVsdCgpP3R0OmV0KTp0aGlzLnR5cGU9ZSx0JiZ2LmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHx2Lm5vdygpLHRoaXNbdi5leHBhbmRvXT0hMH0sdi5FdmVudC5wcm90b3R5cGU9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9dHQ7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O2lmKCFlKXJldHVybjtlLnByZXZlbnREZWZhdWx0P2UucHJldmVudERlZmF1bHQoKTplLnJldHVyblZhbHVlPSExfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXR0O3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDtpZighZSlyZXR1cm47ZS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCksZS5jYW5jZWxCdWJibGU9ITB9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9dHQsdGhpcy5zdG9wUHJvcGFnYXRpb24oKX0saXNEZWZhdWx0UHJldmVudGVkOmV0LGlzUHJvcGFnYXRpb25TdG9wcGVkOmV0LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmV0fSx2LmVhY2goe21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifSxmdW5jdGlvbihlLHQpe3YuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOnQsYmluZFR5cGU6dCxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIG4scj10aGlzLGk9ZS5yZWxhdGVkVGFyZ2V0LHM9ZS5oYW5kbGVPYmosbz1zLnNlbGVjdG9yO2lmKCFpfHxpIT09ciYmIXYuY29udGFpbnMocixpKSllLnR5cGU9cy5vcmlnVHlwZSxuPXMuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZS50eXBlPXQ7cmV0dXJuIG59fX0pLHYuc3VwcG9ydC5zdWJtaXRCdWJibGVzfHwodi5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtpZih2Lm5vZGVOYW1lKHRoaXMsImZvcm0iKSlyZXR1cm4hMTt2LmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0LHI9di5ub2RlTmFtZShuLCJpbnB1dCIpfHx2Lm5vZGVOYW1lKG4sImJ1dHRvbiIpP24uZm9ybTp0O3ImJiF2Ll9kYXRhKHIsIl9zdWJtaXRfYXR0YWNoZWQiKSYmKHYuZXZlbnQuYWRkKHIsInN1Ym1pdC5fc3VibWl0IixmdW5jdGlvbihlKXtlLl9zdWJtaXRfYnViYmxlPSEwfSksdi5fZGF0YShyLCJfc3VibWl0X2F0dGFjaGVkIiwhMCkpfSl9LHBvc3REaXNwYXRjaDpmdW5jdGlvbihlKXtlLl9zdWJtaXRfYnViYmxlJiYoZGVsZXRlIGUuX3N1Ym1pdF9idWJibGUsdGhpcy5wYXJlbnROb2RlJiYhZS5pc1RyaWdnZXImJnYuZXZlbnQuc2ltdWxhdGUoInN1Ym1pdCIsdGhpcy5wYXJlbnROb2RlLGUsITApKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZih2Lm5vZGVOYW1lKHRoaXMsImZvcm0iKSlyZXR1cm4hMTt2LmV2ZW50LnJlbW92ZSh0aGlzLCIuX3N1Ym1pdCIpfX0pLHYuc3VwcG9ydC5jaGFuZ2VCdWJibGVzfHwodi5ldmVudC5zcGVjaWFsLmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtpZigkLnRlc3QodGhpcy5ub2RlTmFtZSkpe2lmKHRoaXMudHlwZT09PSJjaGVja2JveCJ8fHRoaXMudHlwZT09PSJyYWRpbyIpdi5ldmVudC5hZGQodGhpcywicHJvcGVydHljaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oZSl7ZS5vcmlnaW5hbEV2ZW50LnByb3BlcnR5TmFtZT09PSJjaGVja2VkIiYmKHRoaXMuX2p1c3RfY2hhbmdlZD0hMCl9KSx2LmV2ZW50LmFkZCh0aGlzLCJjbGljay5fY2hhbmdlIixmdW5jdGlvbihlKXt0aGlzLl9qdXN0X2NoYW5nZWQmJiFlLmlzVHJpZ2dlciYmKHRoaXMuX2p1c3RfY2hhbmdlZD0hMSksdi5ldmVudC5zaW11bGF0ZSgiY2hhbmdlIix0aGlzLGUsITApfSk7cmV0dXJuITF9di5ldmVudC5hZGQodGhpcywiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZSIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7JC50ZXN0KHQubm9kZU5hbWUpJiYhdi5fZGF0YSh0LCJfY2hhbmdlX2F0dGFjaGVkIikmJih2LmV2ZW50LmFkZCh0LCJjaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiYhZS5pc1NpbXVsYXRlZCYmIWUuaXNUcmlnZ2VyJiZ2LmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMucGFyZW50Tm9kZSxlLCEwKX0pLHYuX2RhdGEodCwiX2NoYW5nZV9hdHRhY2hlZCIsITApKX0pfSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7aWYodGhpcyE9PXR8fGUuaXNTaW11bGF0ZWR8fGUuaXNUcmlnZ2VyfHx0LnR5cGUhPT0icmFkaW8iJiZ0LnR5cGUhPT0iY2hlY2tib3giKXJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gdi5ldmVudC5yZW1vdmUodGhpcywiLl9jaGFuZ2UiKSwhJC50ZXN0KHRoaXMubm9kZU5hbWUpfX0pLHYuc3VwcG9ydC5mb2N1c2luQnViYmxlc3x8di5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihlLHQpe3ZhciBuPTAscj1mdW5jdGlvbihlKXt2LmV2ZW50LnNpbXVsYXRlKHQsZS50YXJnZXQsdi5ldmVudC5maXgoZSksITApfTt2LmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7bisrPT09MCYmaS5hZGRFdmVudExpc3RlbmVyKGUsciwhMCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1uPT09MCYmaS5yZW1vdmVFdmVudExpc3RlbmVyKGUsciwhMCl9fX0pLHYuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihlLG4scixpLHMpe3ZhciBvLHU7aWYodHlwZW9mIGU9PSJvYmplY3QiKXt0eXBlb2YgbiE9InN0cmluZyImJihyPXJ8fG4sbj10KTtmb3IodSBpbiBlKXRoaXMub24odSxuLHIsZVt1XSxzKTtyZXR1cm4gdGhpc31yPT1udWxsJiZpPT1udWxsPyhpPW4scj1uPXQpOmk9PW51bGwmJih0eXBlb2Ygbj09InN0cmluZyI/KGk9cixyPXQpOihpPXIscj1uLG49dCkpO2lmKGk9PT0hMSlpPWV0O2Vsc2UgaWYoIWkpcmV0dXJuIHRoaXM7cmV0dXJuIHM9PT0xJiYobz1pLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHYoKS5vZmYoZSksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGkuZ3VpZD1vLmd1aWR8fChvLmd1aWQ9di5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2LmV2ZW50LmFkZCh0aGlzLGUsaSxyLG4pfSl9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbihlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLHM7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIGk9ZS5oYW5kbGVPYmosdihlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoaS5uYW1lc3BhY2U/aS5vcmlnVHlwZSsiLiIraS5uYW1lc3BhY2U6aS5vcmlnVHlwZSxpLnNlbGVjdG9yLGkuaGFuZGxlciksdGhpcztpZih0eXBlb2YgZT09Im9iamVjdCIpe2ZvcihzIGluIGUpdGhpcy5vZmYocyxuLGVbc10pO3JldHVybiB0aGlzfWlmKG49PT0hMXx8dHlwZW9mIG49PSJmdW5jdGlvbiIpcj1uLG49dDtyZXR1cm4gcj09PSExJiYocj1ldCksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7di5ldmVudC5yZW1vdmUodGhpcyxlLHIsbil9KX0sYmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGxpdmU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2KHRoaXMuY29udGV4dCkub24oZSx0aGlzLnNlbGVjdG9yLHQsbiksdGhpc30sZGllOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYodGhpcy5jb250ZXh0KS5vZmYoZSx0aGlzLnNlbGVjdG9yfHwiKioiLHQpLHRoaXN9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09PTE/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LHRyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7di5ldmVudC50cmlnZ2VyKGUsdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlLHQpe2lmKHRoaXNbMF0pcmV0dXJuIHYuZXZlbnQudHJpZ2dlcihlLHQsdGhpc1swXSwhMCl9LHRvZ2dsZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMsbj1lLmd1aWR8fHYuZ3VpZCsrLHI9MCxpPWZ1bmN0aW9uKG4pe3ZhciBpPSh2Ll9kYXRhKHRoaXMsImxhc3RUb2dnbGUiK2UuZ3VpZCl8fDApJXI7cmV0dXJuIHYuX2RhdGEodGhpcywibGFzdFRvZ2dsZSIrZS5ndWlkLGkrMSksbi5wcmV2ZW50RGVmYXVsdCgpLHRbaV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfHwhMX07aS5ndWlkPW47d2hpbGUocjx0Lmxlbmd0aCl0W3IrK10uZ3VpZD1uO3JldHVybiB0aGlzLmNsaWNrKGkpfSxob3ZlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoZSkubW91c2VsZWF2ZSh0fHxlKX19KSx2LmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXt2LmZuW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIG49PW51bGwmJihuPWUsZT1udWxsKSxhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbih0LG51bGwsZSxuKTp0aGlzLnRyaWdnZXIodCl9LFEudGVzdCh0KSYmKHYuZXZlbnQuZml4SG9va3NbdF09di5ldmVudC5rZXlIb29rcyksRy50ZXN0KHQpJiYodi5ldmVudC5maXhIb29rc1t0XT12LmV2ZW50Lm1vdXNlSG9va3MpfSksZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBudChlLHQsbixyKXtuPW58fFtdLHQ9dHx8Zzt2YXIgaSxzLGEsZixsPXQubm9kZVR5cGU7aWYoIWV8fHR5cGVvZiBlIT0ic3RyaW5nIilyZXR1cm4gbjtpZihsIT09MSYmbCE9PTkpcmV0dXJuW107YT1vKHQpO2lmKCFhJiYhcilpZihpPVIuZXhlYyhlKSlpZihmPWlbMV0pe2lmKGw9PT05KXtzPXQuZ2V0RWxlbWVudEJ5SWQoZik7aWYoIXN8fCFzLnBhcmVudE5vZGUpcmV0dXJuIG47aWYocy5pZD09PWYpcmV0dXJuIG4ucHVzaChzKSxufWVsc2UgaWYodC5vd25lckRvY3VtZW50JiYocz10Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZikpJiZ1KHQscykmJnMuaWQ9PT1mKXJldHVybiBuLnB1c2gocyksbn1lbHNle2lmKGlbMl0pcmV0dXJuIFMuYXBwbHkobix4LmNhbGwodC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKSwwKSksbjtpZigoZj1pWzNdKSYmWiYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBTLmFwcGx5KG4seC5jYWxsKHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShmKSwwKSksbn1yZXR1cm4gdnQoZS5yZXBsYWNlKGosIiQxIiksdCxuLHIsYSl9ZnVuY3Rpb24gcnQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gbj09PSJpbnB1dCImJnQudHlwZT09PWV9fWZ1bmN0aW9uIGl0KGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKG49PT0iaW5wdXQifHxuPT09ImJ1dHRvbiIpJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiBzdChlKXtyZXR1cm4gTihmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxOKGZ1bmN0aW9uKG4scil7dmFyIGkscz1lKFtdLG4ubGVuZ3RoLHQpLG89cy5sZW5ndGg7d2hpbGUoby0tKW5baT1zW29dXSYmKG5baV09IShyW2ldPW5baV0pKX0pfSl9ZnVuY3Rpb24gb3QoZSx0LG4pe2lmKGU9PT10KXJldHVybiBuO3ZhciByPWUubmV4dFNpYmxpbmc7d2hpbGUocil7aWYocj09PXQpcmV0dXJuLTE7cj1yLm5leHRTaWJsaW5nfXJldHVybiAxfWZ1bmN0aW9uIHV0KGUsdCl7dmFyIG4scixzLG8sdSxhLGYsbD1MW2RdW2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTt1PWUsYT1bXSxmPWkucHJlRmlsdGVyO3doaWxlKHUpe2lmKCFufHwocj1GLmV4ZWModSkpKXImJih1PXUuc2xpY2UoclswXS5sZW5ndGgpfHx1KSxhLnB1c2gocz1bXSk7bj0hMTtpZihyPUkuZXhlYyh1KSlzLnB1c2gobj1uZXcgbShyLnNoaWZ0KCkpKSx1PXUuc2xpY2Uobi5sZW5ndGgpLG4udHlwZT1yWzBdLnJlcGxhY2UoaiwiICIpO2ZvcihvIGluIGkuZmlsdGVyKShyPUpbb10uZXhlYyh1KSkmJighZltvXXx8KHI9ZltvXShyKSkpJiYocy5wdXNoKG49bmV3IG0oci5zaGlmdCgpKSksdT11LnNsaWNlKG4ubGVuZ3RoKSxuLnR5cGU9byxuLm1hdGNoZXM9cik7aWYoIW4pYnJlYWt9cmV0dXJuIHQ/dS5sZW5ndGg6dT9udC5lcnJvcihlKTpMKGUsYSkuc2xpY2UoMCl9ZnVuY3Rpb24gYXQoZSx0LHIpe3ZhciBpPXQuZGlyLHM9ciYmdC5kaXI9PT0icGFyZW50Tm9kZSIsbz13Kys7cmV0dXJuIHQuZmlyc3Q/ZnVuY3Rpb24odCxuLHIpe3doaWxlKHQ9dFtpXSlpZihzfHx0Lm5vZGVUeXBlPT09MSlyZXR1cm4gZSh0LG4scil9OmZ1bmN0aW9uKHQscix1KXtpZighdSl7dmFyIGEsZj1iKyIgIitvKyIgIixsPWYrbjt3aGlsZSh0PXRbaV0paWYoc3x8dC5ub2RlVHlwZT09PTEpe2lmKChhPXRbZF0pPT09bClyZXR1cm4gdC5zaXpzZXQ7aWYodHlwZW9mIGE9PSJzdHJpbmciJiZhLmluZGV4T2YoZik9PT0wKXtpZih0LnNpenNldClyZXR1cm4gdH1lbHNle3RbZF09bDtpZihlKHQscix1KSlyZXR1cm4gdC5zaXpzZXQ9ITAsdDt0LnNpenNldD0hMX19fWVsc2Ugd2hpbGUodD10W2ldKWlmKHN8fHQubm9kZVR5cGU9PT0xKWlmKGUodCxyLHUpKXJldHVybiB0fX1mdW5jdGlvbiBmdChlKXtyZXR1cm4gZS5sZW5ndGg+MT9mdW5jdGlvbih0LG4scil7dmFyIGk9ZS5sZW5ndGg7d2hpbGUoaS0tKWlmKCFlW2ldKHQsbixyKSlyZXR1cm4hMTtyZXR1cm4hMH06ZVswXX1mdW5jdGlvbiBsdChlLHQsbixyLGkpe3ZhciBzLG89W10sdT0wLGE9ZS5sZW5ndGgsZj10IT1udWxsO2Zvcig7dTxhO3UrKylpZihzPWVbdV0paWYoIW58fG4ocyxyLGkpKW8ucHVzaChzKSxmJiZ0LnB1c2godSk7cmV0dXJuIG99ZnVuY3Rpb24gY3QoZSx0LG4scixpLHMpe3JldHVybiByJiYhcltkXSYmKHI9Y3QocikpLGkmJiFpW2RdJiYoaT1jdChpLHMpKSxOKGZ1bmN0aW9uKHMsbyx1LGEpe3ZhciBmLGwsYyxoPVtdLHA9W10sZD1vLmxlbmd0aCx2PXN8fGR0KHR8fCIqIix1Lm5vZGVUeXBlP1t1XTp1LFtdKSxtPWUmJihzfHwhdCk/bHQodixoLGUsdSxhKTp2LGc9bj9pfHwocz9lOmR8fHIpP1tdOm86bTtuJiZuKG0sZyx1LGEpO2lmKHIpe2Y9bHQoZyxwKSxyKGYsW10sdSxhKSxsPWYubGVuZ3RoO3doaWxlKGwtLSlpZihjPWZbbF0pZ1twW2xdXT0hKG1bcFtsXV09Yyl9aWYocyl7aWYoaXx8ZSl7aWYoaSl7Zj1bXSxsPWcubGVuZ3RoO3doaWxlKGwtLSkoYz1nW2xdKSYmZi5wdXNoKG1bbF09Yyk7aShudWxsLGc9W10sZixhKX1sPWcubGVuZ3RoO3doaWxlKGwtLSkoYz1nW2xdKSYmKGY9aT9ULmNhbGwocyxjKTpoW2xdKT4tMSYmKHNbZl09IShvW2ZdPWMpKX19ZWxzZSBnPWx0KGc9PT1vP2cuc3BsaWNlKGQsZy5sZW5ndGgpOmcpLGk/aShudWxsLG8sZyxhKTpTLmFwcGx5KG8sZyl9KX1mdW5jdGlvbiBodChlKXt2YXIgdCxuLHIscz1lLmxlbmd0aCxvPWkucmVsYXRpdmVbZVswXS50eXBlXSx1PW98fGkucmVsYXRpdmVbIiAiXSxhPW8/MTowLGY9YXQoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSx1LCEwKSxsPWF0KGZ1bmN0aW9uKGUpe3JldHVybiBULmNhbGwodCxlKT4tMX0sdSwhMCksaD1bZnVuY3Rpb24oZSxuLHIpe3JldHVybiFvJiYocnx8biE9PWMpfHwoKHQ9bikubm9kZVR5cGU/ZihlLG4scik6bChlLG4scikpfV07Zm9yKDthPHM7YSsrKWlmKG49aS5yZWxhdGl2ZVtlW2FdLnR5cGVdKWg9W2F0KGZ0KGgpLG4pXTtlbHNle249aS5maWx0ZXJbZVthXS50eXBlXS5hcHBseShudWxsLGVbYV0ubWF0Y2hlcyk7aWYobltkXSl7cj0rK2E7Zm9yKDtyPHM7cisrKWlmKGkucmVsYXRpdmVbZVtyXS50eXBlXSlicmVhaztyZXR1cm4gY3QoYT4xJiZmdChoKSxhPjEmJmUuc2xpY2UoMCxhLTEpLmpvaW4oIiIpLnJlcGxhY2UoaiwiJDEiKSxuLGE8ciYmaHQoZS5zbGljZShhLHIpKSxyPHMmJmh0KGU9ZS5zbGljZShyKSkscjxzJiZlLmpvaW4oIiIpKX1oLnB1c2gobil9cmV0dXJuIGZ0KGgpfWZ1bmN0aW9uIHB0KGUsdCl7dmFyIHI9dC5sZW5ndGg+MCxzPWUubGVuZ3RoPjAsbz1mdW5jdGlvbih1LGEsZixsLGgpe3ZhciBwLGQsdixtPVtdLHk9MCx3PSIwIix4PXUmJltdLFQ9aCE9bnVsbCxOPWMsQz11fHxzJiZpLmZpbmQuVEFHKCIqIixoJiZhLnBhcmVudE5vZGV8fGEpLGs9Yis9Tj09bnVsbD8xOk1hdGguRTtUJiYoYz1hIT09ZyYmYSxuPW8uZWwpO2Zvcig7KHA9Q1t3XSkhPW51bGw7dysrKXtpZihzJiZwKXtmb3IoZD0wO3Y9ZVtkXTtkKyspaWYodihwLGEsZikpe2wucHVzaChwKTticmVha31UJiYoYj1rLG49KytvLmVsKX1yJiYoKHA9IXYmJnApJiZ5LS0sdSYmeC5wdXNoKHApKX15Kz13O2lmKHImJnchPT15KXtmb3IoZD0wO3Y9dFtkXTtkKyspdih4LG0sYSxmKTtpZih1KXtpZih5PjApd2hpbGUody0tKSF4W3ddJiYhbVt3XSYmKG1bd109RS5jYWxsKGwpKTttPWx0KG0pfVMuYXBwbHkobCxtKSxUJiYhdSYmbS5sZW5ndGg+MCYmeSt0Lmxlbmd0aD4xJiZudC51bmlxdWVTb3J0KGwpfXJldHVybiBUJiYoYj1rLGM9TikseH07cmV0dXJuIG8uZWw9MCxyP04obyk6b31mdW5jdGlvbiBkdChlLHQsbil7dmFyIHI9MCxpPXQubGVuZ3RoO2Zvcig7cjxpO3IrKyludChlLHRbcl0sbik7cmV0dXJuIG59ZnVuY3Rpb24gdnQoZSx0LG4scixzKXt2YXIgbyx1LGYsbCxjLGg9dXQoZSkscD1oLmxlbmd0aDtpZighciYmaC5sZW5ndGg9PT0xKXt1PWhbMF09aFswXS5zbGljZSgwKTtpZih1Lmxlbmd0aD4yJiYoZj11WzBdKS50eXBlPT09IklEIiYmdC5ub2RlVHlwZT09PTkmJiFzJiZpLnJlbGF0aXZlW3VbMV0udHlwZV0pe3Q9aS5maW5kLklEKGYubWF0Y2hlc1swXS5yZXBsYWNlKCQsIiIpLHQscylbMF07aWYoIXQpcmV0dXJuIG47ZT1lLnNsaWNlKHUuc2hpZnQoKS5sZW5ndGgpfWZvcihvPUouUE9TLnRlc3QoZSk/LTE6dS5sZW5ndGgtMTtvPj0wO28tLSl7Zj11W29dO2lmKGkucmVsYXRpdmVbbD1mLnR5cGVdKWJyZWFrO2lmKGM9aS5maW5kW2xdKWlmKHI9YyhmLm1hdGNoZXNbMF0ucmVwbGFjZSgkLCIiKSx6LnRlc3QodVswXS50eXBlKSYmdC5wYXJlbnROb2RlfHx0LHMpKXt1LnNwbGljZShvLDEpLGU9ci5sZW5ndGgmJnUuam9pbigiIik7aWYoIWUpcmV0dXJuIFMuYXBwbHkobix4LmNhbGwociwwKSksbjticmVha319fXJldHVybiBhKGUsaCkocix0LHMsbix6LnRlc3QoZSkpLG59ZnVuY3Rpb24gbXQoKXt9dmFyIG4scixpLHMsbyx1LGEsZixsLGMsaD0hMCxwPSJ1bmRlZmluZWQiLGQ9KCJzaXpjYWNoZSIrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgiLiIsIiIpLG09U3RyaW5nLGc9ZS5kb2N1bWVudCx5PWcuZG9jdW1lbnRFbGVtZW50LGI9MCx3PTAsRT1bXS5wb3AsUz1bXS5wdXNoLHg9W10uc2xpY2UsVD1bXS5pbmRleE9mfHxmdW5jdGlvbihlKXt2YXIgdD0wLG49dGhpcy5sZW5ndGg7Zm9yKDt0PG47dCsrKWlmKHRoaXNbdF09PT1lKXJldHVybiB0O3JldHVybi0xfSxOPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbZF09dD09bnVsbHx8dCxlfSxDPWZ1bmN0aW9uKCl7dmFyIGU9e30sdD1bXTtyZXR1cm4gTihmdW5jdGlvbihuLHIpe3JldHVybiB0LnB1c2gobik+aS5jYWNoZUxlbmd0aCYmZGVsZXRlIGVbdC5zaGlmdCgpXSxlW24rIiAiXT1yfSxlKX0saz1DKCksTD1DKCksQT1DKCksTz0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTT0iKD86XFxcXC58Wy1cXHddfFteXFx4MDAtXFx4YTBdKSsiLF89TS5yZXBsYWNlKCJ3IiwidyMiKSxEPSIoWypeJHwhfl0/PSkiLFA9IlxcWyIrTysiKigiK00rIikiK08rIiooPzoiK0QrTysiKig/OihbJ1wiXSkoKD86XFxcXC58W15cXFxcXSkqPylcXDN8KCIrXysiKXwpfCkiK08rIipcXF0iLEg9IjooIitNKyIpKD86XFwoKD86KFsnXCJdKSgoPzpcXFxcLnxbXlxcXFxdKSo/KVxcMnwoW14oKVtcXF1dKnwoPzooPzoiK1ArIil8W146XXxcXFxcLikqfC4qKSlcXCl8KSIsQj0iOihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK08rIiooKD86LVxcZCk/XFxkKikiK08rIipcXCl8KSg/PVteLV18JCkiLGo9bmV3IFJlZ0V4cCgiXiIrTysiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitPKyIrJCIsImciKSxGPW5ldyBSZWdFeHAoIl4iK08rIiosIitPKyIqIiksST1uZXcgUmVnRXhwKCJeIitPKyIqKFtcXHgyMFxcdFxcclxcblxcZj4rfl0pIitPKyIqIikscT1uZXcgUmVnRXhwKEgpLFI9L14oPzojKFtcd1wtXSspfChcdyspfFwuKFtcd1wtXSspKSQvLFU9L146bm90Lyx6PS9bXHgyMFx0XHJcblxmXSpbK35dLyxXPS86bm90XCgkLyxYPS9oXGQvaSxWPS9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uL2ksJD0vXFwoPyFcXCkvZyxKPXtJRDpuZXcgUmVnRXhwKCJeIygiK00rIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrTSsiKSIpLE5BTUU6bmV3IFJlZ0V4cCgiXlxcW25hbWU9WydcIl0/KCIrTSsiKVsnXCJdP1xcXSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTS5yZXBsYWNlKCJ3IiwidyoiKSsiKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrUCksUFNFVURPOm5ldyBSZWdFeHAoIl4iK0gpLFBPUzpuZXcgUmVnRXhwKEIsImkiKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fG50aHxmaXJzdHxsYXN0KS1jaGlsZCg/OlxcKCIrTysiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrTysiKig/OihbKy1dfCkiK08rIiooXFxkKyl8KSkiK08rIipcXCl8KSIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTysiKls+K35dfCIrQiwiaSIpfSxLPWZ1bmN0aW9uKGUpe3ZhciB0PWcuY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiBlKHQpfWNhdGNoKG4pe3JldHVybiExfWZpbmFsbHl7dD1udWxsfX0sUT1LKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGVuZENoaWxkKGcuY3JlYXRlQ29tbWVudCgiIikpLCFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksRz1LKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsZS5maXJzdENoaWxkJiZ0eXBlb2YgZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSE9PXAmJmUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKT09PSIjIn0pLFk9SyhmdW5jdGlvbihlKXtlLmlubmVySFRNTD0iPHNlbGVjdD48L3NlbGVjdD4iO3ZhciB0PXR5cGVvZiBlLmxhc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIm11bHRpcGxlIik7cmV0dXJuIHQhPT0iYm9vbGVhbiImJnQhPT0ic3RyaW5nIn0pLFo9SyhmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J2hpZGRlbiBlJz48L2Rpdj48ZGl2IGNsYXNzPSdoaWRkZW4nPjwvZGl2PiIsIWUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZXx8IWUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZSIpLmxlbmd0aD8hMTooZS5sYXN0Q2hpbGQuY2xhc3NOYW1lPSJlIixlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGg9PT0yKX0pLGV0PUsoZnVuY3Rpb24oZSl7ZS5pZD1kKzAsZS5pbm5lckhUTUw9IjxhIG5hbWU9JyIrZCsiJz48L2E+PGRpdiBuYW1lPSciK2QrIic+PC9kaXY+Iix5Lmluc2VydEJlZm9yZShlLHkuZmlyc3RDaGlsZCk7dmFyIHQ9Zy5nZXRFbGVtZW50c0J5TmFtZSYmZy5nZXRFbGVtZW50c0J5TmFtZShkKS5sZW5ndGg9PT0yK2cuZ2V0RWxlbWVudHNCeU5hbWUoZCswKS5sZW5ndGg7cmV0dXJuIHI9IWcuZ2V0RWxlbWVudEJ5SWQoZCkseS5yZW1vdmVDaGlsZChlKSx0fSk7dHJ5e3guY2FsbCh5LmNoaWxkTm9kZXMsMClbMF0ubm9kZVR5cGV9Y2F0Y2godHQpe3g9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtmb3IoO3Q9dGhpc1tlXTtlKyspbi5wdXNoKHQpO3JldHVybiBufX1udC5tYXRjaGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG50KGUsbnVsbCxudWxsLHQpfSxudC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnQodCxudWxsLG51bGwsW2VdKS5sZW5ndGg+MH0scz1udC5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZihpPT09MXx8aT09PTl8fGk9PT0xMSl7aWYodHlwZW9mIGUudGV4dENvbnRlbnQ9PSJzdHJpbmciKXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1zKGUpfWVsc2UgaWYoaT09PTN8fGk9PT00KXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIGZvcig7dD1lW3JdO3IrKyluKz1zKHQpO3JldHVybiBufSxvPW50LmlzWE1MPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gdD90Lm5vZGVOYW1lIT09IkhUTUwiOiExfSx1PW50LmNvbnRhaW5zPXkuY29udGFpbnM/ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLm5vZGVUeXBlPT09OT9lLmRvY3VtZW50RWxlbWVudDplLHI9dCYmdC5wYXJlbnROb2RlO3JldHVybiBlPT09cnx8ISEociYmci5ub2RlVHlwZT09PTEmJm4uY29udGFpbnMmJm4uY29udGFpbnMocikpfTp5LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJiEhKGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkmMTYpfTpmdW5jdGlvbihlLHQpe3doaWxlKHQ9dC5wYXJlbnROb2RlKWlmKHQ9PT1lKXJldHVybiEwO3JldHVybiExfSxudC5hdHRyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1vKGUpO3JldHVybiByfHwodD10LnRvTG93ZXJDYXNlKCkpLChuPWkuYXR0ckhhbmRsZVt0XSk/bihlKTpyfHxZP2UuZ2V0QXR0cmlidXRlKHQpOihuPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSxuP3R5cGVvZiBlW3RdPT0iYm9vbGVhbiI/ZVt0XT90Om51bGw6bi5zcGVjaWZpZWQ/bi52YWx1ZTpudWxsOm51bGwpfSxpPW50LnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOk4sbWF0Y2g6SixhdHRySGFuZGxlOkc/e306e2hyZWY6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJocmVmIiwyKX0sdHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoInR5cGUiKX19LGZpbmQ6e0lEOnI/ZnVuY3Rpb24oZSx0LG4pe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRCeUlkIT09cCYmIW4pe3ZhciByPXQuZ2V0RWxlbWVudEJ5SWQoZSk7cmV0dXJuIHImJnIucGFyZW50Tm9kZT9bcl06W119fTpmdW5jdGlvbihlLG4scil7aWYodHlwZW9mIG4uZ2V0RWxlbWVudEJ5SWQhPT1wJiYhcil7dmFyIGk9bi5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gaT9pLmlkPT09ZXx8dHlwZW9mIGkuZ2V0QXR0cmlidXRlTm9kZSE9PXAmJmkuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKS52YWx1ZT09PWU/W2ldOnQ6W119fSxUQUc6UT9mdW5jdGlvbihlLHQpe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lIT09cClyZXR1cm4gdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKGU9PT0iKiIpe3ZhciByLGk9W10scz0wO2Zvcig7cj1uW3NdO3MrKylyLm5vZGVUeXBlPT09MSYmaS5wdXNoKHIpO3JldHVybiBpfXJldHVybiBufSxOQU1FOmV0JiZmdW5jdGlvbihlLHQpe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRzQnlOYW1lIT09cClyZXR1cm4gdC5nZXRFbGVtZW50c0J5TmFtZShuYW1lKX0sQ0xBU1M6WiYmZnVuY3Rpb24oZSx0LG4pe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUhPT1wJiYhbilyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfX0scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKCQsIiIpLGVbM109KGVbNF18fGVbNV18fCIiKS5yZXBsYWNlKCQsIiIpLGVbMl09PT0ifj0iJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLGVbMV09PT0ibnRoIj8oZVsyXXx8bnQuZXJyb3IoZVswXSksZVszXT0rKGVbM10/ZVs0XSsoZVs1XXx8MSk6MiooZVsyXT09PSJldmVuInx8ZVsyXT09PSJvZGQiKSksZVs0XT0rKGVbNl0rZVs3XXx8ZVsyXT09PSJvZGQiKSk6ZVsyXSYmbnQuZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoSi5DSElMRC50ZXN0KGVbMF0pKXJldHVybiBudWxsO2lmKGVbM10pZVsyXT1lWzNdO2Vsc2UgaWYodD1lWzRdKXEudGVzdCh0KSYmKG49dXQodCwhMCkpJiYobj10LmluZGV4T2YoIikiLHQubGVuZ3RoLW4pLXQubGVuZ3RoKSYmKHQ9dC5zbGljZSgwLG4pLGVbMF09ZVswXS5zbGljZSgwLG4pKSxlWzJdPXQ7cmV0dXJuIGUuc2xpY2UoMCwzKX19LGZpbHRlcjp7SUQ6cj9mdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoJCwiIiksZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0QXR0cmlidXRlKCJpZCIpPT09ZX19OmZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSgkLCIiKSxmdW5jdGlvbih0KXt2YXIgbj10eXBlb2YgdC5nZXRBdHRyaWJ1dGVOb2RlIT09cCYmdC5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBuJiZuLnZhbHVlPT09ZX19LFRBRzpmdW5jdGlvbihlKXtyZXR1cm4gZT09PSIqIj9mdW5jdGlvbigpe3JldHVybiEwfTooZT1lLnJlcGxhY2UoJCwiIikudG9Mb3dlckNhc2UoKSxmdW5jdGlvbih0KXtyZXR1cm4gdC5ub2RlTmFtZSYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZX0pfSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1rW2RdW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitPKyIpIitlKyIoIitPKyJ8JCkiKSkmJmsoZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KGUuY2xhc3NOYW1lfHx0eXBlb2YgZS5nZXRBdHRyaWJ1dGUhPT1wJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyLGkpe3ZhciBzPW50LmF0dHIocixlKTtyZXR1cm4gcz09bnVsbD90PT09IiE9Ijp0PyhzKz0iIix0PT09Ij0iP3M9PT1uOnQ9PT0iIT0iP3MhPT1uOnQ9PT0iXj0iP24mJnMuaW5kZXhPZihuKT09PTA6dD09PSIqPSI/biYmcy5pbmRleE9mKG4pPi0xOnQ9PT0iJD0iP24mJnMuc3Vic3RyKHMubGVuZ3RoLW4ubGVuZ3RoKT09PW46dD09PSJ+PSI/KCIgIitzKyIgIikuaW5kZXhPZihuKT4tMTp0PT09Inw9Ij9zPT09bnx8cy5zdWJzdHIoMCxuLmxlbmd0aCsxKT09PW4rIi0iOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBlPT09Im50aCI/ZnVuY3Rpb24oZSl7dmFyIHQsaSxzPWUucGFyZW50Tm9kZTtpZihuPT09MSYmcj09PTApcmV0dXJuITA7aWYocyl7aT0wO2Zvcih0PXMuZmlyc3RDaGlsZDt0O3Q9dC5uZXh0U2libGluZylpZih0Lm5vZGVUeXBlPT09MSl7aSsrO2lmKGU9PT10KWJyZWFrfX1yZXR1cm4gaS09cixpPT09bnx8aSVuPT09MCYmaS9uPj0wfTpmdW5jdGlvbih0KXt2YXIgbj10O3N3aXRjaChlKXtjYXNlIm9ubHkiOmNhc2UiZmlyc3QiOndoaWxlKG49bi5wcmV2aW91c1NpYmxpbmcpaWYobi5ub2RlVHlwZT09PTEpcmV0dXJuITE7aWYoZT09PSJmaXJzdCIpcmV0dXJuITA7bj10O2Nhc2UibGFzdCI6d2hpbGUobj1uLm5leHRTaWJsaW5nKWlmKG4ubm9kZVR5cGU9PT0xKXJldHVybiExO3JldHVybiEwfX19LFBTRVVETzpmdW5jdGlvbihlLHQpe3ZhciBuLHI9aS5wc2V1ZG9zW2VdfHxpLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8bnQuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitlKTtyZXR1cm4gcltkXT9yKHQpOnIubGVuZ3RoPjE/KG49W2UsZSwiIix0XSxpLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9OKGZ1bmN0aW9uKGUsbil7dmFyIGkscz1yKGUsdCksbz1zLmxlbmd0aDt3aGlsZShvLS0paT1ULmNhbGwoZSxzW29dKSxlW2ldPSEobltpXT1zW29dKX0pOmZ1bmN0aW9uKGUpe3JldHVybiByKGUsMCxuKX0pOnJ9fSxwc2V1ZG9zOntub3Q6TihmdW5jdGlvbihlKXt2YXIgdD1bXSxuPVtdLHI9YShlLnJlcGxhY2UoaiwiJDEiKSk7cmV0dXJuIHJbZF0/TihmdW5jdGlvbihlLHQsbixpKXt2YXIgcyxvPXIoZSxudWxsLGksW10pLHU9ZS5sZW5ndGg7d2hpbGUodS0tKWlmKHM9b1t1XSllW3VdPSEodFt1XT1zKX0pOmZ1bmN0aW9uKGUsaSxzKXtyZXR1cm4gdFswXT1lLHIodCxudWxsLHMsbiksIW4ucG9wKCl9fSksaGFzOk4oZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBudChlLHQpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOk4oZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybih0LnRleHRDb250ZW50fHx0LmlubmVyVGV4dHx8cyh0KSkuaW5kZXhPZihlKT4tMX19KSxlbmFibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiB0PT09ImlucHV0IiYmISFlLmNoZWNrZWR8fHQ9PT0ib3B0aW9uIiYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxlLnNlbGVjdGVkPT09ITB9LHBhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4haS5wc2V1ZG9zLmVtcHR5KGUpfSxlbXB0eTpmdW5jdGlvbihlKXt2YXIgdDtlPWUuZmlyc3RDaGlsZDt3aGlsZShlKXtpZihlLm5vZGVOYW1lPiJAInx8KHQ9ZS5ub2RlVHlwZSk9PT0zfHx0PT09NClyZXR1cm4hMTtlPWUubmV4dFNpYmxpbmd9cmV0dXJuITB9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gWC50ZXN0KGUubm9kZU5hbWUpfSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJih0PWUudHlwZSk9PT0idGV4dCImJigobj1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKT09bnVsbHx8bi50b0xvd2VyQ2FzZSgpPT09dCl9LHJhZGlvOnJ0KCJyYWRpbyIpLGNoZWNrYm94OnJ0KCJjaGVja2JveCIpLGZpbGU6cnQoImZpbGUiKSxwYXNzd29yZDpydCgicGFzc3dvcmQiKSxpbWFnZTpydCgiaW1hZ2UiKSxzdWJtaXQ6aXQoInN1Ym1pdCIpLHJlc2V0Oml0KCJyZXNldCIpLGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHQ9PT0iaW5wdXQiJiZlLnR5cGU9PT0iYnV0dG9uInx8dD09PSJidXR0b24ifSxpbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gVi50ZXN0KGUubm9kZU5hbWUpfSxmb2N1czpmdW5jdGlvbihlKXt2YXIgdD1lLm93bmVyRG9jdW1lbnQ7cmV0dXJuIGU9PT10LmFjdGl2ZUVsZW1lbnQmJighdC5oYXNGb2N1c3x8dC5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sYWN0aXZlOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09ZS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9LGZpcnN0OnN0KGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpzdChmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6c3QoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjpzdChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDpzdChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnN0KGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOy0tcj49MDspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6c3QoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0sZj15LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PyhsPSEwLDApOighZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbnx8IXQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpJjQpPy0xOjF9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDtpZihlLnNvdXJjZUluZGV4JiZ0LnNvdXJjZUluZGV4KXJldHVybiBlLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7dmFyIG4scixpPVtdLHM9W10sbz1lLnBhcmVudE5vZGUsdT10LnBhcmVudE5vZGUsYT1vO2lmKG89PT11KXJldHVybiBvdChlLHQpO2lmKCFvKXJldHVybi0xO2lmKCF1KXJldHVybiAxO3doaWxlKGEpaS51bnNoaWZ0KGEpLGE9YS5wYXJlbnROb2RlO2E9dTt3aGlsZShhKXMudW5zaGlmdChhKSxhPWEucGFyZW50Tm9kZTtuPWkubGVuZ3RoLHI9cy5sZW5ndGg7Zm9yKHZhciBmPTA7ZjxuJiZmPHI7ZisrKWlmKGlbZl0hPT1zW2ZdKXJldHVybiBvdChpW2ZdLHNbZl0pO3JldHVybiBmPT09bj9vdChlLHNbZl0sLTEpOm90KGlbZl0sdCwxKX0sWzAsMF0uc29ydChmKSxoPSFsLG50LnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTEsaT0wO2w9aCxlLnNvcnQoZik7aWYobCl7Zm9yKDt0PWVbcl07cisrKXQ9PT1lW3ItMV0mJihpPW4ucHVzaChyKSk7d2hpbGUoaS0tKWUuc3BsaWNlKG5baV0sMSl9cmV0dXJuIGV9LG50LmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIitlKX0sYT1udC5jb21waWxlPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPVtdLHM9QVtkXVtlKyIgIl07aWYoIXMpe3R8fCh0PXV0KGUpKSxuPXQubGVuZ3RoO3doaWxlKG4tLSlzPWh0KHRbbl0pLHNbZF0/ci5wdXNoKHMpOmkucHVzaChzKTtzPUEoZSxwdChpLHIpKX1yZXR1cm4gc30sZy5xdWVyeVNlbGVjdG9yQWxsJiZmdW5jdGlvbigpe3ZhciBlLHQ9dnQsbj0vJ3xcXC9nLHI9L1w9W1x4MjBcdFxyXG5cZl0qKFteJyJcXV0qKVtceDIwXHRcclxuXGZdKlxdL2csaT1bIjpmb2N1cyJdLHM9WyI6YWN0aXZlIl0sdT15Lm1hdGNoZXNTZWxlY3Rvcnx8eS5tb3pNYXRjaGVzU2VsZWN0b3J8fHkud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHx5Lm9NYXRjaGVzU2VsZWN0b3J8fHkubXNNYXRjaGVzU2VsZWN0b3I7SyhmdW5jdGlvbihlKXtlLmlubmVySFRNTD0iPHNlbGVjdD48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsZS5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxpLnB1c2goIlxcWyIrTysiKig/OmNoZWNrZWR8ZGlzYWJsZWR8aXNtYXB8bXVsdGlwbGV8cmVhZG9ubHl8c2VsZWN0ZWR8dmFsdWUpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8aS5wdXNoKCI6Y2hlY2tlZCIpfSksSyhmdW5jdGlvbihlKXtlLmlubmVySFRNTD0iPHAgdGVzdD0nJz48L3A+IixlLnF1ZXJ5U2VsZWN0b3JBbGwoIlt0ZXN0Xj0nJ10iKS5sZW5ndGgmJmkucHVzaCgiWypeJF09IitPKyIqKD86XCJcInwnJykiKSxlLmlubmVySFRNTD0iPGlucHV0IHR5cGU9J2hpZGRlbicvPiIsZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aHx8aS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpfSksaT1uZXcgUmVnRXhwKGkuam9pbigifCIpKSx2dD1mdW5jdGlvbihlLHIscyxvLHUpe2lmKCFvJiYhdSYmIWkudGVzdChlKSl7dmFyIGEsZixsPSEwLGM9ZCxoPXIscD1yLm5vZGVUeXBlPT09OSYmZTtpZihyLm5vZGVUeXBlPT09MSYmci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09Im9iamVjdCIpe2E9dXQoZSksKGw9ci5nZXRBdHRyaWJ1dGUoImlkIikpP2M9bC5yZXBsYWNlKG4sIlxcJCYiKTpyLnNldEF0dHJpYnV0ZSgiaWQiLGMpLGM9IltpZD0nIitjKyInXSAiLGY9YS5sZW5ndGg7d2hpbGUoZi0tKWFbZl09YythW2ZdLmpvaW4oIiIpO2g9ei50ZXN0KGUpJiZyLnBhcmVudE5vZGV8fHIscD1hLmpvaW4oIiwiKX1pZihwKXRyeXtyZXR1cm4gUy5hcHBseShzLHguY2FsbChoLnF1ZXJ5U2VsZWN0b3JBbGwocCksMCkpLHN9Y2F0Y2godil7fWZpbmFsbHl7bHx8ci5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fXJldHVybiB0KGUscixzLG8sdSl9LHUmJihLKGZ1bmN0aW9uKHQpe2U9dS5jYWxsKHQsImRpdiIpO3RyeXt1LmNhbGwodCwiW3Rlc3QhPScnXTpzaXp6bGUiKSxzLnB1c2goIiE9IixIKX1jYXRjaChuKXt9fSkscz1uZXcgUmVnRXhwKHMuam9pbigifCIpKSxudC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24odCxuKXtuPW4ucmVwbGFjZShyLCI9JyQxJ10iKTtpZighbyh0KSYmIXMudGVzdChuKSYmIWkudGVzdChuKSl0cnl7dmFyIGE9dS5jYWxsKHQsbik7aWYoYXx8ZXx8dC5kb2N1bWVudCYmdC5kb2N1bWVudC5ub2RlVHlwZSE9PTExKXJldHVybiBhfWNhdGNoKGYpe31yZXR1cm4gbnQobixudWxsLG51bGwsW3RdKS5sZW5ndGg+MH0pfSgpLGkucHNldWRvcy5udGg9aS5wc2V1ZG9zLmVxLGkuZmlsdGVycz1tdC5wcm90b3R5cGU9aS5wc2V1ZG9zLGkuc2V0RmlsdGVycz1uZXcgbXQsbnQuYXR0cj12LmF0dHIsdi5maW5kPW50LHYuZXhwcj1udC5zZWxlY3RvcnMsdi5leHByWyI6Il09di5leHByLnBzZXVkb3Msdi51bmlxdWU9bnQudW5pcXVlU29ydCx2LnRleHQ9bnQuZ2V0VGV4dCx2LmlzWE1MRG9jPW50LmlzWE1MLHYuY29udGFpbnM9bnQuY29udGFpbnN9KGUpO3ZhciBudD0vVW50aWwkLyxydD0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxpdD0vXi5bXjojXFtcLixdKiQvLHN0PXYuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsb3Q9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07di5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGkscyxvLHU9dGhpcztpZih0eXBlb2YgZSE9InN0cmluZyIpcmV0dXJuIHYoZSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHQ9MCxuPXUubGVuZ3RoO3Q8bjt0KyspaWYodi5jb250YWlucyh1W3RdLHRoaXMpKXJldHVybiEwfSk7bz10aGlzLnB1c2hTdGFjaygiIiwiZmluZCIsZSk7Zm9yKHQ9MCxuPXRoaXMubGVuZ3RoO3Q8bjt0Kyspe3I9by5sZW5ndGgsdi5maW5kKGUsdGhpc1t0XSxvKTtpZih0PjApZm9yKGk9cjtpPG8ubGVuZ3RoO2krKylmb3Iocz0wO3M8cjtzKyspaWYob1tzXT09PW9baV0pe28uc3BsaWNlKGktLSwxKTticmVha319cmV0dXJuIG99LGhhczpmdW5jdGlvbihlKXt2YXIgdCxuPXYoZSx0aGlzKSxyPW4ubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7dDxyO3QrKylpZih2LmNvbnRhaW5zKHRoaXMsblt0XSkpcmV0dXJuITB9KX0sbm90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhmdCh0aGlzLGUsITEpLCJub3QiLGUpfSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGZ0KHRoaXMsZSwhMCksImZpbHRlciIsZSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhZSYmKHR5cGVvZiBlPT0ic3RyaW5nIj9zdC50ZXN0KGUpP3YoZSx0aGlzLmNvbnRleHQpLmluZGV4KHRoaXNbMF0pPj0wOnYuZmlsdGVyKGUsdGhpcykubGVuZ3RoPjA6dGhpcy5maWx0ZXIoZSkubGVuZ3RoPjApfSxjbG9zZXN0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wLGk9dGhpcy5sZW5ndGgscz1bXSxvPXN0LnRlc3QoZSl8fHR5cGVvZiBlIT0ic3RyaW5nIj92KGUsdHx8dGhpcy5jb250ZXh0KTowO2Zvcig7cjxpO3IrKyl7bj10aGlzW3JdO3doaWxlKG4mJm4ub3duZXJEb2N1bWVudCYmbiE9PXQmJm4ubm9kZVR5cGUhPT0xMSl7aWYobz9vLmluZGV4KG4pPi0xOnYuZmluZC5tYXRjaGVzU2VsZWN0b3IobixlKSl7cy5wdXNoKG4pO2JyZWFrfW49bi5wYXJlbnROb2RlfX1yZXR1cm4gcz1zLmxlbmd0aD4xP3YudW5pcXVlKHMpOnMsdGhpcy5wdXNoU3RhY2socywiY2xvc2VzdCIsZSl9LGluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlP3R5cGVvZiBlPT0ic3RyaW5nIj92LmluQXJyYXkodGhpc1swXSx2KGUpKTp2LmluQXJyYXkoZS5qcXVlcnk/ZVswXTplLHRoaXMpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihlLHQpe3ZhciBuPXR5cGVvZiBlPT0ic3RyaW5nIj92KGUsdCk6di5tYWtlQXJyYXkoZSYmZS5ub2RlVHlwZT9bZV06ZSkscj12Lm1lcmdlKHRoaXMuZ2V0KCksbik7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHV0KG5bMF0pfHx1dChyWzBdKT9yOnYudW5pcXVlKHIpKX0sYWRkQmFjazpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGQoZT09bnVsbD90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihlKSl9fSksdi5mbi5hbmRTZWxmPXYuZm4uYWRkQmFjayx2LmVhY2goe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJnQubm9kZVR5cGUhPT0xMT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuZGlyKGUsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdi5kaXIoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGF0KGUsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIGF0KGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGUpe3JldHVybiB2LmRpcihlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiB2LmRpcihlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdi5kaXIoZSwibmV4dFNpYmxpbmciLG4pfSxwcmV2VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2LmRpcihlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gdi5zaWJsaW5nKChlLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGUpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4gdi5zaWJsaW5nKGUuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiB2Lm5vZGVOYW1lKGUsImlmcmFtZSIpP2UuY29udGVudERvY3VtZW50fHxlLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6di5tZXJnZShbXSxlLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oZSx0KXt2LmZuW2VdPWZ1bmN0aW9uKG4scil7dmFyIGk9di5tYXAodGhpcyx0LG4pO3JldHVybiBudC50ZXN0KGUpfHwocj1uKSxyJiZ0eXBlb2Ygcj09InN0cmluZyImJihpPXYuZmlsdGVyKHIsaSkpLGk9dGhpcy5sZW5ndGg+MSYmIW90W2VdP3YudW5pcXVlKGkpOmksdGhpcy5sZW5ndGg+MSYmcnQudGVzdChlKSYmKGk9aS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGksZSxsLmNhbGwoYXJndW1lbnRzKS5qb2luKCIsIikpfX0pLHYuZXh0ZW5kKHtmaWx0ZXI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuJiYoZT0iOm5vdCgiK2UrIikiKSx0Lmxlbmd0aD09PTE/di5maW5kLm1hdGNoZXNTZWxlY3Rvcih0WzBdLGUpP1t0WzBdXTpbXTp2LmZpbmQubWF0Y2hlcyhlLHQpfSxkaXI6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPVtdLHM9ZVtuXTt3aGlsZShzJiZzLm5vZGVUeXBlIT09OSYmKHI9PT10fHxzLm5vZGVUeXBlIT09MXx8IXYocykuaXMocikpKXMubm9kZVR5cGU9PT0xJiZpLnB1c2gocykscz1zW25dO3JldHVybiBpfSxzaWJsaW5nOmZ1bmN0aW9uKGUsdCl7dmFyIG49W107Zm9yKDtlO2U9ZS5uZXh0U2libGluZyllLm5vZGVUeXBlPT09MSYmZSE9PXQmJm4ucHVzaChlKTtyZXR1cm4gbn19KTt2YXIgY3Q9ImFiYnJ8YXJ0aWNsZXxhc2lkZXxhdWRpb3xiZGl8Y2FudmFzfGRhdGF8ZGF0YWxpc3R8ZGV0YWlsc3xmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8aGVhZGVyfGhncm91cHxtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRpbWV8dmlkZW8iLGh0PS8galF1ZXJ5XGQrPSIoPzpudWxsfFxkKykiL2cscHQ9L15ccysvLGR0PS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksdnQ9LzwoW1x3Ol0rKS8sbXQ9Lzx0Ym9keS9pLGd0PS88fCYjP1x3KzsvLHl0PS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksYnQ9LzwoPzpzY3JpcHR8b2JqZWN0fGVtYmVkfG9wdGlvbnxzdHlsZSkvaSx3dD1uZXcgUmVnRXhwKCI8KD86IitjdCsiKVtcXHMvPl0iLCJpIiksRXQ9L14oPzpjaGVja2JveHxyYWRpbykkLyxTdD0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSx4dD0vXC8oamF2YXxlY21hKXNjcmlwdC9pLFR0PS9eXHMqPCEoPzpcW0NEQVRBXFt8XC1cLSl8W1xdXC1dezJ9PlxzKiQvZyxOdD17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSx0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLGFyZWE6WzEsIjxtYXA+IiwiPC9tYXA+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfSxDdD1sdChpKSxrdD1DdC5hcHBlbmRDaGlsZChpLmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtOdC5vcHRncm91cD1OdC5vcHRpb24sTnQudGJvZHk9TnQudGZvb3Q9TnQuY29sZ3JvdXA9TnQuY2FwdGlvbj1OdC50aGVhZCxOdC50aD1OdC50ZCx2LnN1cHBvcnQuaHRtbFNlcmlhbGl6ZXx8KE50Ll9kZWZhdWx0PVsxLCJYPGRpdj4iLCI8L2Rpdj4iXSksdi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuYWNjZXNzKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10P3YudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuYXBwZW5kKCh0aGlzWzBdJiZ0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGkpLmNyZWF0ZVRleHROb2RlKGUpKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSx3cmFwQWxsOmZ1bmN0aW9uKGUpe2lmKHYuaXNGdW5jdGlvbihlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3YodGhpcykud3JhcEFsbChlLmNhbGwodGhpcyx0KSl9KTtpZih0aGlzWzBdKXt2YXIgdD12KGUsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCk7dGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXM7d2hpbGUoZS5maXJzdENoaWxkJiZlLmZpcnN0Q2hpbGQubm9kZVR5cGU9PT0xKWU9ZS5maXJzdENoaWxkO3JldHVybiBlfSkuYXBwZW5kKHRoaXMpfXJldHVybiB0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuaXNGdW5jdGlvbihlKT90aGlzLmVhY2goZnVuY3Rpb24odCl7dih0aGlzKS53cmFwSW5uZXIoZS5jYWxsKHRoaXMsdCkpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dih0aGlzKSxuPXQuY29udGVudHMoKTtuLmxlbmd0aD9uLndyYXBBbGwoZSk6dC5hcHBlbmQoZSl9KX0sd3JhcDpmdW5jdGlvbihlKXt2YXIgdD12LmlzRnVuY3Rpb24oZSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihuKXt2KHRoaXMpLndyYXBBbGwodD9lLmNhbGwodGhpcyxuKTplKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7di5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fHYodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITAsZnVuY3Rpb24oZSl7KHRoaXMubm9kZVR5cGU9PT0xfHx0aGlzLm5vZGVUeXBlPT09MTEpJiZ0aGlzLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITAsZnVuY3Rpb24oZSl7KHRoaXMubm9kZVR5cGU9PT0xfHx0aGlzLm5vZGVUeXBlPT09MTEpJiZ0aGlzLmluc2VydEJlZm9yZShlLHRoaXMuZmlyc3RDaGlsZCl9KX0sYmVmb3JlOmZ1bmN0aW9uKCl7aWYoIXV0KHRoaXNbMF0pKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMSxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KTtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgZT12LmNsZWFuKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHYubWVyZ2UoZSx0aGlzKSwiYmVmb3JlIix0aGlzLnNlbGVjdG9yKX19LGFmdGVyOmZ1bmN0aW9uKCl7aWYoIXV0KHRoaXNbMF0pKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMSxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KTtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgZT12LmNsZWFuKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHYubWVyZ2UodGhpcyxlKSwiYWZ0ZXIiLHRoaXMuc2VsZWN0b3IpfX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2Zvcig7KG49dGhpc1tyXSkhPW51bGw7cisrKWlmKCFlfHx2LmZpbHRlcihlLFtuXSkubGVuZ3RoKSF0JiZuLm5vZGVUeXBlPT09MSYmKHYuY2xlYW5EYXRhKG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksdi5jbGVhbkRhdGEoW25dKSksbi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobik7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7dmFyIGUsdD0wO2Zvcig7KGU9dGhpc1t0XSkhPW51bGw7dCsrKXtlLm5vZGVUeXBlPT09MSYmdi5jbGVhbkRhdGEoZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKTt3aGlsZShlLmZpcnN0Q2hpbGQpZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpfXJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPWU9PW51bGw/ITE6ZSx0PXQ9PW51bGw/ZTp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHYuY2xvbmUodGhpcyxlLHQpfSl9LGh0bWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuYWNjZXNzKHRoaXMsZnVuY3Rpb24oZSl7dmFyIG49dGhpc1swXXx8e30scj0wLGk9dGhpcy5sZW5ndGg7aWYoZT09PXQpcmV0dXJuIG4ubm9kZVR5cGU9PT0xP24uaW5uZXJIVE1MLnJlcGxhY2UoaHQsIiIpOnQ7aWYodHlwZW9mIGU9PSJzdHJpbmciJiYheXQudGVzdChlKSYmKHYuc3VwcG9ydC5odG1sU2VyaWFsaXplfHwhd3QudGVzdChlKSkmJih2LnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2V8fCFwdC50ZXN0KGUpKSYmIU50Wyh2dC5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7ZT1lLnJlcGxhY2UoZHQsIjwkMT48LyQyPiIpO3RyeXtmb3IoO3I8aTtyKyspbj10aGlzW3JdfHx7fSxuLm5vZGVUeXBlPT09MSYmKHYuY2xlYW5EYXRhKG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksbi5pbm5lckhUTUw9ZSk7bj0wfWNhdGNoKHMpe319biYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihlKXtyZXR1cm4gdXQodGhpc1swXSk/dGhpcy5sZW5ndGg/dGhpcy5wdXNoU3RhY2sodih2LmlzRnVuY3Rpb24oZSk/ZSgpOmUpLCJyZXBsYWNlV2l0aCIsZSk6dGhpczp2LmlzRnVuY3Rpb24oZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXYodGhpcykscj1uLmh0bWwoKTtuLnJlcGxhY2VXaXRoKGUuY2FsbCh0aGlzLHQscikpfSk6KHR5cGVvZiBlIT0ic3RyaW5nIiYmKGU9dihlKS5kZXRhY2goKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uZXh0U2libGluZyxuPXRoaXMucGFyZW50Tm9kZTt2KHRoaXMpLnJlbW92ZSgpLHQ/dih0KS5iZWZvcmUoZSk6dihuKS5hcHBlbmQoZSl9KSl9LGRldGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZW1vdmUoZSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGUsbixyKXtlPVtdLmNvbmNhdC5hcHBseShbXSxlKTt2YXIgaSxzLG8sdSxhPTAsZj1lWzBdLGw9W10sYz10aGlzLmxlbmd0aDtpZighdi5zdXBwb3J0LmNoZWNrQ2xvbmUmJmM+MSYmdHlwZW9mIGY9PSJzdHJpbmciJiZTdC50ZXN0KGYpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2KHRoaXMpLmRvbU1hbmlwKGUsbixyKX0pO2lmKHYuaXNGdW5jdGlvbihmKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGkpe3ZhciBzPXYodGhpcyk7ZVswXT1mLmNhbGwodGhpcyxpLG4/cy5odG1sKCk6dCkscy5kb21NYW5pcChlLG4scil9KTtpZih0aGlzWzBdKXtpPXYuYnVpbGRGcmFnbWVudChlLHRoaXMsbCksbz1pLmZyYWdtZW50LHM9by5maXJzdENoaWxkLG8uY2hpbGROb2Rlcy5sZW5ndGg9PT0xJiYobz1zKTtpZihzKXtuPW4mJnYubm9kZU5hbWUocywidHIiKTtmb3IodT1pLmNhY2hlYWJsZXx8Yy0xO2E8YzthKyspci5jYWxsKG4mJnYubm9kZU5hbWUodGhpc1thXSwidGFibGUiKT9MdCh0aGlzW2FdLCJ0Ym9keSIpOnRoaXNbYV0sYT09PXU/bzp2LmNsb25lKG8sITAsITApKX1vPXM9bnVsbCxsLmxlbmd0aCYmdi5lYWNoKGwsZnVuY3Rpb24oZSx0KXt0LnNyYz92LmFqYXg/di5hamF4KHt1cmw6dC5zcmMsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KTp2LmVycm9yKCJubyBhamF4Iik6di5nbG9iYWxFdmFsKCh0LnRleHR8fHQudGV4dENvbnRlbnR8fHQuaW5uZXJIVE1MfHwiIikucmVwbGFjZShUdCwiIikpLHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfSl9cmV0dXJuIHRoaXN9fSksdi5idWlsZEZyYWdtZW50PWZ1bmN0aW9uKGUsbixyKXt2YXIgcyxvLHUsYT1lWzBdO3JldHVybiBuPW58fGksbj0hbi5ub2RlVHlwZSYmblswXXx8bixuPW4ub3duZXJEb2N1bWVudHx8bixlLmxlbmd0aD09PTEmJnR5cGVvZiBhPT0ic3RyaW5nIiYmYS5sZW5ndGg8NTEyJiZuPT09aSYmYS5jaGFyQXQoMCk9PT0iPCImJiFidC50ZXN0KGEpJiYodi5zdXBwb3J0LmNoZWNrQ2xvbmV8fCFTdC50ZXN0KGEpKSYmKHYuc3VwcG9ydC5odG1sNUNsb25lfHwhd3QudGVzdChhKSkmJihvPSEwLHM9di5mcmFnbWVudHNbYV0sdT1zIT09dCksc3x8KHM9bi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksdi5jbGVhbihlLG4scyxyKSxvJiYodi5mcmFnbWVudHNbYV09dSYmcykpLHtmcmFnbWVudDpzLGNhY2hlYWJsZTpvfX0sdi5mcmFnbWVudHM9e30sdi5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oZSx0KXt2LmZuW2VdPWZ1bmN0aW9uKG4pe3ZhciByLGk9MCxzPVtdLG89dihuKSx1PW8ubGVuZ3RoLGE9dGhpcy5sZW5ndGg9PT0xJiZ0aGlzWzBdLnBhcmVudE5vZGU7aWYoKGE9PW51bGx8fGEmJmEubm9kZVR5cGU9PT0xMSYmYS5jaGlsZE5vZGVzLmxlbmd0aD09PTEpJiZ1PT09MSlyZXR1cm4gb1t0XSh0aGlzWzBdKSx0aGlzO2Zvcig7aTx1O2krKylyPShpPjA/dGhpcy5jbG9uZSghMCk6dGhpcykuZ2V0KCksdihvW2ldKVt0XShyKSxzPXMuY29uY2F0KHIpO3JldHVybiB0aGlzLnB1c2hTdGFjayhzLGUsby5zZWxlY3Rvcil9fSksdi5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLHMsbzt2LnN1cHBvcnQuaHRtbDVDbG9uZXx8di5pc1hNTERvYyhlKXx8IXd0LnRlc3QoIjwiK2Uubm9kZU5hbWUrIj4iKT9vPWUuY2xvbmVOb2RlKCEwKTooa3QuaW5uZXJIVE1MPWUub3V0ZXJIVE1MLGt0LnJlbW92ZUNoaWxkKG89a3QuZmlyc3RDaGlsZCkpO2lmKCghdi5zdXBwb3J0Lm5vQ2xvbmVFdmVudHx8IXYuc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCkmJihlLm5vZGVUeXBlPT09MXx8ZS5ub2RlVHlwZT09PTExKSYmIXYuaXNYTUxEb2MoZSkpe090KGUsbykscj1NdChlKSxpPU10KG8pO2ZvcihzPTA7cltzXTsrK3MpaVtzXSYmT3QocltzXSxpW3NdKX1pZih0KXtBdChlLG8pO2lmKG4pe3I9TXQoZSksaT1NdChvKTtmb3Iocz0wO3Jbc107KytzKUF0KHJbc10saVtzXSl9fXJldHVybiByPWk9bnVsbCxvfSxjbGVhbjpmdW5jdGlvbihlLHQsbixyKXt2YXIgcyxvLHUsYSxmLGwsYyxoLHAsZCxtLGcseT10PT09aSYmQ3QsYj1bXTtpZighdHx8dHlwZW9mIHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudD09InVuZGVmaW5lZCIpdD1pO2ZvcihzPTA7KHU9ZVtzXSkhPW51bGw7cysrKXt0eXBlb2YgdT09Im51bWJlciImJih1Kz0iIik7aWYoIXUpY29udGludWU7aWYodHlwZW9mIHU9PSJzdHJpbmciKWlmKCFndC50ZXN0KHUpKXU9dC5jcmVhdGVUZXh0Tm9kZSh1KTtlbHNle3k9eXx8bHQodCksYz10LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHkuYXBwZW5kQ2hpbGQoYyksdT11LnJlcGxhY2UoZHQsIjwkMT48LyQyPiIpLGE9KHZ0LmV4ZWModSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksZj1OdFthXXx8TnQuX2RlZmF1bHQsbD1mWzBdLGMuaW5uZXJIVE1MPWZbMV0rdStmWzJdO3doaWxlKGwtLSljPWMubGFzdENoaWxkO2lmKCF2LnN1cHBvcnQudGJvZHkpe2g9bXQudGVzdCh1KSxwPWE9PT0idGFibGUiJiYhaD9jLmZpcnN0Q2hpbGQmJmMuZmlyc3RDaGlsZC5jaGlsZE5vZGVzOmZbMV09PT0iPHRhYmxlPiImJiFoP2MuY2hpbGROb2RlczpbXTtmb3Iobz1wLmxlbmd0aC0xO28+PTA7LS1vKXYubm9kZU5hbWUocFtvXSwidGJvZHkiKSYmIXBbb10uY2hpbGROb2Rlcy5sZW5ndGgmJnBbb10ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwW29dKX0hdi5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlJiZwdC50ZXN0KHUpJiZjLmluc2VydEJlZm9yZSh0LmNyZWF0ZVRleHROb2RlKHB0LmV4ZWModSlbMF0pLGMuZmlyc3RDaGlsZCksdT1jLmNoaWxkTm9kZXMsYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpfXUubm9kZVR5cGU/Yi5wdXNoKHUpOnYubWVyZ2UoYix1KX1jJiYodT1jPXk9bnVsbCk7aWYoIXYuc3VwcG9ydC5hcHBlbmRDaGVja2VkKWZvcihzPTA7KHU9YltzXSkhPW51bGw7cysrKXYubm9kZU5hbWUodSwiaW5wdXQiKT9fdCh1KTp0eXBlb2YgdS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCImJnYuZ3JlcCh1LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpLF90KTtpZihuKXttPWZ1bmN0aW9uKGUpe2lmKCFlLnR5cGV8fHh0LnRlc3QoZS50eXBlKSlyZXR1cm4gcj9yLnB1c2goZS5wYXJlbnROb2RlP2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKTplKTpuLmFwcGVuZENoaWxkKGUpfTtmb3Iocz0wOyh1PWJbc10pIT1udWxsO3MrKylpZighdi5ub2RlTmFtZSh1LCJzY3JpcHQiKXx8IW0odSkpbi5hcHBlbmRDaGlsZCh1KSx0eXBlb2YgdS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCImJihnPXYuZ3JlcCh2Lm1lcmdlKFtdLHUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpKSxtKSxiLnNwbGljZS5hcHBseShiLFtzKzEsMF0uY29uY2F0KGcpKSxzKz1nLmxlbmd0aCl9cmV0dXJuIGJ9LGNsZWFuRGF0YTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxzLG89MCx1PXYuZXhwYW5kbyxhPXYuY2FjaGUsZj12LnN1cHBvcnQuZGVsZXRlRXhwYW5kbyxsPXYuZXZlbnQuc3BlY2lhbDtmb3IoOyhpPWVbb10pIT1udWxsO28rKylpZih0fHx2LmFjY2VwdERhdGEoaSkpe3I9aVt1XSxuPXImJmFbcl07aWYobil7aWYobi5ldmVudHMpZm9yKHMgaW4gbi5ldmVudHMpbFtzXT92LmV2ZW50LnJlbW92ZShpLHMpOnYucmVtb3ZlRXZlbnQoaSxzLG4uaGFuZGxlKTthW3JdJiYoZGVsZXRlIGFbcl0sZj9kZWxldGUgaVt1XTppLnJlbW92ZUF0dHJpYnV0ZT9pLnJlbW92ZUF0dHJpYnV0ZSh1KTppW3VdPW51bGwsdi5kZWxldGVkSWRzLnB1c2gocikpfX19fSksZnVuY3Rpb24oKXt2YXIgZSx0O3YudWFNYXRjaD1mdW5jdGlvbihlKXtlPWUudG9Mb3dlckNhc2UoKTt2YXIgdD0vKGNocm9tZSlbIFwvXShbXHcuXSspLy5leGVjKGUpfHwvKHdlYmtpdClbIFwvXShbXHcuXSspLy5leGVjKGUpfHwvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcL10oW1x3Ll0rKS8uZXhlYyhlKXx8Lyhtc2llKSAoW1x3Ll0rKS8uZXhlYyhlKXx8ZS5pbmRleE9mKCJjb21wYXRpYmxlIik8MCYmLyhtb3ppbGxhKSg/Oi4qPyBydjooW1x3Ll0rKXwpLy5leGVjKGUpfHxbXTtyZXR1cm57YnJvd3Nlcjp0WzFdfHwiIix2ZXJzaW9uOnRbMl18fCIwIn19LGU9di51YU1hdGNoKG8udXNlckFnZW50KSx0PXt9LGUuYnJvd3NlciYmKHRbZS5icm93c2VyXT0hMCx0LnZlcnNpb249ZS52ZXJzaW9uKSx0LmNocm9tZT90LndlYmtpdD0hMDp0LndlYmtpdCYmKHQuc2FmYXJpPSEwKSx2LmJyb3dzZXI9dCx2LnN1Yj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuKXtyZXR1cm4gbmV3IGUuZm4uaW5pdCh0LG4pfXYuZXh0ZW5kKCEwLGUsdGhpcyksZS5zdXBlcmNsYXNzPXRoaXMsZS5mbj1lLnByb3RvdHlwZT10aGlzKCksZS5mbi5jb25zdHJ1Y3Rvcj1lLGUuc3ViPXRoaXMuc3ViLGUuZm4uaW5pdD1mdW5jdGlvbihyLGkpe3JldHVybiBpJiZpIGluc3RhbmNlb2YgdiYmIShpIGluc3RhbmNlb2YgZSkmJihpPWUoaSkpLHYuZm4uaW5pdC5jYWxsKHRoaXMscixpLHQpfSxlLmZuLmluaXQucHJvdG90eXBlPWUuZm47dmFyIHQ9ZShpKTtyZXR1cm4gZX19KCk7dmFyIER0LFB0LEh0LEJ0PS9hbHBoYVwoW14pXSpcKS9pLGp0PS9vcGFjaXR5PShbXildKikvLEZ0PS9eKHRvcHxyaWdodHxib3R0b218bGVmdCkkLyxJdD0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8scXQ9L15tYXJnaW4vLFJ0PW5ldyBSZWdFeHAoIl4oIittKyIpKC4qKSQiLCJpIiksVXQ9bmV3IFJlZ0V4cCgiXigiK20rIikoPyFweClbYS16JV0rJCIsImkiKSx6dD1uZXcgUmVnRXhwKCJeKFstK10pPSgiK20rIikiLCJpIiksV3Q9e0JPRFk6ImJsb2NrIn0sWHQ9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayJ9LFZ0PXtsZXR0ZXJTcGFjaW5nOjAsZm9udFdlaWdodDo0MDB9LCR0PVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sSnQ9WyJXZWJraXQiLCJPIiwiTW96IiwibXMiXSxLdD12LmZuLnRvZ2dsZTt2LmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHYuYWNjZXNzKHRoaXMsZnVuY3Rpb24oZSxuLHIpe3JldHVybiByIT09dD92LnN0eWxlKGUsbixyKTp2LmNzcyhlLG4pfSxlLG4sYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBZdCh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBZdCh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dHlwZW9mIGU9PSJib29sZWFuIjtyZXR1cm4gdi5pc0Z1bmN0aW9uKGUpJiZ2LmlzRnVuY3Rpb24odCk/S3QuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuZWFjaChmdW5jdGlvbigpeyhuP2U6R3QodGhpcykpP3YodGhpcykuc2hvdygpOnYodGhpcykuaGlkZSgpfSl9fSksdi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oZSx0KXtpZih0KXt2YXIgbj1EdChlLCJvcGFjaXR5Iik7cmV0dXJuIG49PT0iIj8iMSI6bn19fX0sY3NzTnVtYmVyOntmaWxsT3BhY2l0eTohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6di5zdXBwb3J0LmNzc0Zsb2F0PyJjc3NGbG9hdCI6InN0eWxlRmxvYXQifSxzdHlsZTpmdW5jdGlvbihlLG4scixpKXtpZighZXx8ZS5ub2RlVHlwZT09PTN8fGUubm9kZVR5cGU9PT04fHwhZS5zdHlsZSlyZXR1cm47dmFyIHMsbyx1LGE9di5jYW1lbENhc2UobiksZj1lLnN0eWxlO249di5jc3NQcm9wc1thXXx8KHYuY3NzUHJvcHNbYV09UXQoZixhKSksdT12LmNzc0hvb2tzW25dfHx2LmNzc0hvb2tzW2FdO2lmKHI9PT10KXJldHVybiB1JiYiZ2V0ImluIHUmJihzPXUuZ2V0KGUsITEsaSkpIT09dD9zOmZbbl07bz10eXBlb2YgcixvPT09InN0cmluZyImJihzPXp0LmV4ZWMocikpJiYocj0oc1sxXSsxKSpzWzJdK3BhcnNlRmxvYXQodi5jc3MoZSxuKSksbz0ibnVtYmVyIik7aWYocj09bnVsbHx8bz09PSJudW1iZXIiJiZpc05hTihyKSlyZXR1cm47bz09PSJudW1iZXIiJiYhdi5jc3NOdW1iZXJbYV0mJihyKz0icHgiKTtpZighdXx8ISgic2V0ImluIHUpfHwocj11LnNldChlLHIsaSkpIT09dCl0cnl7ZltuXT1yfWNhdGNoKGwpe319LGNzczpmdW5jdGlvbihlLG4scixpKXt2YXIgcyxvLHUsYT12LmNhbWVsQ2FzZShuKTtyZXR1cm4gbj12LmNzc1Byb3BzW2FdfHwodi5jc3NQcm9wc1thXT1RdChlLnN0eWxlLGEpKSx1PXYuY3NzSG9va3Nbbl18fHYuY3NzSG9va3NbYV0sdSYmImdldCJpbiB1JiYocz11LmdldChlLCEwLGkpKSxzPT09dCYmKHM9RHQoZSxuKSkscz09PSJub3JtYWwiJiZuIGluIFZ0JiYocz1WdFtuXSkscnx8aSE9PXQ/KG89cGFyc2VGbG9hdChzKSxyfHx2LmlzTnVtZXJpYyhvKT9vfHwwOnMpOnN9LHN3YXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGkscz17fTtmb3IoaSBpbiB0KXNbaV09ZS5zdHlsZVtpXSxlLnN0eWxlW2ldPXRbaV07cj1uLmNhbGwoZSk7Zm9yKGkgaW4gdCllLnN0eWxlW2ldPXNbaV07cmV0dXJuIHJ9fSksZS5nZXRDb21wdXRlZFN0eWxlP0R0PWZ1bmN0aW9uKHQsbil7dmFyIHIsaSxzLG8sdT1lLmdldENvbXB1dGVkU3R5bGUodCxudWxsKSxhPXQuc3R5bGU7cmV0dXJuIHUmJihyPXUuZ2V0UHJvcGVydHlWYWx1ZShuKXx8dVtuXSxyPT09IiImJiF2LmNvbnRhaW5zKHQub3duZXJEb2N1bWVudCx0KSYmKHI9di5zdHlsZSh0LG4pKSxVdC50ZXN0KHIpJiZxdC50ZXN0KG4pJiYoaT1hLndpZHRoLHM9YS5taW5XaWR0aCxvPWEubWF4V2lkdGgsYS5taW5XaWR0aD1hLm1heFdpZHRoPWEud2lkdGg9cixyPXUud2lkdGgsYS53aWR0aD1pLGEubWluV2lkdGg9cyxhLm1heFdpZHRoPW8pKSxyfTppLmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUmJihEdD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLmN1cnJlbnRTdHlsZSYmZS5jdXJyZW50U3R5bGVbdF0scz1lLnN0eWxlO3JldHVybiBpPT1udWxsJiZzJiZzW3RdJiYoaT1zW3RdKSxVdC50ZXN0KGkpJiYhRnQudGVzdCh0KSYmKG49cy5sZWZ0LHI9ZS5ydW50aW1lU3R5bGUmJmUucnVudGltZVN0eWxlLmxlZnQsciYmKGUucnVudGltZVN0eWxlLmxlZnQ9ZS5jdXJyZW50U3R5bGUubGVmdCkscy5sZWZ0PXQ9PT0iZm9udFNpemUiPyIxZW0iOmksaT1zLnBpeGVsTGVmdCsicHgiLHMubGVmdD1uLHImJihlLnJ1bnRpbWVTdHlsZS5sZWZ0PXIpKSxpPT09IiI/ImF1dG8iOml9KSx2LmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGUsdCl7di5jc3NIb29rc1t0XT17Z2V0OmZ1bmN0aW9uKGUsbixyKXtpZihuKXJldHVybiBlLm9mZnNldFdpZHRoPT09MCYmSXQudGVzdChEdChlLCJkaXNwbGF5IikpP3Yuc3dhcChlLFh0LGZ1bmN0aW9uKCl7cmV0dXJuIHRuKGUsdCxyKX0pOnRuKGUsdCxyKX0sc2V0OmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gWnQoZSxuLHI/ZW4oZSx0LHIsdi5zdXBwb3J0LmJveFNpemluZyYmdi5jc3MoZSwiYm94U2l6aW5nIik9PT0iYm9yZGVyLWJveCIpOjApfX19KSx2LnN1cHBvcnQub3BhY2l0eXx8KHYuY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGp0LnRlc3QoKHQmJmUuY3VycmVudFN0eWxlP2UuY3VycmVudFN0eWxlLmZpbHRlcjplLnN0eWxlLmZpbHRlcil8fCIiKT8uMDEqcGFyc2VGbG9hdChSZWdFeHAuJDEpKyIiOnQ/IjEiOiIifSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnN0eWxlLHI9ZS5jdXJyZW50U3R5bGUsaT12LmlzTnVtZXJpYyh0KT8iYWxwaGEob3BhY2l0eT0iK3QqMTAwKyIpIjoiIixzPXImJnIuZmlsdGVyfHxuLmZpbHRlcnx8IiI7bi56b29tPTE7aWYodD49MSYmdi50cmltKHMucmVwbGFjZShCdCwiIikpPT09IiImJm4ucmVtb3ZlQXR0cmlidXRlKXtuLnJlbW92ZUF0dHJpYnV0ZSgiZmlsdGVyIik7aWYociYmIXIuZmlsdGVyKXJldHVybn1uLmZpbHRlcj1CdC50ZXN0KHMpP3MucmVwbGFjZShCdCxpKTpzKyIgIitpfX0pLHYoZnVuY3Rpb24oKXt2LnN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodHx8KHYuY3NzSG9va3MubWFyZ2luUmlnaHQ9e2dldDpmdW5jdGlvbihlLHQpe3JldHVybiB2LnN3YXAoZSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sZnVuY3Rpb24oKXtpZih0KXJldHVybiBEdChlLCJtYXJnaW5SaWdodCIpfSl9fSksIXYuc3VwcG9ydC5waXhlbFBvc2l0aW9uJiZ2LmZuLnBvc2l0aW9uJiZ2LmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSx0KXt2LmNzc0hvb2tzW3RdPXtnZXQ6ZnVuY3Rpb24oZSxuKXtpZihuKXt2YXIgcj1EdChlLHQpO3JldHVybiBVdC50ZXN0KHIpP3YoZSkucG9zaXRpb24oKVt0XSsicHgiOnJ9fX19KX0pLHYuZXhwciYmdi5leHByLmZpbHRlcnMmJih2LmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUub2Zmc2V0V2lkdGg9PT0wJiZlLm9mZnNldEhlaWdodD09PTB8fCF2LnN1cHBvcnQucmVsaWFibGVIaWRkZW5PZmZzZXRzJiYoZS5zdHlsZSYmZS5zdHlsZS5kaXNwbGF5fHxEdChlLCJkaXNwbGF5IikpPT09Im5vbmUifSx2LmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGUpe3JldHVybiF2LmV4cHIuZmlsdGVycy5oaWRkZW4oZSl9KSx2LmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihlLHQpe3YuY3NzSG9va3NbZSt0XT17ZXhwYW5kOmZ1bmN0aW9uKG4pe3ZhciByLGk9dHlwZW9mIG49PSJzdHJpbmciP24uc3BsaXQoIiAiKTpbbl0scz17fTtmb3Iocj0wO3I8NDtyKyspc1tlKyR0W3JdK3RdPWlbcl18fGlbci0yXXx8aVswXTtyZXR1cm4gc319LHF0LnRlc3QoZSl8fCh2LmNzc0hvb2tzW2UrdF0uc2V0PVp0KX0pO3ZhciBybj0vJTIwL2csc249L1xbXF0kLyxvbj0vXHI/XG4vZyx1bj0vXig/OmNvbG9yfGRhdGV8ZGF0ZXRpbWV8ZGF0ZXRpbWUtbG9jYWx8ZW1haWx8aGlkZGVufG1vbnRofG51bWJlcnxwYXNzd29yZHxyYW5nZXxzZWFyY2h8dGVsfHRleHR8dGltZXx1cmx8d2VlaykkL2ksYW49L14oPzpzZWxlY3R8dGV4dGFyZWEpL2k7di5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiB2LnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudHM/di5tYWtlQXJyYXkodGhpcy5lbGVtZW50cyk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUmJiF0aGlzLmRpc2FibGVkJiYodGhpcy5jaGVja2VkfHxhbi50ZXN0KHRoaXMubm9kZU5hbWUpfHx1bi50ZXN0KHRoaXMudHlwZSkpfSkubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIG49dih0aGlzKS52YWwoKTtyZXR1cm4gbj09bnVsbD9udWxsOnYuaXNBcnJheShuKT92Lm1hcChuLGZ1bmN0aW9uKGUsbil7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShvbiwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2Uob24sIlxyXG4iKX19KS5nZXQoKX19KSx2LnBhcmFtPWZ1bmN0aW9uKGUsbil7dmFyIHIsaT1bXSxzPWZ1bmN0aW9uKGUsdCl7dD12LmlzRnVuY3Rpb24odCk/dCgpOnQ9PW51bGw/IiI6dCxpW2kubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudCh0KX07bj09PXQmJihuPXYuYWpheFNldHRpbmdzJiZ2LmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCk7aWYodi5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIXYuaXNQbGFpbk9iamVjdChlKSl2LmVhY2goZSxmdW5jdGlvbigpe3ModGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IociBpbiBlKWZuKHIsZVtyXSxuLHMpO3JldHVybiBpLmpvaW4oIiYiKS5yZXBsYWNlKHJuLCIrIil9O3ZhciBsbixjbixobj0vIy4qJC8scG49L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9tZyxkbj0vXig/OmFib3V0fGFwcHxhcHBcLXN0b3JhZ2V8LitcLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLHZuPS9eKD86R0VUfEhFQUQpJC8sbW49L15cL1wvLyxnbj0vXD8vLHluPS88c2NyaXB0XGJbXjxdKig/Oig/ITxcL3NjcmlwdD4pPFtePF0qKSo8XC9zY3JpcHQ+L2dpLGJuPS8oWz8mXSlfPVteJl0qLyx3bj0vXihbXHdcK1wuXC1dKzopKD86XC9cLyhbXlwvPyM6XSopKD86OihcZCspfCl8KS8sRW49di5mbi5sb2FkLFNuPXt9LHhuPXt9LFRuPVsiKi8iXStbIioiXTt0cnl7Y249cy5ocmVmfWNhdGNoKE5uKXtjbj1pLmNyZWF0ZUVsZW1lbnQoImEiKSxjbi5ocmVmPSIiLGNuPWNuLmhyZWZ9bG49d24uZXhlYyhjbi50b0xvd2VyQ2FzZSgpKXx8W10sdi5mbi5sb2FkPWZ1bmN0aW9uKGUsbixyKXtpZih0eXBlb2YgZSE9InN0cmluZyImJkVuKXJldHVybiBFbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBpLHMsbyx1PXRoaXMsYT1lLmluZGV4T2YoIiAiKTtyZXR1cm4gYT49MCYmKGk9ZS5zbGljZShhLGUubGVuZ3RoKSxlPWUuc2xpY2UoMCxhKSksdi5pc0Z1bmN0aW9uKG4pPyhyPW4sbj10KTpuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihzPSJQT1NUIiksdi5hamF4KHt1cmw6ZSx0eXBlOnMsZGF0YVR5cGU6Imh0bWwiLGRhdGE6bixjb21wbGV0ZTpmdW5jdGlvbihlLHQpe3ImJnUuZWFjaChyLG98fFtlLnJlc3BvbnNlVGV4dCx0LGVdKX19KS5kb25lKGZ1bmN0aW9uKGUpe289YXJndW1lbnRzLHUuaHRtbChpP3YoIjxkaXY+IikuYXBwZW5kKGUucmVwbGFjZSh5biwiIikpLmZpbmQoaSk6ZSl9KSx0aGlzfSx2LmVhY2goImFqYXhTdGFydCBhamF4U3RvcCBhamF4Q29tcGxldGUgYWpheEVycm9yIGFqYXhTdWNjZXNzIGFqYXhTZW5kIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7di5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vbih0LGUpfX0pLHYuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihlLG4pe3Zbbl09ZnVuY3Rpb24oZSxyLGkscyl7cmV0dXJuIHYuaXNGdW5jdGlvbihyKSYmKHM9c3x8aSxpPXIscj10KSx2LmFqYXgoe3R5cGU6bix1cmw6ZSxkYXRhOnIsc3VjY2VzczppLGRhdGFUeXBlOnN9KX19KSx2LmV4dGVuZCh7Z2V0U2NyaXB0OmZ1bmN0aW9uKGUsbil7cmV0dXJuIHYuZ2V0KGUsdCxuLCJzY3JpcHQiKX0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHYuZ2V0KGUsdCxuLCJqc29uIil9LGFqYXhTZXR1cDpmdW5jdGlvbihlLHQpe3JldHVybiB0P0xuKGUsdi5hamF4U2V0dGluZ3MpOih0PWUsZT12LmFqYXhTZXR0aW5ncyksTG4oZSx0KSxlfSxhamF4U2V0dGluZ3M6e3VybDpjbixpc0xvY2FsOmRuLnRlc3QobG5bMV0pLGdsb2JhbDohMCx0eXBlOiJHRVQiLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGFjY2VwdHM6e3htbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsaHRtbDoidGV4dC9odG1sIix0ZXh0OiJ0ZXh0L3BsYWluIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQiLCIqIjpUbn0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOmUuU3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOnYucGFyc2VKU09OLCJ0ZXh0IHhtbCI6di5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e2NvbnRleHQ6ITAsdXJsOiEwfX0sYWpheFByZWZpbHRlcjpDbihTbiksYWpheFRyYW5zcG9ydDpDbih4biksYWpheDpmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIFQoZSxuLHMsYSl7dmFyIGwseSxiLHcsUyxUPW47aWYoRT09PTIpcmV0dXJuO0U9Mix1JiZjbGVhclRpbWVvdXQodSksbz10LGk9YXx8IiIseC5yZWFkeVN0YXRlPWU+MD80OjAscyYmKHc9QW4oYyx4LHMpKTtpZihlPj0yMDAmJmU8MzAwfHxlPT09MzA0KWMuaWZNb2RpZmllZCYmKFM9eC5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLFMmJih2Lmxhc3RNb2RpZmllZFtyXT1TKSxTPXguZ2V0UmVzcG9uc2VIZWFkZXIoIkV0YWciKSxTJiYodi5ldGFnW3JdPVMpKSxlPT09MzA0PyhUPSJub3Rtb2RpZmllZCIsbD0hMCk6KGw9T24oYyx3KSxUPWwuc3RhdGUseT1sLmRhdGEsYj1sLmVycm9yLGw9IWIpO2Vsc2V7Yj1UO2lmKCFUfHxlKVQ9ImVycm9yIixlPDAmJihlPTApfXguc3RhdHVzPWUseC5zdGF0dXNUZXh0PShufHxUKSsiIixsP2QucmVzb2x2ZVdpdGgoaCxbeSxULHhdKTpkLnJlamVjdFdpdGgoaCxbeCxULGJdKSx4LnN0YXR1c0NvZGUoZyksZz10LGYmJnAudHJpZ2dlcigiYWpheCIrKGw/IlN1Y2Nlc3MiOiJFcnJvciIpLFt4LGMsbD95OmJdKSxtLmZpcmVXaXRoKGgsW3gsVF0pLGYmJihwLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3gsY10pLC0tdi5hY3RpdmV8fHYuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSl9dHlwZW9mIGU9PSJvYmplY3QiJiYobj1lLGU9dCksbj1ufHx7fTt2YXIgcixpLHMsbyx1LGEsZixsLGM9di5hamF4U2V0dXAoe30sbiksaD1jLmNvbnRleHR8fGMscD1oIT09YyYmKGgubm9kZVR5cGV8fGggaW5zdGFuY2VvZiB2KT92KGgpOnYuZXZlbnQsZD12LkRlZmVycmVkKCksbT12LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxnPWMuc3RhdHVzQ29kZXx8e30sYj17fSx3PXt9LEU9MCxTPSJjYW5jZWxlZCIseD17cmVhZHlTdGF0ZTowLHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtpZighRSl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpO2U9d1tuXT13W25dfHxlLGJbZV09dH1yZXR1cm4gdGhpc30sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIEU9PT0yP2k6bnVsbH0sZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIG47aWYoRT09PTIpe2lmKCFzKXtzPXt9O3doaWxlKG49cG4uZXhlYyhpKSlzW25bMV0udG9Mb3dlckNhc2UoKV09blsyXX1uPXNbZS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbj09PXQ/bnVsbDpufSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiBFfHwoYy5taW1lVHlwZT1lKSx0aGlzfSxhYm9ydDpmdW5jdGlvbihlKXtyZXR1cm4gZT1lfHxTLG8mJm8uYWJvcnQoZSksVCgwLGUpLHRoaXN9fTtkLnByb21pc2UoeCkseC5zdWNjZXNzPXguZG9uZSx4LmVycm9yPXguZmFpbCx4LmNvbXBsZXRlPW0uYWRkLHguc3RhdHVzQ29kZT1mdW5jdGlvbihlKXtpZihlKXt2YXIgdDtpZihFPDIpZm9yKHQgaW4gZSlnW3RdPVtnW3RdLGVbdF1dO2Vsc2UgdD1lW3guc3RhdHVzXSx4LmFsd2F5cyh0KX1yZXR1cm4gdGhpc30sYy51cmw9KChlfHxjLnVybCkrIiIpLnJlcGxhY2UoaG4sIiIpLnJlcGxhY2UobW4sbG5bMV0rIi8vIiksYy5kYXRhVHlwZXM9di50cmltKGMuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5zcGxpdCh5KSxjLmNyb3NzRG9tYWluPT1udWxsJiYoYT13bi5leGVjKGMudXJsLnRvTG93ZXJDYXNlKCkpLGMuY3Jvc3NEb21haW49ISghYXx8YVsxXT09PWxuWzFdJiZhWzJdPT09bG5bMl0mJihhWzNdfHwoYVsxXT09PSJodHRwOiI/ODA6NDQzKSk9PShsblszXXx8KGxuWzFdPT09Imh0dHA6Ij84MDo0NDMpKSkpLGMuZGF0YSYmYy5wcm9jZXNzRGF0YSYmdHlwZW9mIGMuZGF0YSE9InN0cmluZyImJihjLmRhdGE9di5wYXJhbShjLmRhdGEsYy50cmFkaXRpb25hbCkpLGtuKFNuLGMsbix4KTtpZihFPT09MilyZXR1cm4geDtmPWMuZ2xvYmFsLGMudHlwZT1jLnR5cGUudG9VcHBlckNhc2UoKSxjLmhhc0NvbnRlbnQ9IXZuLnRlc3QoYy50eXBlKSxmJiZ2LmFjdGl2ZSsrPT09MCYmdi5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKTtpZighYy5oYXNDb250ZW50KXtjLmRhdGEmJihjLnVybCs9KGduLnRlc3QoYy51cmwpPyImIjoiPyIpK2MuZGF0YSxkZWxldGUgYy5kYXRhKSxyPWMudXJsO2lmKGMuY2FjaGU9PT0hMSl7dmFyIE49di5ub3coKSxDPWMudXJsLnJlcGxhY2UoYm4sIiQxXz0iK04pO2MudXJsPUMrKEM9PT1jLnVybD8oZ24udGVzdChjLnVybCk/IiYiOiI/IikrIl89IitOOiIiKX19KGMuZGF0YSYmYy5oYXNDb250ZW50JiZjLmNvbnRlbnRUeXBlIT09ITF8fG4uY29udGVudFR5cGUpJiZ4LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsYy5jb250ZW50VHlwZSksYy5pZk1vZGlmaWVkJiYocj1yfHxjLnVybCx2Lmxhc3RNb2RpZmllZFtyXSYmeC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsdi5sYXN0TW9kaWZpZWRbcl0pLHYuZXRhZ1tyXSYmeC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIix2LmV0YWdbcl0pKSx4LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsYy5kYXRhVHlwZXNbMF0mJmMuYWNjZXB0c1tjLmRhdGFUeXBlc1swXV0/Yy5hY2NlcHRzW2MuZGF0YVR5cGVzWzBdXSsoYy5kYXRhVHlwZXNbMF0hPT0iKiI/IiwgIitUbisiOyBxPTAuMDEiOiIiKTpjLmFjY2VwdHNbIioiXSk7Zm9yKGwgaW4gYy5oZWFkZXJzKXguc2V0UmVxdWVzdEhlYWRlcihsLGMuaGVhZGVyc1tsXSk7aWYoIWMuYmVmb3JlU2VuZHx8Yy5iZWZvcmVTZW5kLmNhbGwoaCx4LGMpIT09ITEmJkUhPT0yKXtTPSJhYm9ydCI7Zm9yKGwgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0peFtsXShjW2xdKTtvPWtuKHhuLGMsbix4KTtpZighbylUKC0xLCJObyBUcmFuc3BvcnQiKTtlbHNle3gucmVhZHlTdGF0ZT0xLGYmJnAudHJpZ2dlcigiYWpheFNlbmQiLFt4LGNdKSxjLmFzeW5jJiZjLnRpbWVvdXQ+MCYmKHU9c2V0VGltZW91dChmdW5jdGlvbigpe3guYWJvcnQoInRpbWVvdXQiKX0sYy50aW1lb3V0KSk7dHJ5e0U9MSxvLnNlbmQoYixUKX1jYXRjaChrKXtpZighKEU8MikpdGhyb3cgaztUKC0xLGspfX1yZXR1cm4geH1yZXR1cm4geC5hYm9ydCgpfSxhY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fX0pO3ZhciBNbj1bXSxfbj0vXD8vLERuPS8oPSlcPyg/PSZ8JCl8XD9cPy8sUG49di5ub3coKTt2LmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9TW4ucG9wKCl8fHYuZXhwYW5kbysiXyIrUG4rKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLHYuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24obixyLGkpe3ZhciBzLG8sdSxhPW4uZGF0YSxmPW4udXJsLGw9bi5qc29ucCE9PSExLGM9bCYmRG4udGVzdChmKSxoPWwmJiFjJiZ0eXBlb2YgYT09InN0cmluZyImJiEobi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZEbi50ZXN0KGEpO2lmKG4uZGF0YVR5cGVzWzBdPT09Impzb25wInx8Y3x8aClyZXR1cm4gcz1uLmpzb25wQ2FsbGJhY2s9di5pc0Z1bmN0aW9uKG4uanNvbnBDYWxsYmFjayk/bi5qc29ucENhbGxiYWNrKCk6bi5qc29ucENhbGxiYWNrLG89ZVtzXSxjP24udXJsPWYucmVwbGFjZShEbiwiJDEiK3MpOmg/bi5kYXRhPWEucmVwbGFjZShEbiwiJDEiK3MpOmwmJihuLnVybCs9KF9uLnRlc3QoZik/IiYiOiI/Iikrbi5qc29ucCsiPSIrcyksbi5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIHV8fHYuZXJyb3IocysiIHdhcyBub3QgY2FsbGVkIiksdVswXX0sbi5kYXRhVHlwZXNbMF09Impzb24iLGVbc109ZnVuY3Rpb24oKXt1PWFyZ3VtZW50c30saS5hbHdheXMoZnVuY3Rpb24oKXtlW3NdPW8sbltzXSYmKG4uanNvbnBDYWxsYmFjaz1yLmpzb25wQ2FsbGJhY2ssTW4ucHVzaChzKSksdSYmdi5pc0Z1bmN0aW9uKG8pJiZvKHVbMF0pLHU9bz10fSksInNjcmlwdCJ9KSx2LmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L2phdmFzY3JpcHR8ZWNtYXNjcmlwdC99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuZ2xvYmFsRXZhbChlKSxlfX19KSx2LmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oZSl7ZS5jYWNoZT09PXQmJihlLmNhY2hlPSExKSxlLmNyb3NzRG9tYWluJiYoZS50eXBlPSJHRVQiLGUuZ2xvYmFsPSExKX0pLHYuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihlKXtpZihlLmNyb3NzRG9tYWluKXt2YXIgbixyPWkuaGVhZHx8aS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxpLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihzLG8pe249aS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxuLmFzeW5jPSJhc3luYyIsZS5zY3JpcHRDaGFyc2V0JiYobi5jaGFyc2V0PWUuc2NyaXB0Q2hhcnNldCksbi5zcmM9ZS51cmwsbi5vbmxvYWQ9bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oZSxpKXtpZihpfHwhbi5yZWFkeVN0YXRlfHwvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KG4ucmVhZHlTdGF0ZSkpbi5vbmxvYWQ9bi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxyJiZuLnBhcmVudE5vZGUmJnIucmVtb3ZlQ2hpbGQobiksbj10LGl8fG8oMjAwLCJzdWNjZXNzIil9LHIuaW5zZXJ0QmVmb3JlKG4sci5maXJzdENoaWxkKX0sYWJvcnQ6ZnVuY3Rpb24oKXtuJiZuLm9ubG9hZCgwLDEpfX19fSk7dmFyIEhuLEJuPWUuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBIbilIbltlXSgwLDEpfTohMSxqbj0wO3YuYWpheFNldHRpbmdzLnhocj1lLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0xvY2FsJiZGbigpfHxJbigpfTpGbixmdW5jdGlvbihlKXt2LmV4dGVuZCh2LnN1cHBvcnQse2FqYXg6ISFlLGNvcnM6ISFlJiYid2l0aENyZWRlbnRpYWxzImluIGV9KX0odi5hamF4U2V0dGluZ3MueGhyKCkpLHYuc3VwcG9ydC5hamF4JiZ2LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24obil7aWYoIW4uY3Jvc3NEb21haW58fHYuc3VwcG9ydC5jb3JzKXt2YXIgcjtyZXR1cm57c2VuZDpmdW5jdGlvbihpLHMpe3ZhciBvLHUsYT1uLnhocigpO24udXNlcm5hbWU/YS5vcGVuKG4udHlwZSxuLnVybCxuLmFzeW5jLG4udXNlcm5hbWUsbi5wYXNzd29yZCk6YS5vcGVuKG4udHlwZSxuLnVybCxuLmFzeW5jKTtpZihuLnhockZpZWxkcylmb3IodSBpbiBuLnhockZpZWxkcylhW3VdPW4ueGhyRmllbGRzW3VdO24ubWltZVR5cGUmJmEub3ZlcnJpZGVNaW1lVHlwZSYmYS5vdmVycmlkZU1pbWVUeXBlKG4ubWltZVR5cGUpLCFuLmNyb3NzRG9tYWluJiYhaVsiWC1SZXF1ZXN0ZWQtV2l0aCJdJiYoaVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO3RyeXtmb3IodSBpbiBpKWEuc2V0UmVxdWVzdEhlYWRlcih1LGlbdV0pfWNhdGNoKGYpe31hLnNlbmQobi5oYXNDb250ZW50JiZuLmRhdGF8fG51bGwpLHI9ZnVuY3Rpb24oZSxpKXt2YXIgdSxmLGwsYyxoO3RyeXtpZihyJiYoaXx8YS5yZWFkeVN0YXRlPT09NCkpe3I9dCxvJiYoYS5vbnJlYWR5c3RhdGVjaGFuZ2U9di5ub29wLEJuJiZkZWxldGUgSG5bb10pO2lmKGkpYS5yZWFkeVN0YXRlIT09NCYmYS5hYm9ydCgpO2Vsc2V7dT1hLnN0YXR1cyxsPWEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksYz17fSxoPWEucmVzcG9uc2VYTUwsaCYmaC5kb2N1bWVudEVsZW1lbnQmJihjLnhtbD1oKTt0cnl7Yy50ZXh0PWEucmVzcG9uc2VUZXh0fWNhdGNoKHApe310cnl7Zj1hLnN0YXR1c1RleHR9Y2F0Y2gocCl7Zj0iIn0hdSYmbi5pc0xvY2FsJiYhbi5jcm9zc0RvbWFpbj91PWMudGV4dD8yMDA6NDA0OnU9PT0xMjIzJiYodT0yMDQpfX19Y2F0Y2goZCl7aXx8cygtMSxkKX1jJiZzKHUsZixjLGwpfSxuLmFzeW5jP2EucmVhZHlTdGF0ZT09PTQ/c2V0VGltZW91dChyLDApOihvPSsram4sQm4mJihIbnx8KEhuPXt9LHYoZSkudW5sb2FkKEJuKSksSG5bb109ciksYS5vbnJlYWR5c3RhdGVjaGFuZ2U9cik6cigpfSxhYm9ydDpmdW5jdGlvbigpe3ImJnIoMCwxKX19fX0pO3ZhciBxbixSbixVbj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sem49bmV3IFJlZ0V4cCgiXig/OihbLStdKT18KSgiK20rIikoW2EteiVdKikkIiwiaSIpLFduPS9xdWV1ZUhvb2tzJC8sWG49W0duXSxWbj17IioiOltmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT10aGlzLmNyZWF0ZVR3ZWVuKGUsdCkscz16bi5leGVjKHQpLG89aS5jdXIoKSx1PStvfHwwLGE9MSxmPTIwO2lmKHMpe249K3NbMl0scj1zWzNdfHwodi5jc3NOdW1iZXJbZV0/IiI6InB4Iik7aWYociE9PSJweCImJnUpe3U9di5jc3MoaS5lbGVtLGUsITApfHxufHwxO2RvIGE9YXx8Ii41Iix1Lz1hLHYuc3R5bGUoaS5lbGVtLGUsdStyKTt3aGlsZShhIT09KGE9aS5jdXIoKS9vKSYmYSE9PTEmJi0tZil9aS51bml0PXIsaS5zdGFydD11LGkuZW5kPXNbMV0/dSsoc1sxXSsxKSpuOm59cmV0dXJuIGl9XX07di5BbmltYXRpb249di5leHRlbmQoS24se3R3ZWVuZXI6ZnVuY3Rpb24oZSx0KXt2LmlzRnVuY3Rpb24oZSk/KHQ9ZSxlPVsiKiJdKTplPWUuc3BsaXQoIiAiKTt2YXIgbixyPTAsaT1lLmxlbmd0aDtmb3IoO3I8aTtyKyspbj1lW3JdLFZuW25dPVZuW25dfHxbXSxWbltuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt0P1huLnVuc2hpZnQoZSk6WG4ucHVzaChlKX19KSx2LlR3ZWVuPVluLFluLnByb3RvdHlwZT17Y29uc3RydWN0b3I6WW4saW5pdDpmdW5jdGlvbihlLHQsbixyLGkscyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8InN3aW5nIix0aGlzLm9wdGlvbnM9dCx0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9cix0aGlzLnVuaXQ9c3x8KHYuY3NzTnVtYmVyW25dPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgZT1Zbi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gZSYmZS5nZXQ/ZS5nZXQodGhpcyk6WW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGUpe3ZhciB0LG49WW4ucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbj90aGlzLnBvcz10PXYuZWFzaW5nW3RoaXMuZWFzaW5nXShlLHRoaXMub3B0aW9ucy5kdXJhdGlvbiplLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPXQ9ZSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqdCt0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxuJiZuLnNldD9uLnNldCh0aGlzKTpZbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxZbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9WW4ucHJvdG90eXBlLFluLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZS5lbGVtW2UucHJvcF09PW51bGx8fCEhZS5lbGVtLnN0eWxlJiZlLmVsZW0uc3R5bGVbZS5wcm9wXSE9bnVsbD8odD12LmNzcyhlLmVsZW0sZS5wcm9wLCExLCIiKSwhdHx8dD09PSJhdXRvIj8wOnQpOmUuZWxlbVtlLnByb3BdfSxzZXQ6ZnVuY3Rpb24oZSl7di5meC5zdGVwW2UucHJvcF0/di5meC5zdGVwW2UucHJvcF0oZSk6ZS5lbGVtLnN0eWxlJiYoZS5lbGVtLnN0eWxlW3YuY3NzUHJvcHNbZS5wcm9wXV0hPW51bGx8fHYuY3NzSG9va3NbZS5wcm9wXSk/di5zdHlsZShlLmVsZW0sZS5wcm9wLGUubm93K2UudW5pdCk6ZS5lbGVtW2UucHJvcF09ZS5ub3d9fX0sWW4ucHJvcEhvb2tzLnNjcm9sbFRvcD1Zbi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGUpe2UuZWxlbS5ub2RlVHlwZSYmZS5lbGVtLnBhcmVudE5vZGUmJihlLmVsZW1bZS5wcm9wXT1lLm5vdyl9fSx2LmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIG49di5mblt0XTt2LmZuW3RdPWZ1bmN0aW9uKHIsaSxzKXtyZXR1cm4gcj09bnVsbHx8dHlwZW9mIHI9PSJib29sZWFuInx8IWUmJnYuaXNGdW5jdGlvbihyKSYmdi5pc0Z1bmN0aW9uKGkpP24uYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShabih0LCEwKSxyLGkscyl9fSksdi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5maWx0ZXIoR3QpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6dH0sZSxuLHIpfSxhbmltYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXYuaXNFbXB0eU9iamVjdChlKSxzPXYuc3BlZWQodCxuLHIpLG89ZnVuY3Rpb24oKXt2YXIgdD1Lbih0aGlzLHYuZXh0ZW5kKHt9LGUpLHMpO2kmJnQuc3RvcCghMCl9O3JldHVybiBpfHxzLnF1ZXVlPT09ITE/dGhpcy5lYWNoKG8pOnRoaXMucXVldWUocy5xdWV1ZSxvKX0sc3RvcDpmdW5jdGlvbihlLG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChyKX07cmV0dXJuIHR5cGVvZiBlIT0ic3RyaW5nIiYmKHI9bixuPWUsZT10KSxuJiZlIT09ITEmJnRoaXMucXVldWUoZXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ITAsbj1lIT1udWxsJiZlKyJxdWV1ZUhvb2tzIixzPXYudGltZXJzLG89di5fZGF0YSh0aGlzKTtpZihuKW9bbl0mJm9bbl0uc3RvcCYmaShvW25dKTtlbHNlIGZvcihuIGluIG8pb1tuXSYmb1tuXS5zdG9wJiZXbi50ZXN0KG4pJiZpKG9bbl0pO2ZvcihuPXMubGVuZ3RoO24tLTspc1tuXS5lbGVtPT09dGhpcyYmKGU9PW51bGx8fHNbbl0ucXVldWU9PT1lKSYmKHNbbl0uYW5pbS5zdG9wKHIpLHQ9ITEscy5zcGxpY2UobiwxKSk7KHR8fCFyKSYmdi5kZXF1ZXVlKHRoaXMsZSl9KX19KSx2LmVhY2goe3NsaWRlRG93bjpabigic2hvdyIpLHNsaWRlVXA6Wm4oImhpZGUiKSxzbGlkZVRvZ2dsZTpabigidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihlLHQpe3YuZm5bZV09ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmFuaW1hdGUodCxlLG4scil9fSksdi5zcGVlZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZSYmdHlwZW9mIGU9PSJvYmplY3QiP3YuZXh0ZW5kKHt9LGUpOntjb21wbGV0ZTpufHwhbiYmdHx8di5pc0Z1bmN0aW9uKGUpJiZlLGR1cmF0aW9uOmUsZWFzaW5nOm4mJnR8fHQmJiF2LmlzRnVuY3Rpb24odCkmJnR9O3IuZHVyYXRpb249di5meC5vZmY/MDp0eXBlb2Ygci5kdXJhdGlvbj09Im51bWJlciI/ci5kdXJhdGlvbjpyLmR1cmF0aW9uIGluIHYuZnguc3BlZWRzP3YuZnguc3BlZWRzW3IuZHVyYXRpb25dOnYuZnguc3BlZWRzLl9kZWZhdWx0O2lmKHIucXVldWU9PW51bGx8fHIucXVldWU9PT0hMClyLnF1ZXVlPSJmeCI7cmV0dXJuIHIub2xkPXIuY29tcGxldGUsci5jb21wbGV0ZT1mdW5jdGlvbigpe3YuaXNGdW5jdGlvbihyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmdi5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LHYuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn19LHYudGltZXJzPVtdLHYuZng9WW4ucHJvdG90eXBlLmluaXQsdi5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsbj12LnRpbWVycyxyPTA7cW49di5ub3coKTtmb3IoO3I8bi5sZW5ndGg7cisrKWU9bltyXSwhZSgpJiZuW3JdPT09ZSYmbi5zcGxpY2Uoci0tLDEpO24ubGVuZ3RofHx2LmZ4LnN0b3AoKSxxbj10fSx2LmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe2UoKSYmdi50aW1lcnMucHVzaChlKSYmIVJuJiYoUm49c2V0SW50ZXJ2YWwodi5meC50aWNrLHYuZnguaW50ZXJ2YWwpKX0sdi5meC5pbnRlcnZhbD0xMyx2LmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKFJuKSxSbj1udWxsfSx2LmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSx2LmZ4LnN0ZXA9e30sdi5leHByJiZ2LmV4cHIuZmlsdGVycyYmKHYuZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB2LmdyZXAodi50aW1lcnMsZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10LmVsZW19KS5sZW5ndGh9KTt2YXIgZXI9L14oPzpib2R5fGh0bWwpJC9pO3YuZm4ub2Zmc2V0PWZ1bmN0aW9uKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGU9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3Yub2Zmc2V0LnNldE9mZnNldCh0aGlzLGUsdCl9KTt2YXIgbixyLGkscyxvLHUsYSxmPXt0b3A6MCxsZWZ0OjB9LGw9dGhpc1swXSxjPWwmJmwub3duZXJEb2N1bWVudDtpZighYylyZXR1cm47cmV0dXJuKHI9Yy5ib2R5KT09PWw/di5vZmZzZXQuYm9keU9mZnNldChsKToobj1jLmRvY3VtZW50RWxlbWVudCx2LmNvbnRhaW5zKG4sbCk/KHR5cGVvZiBsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCE9InVuZGVmaW5lZCImJihmPWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLGk9dHIoYykscz1uLmNsaWVudFRvcHx8ci5jbGllbnRUb3B8fDAsbz1uLmNsaWVudExlZnR8fHIuY2xpZW50TGVmdHx8MCx1PWkucGFnZVlPZmZzZXR8fG4uc2Nyb2xsVG9wLGE9aS5wYWdlWE9mZnNldHx8bi5zY3JvbGxMZWZ0LHt0b3A6Zi50b3ArdS1zLGxlZnQ6Zi5sZWZ0K2Etb30pOmYpfSx2Lm9mZnNldD17Ym9keU9mZnNldDpmdW5jdGlvbihlKXt2YXIgdD1lLm9mZnNldFRvcCxuPWUub2Zmc2V0TGVmdDtyZXR1cm4gdi5zdXBwb3J0LmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0JiYodCs9cGFyc2VGbG9hdCh2LmNzcyhlLCJtYXJnaW5Ub3AiKSl8fDAsbis9cGFyc2VGbG9hdCh2LmNzcyhlLCJtYXJnaW5MZWZ0IikpfHwwKSx7dG9wOnQsbGVmdDpufX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj12LmNzcyhlLCJwb3NpdGlvbiIpO3I9PT0ic3RhdGljIiYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIGk9dihlKSxzPWkub2Zmc2V0KCksbz12LmNzcyhlLCJ0b3AiKSx1PXYuY3NzKGUsImxlZnQiKSxhPShyPT09ImFic29sdXRlInx8cj09PSJmaXhlZCIpJiZ2LmluQXJyYXkoImF1dG8iLFtvLHVdKT4tMSxmPXt9LGw9e30sYyxoO2E/KGw9aS5wb3NpdGlvbigpLGM9bC50b3AsaD1sLmxlZnQpOihjPXBhcnNlRmxvYXQobyl8fDAsaD1wYXJzZUZsb2F0KHUpfHwwKSx2LmlzRnVuY3Rpb24odCkmJih0PXQuY2FsbChlLG4scykpLHQudG9wIT1udWxsJiYoZi50b3A9dC50b3Atcy50b3ArYyksdC5sZWZ0IT1udWxsJiYoZi5sZWZ0PXQubGVmdC1zLmxlZnQraCksInVzaW5nImluIHQ/dC51c2luZy5jYWxsKGUsZik6aS5jc3MoZil9fSx2LmZuLmV4dGVuZCh7cG9zaXRpb246ZnVuY3Rpb24oKXtpZighdGhpc1swXSlyZXR1cm47dmFyIGU9dGhpc1swXSx0PXRoaXMub2Zmc2V0UGFyZW50KCksbj10aGlzLm9mZnNldCgpLHI9ZXIudGVzdCh0WzBdLm5vZGVOYW1lKT97dG9wOjAsbGVmdDowfTp0Lm9mZnNldCgpO3JldHVybiBuLnRvcC09cGFyc2VGbG9hdCh2LmNzcyhlLCJtYXJnaW5Ub3AiKSl8fDAsbi5sZWZ0LT1wYXJzZUZsb2F0KHYuY3NzKGUsIm1hcmdpbkxlZnQiKSl8fDAsci50b3ArPXBhcnNlRmxvYXQodi5jc3ModFswXSwiYm9yZGVyVG9wV2lkdGgiKSl8fDAsci5sZWZ0Kz1wYXJzZUZsb2F0KHYuY3NzKHRbMF0sImJvcmRlckxlZnRXaWR0aCIpKXx8MCx7dG9wOm4udG9wLXIudG9wLGxlZnQ6bi5sZWZ0LXIubGVmdH19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0UGFyZW50fHxpLmJvZHk7d2hpbGUoZSYmIWVyLnRlc3QoZS5ub2RlTmFtZSkmJnYuY3NzKGUsInBvc2l0aW9uIik9PT0ic3RhdGljIillPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxpLmJvZHl9KX19KSx2LmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24oZSxuKXt2YXIgcj0vWS8udGVzdChuKTt2LmZuW2VdPWZ1bmN0aW9uKGkpe3JldHVybiB2LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKGUsaSxzKXt2YXIgbz10cihlKTtpZihzPT09dClyZXR1cm4gbz9uIGluIG8/b1tuXTpvLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtpXTplW2ldO28/by5zY3JvbGxUbyhyP3Yobykuc2Nyb2xsTGVmdCgpOnMscj9zOnYobykuc2Nyb2xsVG9wKCkpOmVbaV09c30sZSxpLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksdi5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oZSxuKXt2LmVhY2goe3BhZGRpbmc6ImlubmVyIitlLGNvbnRlbnQ6biwiIjoib3V0ZXIiK2V9LGZ1bmN0aW9uKHIsaSl7di5mbltpXT1mdW5jdGlvbihpLHMpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGgmJihyfHx0eXBlb2YgaSE9ImJvb2xlYW4iKSx1PXJ8fChpPT09ITB8fHM9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIHYuYWNjZXNzKHRoaXMsZnVuY3Rpb24obixyLGkpe3ZhciBzO3JldHVybiB2LmlzV2luZG93KG4pP24uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2VdOm4ubm9kZVR5cGU9PT05PyhzPW4uZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KG4uYm9keVsic2Nyb2xsIitlXSxzWyJzY3JvbGwiK2VdLG4uYm9keVsib2Zmc2V0IitlXSxzWyJvZmZzZXQiK2VdLHNbImNsaWVudCIrZV0pKTppPT09dD92LmNzcyhuLHIsaSx1KTp2LnN0eWxlKG4scixpLHUpfSxuLG8/aTp0LG8sbnVsbCl9fSl9KSxlLmpRdWVyeT1lLiQ9dix0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kJiZkZWZpbmUuYW1kLmpRdWVyeSYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KX0pKHdpbmRvdyk7"}]},{"name":"知乎增强","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://www.zhihu.com/*","*://zhuanlan.zhihu.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null}},"storage":{"ts":1661936236491,"data":{"menu_allTime":"btrue","menu_backToTop":"btrue","menu_blockKeywords":"bfalse","menu_blockType":"s","menu_blockTypeArticle":"bfalse","menu_blockTypeSearch":"bfalse","menu_blockTypeTopic":"bfalse","menu_blockTypeVideo":"bfalse","menu_blockUsers":"bfalse","menu_blockYanXuan":"bfalse","menu_cleanSearch":"bfalse","menu_cleanTitles":"bfalse","menu_collapsedAnswer":"btrue","menu_collapsedNowAnswer":"btrue","menu_customBlockKeywords":"o[]","menu_customBlockUsers":"o[\"故事档案局\",\"盐选推荐\",\"盐选科普\",\"盐选成长计划\",\"知乎盐选会员\",\"知乎盐选创作者\",\"盐选心理\",\"盐选健康必修课\",\"盐选奇妙物语\",\"盐选生活馆\",\"盐选职场\",\"盐选文学甄选\",\"盐选作者小管家\",\"盐选博物馆\",\"盐选点金\",\"盐选测评室\",\"盐选科技前沿\",\"盐选会员精品\"]","menu_defaultCollapsedAnswer":"btrue","menu_directLink":"btrue","menu_publishTop":"btrue","menu_questionRichTextMore":"bfalse","menu_removeHighlightLink":"btrue","menu_toQuestion":"btrue","menu_typeTips":"btrue"}},"enabled":true,"position":4,"file_url":"https://greasyfork.org/scripts/419081-%E7%9F%A5%E4%B9%8E%E5%A2%9E%E5%BC%BA/code/%E7%9F%A5%E4%B9%8E%E5%A2%9E%E5%BC%BA.user.js","uuid":"921492cf-161e-4ef1-a7cc-ae685c048561","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnn6XkuY7lop7lvLoKLy8gQG5hbWU6emgtQ04gICDnn6XkuY7lop7lvLoKLy8gQG5hbWU6emgtVFcgICDnn6XkuY7lop7lvLcKLy8gQG5hbWU6ZW4gICAgICBaaGlodSBlbmhhbmNlbWVudAovLyBAdmVyc2lvbiAgICAgIDIuMC4yCi8vIEBhdXRob3IgICAgICAgWC5JLlUKLy8gQGRlc2NyaXB0aW9uICDnp7vpmaTnmbvlvZXlvLnnqpfjgIHlsY/olL3pppbpobXop4bpopHjgIHpu5jorqTmlLbotbflm57nrZTjgIHlv6vmjbfmlLbotbflm57nrZQv6K+E6K6677yI5bem6ZSu5Lik5L6n77yJ44CB5b+r5o235Zue5Yiw6aG26YOo77yI5Y+z6ZSu5Lik5L6n77yJ44CB5bGP6JS955So5oi344CB5bGP6JS95YWz6ZSu6K+N44CB56e76Zmk6auY5Lqu6ZO+5o6l44CB5bGP6JS955uQ6YCJ5YaF5a6544CB5YeA5YyW5pCc57Si54Ot6Zeo44CB5YeA5YyW5qCH6aKY5raI5oGv44CB5bGV5byA6Zeu6aKY5o+P6L+w44CB5pi+56S66Zeu6aKY5L2c6ICF44CB572u6aG25pi+56S65pe26Ze044CB5a6M5pW06Zeu6aKY5pe26Ze044CB5Yy65YiG6Zeu6aKY5paH56ug44CB55u06L6+6Zeu6aKY5oyJ6ZKu44CB6buY6K6k6auY5riF5Y6f5Zu+44CB6buY6K6k56uZ5aSW55u06ZO+Ci8vIEBkZXNjcmlwdGlvbjp6aC1UVyAg56e76Zmk55m76YyE5b2I56qX44CB5bGP6JS96aaW6aCB6KaW6aC744CB6buY6KqN5pS26LW35Zue562U44CB5b+r5o235pS26LW35Zue562UL+ipleirluOAgeW/q+aNt+WbnuWIsOmggumDqOOAgeWxj+iUveeUqOaItuOAgeWxj+iUvemXnOmNteipnuOAgeenu+mZpOmrmOS6rumPiOaOpeOAgeWxj+iUvem5vemBuOWFp+WuueOAgea3qOWMluaQnOe0oueGsemWgOOAgea3qOWMluaomemhjOa2iOaBr+OAgee9rumggumhr+ekuuaZgumWk+OAgeWujOaVtOWVj+mhjOaZgumWk+OAgeWNgOWIhuWVj+mhjOaWh+eroOOAgem7mOiqjemrmOa4heWOn+WcluOAgem7mOiqjeermeWkluebtOmPiC4uLgovLyBAZGVzY3JpcHRpb246ZW4gIEEgbW9yZSBwZXJzb25hbGl6ZWQgWmhpaHUgZXhwZXJpZW5jZX4KLy8gQG1hdGNoICAgICAgICAqOi8vd3d3LnpoaWh1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3podWFubGFuLnpoaWh1LmNvbS8qCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9zdGF0aWMuemhpaHUuY29tL2hlaWZldHovZmF2aWNvbi5pY28KLy8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGdyYW50ICAgICAgICBHTV91bnJlZ2lzdGVyTWVudUNvbW1hbmQKLy8gQGdyYW50ICAgICAgICBHTV9vcGVuSW5UYWIKLy8gQGdyYW50ICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fbm90aWZpY2F0aW9uCi8vIEBncmFudCAgICAgICAgR01faW5mbwovLyBAZ3JhbnQgICAgICAgIHdpbmRvdy5vbnVybGNoYW5nZQovLyBAbGljZW5zZSAgICAgIEdQTC0zLjAgTGljZW5zZQovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LWVuZAovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80MTIyMDUxCi8vIEBzdXBwb3J0VVJMICAgaHR0cHM6Ly9naXRodWIuY29tL1hJVTIvVXNlclNjcmlwdAovLyBAaG9tZXBhZ2VVUkwgIGh0dHBzOi8vZ2l0aHViLmNvbS9YSVUyL1VzZXJTY3JpcHQKLy8gPT0vVXNlclNjcmlwdD09CgondXNlIHN0cmljdCc7CnZhciBtZW51X0FMTCA9IFsKICAgIFsnbWVudV9kZWZhdWx0Q29sbGFwc2VkQW5zd2VyJywgJ+m7mOiupOaUtui1t+WbnuetlCcsICfpu5jorqTmlLbotbflm57nrZQnLCB0cnVlXSwKICAgIFsnbWVudV9jb2xsYXBzZWRBbnN3ZXInLCAn5LiA6ZSu5pS26LW35Zue562UJywgJ+S4gOmUruaUtui1t+WbnuetlCcsIHRydWVdLAogICAgWydtZW51X2NvbGxhcHNlZE5vd0Fuc3dlcicsICflv6vmjbfmlLbotbflm57nrZQv6K+E6K66ICjngrnlh7vkuKTkvqfnqbrnmb3lpIQpJywgJ+W/q+aNt+aUtui1t+WbnuetlC/or4TorronLCB0cnVlXSwKICAgIFsnbWVudV9iYWNrVG9Ub3AnLCAn5b+r5o235Zue5Yiw6aG26YOoICjlj7PplK7kuKTkvqfnqbrnmb3lpIQpJywgJ+W/q+aNt+WbnuWIsOmhtumDqCcsIHRydWVdLAogICAgWydtZW51X2Jsb2NrVXNlcnMnLCAn5bGP6JS95oyH5a6a55So5oi3JywgJ+Wxj+iUveaMh+WumueUqOaItycsIHRydWVdLAogICAgWydtZW51X2N1c3RvbUJsb2NrVXNlcnMnLCAn6Ieq5a6a5LmJ5bGP6JS955So5oi3JywgJ+iHquWumuS5ieWxj+iUveeUqOaItycsIFsn5pWF5LqL5qGj5qGI5bGAJywgJ+ebkOmAieaOqOiNkCcsICfnm5DpgInnp5Hmma4nLCAn55uQ6YCJ5oiQ6ZW/6K6h5YiSJywgJ+efpeS5juebkOmAieS8muWRmCcsICfnn6XkuY7nm5DpgInliJvkvZzogIUnLCAn55uQ6YCJ5b+D55CGJywgJ+ebkOmAieWBpeW6t+W/heS/ruivvicsICfnm5DpgInlpYflppnnianor60nLCAn55uQ6YCJ55Sf5rS76aaGJywgJ+ebkOmAieiBjOWcuicsICfnm5DpgInmloflrabnlITpgIknLCAn55uQ6YCJ5L2c6ICF5bCP566h5a62JywgJ+ebkOmAieWNmueJqemmhicsICfnm5DpgInngrnph5EnLCAn55uQ6YCJ5rWL6K+E5a6kJywgJ+ebkOmAieenkeaKgOWJjeayvycsICfnm5DpgInkvJrlkZjnsr7lk4EnXV0sCiAgICBbJ21lbnVfYmxvY2tLZXl3b3JkcycsICflsY/olL3mjIflrprlhbPplK7or40nLCAn5bGP6JS95oyH5a6a5YWz6ZSu6K+NJywgdHJ1ZV0sCiAgICBbJ21lbnVfY3VzdG9tQmxvY2tLZXl3b3JkcycsICfoh6rlrprkuYnlsY/olL3lhbPplK7or40nLCAn6Ieq5a6a5LmJ5bGP6JS95YWz6ZSu6K+NJywgW11dLAogICAgWydtZW51X2Jsb2NrVHlwZScsICflsY/olL3mjIflrprnsbvliKsgKOinhumikS/mlofnq6DnrYkpJywgJ+WLvumAiSA9IOWxj+iUveivpeexu+WIq+eahOS/oeaBr+a1gScsICcnXSwKICAgIFsnbWVudV9ibG9ja1R5cGVWaWRlbycsICfop4bpopEgW+mmlumhteOAgeaQnOe0oumhteOAgemXrumimOmhtV0nLCAn6KeG6aKR77yI6aaW6aG144CB5pCc57Si6aG144CB6Zeu6aKY6aG177yJJywgdHJ1ZV0sCiAgICBbJ21lbnVfYmxvY2tUeXBlQXJ0aWNsZScsICfmlofnq6AgW+mmlumhteOAgeaQnOe0oumhtV0nLCAn5paH56ug77yI6aaW6aG144CB5pCc57Si6aG177yJJywgZmFsc2VdLAogICAgWydtZW51X2Jsb2NrVHlwZVRvcGljJywgJ+ivnemimCBb5pCc57Si6aG1XScsICfor53popjvvIjmkJzntKLpobXvvIknLCBmYWxzZV0sCiAgICBbJ21lbnVfYmxvY2tUeXBlU2VhcmNoJywgJ+adguW/l+aWh+eroOOAgeebuOWFs+aQnOe0ouetiSBb5pCc57Si6aG1XScsICfnm7jlhbPmkJzntKLjgIHmnYLlv5fnrYnvvIjmkJzntKLpobXvvIknLCBmYWxzZV0sCiAgICBbJ21lbnVfYmxvY2tZYW5YdWFuJywgJ+Wxj+iUveebkOmAieWGheWuuScsICflsY/olL3nm5DpgInlhoXlrrknLCBmYWxzZV0sCiAgICBbJ21lbnVfY2xlYW5TZWFyY2gnLCAn5YeA5YyW5pCc57Si54Ot6ZeoICjpu5jorqTmkJzntKLor43lj4rng63pl6jmkJzntKIpJywgJ+WHgOWMluaQnOe0oueDremXqCcsIGZhbHNlXSwKICAgIFsnbWVudV9jbGVhblRpdGxlcycsICflh4DljJbmoIfpopjmtojmga8gKOagh+mimOS4reeahOengeS/oS/mtojmga8pJywgJ+WHgOWMluagh+mimOaPkOmGkicsIGZhbHNlXSwKICAgIFsnbWVudV9xdWVzdGlvblJpY2hUZXh0TW9yZScsICflsZXlvIDpl67popjmj4/ov7AnLCAn5bGV5byA6Zeu6aKY5o+P6L+wJywgZmFsc2VdLAogICAgWydtZW51X3B1Ymxpc2hUb3AnLCAn572u6aG25pi+56S65pe26Ze0JywgJ+e9rumhtuaYvuekuuaXtumXtCcsIHRydWVdLAogICAgWydtZW51X3R5cGVUaXBzJywgJ+WMuuWIhumXrumimOaWh+eroCcsICfljLrliIbpl67popjmlofnq6AnLCB0cnVlXSwKICAgIFsnbWVudV90b1F1ZXN0aW9uJywgJ+ebtOi+vumXrumimOaMiemSricsICfnm7Tovr7pl67popjmjInpkq4nLCB0cnVlXQpdLCBtZW51X0lEID0gW107CmZvciAobGV0IGk9MDtpPG1lbnVfQUxMLmxlbmd0aDtpKyspeyAvLyDlpoLmnpzor7vlj5bliLDnmoTlgLzkuLogbnVsbCDlsLHlhpnlhaXpu5jorqTlgLwKICAgIGlmIChHTV9nZXRWYWx1ZShtZW51X0FMTFtpXVswXSkgPT0gbnVsbCl7R01fc2V0VmFsdWUobWVudV9BTExbaV1bMF0sIG1lbnVfQUxMW2ldWzNdKX07Cn0KcmVnaXN0ZXJNZW51Q29tbWFuZCgpOwoKLy8g5rOo5YaM6ISa5pys6I+c5Y2VCmZ1bmN0aW9uIHJlZ2lzdGVyTWVudUNvbW1hbmQoKSB7CiAgICBpZiAobWVudV9JRC5sZW5ndGggPiBtZW51X0FMTC5sZW5ndGgpeyAvLyDlpoLmnpzoj5zljZVJROaVsOe7hOWkmuS6juiPnOWNleaVsOe7hO+8jOivtOaYjuS4jeaYr+mmluasoea3u+WKoOiPnOWNle+8jOmcgOimgeWNuOi9veaJgOacieiEmuacrOiPnOWNlQogICAgICAgIGZvciAobGV0IGk9MDtpPG1lbnVfSUQubGVuZ3RoO2krKyl7CiAgICAgICAgICAgIEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZChtZW51X0lEW2ldKTsKICAgICAgICB9CiAgICB9CiAgICBmb3IgKGxldCBpPTA7aTxtZW51X0FMTC5sZW5ndGg7aSsrKXsgLy8g5b6q546v5rOo5YaM6ISa5pys6I+c5Y2VCiAgICAgICAgbWVudV9BTExbaV1bM10gPSBHTV9nZXRWYWx1ZShtZW51X0FMTFtpXVswXSk7CiAgICAgICAgaWYgKG1lbnVfQUxMW2ldWzBdID09PSAnbWVudV9jdXN0b21CbG9ja1VzZXJzJykgewogICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1VzZXJzJykpIG1lbnVfSURbaV0gPSBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGAj77iP4oOjICR7bWVudV9BTExbaV1bMV19YCwgZnVuY3Rpb24oKXtjdXN0b21CbG9ja1VzZXJzKCl9KTsKICAgICAgICB9IGVsc2UgaWYgKG1lbnVfQUxMW2ldWzBdID09PSAnbWVudV9jdXN0b21CbG9ja0tleXdvcmRzJykgewogICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja0tleXdvcmRzJykpIG1lbnVfSURbaV0gPSBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGAj77iP4oOjICR7bWVudV9BTExbaV1bMV19YCwgZnVuY3Rpb24oKXtjdXN0b21CbG9ja0tleXdvcmRzKCl9KTsKICAgICAgICB9IGVsc2UgaWYgKG1lbnVfQUxMW2ldWzBdID09PSAnbWVudV9ibG9ja1R5cGUnKSB7CiAgICAgICAgICAgIG1lbnVfSURbaV0gPSBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGAj77iP4oOjICR7bWVudV9BTExbaV1bMV19YCwgZnVuY3Rpb24oKXttZW51X3NldHRpbmcoJ2NoZWNrYm94JywgbWVudV9BTExbaV1bMV0sIG1lbnVfQUxMW2ldWzJdLCB0cnVlLCBbbWVudV9BTExbaSsxXSwgbWVudV9BTExbaSsyXSwgbWVudV9BTExbaSszXSwgbWVudV9BTExbaSs0XV0pfSk7CiAgICAgICAgfSBlbHNlIGlmIChtZW51X0FMTFtpXVswXSAhPSAnbWVudV9ibG9ja1R5cGVWaWRlbycgJiYgbWVudV9BTExbaV1bMF0gIT0gJ21lbnVfYmxvY2tUeXBlQXJ0aWNsZScgJiYgbWVudV9BTExbaV1bMF0gIT0gJ21lbnVfYmxvY2tUeXBlVG9waWMnICYmIG1lbnVfQUxMW2ldWzBdICE9ICdtZW51X2Jsb2NrVHlwZVNlYXJjaCcpIHsKICAgICAgICAgICAgbWVudV9JRFtpXSA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoYCR7bWVudV9BTExbaV1bM10/J+KchSc6J+KdjCd9ICR7bWVudV9BTExbaV1bMV19YCwgZnVuY3Rpb24oKXttZW51X3N3aXRjaChgJHttZW51X0FMTFtpXVszXX1gLGAke21lbnVfQUxMW2ldWzBdfWAsYCR7bWVudV9BTExbaV1bMl19YCl9KTsKICAgICAgICB9CiAgICB9CiAgICBtZW51X0lEW21lbnVfSUQubGVuZ3RoXSA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoJ/Cfkqwg5Y+N6aaIICYg5bu66K6uJywgZnVuY3Rpb24gKCkge3dpbmRvdy5HTV9vcGVuSW5UYWIoJ2h0dHBzOi8vZ2l0aHViLmNvbS9YSVUyL1VzZXJTY3JpcHQjeGl1MnVzZXJzY3JpcHQnLCB7YWN0aXZlOiB0cnVlLGluc2VydDogdHJ1ZSxzZXRQYXJlbnQ6IHRydWV9KTt3aW5kb3cuR01fb3BlbkluVGFiKCdodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvNDE5MDgxL2ZlZWRiYWNrJywge2FjdGl2ZTogdHJ1ZSxpbnNlcnQ6IHRydWUsc2V0UGFyZW50OiB0cnVlfSk7fSk7Cn0KCgovLyDoj5zljZXlvIDlhbMKZnVuY3Rpb24gbWVudV9zd2l0Y2gobWVudV9zdGF0dXMsIE5hbWUsIFRpcHMpIHsKICAgIGlmIChtZW51X3N0YXR1cyA9PSAndHJ1ZScpewogICAgICAgIEdNX3NldFZhbHVlKGAke05hbWV9YCwgZmFsc2UpOwogICAgICAgIEdNX25vdGlmaWNhdGlvbih7dGV4dDogYOW3suWFs+mXrSBbJHtUaXBzfV0g5Yqf6IO9XG7vvIjngrnlh7vliLfmlrDnvZHpobXlkI7nlJ/mlYjvvIlgLCB0aW1lb3V0OiAzNTAwLCBvbmNsaWNrOiBmdW5jdGlvbigpe2xvY2F0aW9uLnJlbG9hZCgpO319KTsKICAgIH1lbHNlewogICAgICAgIEdNX3NldFZhbHVlKGAke05hbWV9YCwgdHJ1ZSk7CiAgICAgICAgR01fbm90aWZpY2F0aW9uKHt0ZXh0OiBg5bey5byA5ZCvIFske1RpcHN9XSDlip/og71cbu+8iOeCueWHu+WIt+aWsOe9kemhteWQjueUn+aViO+8iWAsIHRpbWVvdXQ6IDM1MDAsIG9uY2xpY2s6IGZ1bmN0aW9uKCl7bG9jYXRpb24ucmVsb2FkKCk7fX0pOwogICAgfQogICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOyAvLyDph43mlrDms6jlhozohJrmnKzoj5zljZUKfTsKCgovLyDov5Tlm57oj5zljZXlgLwKZnVuY3Rpb24gbWVudV92YWx1ZShtZW51TmFtZSkgewogICAgZm9yIChsZXQgbWVudSBvZiBtZW51X0FMTCkgewogICAgICAgIGlmIChtZW51WzBdID09IG1lbnVOYW1lKSB7CiAgICAgICAgICAgIHJldHVybiBtZW51WzNdCiAgICAgICAgfQogICAgfQp9CgoKLy8g6ISa5pys6K6+572uCmZ1bmN0aW9uIG1lbnVfc2V0dGluZyh0eXBlLCB0aXRsZSwgdGlwcywgbGluZSwgbWVudSkgewogICAgbGV0IF9iciA9ICcnLCBfaHRtbCA9IGA8c3R5bGUgY2xhc3M9InpoaWh1RV9TZXR0aW5nU3R5bGUiPi56aGlodUVfU2V0dGluZ1Jvb3Qge3Bvc2l0aW9uOiBhYnNvbHV0ZTt0b3A6IDUwJTtsZWZ0OiA1MCU7LXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTstbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOy1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTstby10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTt0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTt3aWR0aDogYXV0bzttaW4td2lkdGg6IDQwMHB4O21heC13aWR0aDogNjAwcHg7aGVpZ2h0OiBhdXRvO21pbi1oZWlnaHQ6IDE1MHB4O21heC1oZWlnaHQ6IDQwMHB4O2NvbG9yOiAjNTM1MzUzO2JhY2tncm91bmQtY29sb3I6ICNmZmY7Ym9yZGVyLXJhZGl1czogM3B4O30KLnpoaWh1RV9TZXR0aW5nQmFja2Ryb3BfMSB7cG9zaXRpb246IGZpeGVkO3RvcDogMDtyaWdodDogMDtib3R0b206IDA7bGVmdDogMDt6LWluZGV4OiAyMDM7ZGlzcGxheTogLXdlYmtpdC1ib3g7ZGlzcGxheTogLW1zLWZsZXhib3g7ZGlzcGxheTogZmxleDstd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsOy13ZWJraXQtYm94LWRpcmVjdGlvbjogbm9ybWFsOy1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uO2ZsZXgtZGlyZWN0aW9uOiBjb2x1bW47LXdlYmtpdC1ib3gtcGFjazogY2VudGVyOy1tcy1mbGV4LXBhY2s6IGNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtvdmVyZmxvdy14OiBoaWRkZW47b3ZlcmZsb3cteTogYXV0bzstd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgLjNzIGVhc2Utb3V0O3RyYW5zaXRpb246IG9wYWNpdHkgLjNzIGVhc2Utb3V0O30KLnpoaWh1RV9TZXR0aW5nQmFja2Ryb3BfMiB7cG9zaXRpb246IGFic29sdXRlO3RvcDogMDtyaWdodDogMDtib3R0b206IDA7bGVmdDogMDt6LWluZGV4OiAwO2JhY2tncm91bmQtY29sb3I6IHJnYmEoMTgsMTgsMTgsLjY1KTstd2Via2l0LXRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjNzIGVhc2Utb3V0O3RyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgLjNzIGVhc2Utb3V0O30KLnpoaWh1RV9TZXR0aW5nUm9vdCAuemhpaHVFX1NldHRpbmdIZWFkZXIge3BhZGRpbmc6IDEwcHggMjBweDtjb2xvcjogI2ZmZjtmb250LXdlaWdodDogYm9sZDtiYWNrZ3JvdW5kLWNvbG9yOiAjMzk5NGZmO2JvcmRlci1yYWRpdXM6IDNweCAzcHggMCAwO30KLnpoaWh1RV9TZXR0aW5nUm9vdCAuemhpaHVFX1NldHRpbmdNYWluIHtwYWRkaW5nOiAxMHB4IDIwcHg7Ym9yZGVyLXJhZGl1czogMCAwIDNweCAzcHg7fQouemhpaHVFX1NldHRpbmdIZWFkZXIgc3BhbiB7ZmxvYXQ6IHJpZ2h0O2N1cnNvcjogcG9pbnRlcjt9Ci56aGlodUVfU2V0dGluZ01haW4gaW5wdXQge21hcmdpbjogMTBweCA2cHggMTBweCAwO2N1cnNvcjogcG9pbnRlcjt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9Ci56aGlodUVfU2V0dGluZ01haW4gbGFiZWwge21hcmdpbi1yaWdodDogMjBweDt1c2VyLXNlbGVjdDogbm9uZTtjdXJzb3I6IHBvaW50ZXI7dmVydGljYWwtYWxpZ246bWlkZGxlfQouemhpaHVFX1NldHRpbmdNYWluIGhyIHtib3JkZXI6IDAuNXB4IHNvbGlkICNmNGY0ZjQ7fQpbZGF0YS10aGVtZT0iZGFyayJdIC56aGlodUVfU2V0dGluZ1Jvb3Qge2NvbG9yOiAjYWRiYWM3O2JhY2tncm91bmQtY29sb3I6ICMzNDNBNDQ7fQpbZGF0YS10aGVtZT0iZGFyayJdIC56aGlodUVfU2V0dGluZ0hlYWRlciB7Y29sb3I6ICNkMGQwZDA7YmFja2dyb3VuZC1jb2xvcjogIzJEMzMzQjt9CltkYXRhLXRoZW1lPSJkYXJrIl0gLnpoaWh1RV9TZXR0aW5nTWFpbiBociB7Ym9yZGVyOiAwLjVweCBzb2xpZCAjMmQzMzNiO308L3N0eWxlPgogICAgICAgIDxkaXYgY2xhc3M9InpoaWh1RV9TZXR0aW5nQmFja2Ryb3BfMSI+PGRpdiBjbGFzcz0iemhpaHVFX1NldHRpbmdCYWNrZHJvcF8yIj48L2Rpdj48ZGl2IGNsYXNzPSJ6aGlodUVfU2V0dGluZ1Jvb3QiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ6aGlodUVfU2V0dGluZ0hlYWRlciI+JHt0aXRsZX08c3BhbiBjbGFzcz0iemhpaHVFX1NldHRpbmdDbG9zZSIgdGl0bGU9IueCueWHu+WFs+mXrSI+PHN2ZyBjbGFzcz0iWmkgWmktLUNsb3NlIE1vZGFsLWNsb3NlSWNvbiIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZD0iTTEzLjQ4NiAxMmw1LjIwOC01LjIwN2ExLjA0OCAxLjA0OCAwIDAgMC0uMDA2LTEuNDgzIDEuMDQ2IDEuMDQ2IDAgMCAwLTEuNDgyLS4wMDVMMTIgMTAuNTE0IDYuNzkzIDUuMzA1YTEuMDQ4IDEuMDQ4IDAgMCAwLTEuNDgzLjAwNSAxLjA0NiAxLjA0NiAwIDAgMC0uMDA1IDEuNDgzTDEwLjUxNCAxMmwtNS4yMDggNS4yMDdhMS4wNDggMS4wNDggMCAwIDAgLjAwNiAxLjQ4MyAxLjA0NiAxLjA0NiAwIDAgMCAxLjQ4Mi4wMDVMMTIgMTMuNDg2bDUuMjA3IDUuMjA4YTEuMDQ4IDEuMDQ4IDAgMCAwIDEuNDgzLS4wMDYgMS4wNDYgMS4wNDYgMCAwIDAgLjAwNS0xLjQ4MkwxMy40ODYgMTJ6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48L3N2Zz48L3NwYW4+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InpoaWh1RV9TZXR0aW5nTWFpbiI+PHA+JHt0aXBzfTwvcD48aHI+YAogICAgaWYgKGxpbmUpIF9iciA9ICc8YnI+JwogICAgZm9yIChsZXQgaT0wOyBpPG1lbnUubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoR01fZ2V0VmFsdWUobWVudVtpXVswXSkpIHsKICAgICAgICAgICAgX2h0bWwgKz0gYDxsYWJlbD48aW5wdXQgbmFtZT0iemhpaHVFX1NldHRpbmciIHR5cGU9ImNoZWNrYm94IiB2YWx1ZT0iJHttZW51W2ldWzBdfSIgY2hlY2tlZD0iY2hlY2tlZCI+JHttZW51W2ldWzFdfTwvbGFiZWw+JHtfYnJ9YAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF9odG1sICs9IGA8bGFiZWw+PGlucHV0IG5hbWU9InpoaWh1RV9TZXR0aW5nIiB0eXBlPSJjaGVja2JveCIgdmFsdWU9IiR7bWVudVtpXVswXX0iPiR7bWVudVtpXVsxXX08L2xhYmVsPiR7X2JyfWAKICAgICAgICB9CiAgICB9CiAgICBfaHRtbCArPSBgPC9kaXY+PC9kaXY+PC9kaXY+YAogICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIF9odG1sKTsgLy8g5o+S5YWl572R6aG15pyr5bC+CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyAvLyDlu7bov58gMTAwIOavq+enku+8jOmBv+WFjeWkquW/qwogICAgICAgIC8vIOWFs+mXreaMiemSriDngrnlh7vkuovku7YKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuemhpaHVFX1NldHRpbmdDbG9zZScpLm9uY2xpY2sgPSBmdW5jdGlvbigpe3RoaXMucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnpoaWh1RV9TZXR0aW5nU3R5bGUnKS5yZW1vdmUoKTt9CiAgICAgICAgLy8g54K55Ye75ZGo5Zu056m655m95aSEID0g54K55Ye75YWz6Zet5oyJ6ZKuCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnpoaWh1RV9TZXR0aW5nQmFja2Ryb3BfMicpLm9uY2xpY2sgPSBmdW5jdGlvbihldmVudCl7aWYgKGV2ZW50LnRhcmdldCA9PSB0aGlzKSB7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnpoaWh1RV9TZXR0aW5nQ2xvc2UnKS5jbGljaygpO307fQogICAgICAgIC8vIOWkjemAieahhiDngrnlh7vkuovku7YKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnemhpaHVFX1NldHRpbmcnKS5mb3JFYWNoKGZ1bmN0aW9uIChjaGVja0JveCkgewogICAgICAgICAgICBjaGVja0JveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7aWYgKHRoaXMuY2hlY2tlZCkge0dNX3NldFZhbHVlKHRoaXMudmFsdWUsIHRydWUpO30gZWxzZSB7R01fc2V0VmFsdWUodGhpcy52YWx1ZSwgZmFsc2UpO319KTsKICAgICAgICB9KQogICAgfSwgMTAwKQp9CgoKLy8g5re75Yqg5pS26LW35Zue562U6KeC5a+f5ZmoCmZ1bmN0aW9uIGdldENvbGxhcHNlZEFuc3dlck9ic2VydmVyKCkgewogICAgaWYgKCF3aW5kb3cuX2NvbGxhcHNlZEFuc3dlck9ic2VydmVyKSB7CiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnMgPT4gewogICAgICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9ucykgewogICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLnRhcmdldC5oYXNBdHRyaWJ1dGUoJ3NjcmlwdC1jb2xsYXBzZWQnKSkgcmV0dXJuCiAgICAgICAgICAgICAgICAvLyDnn63nmoTlm57nrZQKICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdSaWNoQ29udGVudCcpKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhZGRlZE5vZGUgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWROb2RlLm5vZGVUeXBlICE9IE5vZGUuRUxFTUVOVF9OT0RFKSBjb250aW51ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWROb2RlLmNsYXNzTmFtZSAhPSAnUmljaENvbnRlbnQtaW5uZXInKSBjb250aW51ZQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkZWROb2RlLm9mZnNldEhlaWdodCA8IDQwMCkgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnMTExJyxhZGRlZE5vZGUsIGFkZGVkTm9kZS5jbGFzc0xpc3QsIGFkZGVkTm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ1JpY2hDb250ZW50LWlubmVyJyksIGFkZGVkTm9kZS5vZmZzZXRIZWlnaHQsIGFkZGVkTm9kZS50ZXh0Q29udGVudC5sZW5ndGgpCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IG11dGF0aW9uLnRhcmdldC5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0tYWN0aW9ucy5TdGlja3kgW2RhdGEtem9wLXJldHJhY3QtcXVlc3Rpb25dJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG11dGF0aW9uLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3NjcmlwdC1jb2xsYXBzZWQnLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g6ZW/55qE5Zue562UCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG11dGF0aW9uLnRhcmdldC50YWdOYW1lID09PSAnRElWJyAmJiAhbXV0YXRpb24udGFyZ2V0LnN0eWxlLmNzc1RleHQgJiYgIW11dGF0aW9uLnRhcmdldC5jbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24udGFyZ2V0LnBhcmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdzY3JpcHQtY29sbGFwc2VkJykpIHJldHVybgogICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzIyMicsbXV0YXRpb24udGFyZ2V0LCBtdXRhdGlvbi50YXJnZXQucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLWFjdGlvbnMuU3RpY2t5IFtkYXRhLXpvcC1yZXRyYWN0LXF1ZXN0aW9uXScpKQogICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1dHRvbiA9IG11dGF0aW9uLnRhcmdldC5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0tYWN0aW9ucy5TdGlja3kgW2RhdGEtem9wLXJldHJhY3QtcXVlc3Rpb25dJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbi50YXJnZXQucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NjcmlwdC1jb2xsYXBzZWQnLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KQoKICAgICAgICBvYnNlcnZlci5zdGFydCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBpZiAoIXRoaXMuX2FjdGl2ZSkgewogICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgb2JzZXJ2ZXIuZW5kID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmICh0aGlzLl9hY3RpdmUpIHsKICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXJsY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIG9ic2VydmVyW2xvY2F0aW9uLmhyZWYuaW5kZXhPZignL2Fuc3dlci8nKSA9PT0gLTEgPyAnc3RhcnQnIDogJ2VuZCddKCk7CiAgICAgICAgfSkKICAgICAgICB3aW5kb3cuX2NvbGxhcHNlZEFuc3dlck9ic2VydmVyID0gb2JzZXJ2ZXI7CiAgICB9CiAgICByZXR1cm4gd2luZG93Ll9jb2xsYXBzZWRBbnN3ZXJPYnNlcnZlcgp9CgoKLy8g6buY6K6k5pS26LW35Zue562UCmZ1bmN0aW9uIGRlZmF1bHRDb2xsYXBzZWRBbnN3ZXIoKSB7CiAgICBpZiAoIW1lbnVfdmFsdWUoJ21lbnVfZGVmYXVsdENvbGxhcHNlZEFuc3dlcicpKSByZXR1cm4KICAgIGNvbnN0IG9ic2VydmVyID0gZ2V0Q29sbGFwc2VkQW5zd2VyT2JzZXJ2ZXIoKTsKICAgIGlmIChsb2NhdGlvbi5ocmVmLmluZGV4T2YoJy9hbnN3ZXIvJykgPT09IC0xKSB7CiAgICAgICAgb2JzZXJ2ZXIuc3RhcnQoKTsKICAgIH0KfQoKCi8vIOS4gOmUruaUtui1t+WbnuetlO+8iOWFqOmDqO+8iQpmdW5jdGlvbiBjb2xsYXBzZWRBbnN3ZXIoKSB7CiAgICBpZiAoIW1lbnVfdmFsdWUoJ21lbnVfY29sbGFwc2VkQW5zd2VyJykpIHJldHVybgogICAgLy9jb25zb2xlLmxvZygnMTExMScsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Db3JuZXJBbmltYXllZEZsZXgnKSkKICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQ29ybmVyQW5pbWF5ZWRGbGV4JykgJiYgIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2xsYXBzZWQtYnV0dG9uJykpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKCcyMjIyJykKICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJy5Db3JuZXJCdXR0b257bWFyZ2luLWJvdHRvbTo4cHggIWltcG9ydGFudDt9LkNvcm5lckJ1dHRvbnN7Ym90dG9tOjQ1cHggIWltcG9ydGFudDt9JzsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQ29ybmVyQW5pbWF5ZWRGbGV4JykuaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlckJlZ2luJywgJzxidXR0b24gaWQ9ImNvbGxhcHNlZC1idXR0b24iIGRhdGEtdG9vbHRpcD0i5pS26LW35YWo6YOo5Zue562UIiBkYXRhLXRvb2x0aXAtcG9zaXRpb249ImxlZnQiIGRhdGEtdG9vbHRpcC13aWxsLWhpZGUtb24tY2xpY2s9ImZhbHNlIiBhcmlhLWxhYmVsPSLmlLbotbflhajpg6jlm57nrZQiIHR5cGU9ImJ1dHRvbiIgY2xhc3M9IkJ1dHRvbiBDb3JuZXJCdXR0b24gQnV0dG9uLS1wbGFpbiI+PHN2ZyBjbGFzcz0iQ29udGVudEl0ZW0tYXJyb3dJY29uIGlzLWFjdGl2ZSIgYXJpYS1sYWJlbD0i5pS26LW35YWo6YOo5Zue562UIiBmaWxsPSJjdXJyZW50Q29sb3IiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTYuMDM2IDE5LjU5YTEgMSAwIDAgMS0uOTk3Ljk5NUg5LjAzMmEuOTk2Ljk5NiAwIDAgMS0uOTk3LS45OTZ2LTcuMDA1SDUuMDNjLTEuMSAwLTEuMzYtLjYzMy0uNTc4LTEuNDE2TDExLjMzIDQuMjlhMS4wMDMgMS4wMDMgMCAwIDEgMS40MTIgMGw2Ljg3OCA2Ljg4Yy43ODIuNzguNTIzIDEuNDE1LS41OCAxLjQxNWgtMy4wMDR2Ny4wMDV6Ij48L3BhdGg+PC9zdmc+PC9idXR0b24+Jyk7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbGxhcHNlZC1idXR0b24nKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvJyB8fCBsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9ob3QnIHx8IGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL2ZvbGxvdycpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5Db250ZW50SXRlbS1yaWdodEJ1dHRvbicpLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS16b3AtcmV0cmFjdC1xdWVzdGlvbicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNsaWNrKCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tzY3JpcHQtY29sbGFwc2VkXScpLmZvckVhY2goZnVuY3Rpb24oc2NyaXB0Q29sbGFwc2VkKSB7CiAgICAgICAgICAgICAgICAgICAgc2NyaXB0Q29sbGFwc2VkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5Db250ZW50SXRlbS1hY3Rpb25zIFtkYXRhLXpvcC1yZXRyYWN0LXF1ZXN0aW9uXSwgLkNvbnRlbnRJdGVtLWFjdGlvbnMuU3RpY2t5IFtkYXRhLXpvcC1yZXRyYWN0LXF1ZXN0aW9uXScpLmZvckVhY2goZnVuY3Rpb24oYnV0dG9uKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLlJpY2hDb250ZW50Om5vdChbc2NyaXB0LWNvbGxhcHNlZF0pIC5Db250ZW50SXRlbS1hY3Rpb25zLlN0aWNreSBbZGF0YS16b3AtcmV0cmFjdC1xdWVzdGlvbl0nKS5mb3JFYWNoKGZ1bmN0aW9uKGJ1dHRvbikgewogICAgICAgICAgICAgICAgICAgIGxldCBlbCA9IGJ1dHRvbi5wYXJlbnRFbGVtZW50OwogICAgICAgICAgICAgICAgICAgIHdoaWxlICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdSaWNoQ29udGVudCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnc2NyaXB0LWNvbGxhcHNlZCcsICcnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBnZXRDb2xsYXBzZWRBbnN3ZXJPYnNlcnZlcigpOwogICAgICAgICAgICAgICAgb2JzZXJ2ZXIuc3RhcnQoKTsKICAgICAgICAgICAgICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9kZWZhdWx0Q29sbGFwc2VkQW5zd2VyJykgJiYgIW9ic2VydmVyLl9kaXNjb25uZWN0TGlzdGVuZXIpIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndXJsY2hhbmdlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVuZCgpOwogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuX2NvbGxhcHNlZEFuc3dlck9ic2VydmVyID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLl9kaXNjb25uZWN0TGlzdGVuZXIgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgoKLy8g5pS26LW35b2T5YmN5Zue562U44CB6K+E6K6677yI55uR5ZCs54K55Ye75LqL5Lu277yM54K55Ye7572R6aG15Lik5L6n56m655m95aSE77yJCmZ1bmN0aW9uIGNvbGxhcHNlZE5vd0Fuc3dlcihzZWxlY3RvcnMpIHsKICAgIGJhY2tUb1RvcChzZWxlY3RvcnMpIC8vIOW/q+aNt+WbnuWIsOmhtumDqAogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X2NvbGxhcHNlZE5vd0Fuc3dlcicpKSByZXR1cm4KICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzKS5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQpewogICAgICAgIGlmIChldmVudC50YXJnZXQgPT0gdGhpcykgewogICAgICAgICAgICAvLyDkuIvpnaLov5nmrrXkuLvopoHmmK8gW+aUtui1t+WbnuetlF3vvIzpobrkvr8gW+aUtui1t+ivhOiuul3vvIjlpoLmnpzlsZXlvIDkuobnmoTor53vvIkKICAgICAgICAgICAgbGV0IHJpZ2h0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLWFjdGlvbnMuU3RpY2t5LlJpY2hDb250ZW50LWFjdGlvbnMuaXMtZml4ZWQuaXMtYm90dG9tJykKICAgICAgICAgICAgLy8g5oKs5rWu5Zyo5bqV6YOo55qEIFvmlLbotbflm57nrZRd77yI5q2k5pe25q2j5Zyo5rWP6KeI5Zue562U5YaF5a65IFvkuK3pl7TljLrln59d77yJCiAgICAgICAgICAgIGlmIChyaWdodEJ1dHRvbikgewogICAgICAgICAgICAgICAgLy8g5Zu65a6a55qEIFvmlLbotbfor4Torrpd77yI5YWI55yL55yL5piv5ZCm5bGV5byA6K+E6K6677yJCiAgICAgICAgICAgICAgICBsZXQgY29tbWVudENvbGxhcHNlQnV0dG9uID0gcmlnaHRCdXR0b24ucXVlcnlTZWxlY3RvcignYnV0dG9uLkJ1dHRvbi5Db250ZW50SXRlbS1hY3Rpb24uQnV0dG9uLS1wbGFpbi5CdXR0b24tLXdpdGhJY29uLkJ1dHRvbi0td2l0aExhYmVsOmZpcnN0LW9mLXR5cGUnKQogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnMTExJykKICAgICAgICAgICAgICAgIGlmIChjb21tZW50Q29sbGFwc2VCdXR0b24gJiYgY29tbWVudENvbGxhcHNlQnV0dG9uLnRleHRDb250ZW50LmluZGV4T2YoJ+aUtui1t+ivhOiuuicpID4gLTEpIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgLy8g5YaN5Y675pS26LW35Zue562UCiAgICAgICAgICAgICAgICByaWdodEJ1dHRvbiA9IHJpZ2h0QnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJy5Db250ZW50SXRlbS1yaWdodEJ1dHRvbltkYXRhLXpvcC1yZXRyYWN0LXF1ZXN0aW9uXScpCiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCcyMjInKQogICAgICAgICAgICAgICAgaWYgKHJpZ2h0QnV0dG9uKSByaWdodEJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgLy8g5Zu65a6a5Zyo5Zue562U5bqV6YOo55qEIFvmlLbotbflm57nrZRd77yI5q2k5pe25q2j5Zyo5rWP6KeI5Zue562U5YaF5a65IFvlsL7pg6jljLrln59d77yJCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgYW5zd2VyQ29sbGFwc2VCdXR0b25fID0gZmFsc2U7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBlbCBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuQ29udGVudEl0ZW0tcmlnaHRCdXR0b25bZGF0YS16b3AtcmV0cmFjdC1xdWVzdGlvbl0nKSkgeyAvLyDpgY3ljobmiYDmnInlm57nrZTlupXpg6jnmoQgW+aUtui1t10g5oyJ6ZKuCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudEluVmlld3BvcnQoZWwpKSB7IC8vIOWIpOaWreivpSBb5pS26LW3XSDmjInpkq7mmK/lkKblnKjlj6/op4bljLrln5/lhoUKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Zu65a6a55qEIFvmlLbotbfor4Torrpd77yI5YWI55yL55yL5piv5ZCm5bGV5byA6K+E6K6677yM5Y2z5a2Y5ZyoIFvmlLbotbfor4TorrpdIOaMiemSru+8iQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudENvbGxhcHNlQnV0dG9uID0gZWwucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCdidXR0b24uQnV0dG9uLkNvbnRlbnRJdGVtLWFjdGlvbi5CdXR0b24tLXBsYWluLkJ1dHRvbi0td2l0aEljb24uQnV0dG9uLS13aXRoTGFiZWw6Zmlyc3Qtb2YtdHlwZScpCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOWxleW8gOS6huivhOiuuu+8jOWwseaUtui1t+ivhOiuugogICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCczMzMnKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWVudENvbGxhcHNlQnV0dG9uICYmIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbi50ZXh0Q29udGVudC5pbmRleE9mKCfmlLbotbfor4TorronKSA+IC0xKSBjb21tZW50Q29sbGFwc2VCdXR0b24uY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnNDQ0JykKICAgICAgICAgICAgICAgICAgICAgICAgZWwuY2xpY2soKSAvLyDlho3ljrvmlLbotbflm57nrZQKICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2VyQ29sbGFwc2VCdXR0b25fID0gdHJ1ZTsgLy8g5aaC5p6c5om+5Yiw5bm254K55Ye75pS26LW35LqG77yM5bCx5rKh5b+F6KaB5omn6KGM5LiL6Z2i55qE5Luj56CB5LqG77yI5Y+v6KeG5Yy65Z+f5Lit5rKh5pyJIFvmlLbotbflm57nrZRdIOaXtu+8iQogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIOmSiOWvueWujOWFqOeci+S4jeWIsCBb5pS26LW35Zue562UXSDmjInpkq7ml7bvvIjlpoIgW+WktOmDqOWMuuWfn13vvIzku6Xlj4rpg6jliIbmmI7mmI7lvojplb/ljbTkuI3mmL7npLrmgqzmta7mqKrmnaHnmoTlm57nrZTvvIkKICAgICAgICAgICAgICAgIGlmICghYW5zd2VyQ29sbGFwc2VCdXR0b25fKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZWwgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkxpc3QtaXRlbSwgLkNhcmQuQW5zd2VyQ2FyZCcpKSB7IC8vIOmBjeWOhuaJgOacieWbnuetlOS4u+S9k+WFg+e0oAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbGVtZW50SW5WaWV3cG9ydF8oZWwpKSB7IC8vIOWIpOaWreivpeWbnuetlOaYr+WQpuWcqOWPr+inhuWMuuWfn+WGhQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Zu65a6a55qEIFvmlLbotbfor4Torrpd77yI5YWI55yL55yL5piv5ZCm5bGV5byA6K+E6K6677yM5Y2z5a2Y5ZyoIFvmlLbotbfor4TorrpdIOaMiemSru+8iQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbW1lbnRDb2xsYXBzZUJ1dHRvbiA9IGVsLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignYnV0dG9uLkJ1dHRvbi5Db250ZW50SXRlbS1hY3Rpb24uQnV0dG9uLS1wbGFpbi5CdXR0b24tLXdpdGhJY29uLkJ1dHRvbi0td2l0aExhYmVsOmZpcnN0LW9mLXR5cGUnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5bGV5byA5LqG6K+E6K6677yM5bCx5pS26LW36K+E6K66CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCc1NTUnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbiAmJiBjb21tZW50Q29sbGFwc2VCdXR0b24udGV4dENvbnRlbnQuaW5kZXhPZign5pS26LW36K+E6K66JykgPiAtMSkgY29tbWVudENvbGxhcHNlQnV0dG9uLmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYW5zd2VyQ29sbGFwc2VCdXR0b25fXyA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5Db250ZW50SXRlbS1yaWdodEJ1dHRvbltkYXRhLXpvcC1yZXRyYWN0LXF1ZXN0aW9uXScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnNjY2JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbnN3ZXJDb2xsYXBzZUJ1dHRvbl9fKSBhbnN3ZXJDb2xsYXBzZUJ1dHRvbl9fLmNsaWNrKCkgLy8g5YaN5Y675pS26LW35Zue562UCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyDkuIvpnaLov5nmrrXlj6rpkojlr7kgW+aUtui1t+ivhOiuul3vvIjlpoLmnpzlsZXlvIDkuobnmoTor53vvIkKICAgICAgICAgICAgbGV0IGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl8gPSBmYWxzZSwgY29tbWVudENvbGxhcHNlQnV0dG9uX18gPSBmYWxzZTsKICAgICAgICAgICAgLy8g5oKs5rWu55qEIFvmlLbotbfor4Torrpd77yI5q2k5pe25q2j5Zyo5rWP6KeI6K+E6K665YaF5a65IFvkuK3pl7TljLrln59d77yJCiAgICAgICAgICAgIGxldCBjb21tZW50Q29sbGFwc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQ29tbWVudENvbGxhcHNlQnV0dG9uJykKICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbikgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnNzc3JykKICAgICAgICAgICAgICAgIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICB9IGVsc2UgeyAvLyDlm7rlrprnmoQgW+aUtui1t+ivhOiuul3vvIjmraTml7bmraPlnKjmtY/op4jor4TorrrlhoXlrrkgW+WktOmDqOWMuuWfn13vvIkKICAgICAgICAgICAgICAgIGxldCBjb21tZW50Q29sbGFwc2VCdXR0b25fMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5Db250ZW50SXRlbS1hY3Rpb25zID4gYnV0dG9uLkJ1dHRvbi5Db250ZW50SXRlbS1hY3Rpb24uQnV0dG9uLS1wbGFpbi5CdXR0b24tLXdpdGhJY29uLkJ1dHRvbi0td2l0aExhYmVsOmZpcnN0LW9mLXR5cGUsIC5Db250ZW50SXRlbS1hY3Rpb24gPiBidXR0b24uQnV0dG9uLkJ1dHRvbi0tcGxhaW4uQnV0dG9uLS13aXRoSWNvbi5CdXR0b24tLXdpdGhMYWJlbDpmaXJzdC1vZi10eXBlJykKICAgICAgICAgICAgICAgIGlmIChjb21tZW50Q29sbGFwc2VCdXR0b25fMS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZWwgb2YgY29tbWVudENvbGxhcHNlQnV0dG9uXzEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLnRleHRDb250ZW50LmluZGV4T2YoJ+aUtui1t+ivhOiuuicpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0VsZW1lbnRJblZpZXdwb3J0KGVsKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJzg4OCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuY2xpY2soKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl8gPSB0cnVlIC8vIOWmguaenOaJvuWIsOW5tueCueWHu+S6hu+8jOWwseayoeW/heimgeaJp+ihjOS4i+mdoueahOS7o+eggeS6hu+8iOWPr+inhuWMuuWfn+S4reayoeaciSBb5pS26LW36K+E6K66XSDml7bvvIkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl8gPT0gZmFsc2UpIHsgLy8g5Y+v6KeG5Yy65Z+f5Lit5rKh5pyJIFvmlLbotbfor4TorrpdIOaXtu+8iOatpOaXtuato+WcqOa1j+iniOivhOiuuuWGheWuuSBb5aS06YOo5Yy65Z+fXSArIFvlsL7pg6jljLrln59dKOS4jeS4iuS4jeS4i+eahO+8jOaXoueci+S4jeWIsOWbuuWumueahCBb5pS26LW36K+E6K66XSDlj4jnnIvkuI3liLDmgqzmta7nmoQgW+aUtui1t+ivhOiuul0p77yJ77yM6ZyA6KaB5Yik5pat5Y+v6KeG5Yy65Z+f5Lit5piv5ZCm5a2Y5Zyo6K+E6K665YWD57SgCiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl8xID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLk5lc3RDb21tZW50JykKICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWVudENvbGxhcHNlQnV0dG9uXzEubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBlbCBvZiBjb21tZW50Q29sbGFwc2VCdXR0b25fMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudEluVmlld3BvcnQoZWwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbW1lbnRDb2xsYXBzZUJ1dHRvbiA9IGZpbmRQYXJlbnRFbGVtZW50KGVsLCAnQ29udGVudEl0ZW0gQW5zd2VySXRlbScpLnF1ZXJ5U2VsZWN0b3IoJy5Db250ZW50SXRlbS1hY3Rpb25zID4gYnV0dG9uLkJ1dHRvbi5Db250ZW50SXRlbS1hY3Rpb24uQnV0dG9uLS1wbGFpbi5CdXR0b24tLXdpdGhJY29uLkJ1dHRvbi0td2l0aExhYmVsOmZpcnN0LW9mLXR5cGUnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21tZW50Q29sbGFwc2VCdXR0b24udGV4dENvbnRlbnQuaW5kZXhPZign5pS26LW36K+E6K66JykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCc5OTknKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50Q29sbGFwc2VCdXR0b24uY2xpY2soKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50Q29sbGFwc2VCdXR0b25fXyA9IHRydWUgLy8g5aaC5p6c5om+5Yiw5bm254K55Ye75LqG77yM5bCx5rKh5b+F6KaB5omn6KGM5LiL6Z2i55qE5Luj56CB5LqG77yI5Y+v6KeG5Yy65Z+f5Lit5rKh5pyJIOivhOiuuuWFg+e0oCDml7bvvIkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbl9fID09IGZhbHNlKSB7IC8vIOWmguaenOS4iumdoueahOmDveayoeaJvuWIsO+8jOmCo+S5iOWwseWwneivleWvu+aJvuivhOiuuuacq+WwvueahCBb6K+E6K665Zue5aSN5qGGXQogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudENvbGxhcHNlQnV0dG9uXzIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuQ29tbWVudHNWMi1mb290ZXIuQ29tbWVudEVkaXRvclYyLS1ub3JtYWwgLkNvbW1lbnRFZGl0b3JWMi1pbnB1dFdyYXAnKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWVudENvbGxhcHNlQnV0dG9uXzIubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZWwgb2YgY29tbWVudENvbGxhcHNlQnV0dG9uXzIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbGVtZW50SW5WaWV3cG9ydChlbCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbW1lbnRDb2xsYXBzZUJ1dHRvbiA9IGZpbmRQYXJlbnRFbGVtZW50KGVsLCAnQ29udGVudEl0ZW0gQW5zd2VySXRlbScpLnF1ZXJ5U2VsZWN0b3IoJy5Db250ZW50SXRlbS1hY3Rpb25zID4gYnV0dG9uLkJ1dHRvbi5Db250ZW50SXRlbS1hY3Rpb24uQnV0dG9uLS1wbGFpbi5CdXR0b24tLXdpdGhJY29uLkJ1dHRvbi0td2l0aExhYmVsOmZpcnN0LW9mLXR5cGUnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRDb2xsYXBzZUJ1dHRvbi50ZXh0Q29udGVudC5pbmRleE9mKCfmlLbotbfor4TorronKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCcxMDEwMTAnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudENvbGxhcHNlQnV0dG9uLmNsaWNrKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgovLyDlm57liLDpobbpg6jvvIjnm5HlkKzngrnlh7vkuovku7bvvIzpvKDmoIflj7PplK7ngrnlh7vnvZHpobXkuKTkvqfnqbrnmb3lpITvvIkKZnVuY3Rpb24gYmFja1RvVG9wKHNlbGVjdG9ycykgewogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X2JhY2tUb1RvcCcpKSByZXR1cm4KICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JzKS5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24oZXZlbnQpewogICAgICAgIGlmIChldmVudC50YXJnZXQgPT0gdGhpcykgewogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwwKQogICAgICAgIH0KICAgIH0KfQoKCi8v6I635Y+W5YWD57Sg5piv5ZCm5Zyo5Y+v6KeG5Yy65Z+f77yI5a6M5YWo5Y+v6KeB77yJCmZ1bmN0aW9uIGlzRWxlbWVudEluVmlld3BvcnQoZWwpIHsKICAgIGxldCByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICByZXR1cm4gKAogICAgICAgIHJlY3QudG9wID49IDAgJiYKICAgICAgICByZWN0LmxlZnQgPj0gMCAmJgogICAgICAgIHJlY3QuYm90dG9tIDw9ICh3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkgJiYKICAgICAgICByZWN0LnJpZ2h0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpCiAgICApOwp9Ci8v6I635Y+W5YWD57Sg5piv5ZCm5Zyo5Y+v6KeG5Yy65Z+f77yI6YOo5YiG5Y+v6KeB77yJCmZ1bmN0aW9uIGlzRWxlbWVudEluVmlld3BvcnRfKGVsKSB7CiAgICBsZXQgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgcmV0dXJuICgKICAgICAgICByZWN0LnRvcCA8PSAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICYmCiAgICAgICAgcmVjdC5sZWZ0IDw9ICh3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpCiAgICApOwp9CgoKLy8g6Ieq5a6a5LmJ5bGP6JS955So5oi3CmZ1bmN0aW9uIGN1c3RvbUJsb2NrVXNlcnMoKSB7CiAgICBsZXQgbm93QmxvY2tVc2VycyA9ICcnOwogICAgbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtub3dCbG9ja1VzZXJzICs9ICd8JyArIGl0ZW19KQogICAgLy9jb25zb2xlLmxvZyhub3dCbG9ja1VzZXJzLnJlcGxhY2UoJ3wnLCcnKSkKICAgIGxldCBuZXdCbG9ja1VzZXJzID0gcHJvbXB0KCfnvJbovpEgW+iHquWumuS5ieWxj+iUveeUqOaIt11cbu+8iOS4jeWQjOeUqOaIt+WQjeS5i+mXtOS9v+eUqCAifCIg5YiG6ZqU77yM5L6L5aaC77ya55So5oi3QXznlKjmiLdCfOeUqOaIt0Mg77yJJywgbm93QmxvY2tVc2Vycy5yZXBsYWNlKCd8JywnJykpOwogICAgaWYgKG5ld0Jsb2NrVXNlcnMgPT09ICcnKSB7CiAgICAgICAgR01fc2V0VmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycsIFtdKTsKICAgICAgICByZWdpc3Rlck1lbnVDb21tYW5kKCk7IC8vIOmHjeaWsOazqOWGjOiEmuacrOiPnOWNlQogICAgfSBlbHNlIGlmIChuZXdCbG9ja1VzZXJzICE9IG51bGwpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJywgbmV3QmxvY2tVc2Vycy5zcGxpdCgnfCcpKTsKICAgICAgICByZWdpc3Rlck1lbnVDb21tYW5kKCk7IC8vIOmHjeaWsOazqOWGjOiEmuacrOiPnOWNlQogICAgfQp9OwoKCi8vIOWxj+iUveaMh+WumueUqOaItwpmdW5jdGlvbiBibG9ja1VzZXJzKHR5cGUpIHsKICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9ibG9ja1VzZXJzJykpIHJldHVybgogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X2N1c3RvbUJsb2NrVXNlcnMnKSB8fCBtZW51X3ZhbHVlKCdtZW51X2N1c3RvbUJsb2NrVXNlcnMnKS5sZW5ndGggPCAxKSByZXR1cm4KICAgIHN3aXRjaCh0eXBlKSB7CiAgICAgICAgY2FzZSAnaW5kZXgnOgogICAgICAgICAgICBibG9ja1VzZXJzXygnLkNhcmQuVG9wc3RvcnlJdGVtLlRvcHN0b3J5SXRlbS1pc1JlY29tbWVuZCcsICdDYXJkIFRvcHN0b3J5SXRlbSBUb3BzdG9yeUl0ZW0taXNSZWNvbW1lbmQnKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAncXVlc3Rpb24nOgogICAgICAgICAgICBibG9ja1VzZXJzX3F1ZXN0aW9uKCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3NlYXJjaCc6CiAgICAgICAgICAgIGJsb2NrVXNlcnNfc2VhcmNoKCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3RvcGljJzoKICAgICAgICAgICAgYmxvY2tVc2Vyc18oJy5MaXN0LWl0ZW0uVG9waWNGZWVkSXRlbScsICdMaXN0LWl0ZW0gVG9waWNGZWVkSXRlbScpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdwZW9wbGUnOgogICAgICAgICAgICBibG9ja1VzZXJzX2J1dHRvbl9wZW9wbGUoKTsgLy8g5re75Yqg5bGP6JS955So5oi35oyJ6ZKu77yI55So5oi35Li76aG177yJCiAgICAgICAgICAgIGJyZWFrOwogICAgfQogICAgYmxvY2tVc2Vyc19jb21tZW50KCk7IC8vICAgICAgIOivhOiuuuWMugogICAgYmxvY2tVc2Vyc19idXR0b24oKTsgLy8gICAgICAgIOWKoOWFpem7keWQjeWNleaMiemSrgoKICAgIGZ1bmN0aW9uIGJsb2NrVXNlcnNfKGNsYXNzTmFtZTEsIGNsYXNzTmFtZTIpIHsKICAgICAgICAvLyDliY3lh6DmnaHlm6DkuLrmmK/nm7TmjqXliqDovb3nmoTvvIzogIzkuI3mmK/liqjmgIHmj5LlhaXnvZHpobXnmoTvvIzmiYDku6XpnIDopoHljZXni6zliKTmlq0KICAgICAgICBmdW5jdGlvbiBibG9ja0tleXdvcmRzX25vdygpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjbGFzc05hbWUxKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0xKXsKICAgICAgICAgICAgICAgIGxldCBpdGVtID0gaXRlbTEucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLkFuc3dlckl0ZW0sIC5Db250ZW50SXRlbS5BcnRpY2xlSXRlbScpOyAvLyDnlKjmiLflkI3miYDlnKjlhYPntKAKICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXl3b3JkIG9mIG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycpKSB7IC8vIOmBjeWOhueUqOaIt+WQjem7keWQjeWNlQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5d29yZCAhPSAnJyAmJiBpdGVtLmRhdGFzZXQuem9wLmluZGV4T2YoJ2F1dGhvck5hbWUiOiInICsga2V5d29yZCArICciLCcpID4gLTEpIHsgLy8g5om+5Yiw5bCx5Yig6Zmk6K+l5L+h5oGv5rWBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtLmRhdGFzZXQuem9wKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0xLmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CgogICAgICAgIGJsb2NrS2V5d29yZHNfbm93KCk7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VybGNoYW5nZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHNldFRpbWVvdXQoYmxvY2tLZXl3b3Jkc19ub3csIDUwMCk7IC8vIOe9kemhtSBVUkwg5Y+Y5YyW5ZCO5YaN5qyh5omn6KGMCiAgICAgICAgfSkKCiAgICAgICAgLy8g6L+Z5Liq5piv55uR5ZCs572R6aG15o+S5YWl5LqL5Lu277yM55So5p2l5Yik5pat5ZCO57ut572R6aG15Yqo5oCB5o+S5YWl55qE5YWD57SgCiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSAhPSAxKSByZXR1cm4KICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTmFtZSA9PT0gY2xhc3NOYW1lMikgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0uQW5zd2VySXRlbSwgLkNvbnRlbnRJdGVtLkFydGljbGVJdGVtJyk7IC8vIOeUqOaIt+WQjeaJgOWcqOWFg+e0oAogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXl3b3JkIG9mIG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycpKSB7IC8vIOmBjeWOhueUqOaIt+WQjem7keWQjeWNlQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXl3b3JkICE9ICcnICYmIGl0ZW0uZGF0YXNldC56b3AuaW5kZXhPZignYXV0aG9yTmFtZSI6IicgKyBrZXl3b3JkICsgJyIsJykgPiAtMSkgeyAvLyDmib7liLDlsLHliKDpmaTor6Xkv6Hmga/mtYEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbS5kYXRhc2V0LnpvcCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spOwogICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgfQoKCiAgICBmdW5jdGlvbiBibG9ja1VzZXJzX3F1ZXN0aW9uKCkgewogICAgICAgIGNvbnN0IGJsb2NrVXNlcnNfcXVlc3Rpb25fID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc05hbWUgPT09ICdMaXN0LWl0ZW0nIHx8IHRhcmdldC5jbGFzc05hbWUgPT09ICdDYXJkIEFuc3dlckNhcmQnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdGVtMSA9IHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuQ29udGVudEl0ZW0uQW5zd2VySXRlbScpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tVc2VycycpLmZvckVhY2goZnVuY3Rpb24oaXRlbTIpeyAvLyDpgY3ljobnlKjmiLfpu5HlkI3ljZUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbTEuZGF0YXNldC56b3AuaW5kZXhPZignYXV0aG9yTmFtZSI6IicgKyBpdGVtMiArICciLCcpID4gLTEpIHsgLy8g5om+5Yiw5bCx5Yig6Zmk6K+l5Zue562UCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGl0ZW0xLmRhdGFzZXQuem9wKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuaGlkZGVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgY29uc3QgYmxvY2tVc2Vyc19xdWVzdGlvbl9hbnN3ZXJfID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5MaXN0LWl0ZW0sIC5DYXJkLkFuc3dlckNhcmQnKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbTEgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5Db250ZW50SXRlbS5BbnN3ZXJJdGVtJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJykuZm9yRWFjaChmdW5jdGlvbihpdGVtMil7IC8vIOmBjeWOhueUqOaIt+m7keWQjeWNlQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtMS5kYXRhc2V0LnpvcC5pbmRleE9mKCdhdXRob3JOYW1lIjoiJyArIGl0ZW0yICsgJyIsJykgPiAtMSkgeyAvLyDmib7liLDlsLHliKDpmaTor6Xlm57nrZQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbTEuZGF0YXNldC56b3ApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaGlkZGVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvYW5zd2VyLycpID4gLTEpIHsgLy8g5Zue562U6aG177yI5bCx5piv5Y+q5pyJ5LiJ5Liq5Zue562U55qE6aG16Z2i77yJCiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoYmxvY2tVc2Vyc19xdWVzdGlvbl9hbnN3ZXJfKTsKICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CiAgICAgICAgfSBlbHNlIHsgLy8g6Zeu6aKY6aG177yI5Y+v5Lul5pi+56S65omA5pyJ5Zue562U55qE6aG16Z2i77yJCiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoYmxvY2tVc2Vyc19xdWVzdGlvbl8pOwogICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgICAgICB9CgogICAgICAgIC8vIOmSiOWvueeahOaYr+aJk+W8gOe9kemhteWQjuebtOaOpeWKoOi9veeahOWJjemdouWHoOS4quWbnuetlO+8iOS4iumdouWTquS6m+aYr+mSiOWvueWKqOaAgeWKoOi9veeahOWbnuetlO+8iQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5MaXN0LWl0ZW0sIC5DYXJkLkFuc3dlckNhcmQnKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pewogICAgICAgICAgICBsZXQgaXRlbTEgPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5Db250ZW50SXRlbS5BbnN3ZXJJdGVtJyk7CiAgICAgICAgICAgIGlmIChpdGVtMSkgewogICAgICAgICAgICAgICAgbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJykuZm9yRWFjaChmdW5jdGlvbihpdGVtMil7IC8vIOmBjeWOhueUqOaIt+m7keWQjeWNlQogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtMS5kYXRhc2V0LnpvcC5pbmRleE9mKCdhdXRob3JOYW1lIjoiJyArIGl0ZW0yICsgJyIsJykgPiAtMSkgeyAvLyDmib7liLDlsLHliKDpmaTor6Xlm57nrZQKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbTEuZGF0YXNldC56b3ApCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaGlkZGVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfSkKICAgIH0KCiAgICBmdW5jdGlvbiBibG9ja1VzZXJzX3NlYXJjaCgpIHsKICAgICAgICBmdW5jdGlvbiBibG9ja1VzZXJzX25vdygpIHsKICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPWNvbnRlbnQnKSA9PT0gLTEpIHJldHVybiAvLyDnm67liY3lj6rmlK/mjIHmkJzntKLpobXnmoQgW+e7vOWQiF0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLkNhcmQuU2VhcmNoUmVzdWx0LUNhcmRbZGF0YS16YS1kZXRhaWwtdmlldy1wYXRoLW1vZHVsZT0iQW5zd2VySXRlbSJdLCAuQ2FyZC5TZWFyY2hSZXN1bHQtQ2FyZFtkYXRhLXphLWRldGFpbC12aWV3LXBhdGgtbW9kdWxlPSJQb3N0SXRlbSJdJykuZm9yRWFjaChmdW5jdGlvbihpdGVtMSl7CiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGl0ZW0xLnF1ZXJ5U2VsZWN0b3IoJy5SaWNoVGV4dC56dGV4dC5Db3B5cmlnaHRSaWNoVGV4dC1yaWNoVGV4dCBiJyk7IC8vIOagh+mimOaJgOWcqOWFg+e0oAogICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleXdvcmQgb2YgbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJykpIHsgLy8g6YGN5Y6G5YWz6ZSu6K+N6buR5ZCN5Y2VCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXl3b3JkICE9ICcnICYmIGl0ZW0udGV4dENvbnRlbnQgPT09IGtleXdvcmQpIHsgLy8g5om+5Yiw5bCx5Yig6Zmk6K+l5L+h5oGv5rWBCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtLnRleHRDb250ZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0xLmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9CgogICAgICAgIHNldFRpbWVvdXQoYmxvY2tVc2Vyc19ub3csIDUwMCk7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VybGNoYW5nZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHNldFRpbWVvdXQoYmxvY2tVc2Vyc19ub3csIDUwMCk7IC8vIOe9kemhtSBVUkwg5Y+Y5YyW5ZCO5YaN5qyh5omn6KGMCiAgICAgICAgfSkKCiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPWNvbnRlbnQnKSA9PT0gLTEpIHJldHVybiAvLyDnm67liY3lj6rmlK/mjIHmkJzntKLpobXnmoQgW+e7vOWQiF0KICAgICAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSAhPSAxKSByZXR1cm4KICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ0NhcmQgU2VhcmNoUmVzdWx0LUNhcmQnICYmICh0YXJnZXQuZGF0YXNldC56YURldGFpbFZpZXdQYXRoTW9kdWxlID09PSAnQW5zd2VySXRlbScgfHwgdGFyZ2V0LmRhdGFzZXQuemFEZXRhaWxWaWV3UGF0aE1vZHVsZSA9PT0gJ1Bvc3RJdGVtJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB0YXJnZXQucXVlcnlTZWxlY3RvcignLlJpY2hUZXh0Lnp0ZXh0LkNvcHlyaWdodFJpY2hUZXh0LXJpY2hUZXh0IGInKTsgLy8g55So5oi35ZCN5omA5Zyo5YWD57SgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleXdvcmQgb2YgbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJykpIHsgLy8g6YGN5Y6G55So5oi35ZCN6buR5ZCN5Y2VCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleXdvcmQgIT0gJycgJiYgaXRlbS50ZXh0Q29udGVudCA9PT0ga2V5d29yZCkgeyAvLyDmib7liLDlsLHliKDpmaTor6Xkv6Hmga/mtYEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbS50ZXh0Q29udGVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spOwogICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGJsb2NrVXNlcnNfY29tbWVudCgpIHsKICAgICAgICBjb25zdCBjYWxsYmFjayA9IChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikgPT4gewogICAgICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHsKICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVUeXBlICE9IDEpIHJldHVybgogICAgICAgICAgICAgICAgICAgIGxldCBpdGVtID0gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ2ltZy5BdmF0YXIuVXNlckxpbmstYXZhdGFyJykKICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICBtZW51X3ZhbHVlKCdtZW51X2N1c3RvbUJsb2NrVXNlcnMnKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0xKXsgLy8g6YGN5Y6G55So5oi36buR5ZCN5Y2VCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hbHQgPT09IGl0ZW0xKSB7IC8vIOaJvuWIsOWwseWIoOmZpOivpeaQnOe0oue7k+aenAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaW5kUGFyZW50RWxlbWVudChpdGVtLCAnTmVzdENvbW1lbnQtLXJvb3RDb21tZW50JywgdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZFBhcmVudEVsZW1lbnQoaXRlbSwgJ05lc3RDb21tZW50LS1yb290Q29tbWVudCcsIHRydWUpLmhpZGRlbiA9IHRydWU7OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmluZFBhcmVudEVsZW1lbnQoaXRlbSwgJ05lc3RDb21tZW50LS1jaGlsZCcsIHRydWUpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZFBhcmVudEVsZW1lbnQoaXRlbSwgJ05lc3RDb21tZW50LS1jaGlsZCcsIHRydWUpLmhpZGRlbiA9IHRydWU7OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmluZFBhcmVudEVsZW1lbnQoaXRlbSwgJ05lc3RDb21tZW50JywgdHJ1ZSkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kUGFyZW50RWxlbWVudChpdGVtLCAnTmVzdENvbW1lbnQnLCB0cnVlKS5oaWRkZW4gPSB0cnVlOzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbmRQYXJlbnRFbGVtZW50KGl0ZW0sICdDb21tZW50SXRlbVYyJywgdHJ1ZSkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kUGFyZW50RWxlbWVudChpdGVtLCAnQ29tbWVudEl0ZW1WMicsIHRydWUpLmhpZGRlbiA9IHRydWU7OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmluZFBhcmVudEVsZW1lbnQoaXRlbSwgJ0NvbW1lbnRJdGVtVjIgQ29tbWVudEl0ZW1WMi0taGlnaGxpZ2h0ZWQnLCB0cnVlKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmRQYXJlbnRFbGVtZW50KGl0ZW0sICdDb21tZW50SXRlbVYyIENvbW1lbnRJdGVtVjItLWhpZ2hsaWdodGVkJywgdHJ1ZSkuaGlkZGVuID0gdHJ1ZTs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KQoKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5re75Yqg5bGP6JS955So5oi35oyJ6ZKu77yI54K56LWe44CB5Zue5aSN562J5oyJ6ZKu5ZCO6Z2i77yJCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZm9vdGVyID0gZmluZFBhcmVudEVsZW1lbnQoaXRlbSwgJ0NvbW1lbnRJdGVtVjItbWV0YScsIHRydWUpLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignLkNvbW1lbnRJdGVtVjItbWV0YVNpYmxpbmcgPiAuQ29tbWVudEl0ZW1WMi1mb290ZXInKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyaWQgPSBpdGVtLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlcmlkICYmIGZvb3RlciAmJiAhZm9vdGVyLmxhc3RFbGVtZW50Q2hpbGQuZGF0YXNldC5uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcmlkID0gdXNlcmlkLmhyZWYuc3BsaXQoJy8nKVs0XTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLGA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS1uYW1lPSIke2l0ZW0uYWx0fSIgZGF0YS11c2VyaWQ9IiR7dXNlcmlkfSIgY2xhc3M9IkJ1dHRvbiBDb21tZW50SXRlbVYyLWhvdmVyQnRuIEJ1dHRvbi0tcGxhaW4iPjxzcGFuIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsiPiYjODIwMzs8c3ZnIGNsYXNzPSJaaSBaaS0tTGlrZSIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgc3R5bGU9InRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7IG1hcmdpbi1yaWdodDogNXB4OyI+PHBhdGggZD0iTTE4LjM3NiA1LjYyNGMtMy40OTgtMy40OTktOS4yNTQtMy40OTktMTIuNzUyIDAtMy40OTkgMy40OTgtMy40OTkgOS4yNTQgMCAxMi43NTIgMy40OTggMy40OTkgOS4yNTQgMy40OTkgMTIuNzUyIDAgMy40OTktMy40OTggMy40OTktOS4xNCAwLTEyLjc1MnptLTEuNjkzIDEuNjkzYzIuMzcgMi4zNyAyLjU5NiA2LjA5NC42NzggOC42OWwtOS4zNjctOS40OGMyLjcwOC0xLjkxOSA2LjMyLTEuNTggOC42OS43OXptLTkuNDggOS40OGMtMi4zNy0yLjM3LTIuNTk1LTYuMDk1LS42NzYtOC42OWw5LjQ4IDkuNDhjLTIuODIyIDEuOTE4LTYuNDMzIDEuNTgtOC44MDMtLjc5eiIgZmlsbC1ydWxlPSJldmVub2RkIj48L3BhdGg+PC9zdmc+PC9zcGFuPuWxj+iUveeUqOaItzwvYnV0dG9uPmApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvb3Rlci5sYXN0RWxlbWVudENoaWxkLm9uY2xpY2sgPSBmdW5jdGlvbigpe2Jsb2NrVXNlcnNfYnV0dG9uX2FkZCh0aGlzLmRhdGFzZXQubmFtZSwgdGhpcy5kYXRhc2V0LnVzZXJpZCwgZmFsc2UpfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTsKICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgIH0KCiAgICAvLyDmt7vliqDlsY/olL3nlKjmiLfmjInpkq7vvIjnlKjmiLfkv6Hmga/mgqzmta7moYbkuK3vvIkKICAgIGZ1bmN0aW9uIGJsb2NrVXNlcnNfYnV0dG9uKCkgewogICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0YXJnZXQsIHRhcmdldC5jbGFzc05hbWUpCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc05hbWUgJiYgKHRhcmdldC5jbGFzc05hbWUuaW5kZXhPZignUG9wb3Zlci1jb250ZW50IFBvcG92ZXItY29udGVudC0tdG9wIEhvdmVyQ2FyZC1wb3BvdmVyVGFyZ2V0JykgPiAtMSB8fCB0YXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoJ1BvcG92ZXItY29udGVudCBQb3BvdmVyLWNvbnRlbnQtLWJvdHRvbSBIb3ZlckNhcmQtcG9wb3ZlclRhcmdldCcpID4gLTEpIHx8IHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuUG9wb3Zlci1jb250ZW50LlBvcG92ZXItY29udGVudC0tdG9wLkhvdmVyQ2FyZC1wb3BvdmVyVGFyZ2V0JykgfHwgdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5Qb3BvdmVyLWNvbnRlbnQuUG9wb3Zlci1jb250ZW50LS1ib3R0b20uSG92ZXJDYXJkLXBvcG92ZXJUYXJnZXQnKSkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuTWVtYmVyQnV0dG9uR3JvdXAuUHJvZmlsZUJ1dHRvbkdyb3VwLkhvdmVyQ2FyZC1idXR0b25zJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtMSA9IHRhcmdldC5xdWVyeVNlbGVjdG9yKCdhLlVzZXJMaW5rLWxpbmsnKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUgPSBpdGVtMS50ZXh0Q29udGVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJpZCA9IGl0ZW0xLmhyZWYuc3BsaXQoJy8nKVs0XTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0gJiYgIXRhcmdldC5xdWVyeVNlbGVjdG9yKCdidXR0b25bZGF0YS1uYW1lXVtkYXRhLXVzZXJpZF0nKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS1uYW1lPSIke25hbWV9IiBkYXRhLXVzZXJpZD0iJHt1c2VyaWR9IiBjbGFzcz0iQnV0dG9uIEZvbGxvd0J1dHRvbiBCdXR0b24tLXByaW1hcnkgQnV0dG9uLS1yZWQiIHN0eWxlPSJ3aWR0aDogMTAwJTttYXJnaW46IDdweCAwIDAgMDsiPjxzcGFuIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsiPuKAizxzdmcgY2xhc3M9IlppIFppLS1QbHVzIEZvbGxvd0J1dHRvbi1pY29uIiBmaWxsPSJjdXJyZW50Q29sb3IiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjEuMmVtIiBoZWlnaHQ9IjEuMmVtIj48cGF0aCBkPSJNMTguMzc2IDUuNjI0Yy0zLjQ5OC0zLjQ5OS05LjI1NC0zLjQ5OS0xMi43NTIgMC0zLjQ5OSAzLjQ5OC0zLjQ5OSA5LjI1NCAwIDEyLjc1MiAzLjQ5OCAzLjQ5OSA5LjI1NCAzLjQ5OSAxMi43NTIgMCAzLjQ5OS0zLjQ5OCAzLjQ5OS05LjE0IDAtMTIuNzUyem0tMS42OTMgMS42OTNjMi4zNyAyLjM3IDIuNTk2IDYuMDk0LjY3OCA4LjY5bC05LjM2Ny05LjQ4YzIuNzA4LTEuOTE5IDYuMzItMS41OCA4LjY5Ljc5em0tOS40OCA5LjQ4Yy0yLjM3LTIuMzctMi41OTUtNi4wOTUtLjY3Ni04LjY5bDkuNDggOS40OGMtMi44MjIgMS45MTgtNi40MzMgMS41OC04LjgwMy0uNzl6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48L3N2Zz48L3NwYW4+5bGP6JS955So5oi3PC9idXR0b24+YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmxhc3RFbGVtZW50Q2hpbGQub25jbGljayA9IGZ1bmN0aW9uKCl7YmxvY2tVc2Vyc19idXR0b25fYWRkKHRoaXMuZGF0YXNldC5uYW1lLCB0aGlzLmRhdGFzZXQudXNlcmlkLCBmYWxzZSl9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spOwogICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgfQoKICAgIC8vIOa3u+WKoOWxj+iUveeUqOaIt+aMiemSru+8iOeUqOaIt+S4u+mhte+8iQogICAgZnVuY3Rpb24gYmxvY2tVc2Vyc19idXR0b25fcGVvcGxlKCkgewogICAgICAgIGxldCBpdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLk1lbWJlckJ1dHRvbkdyb3VwLlByb2ZpbGVCdXR0b25Hcm91cC5Qcm9maWxlSGVhZGVyLWJ1dHRvbnMnKSwgLy8g6I635Y+W5oyJ6ZKu5YWD57Sg5L2N572uCiAgICAgICAgICAgIG5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUHJvZmlsZUhlYWRlci1uYW1lJykuZmlyc3RDaGlsZC50ZXh0Q29udGVudCwgLy8g6I635Y+W55So5oi35ZCNCiAgICAgICAgICAgIHVzZXJzID0gbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJyksIC8vIOivu+WPluWxj+iUveWIl+ihqAogICAgICAgICAgICB1c2VyaWQgPSBsb2NhdGlvbi5ocmVmLnNwbGl0KCcvJylbNF07CiAgICAgICAgZm9yIChsZXQgbnVtID0gMDtudW08dXNlcnMubGVuZ3RoO251bSsrKSB7IC8vIOWIpOaWreaYr+WQpuW3suWtmOWcqAogICAgICAgICAgICBpZiAodXNlcnNbbnVtXSA9PT0gbmFtZSkgeyAvLyDlt7LlrZjlnKgKICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5CdXR0b24uQnV0dG9uLS1wcmltYXJ5LkJ1dHRvbi0tcmVkJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtpdGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7fSkgLy8g6ZqQ6JeP55+l5LmO6Ieq5bim55qE5bey5bGP6JS95oyJ6ZKuCiAgICAgICAgICAgICAgICBpdGVtLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLW5hbWU9IiR7bmFtZX0iIGRhdGEtdXNlcmlkPSIke3VzZXJpZH0iIGNsYXNzPSJCdXR0b24gRm9sbG93QnV0dG9uIEJ1dHRvbi0tcHJpbWFyeSBCdXR0b24tLXJlZCIgc3R5bGU9Im1hcmdpbjogMCAwIDAgMTJweDsiPjxzcGFuIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsiPuKAizxzdmcgY2xhc3M9IlppIFppLS1QbHVzIEZvbGxvd0J1dHRvbi1pY29uIiBmaWxsPSJjdXJyZW50Q29sb3IiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjEuMmVtIiBoZWlnaHQ9IjEuMmVtIj48cGF0aCBkPSJNMTguMzc2IDUuNjI0Yy0zLjQ5OC0zLjQ5OS05LjI1NC0zLjQ5OS0xMi43NTIgMC0zLjQ5OSAzLjQ5OC0zLjQ5OSA5LjI1NCAwIDEyLjc1MiAzLjQ5OCAzLjQ5OSA5LjI1NCAzLjQ5OSAxMi43NTIgMCAzLjQ5OS0zLjQ5OCAzLjQ5OS05LjE0IDAtMTIuNzUyem0tMS42OTMgMS42OTNjMi4zNyAyLjM3IDIuNTk2IDYuMDk0LjY3OCA4LjY5bC05LjM2Ny05LjQ4YzIuNzA4LTEuOTE5IDYuMzItMS41OCA4LjY5Ljc5em0tOS40OCA5LjQ4Yy0yLjM3LTIuMzctMi41OTUtNi4wOTUtLjY3Ni04LjY5bDkuNDggOS40OGMtMi44MjIgMS45MTgtNi40MzMgMS41OC04LjgwMy0uNzl6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48L3N2Zz48L3NwYW4+5Y+W5raI5bGP6JS9PC9idXR0b24+YCk7CiAgICAgICAgICAgICAgICBpdGVtLmxhc3RFbGVtZW50Q2hpbGQub25jbGljayA9IGZ1bmN0aW9uKCl7YmxvY2tVc2Vyc19idXR0b25fZGVsKHRoaXMuZGF0YXNldC5uYW1lLCB0aGlzLmRhdGFzZXQudXNlcmlkLCB0cnVlKX0KICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBpZiAoaXRlbSkgewogICAgICAgICAgICBpdGVtLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYDxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLW5hbWU9IiR7bmFtZX0iIGRhdGEtdXNlcmlkPSIke3VzZXJpZH0iIGNsYXNzPSJCdXR0b24gRm9sbG93QnV0dG9uIEJ1dHRvbi0tcHJpbWFyeSBCdXR0b24tLXJlZCIgc3R5bGU9Im1hcmdpbjogMCAwIDAgMTJweDsiPjxzcGFuIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjsiPuKAizxzdmcgY2xhc3M9IlppIFppLS1QbHVzIEZvbGxvd0J1dHRvbi1pY29uIiBmaWxsPSJjdXJyZW50Q29sb3IiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjEuMmVtIiBoZWlnaHQ9IjEuMmVtIj48cGF0aCBkPSJNMTguMzc2IDUuNjI0Yy0zLjQ5OC0zLjQ5OS05LjI1NC0zLjQ5OS0xMi43NTIgMC0zLjQ5OSAzLjQ5OC0zLjQ5OSA5LjI1NCAwIDEyLjc1MiAzLjQ5OCAzLjQ5OSA5LjI1NCAzLjQ5OSAxMi43NTIgMCAzLjQ5OS0zLjQ5OCAzLjQ5OS05LjE0IDAtMTIuNzUyem0tMS42OTMgMS42OTNjMi4zNyAyLjM3IDIuNTk2IDYuMDk0LjY3OCA4LjY5bC05LjM2Ny05LjQ4YzIuNzA4LTEuOTE5IDYuMzItMS41OCA4LjY5Ljc5em0tOS40OCA5LjQ4Yy0yLjM3LTIuMzctMi41OTUtNi4wOTUtLjY3Ni04LjY5bDkuNDggOS40OGMtMi44MjIgMS45MTgtNi40MzMgMS41OC04LjgwMy0uNzl6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjwvcGF0aD48L3N2Zz48L3NwYW4+5bGP6JS955So5oi3PC9idXR0b24+YCk7CiAgICAgICAgICAgIGl0ZW0ubGFzdEVsZW1lbnRDaGlsZC5vbmNsaWNrID0gZnVuY3Rpb24oKXtibG9ja1VzZXJzX2J1dHRvbl9hZGQodGhpcy5kYXRhc2V0Lm5hbWUsIHRoaXMuZGF0YXNldC51c2VyaWQsIHRydWUpfQogICAgICAgIH0KICAgIH0KCiAgICAvLyDlsY/olL3nlKjmiLfmjInpkq7nu5Hlrprkuovku7bvvIjmt7vliqDvvIkKICAgIGZ1bmN0aW9uIGJsb2NrVXNlcnNfYnV0dG9uX2FkZChuYW1lLCB1c2VyaWQsIHJlbG9hZCkgewogICAgICAgIGlmICghbmFtZSB8fCAhdXNlcmlkKSByZXR1cm4KICAgICAgICBsZXQgdXNlcnMgPSBtZW51X3ZhbHVlKCdtZW51X2N1c3RvbUJsb2NrVXNlcnMnKSwgLy8g6K+75Y+W5bGP6JS95YiX6KGoCiAgICAgICAgICAgIGluZGV4ID0gdXNlcnMuaW5kZXhPZihuYW1lKTsKICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7CiAgICAgICAgICAgIHVzZXJzLnB1c2gobmFtZSk7IC8vIOi/veWKoOeUqOaIt+WQjQogICAgICAgICAgICBHTV9zZXRWYWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJywgdXNlcnMpOyAvLyDlhpnlhaXlsY/olL3liJfooagKICAgICAgICAgICAgLy8g5Yqg5YWl55+l5LmO6Ieq5bim55qE6buR5ZCN5Y2V77yI5ZKM5pys6ISa5pys5LqS6KGlfgogICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7dXJsOiBgaHR0cHM6Ly93d3cuemhpaHUuY29tL2FwaS92NC9tZW1iZXJzLyR7dXNlcmlkfS9hY3Rpb25zL2Jsb2NrYCxtZXRob2Q6ICdQT1NUJyx0aW1lb3V0OiAyMDAwfSk7CiAgICAgICAgICAgIC8vIOaYr+WQpuWIt+aWsOacrOmhtQogICAgICAgICAgICBpZiAocmVsb2FkKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bG9jYXRpb24ucmVsb2FkKCl9LCAyMDApOyAvLyDliLfmlrDnvZHpobXvvIzlu7bov58gMjAwIOavq+enku+8jOmBv+WFjeefpeS5juWPjeW6lOaFon4KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIEdNX25vdGlmaWNhdGlvbih7dGV4dDogYOivpeeUqOaIt+W3suiiq+Wxj+iUvX5cbuWIt+aWsOe9kemhteWQjueUn+aViH5gLCB0aW1lb3V0OiAzMDAwfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBHTV9ub3RpZmljYXRpb24oe3RleHQ6IGDor6XnlKjmiLflt7Lnu4/ooqvlsY/olL3llabvvIzml6DpnIDph43lpI3lsY/olL1+YCwgdGltZW91dDogMzAwMH0pOwogICAgICAgIH0KICAgIH0KCgogICAgLy8g5bGP6JS955So5oi35oyJ6ZKu57uR5a6a5LqL5Lu277yI5Yig6Zmk77yJCiAgICBmdW5jdGlvbiBibG9ja1VzZXJzX2J1dHRvbl9kZWwobmFtZSwgdXNlcmlkLCByZWxvYWQpIHsKICAgICAgICBpZiAoIW5hbWUgfHwgIXVzZXJpZCkgcmV0dXJuCiAgICAgICAgbGV0IHVzZXJzID0gbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja1VzZXJzJyksIC8vIOivu+WPluWxj+iUveWIl+ihqAogICAgICAgICAgICBpbmRleCA9IHVzZXJzLmluZGV4T2YobmFtZSk7CiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHsKICAgICAgICAgICAgdXNlcnMuc3BsaWNlKGluZGV4LCAxKTsgLy8g56e76Zmk55So5oi35ZCNCiAgICAgICAgICAgIEdNX3NldFZhbHVlKCdtZW51X2N1c3RvbUJsb2NrVXNlcnMnLCB1c2Vycyk7IC8vIOWGmeWFpeWxj+iUveWIl+ihqAogICAgICAgICAgICAvLyDnp7vpmaTnn6XkuY7oh6rluKbnmoTpu5HlkI3ljZUKICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3Qoe3VybDogYGh0dHBzOi8vd3d3LnpoaWh1LmNvbS9hcGkvdjQvbWVtYmVycy8ke3VzZXJpZH0vYWN0aW9ucy9ibG9ja2AsbWV0aG9kOiAnREVMRVRFJyx0aW1lb3V0OiAyMDAwfSk7CiAgICAgICAgICAgIC8vIOaYr+WQpuWIt+aWsOacrOmhtQogICAgICAgICAgICBpZiAocmVsb2FkKSB7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bG9jYXRpb24ucmVsb2FkKCl9LCAyMDApOyAvLyDliLfmlrDnvZHpobXvvIzlu7bov58gMjAwIOavq+enku+8jOmBv+WFjeefpeS5juWPjeW6lOaFon4KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIEdNX25vdGlmaWNhdGlvbih7dGV4dDogYOivpeeUqOaIt+W3suWPlua2iOWxj+iUveWVpn5cbuWIt+aWsOe9kemhteWQjueUn+aViH5gLCB0aW1lb3V0OiAzMDAwfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBHTV9ub3RpZmljYXRpb24oe3RleHQ6IGDmsqHmnInlnKjlsY/olL3liJfooajkuK3mib7liLDor6XnlKjmiLcuLi5gLCB0aW1lb3V0OiAzMDAwfSk7CiAgICAgICAgfQogICAgfQp9CgoKLy8g6Ieq5a6a5LmJ5bGP6JS95YWz6ZSu6K+N77yI5qCH6aKY77yJCmZ1bmN0aW9uIGN1c3RvbUJsb2NrS2V5d29yZHMoKSB7CiAgICBsZXQgbm93QmxvY2tLZXl3b3JkcyA9ICcnOwogICAgbWVudV92YWx1ZSgnbWVudV9jdXN0b21CbG9ja0tleXdvcmRzJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtub3dCbG9ja0tleXdvcmRzICs9ICd8JyArIGl0ZW19KQogICAgbGV0IG5ld0Jsb2NrS2V5d29yZHMgPSBwcm9tcHQoJ+e8lui+kSBb6Ieq5a6a5LmJ5bGP6JS95YWz6ZSu6K+NXVxu77yI5LiN5ZCM5YWz6ZSu6K+N5LmL6Ze05L2/55SoICJ8IiDliIbpmpTvvIzkvovlpoLvvJrlhbPplK7or41BfOWFs+mUruivjUJ85YWz6ZSu6K+NQyBcbu+8iOWFs+mUruivjeS4jeWMuuWIhuWkp+Wwj+WGme+8jOaUr+aMgeihqOaDheWmgu+8mlvmjYLohLhdfFvpo5nms6rnrJFdJywgbm93QmxvY2tLZXl3b3Jkcy5yZXBsYWNlKCd8JywnJykpOwogICAgaWYgKG5ld0Jsb2NrS2V5d29yZHMgPT09ICcnKSB7CiAgICAgICAgR01fc2V0VmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tLZXl3b3JkcycsIFtdKTsKICAgICAgICByZWdpc3Rlck1lbnVDb21tYW5kKCk7IC8vIOmHjeaWsOazqOWGjOiEmuacrOiPnOWNlQogICAgfSBlbHNlIGlmIChuZXdCbG9ja0tleXdvcmRzICE9IG51bGwpIHsKICAgICAgICBHTV9zZXRWYWx1ZSgnbWVudV9jdXN0b21CbG9ja0tleXdvcmRzJywgbmV3QmxvY2tLZXl3b3Jkcy5zcGxpdCgnfCcpKTsKICAgICAgICByZWdpc3Rlck1lbnVDb21tYW5kKCk7IC8vIOmHjeaWsOazqOWGjOiEmuacrOiPnOWNlQogICAgfQp9OwoKCi8vIOWxj+iUveaMh+WumuWFs+mUruivjQpmdW5jdGlvbiBibG9ja0tleXdvcmRzKHR5cGUpIHsKICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9ibG9ja0tleXdvcmRzJykpIHJldHVybgogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X2N1c3RvbUJsb2NrS2V5d29yZHMnKSB8fCBtZW51X3ZhbHVlKCdtZW51X2N1c3RvbUJsb2NrS2V5d29yZHMnKS5sZW5ndGggPCAxKSByZXR1cm4KICAgIHN3aXRjaCh0eXBlKSB7CiAgICAgICAgY2FzZSAnaW5kZXgnOgogICAgICAgICAgICBibG9ja0tleXdvcmRzXygnLkNhcmQuVG9wc3RvcnlJdGVtLlRvcHN0b3J5SXRlbS1pc1JlY29tbWVuZCcsICdDYXJkIFRvcHN0b3J5SXRlbSBUb3BzdG9yeUl0ZW0taXNSZWNvbW1lbmQnKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAndG9waWMnOgogICAgICAgICAgICBibG9ja0tleXdvcmRzXygnLkxpc3QtaXRlbS5Ub3BpY0ZlZWRJdGVtJywgJ0xpc3QtaXRlbSBUb3BpY0ZlZWRJdGVtJyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3Blb3BsZSc6CiAgICAgICAgICAgIGJsb2NrS2V5d29yZHNfKCcuTGlzdC1pdGVtJywgJ0xpc3QtaXRlbScpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdjb2xsZWN0aW9uJzoKICAgICAgICAgICAgYmxvY2tLZXl3b3Jkc18oJy5DYXJkLkNvbGxlY3Rpb25EZXRhaWxQYWdlSXRlbScsICdDYXJkIENvbGxlY3Rpb25EZXRhaWxQYWdlSXRlbScpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdzZWFyY2gnOgogICAgICAgICAgICBibG9ja0tleXdvcmRzX3NlYXJjaCgpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdjb21tZW50JzoKICAgICAgICAgICAgYmxvY2tLZXl3b3Jkc19jb21tZW50KCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgfQoKCiAgICBmdW5jdGlvbiBibG9ja0tleXdvcmRzXyhjbGFzc05hbWUxLCBjbGFzc05hbWUyKSB7CiAgICAgICAgLy8g5YmN5Yeg5p2h5Zug5Li65piv55u05o6l5Yqg6L2955qE77yM6ICM5LiN5piv5Yqo5oCB5o+S5YWl572R6aG155qE77yM5omA5Lul6ZyA6KaB5Y2V54us5Yik5patCiAgICAgICAgZnVuY3Rpb24gYmxvY2tLZXl3b3Jkc19ub3coKSB7CiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9ob3QnKSB7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuSG90SXRlbScpLmZvckVhY2goZnVuY3Rpb24oaXRlbTEpe2Jsb2NrS2V5d29yZHNfMShpdGVtMSwgJ2gyLkhvdEl0ZW0tdGl0bGUnKTt9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjbGFzc05hbWUxKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0xKXtibG9ja0tleXdvcmRzXzEoaXRlbTEsICdoMi5Db250ZW50SXRlbS10aXRsZSBtZXRhW2l0ZW1wcm9wPSJuYW1lIl0sIG1ldGFbaXRlbXByb3A9ImhlYWRsaW5lIl0nKTt9KQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBibG9ja0tleXdvcmRzX25vdygpOwogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1cmxjaGFuZ2UnLCBmdW5jdGlvbigpewogICAgICAgICAgICBzZXRUaW1lb3V0KGJsb2NrS2V5d29yZHNfbm93LCA1MDApOyAvLyDnvZHpobUgVVJMIOWPmOWMluWQjuWGjeasoeaJp+ihjAogICAgICAgIH0pCgogICAgICAgIC8vIOi/meS4quaYr+ebkeWQrOe9kemhteaPkuWFpeS6i+S7tu+8jOeUqOadpeWIpOaWreWQjue7ree9kemhteWKqOaAgeaPkuWFpeeahOWFg+e0oAogICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc05hbWUgPT09IGNsYXNzTmFtZTIpIHtibG9ja0tleXdvcmRzXzEodGFyZ2V0LCAnaDIuQ29udGVudEl0ZW0tdGl0bGUgbWV0YVtpdGVtcHJvcD0ibmFtZSJdLCBtZXRhW2l0ZW1wcm9wPSJoZWFkbGluZSJdJyk7fQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTsKICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KTsKICAgIH0KCgogICAgZnVuY3Rpb24gYmxvY2tLZXl3b3Jkc19zZWFyY2goKSB7CiAgICAgICAgZnVuY3Rpb24gYmxvY2tLZXl3b3Jkc19ub3coKSB7CiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5zZWFyY2guaW5kZXhPZigndHlwZT1jb250ZW50JykgPT09IC0xKSByZXR1cm4gLy8g55uu5YmN5Y+q5pSv5oyB5pCc57Si6aG155qEIFvnu7zlkIhdCiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5Ib3RMYW5kaW5nLWNvbnRlbnRJdGVtLCAuQ2FyZC5TZWFyY2hSZXN1bHQtQ2FyZFtkYXRhLXphLWRldGFpbC12aWV3LXBhdGgtbW9kdWxlPSJBbnN3ZXJJdGVtIl0sIC5DYXJkLlNlYXJjaFJlc3VsdC1DYXJkW2RhdGEtemEtZGV0YWlsLXZpZXctcGF0aC1tb2R1bGU9IlBvc3RJdGVtIl0nKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0xKXtibG9ja0tleXdvcmRzXzEoaXRlbTEsICdhW2RhdGEtemEtZGV0YWlsLXZpZXctaWRdJyk7fSkKICAgICAgICB9CgogICAgICAgIHNldFRpbWVvdXQoYmxvY2tLZXl3b3Jkc19ub3csIDUwMCk7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VybGNoYW5nZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHNldFRpbWVvdXQoYmxvY2tLZXl3b3Jkc19ub3csIDUwMCk7IC8vIOe9kemhtSBVUkwg5Y+Y5YyW5ZCO5YaN5qyh5omn6KGMCiAgICAgICAgfSkKCiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPWNvbnRlbnQnKSA9PT0gLTEpIHJldHVybiAvLyDnm67liY3lj6rmlK/mjIHmkJzntKLpobXnmoQgW+e7vOWQiF0KICAgICAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSAhPSAxKSByZXR1cm4KICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ0NhcmQgU2VhcmNoUmVzdWx0LUNhcmQnICYmICh0YXJnZXQuZGF0YXNldC56YURldGFpbFZpZXdQYXRoTW9kdWxlID09PSAnQW5zd2VySXRlbScgfHwgdGFyZ2V0LmRhdGFzZXQuemFEZXRhaWxWaWV3UGF0aE1vZHVsZSA9PT0gJ1Bvc3RJdGVtJykpIHtibG9ja0tleXdvcmRzXzEodGFyZ2V0LCAnYVtkYXRhLXphLWRldGFpbC12aWV3LWlkXScpO30KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CiAgICB9CgoKICAgIGZ1bmN0aW9uIGJsb2NrS2V5d29yZHNfY29tbWVudCgpIHsKICAgICAgICBmdW5jdGlvbiBmaWx0ZXJDb21tZW50KGNvbW1lbnQpIHsKICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBjb21tZW50LnF1ZXJ5U2VsZWN0b3IoJy5SaWNoVGV4dCcpOyAvLyDlr7vmib7or4TorrrmloflrZfmiYDlnKjlhYPntKAKICAgICAgICAgICAgbGV0IHRleHRzID0gW2NvbnRlbnQudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKV07IC8vIOWboOS4uuimgemSiOWvueivhOiuuuS4reeahOihqOaDhe+8jOaJgOS7pemcgOimgeaVtOS4quaVsOe7hOW5tuWFqOmDqOi9rOS4uuWwj+WGme+8iOeUqOadpeS4jeWMuuWIhuWkp+Wwj+WGme+8iQogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRlbnQuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsgLy8g6K+l5p2h6ZKI5a+555qE5piv6K+E6K665Lit55qE6KGo5oOFCiAgICAgICAgICAgICAgICBsZXQgZW1vdGljb25WYWx1ZSA9IGNvbnRlbnQuY2hpbGRyZW5baV0uZ2V0QXR0cmlidXRlKCdkYXRhLXpoaWh1LWVtb3RpY29uJyk7IC8vIOehruWumuaYr+ihqOaDheWwseWwhuWFtua3u+WKoOWIsOeojeWQjumBjeWOhueahOaVsOe7hOS4rQogICAgICAgICAgICAgICAgaWYgKGVtb3RpY29uVmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICB0ZXh0cy5wdXNoKGVtb3RpY29uVmFsdWUpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGxldCBrZXl3b3JkcyA9IG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tLZXl3b3JkcycpOwogICAgICAgICAgICBmb3IgKGNvbnN0IHRleHQgb2YgdGV4dHMpIHsKICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5d29yZCBvZiBrZXl3b3JkcykgeyAvLyDpgY3ljoblhbPplK7or43pu5HlkI3ljZUKICAgICAgICAgICAgICAgICAgICBpZiAoa2V5d29yZCAhPSAnJyAmJiB0ZXh0LmluZGV4T2Yoa2V5d29yZC50b0xvd2VyQ2FzZSgpKSA+IC0xKSB7IC8vIOaJvuWIsOWwseWIoOmZpOivpeivhOiuugogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5bey5bGP6JS96K+E6K6677yaJyArIHRleHQpOwogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gJ1vor6Xor4Torrrlt7LlsY/olL1dJzsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjb25zdCBjYWxsYmFjayA9IChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikgPT4gewogICAgICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHsKICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVUeXBlICE9IDEpIHJldHVybgogICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiB0YXJnZXQucXVlcnlTZWxlY3RvckFsbCgnKicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNsYXNzTmFtZSA9PT0gJ0NvbW1lbnRJdGVtVjItbWV0YVNpYmxpbmcnKSBmaWx0ZXJDb21tZW50KG5vZGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gYmxvY2tLZXl3b3Jkc18xKGl0ZW0xLCBjc3MpIHsKICAgICAgICBsZXQgaXRlbSA9IGl0ZW0xLnF1ZXJ5U2VsZWN0b3IoY3NzKTsgLy8g5qCH6aKY5omA5Zyo5YWD57SgCiAgICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICAgICAgZm9yIChjb25zdCBrZXl3b3JkIG9mIG1lbnVfdmFsdWUoJ21lbnVfY3VzdG9tQmxvY2tLZXl3b3JkcycpKSB7IC8vIOmBjeWOhuWFs+mUruivjem7keWQjeWNlQogICAgICAgICAgICAgICAgbGV0IHRleHQgPSBpdGVtLmNvbnRlbnQgfHwgaXRlbS50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgIGlmIChrZXl3b3JkICE9ICcnICYmIHRleHQudG9Mb3dlckNhc2UoKS5pbmRleE9mKGtleXdvcmQudG9Mb3dlckNhc2UoKSkgPiAtMSkgeyAvLyDmib7liLDlsLHliKDpmaTor6Xkv6Hmga/mtYEKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0ZXh0KTsKICAgICAgICAgICAgICAgICAgICBpdGVtMS5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGl0ZW0xLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgovLyDlsY/olL3mjIflrprnsbvliKvvvIjop4bpopEv5paH56ug562J77yJCmZ1bmN0aW9uIGJsb2NrVHlwZSh0eXBlKSB7CiAgICBsZXQgbmFtZTsKICAgIC8vIOS4gOW8gOWni+WKoOi9veeahOS/oeaBr+a1gSArIOa3u+WKoOagh+etvuagt+W8jwogICAgaWYgKHR5cGUgPT09ICdzZWFyY2gnKSB7IC8vIOaQnOe0oumhtQogICAgICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVWaWRlbycpICYmICFtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZUFydGljbGUnKSAmJiAhbWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVUb3BpYycpICYmICFtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZVNlYXJjaCcpKSByZXR1cm4KICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVTZWFyY2gnKSAmJiBsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2gnKSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlJlbGV2YW50UXVlcnknKS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuaGlkZGVuID0gdHJ1ZTs7fSwgMTAwMCkKICAgICAgICBuYW1lID0gJ2gyLkNvbnRlbnRJdGVtLXRpdGxlIGE6bm90KC56aGlodV9lX3RvUXVlc3Rpb24pLCBhLktmZUNvbGxlY3Rpb24tUGNDb2xsZWdlQ2FyZC1saW5rLCBoMi5TZWFyY2hUb3BpY0hlYWRlci1UaXRsZSBhJwogICAgICAgIGFkZFNldEludGVydmFsXyhuYW1lKTsKICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3F1ZXN0aW9uJykgeyAvLyDpl67popjpobUKICAgICAgICBpZiAoIW1lbnVfdmFsdWUoJ21lbnVfYmxvY2tUeXBlVmlkZW8nKSkgcmV0dXJuCiAgICAgICAgZG9jdW1lbnQubGFzdENoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gYC5WaWRlb0Fuc3dlclBsYXllciwgLlZpZGVvQW5zd2VyUGxheWVyLXZpZGVvLCAuVmlkZW9BbnN3ZXJQbGF5ZXItaWZyYW1lIHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fWA7CiAgICAgICAgbmFtZSA9ICcuVmlkZW9BbnN3ZXJQbGF5ZXInCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChuYW1lKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe2Jsb2NrVHlwZV8oaXRlbSk7fSkKICAgIH0gZWxzZSB7IC8vIOmmlumhtQogICAgICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVWaWRlbycpICYmICFtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZUFydGljbGUnKSkgcmV0dXJuCiAgICAgICAgaWYgKG1lbnVfdmFsdWUoJ21lbnVfYmxvY2tUeXBlVmlkZW8nKSkgZG9jdW1lbnQubGFzdENoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gYC5DYXJkIC5aVmlkZW9JdGVtLXZpZGVvLCBuYXYuVG9wc3RvcnlUYWJzID4gYVthcmlhLWNvbnRyb2xzPSJUb3BzdG9yeS16dmlkZW8iXSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O31gOwogICAgICAgIG5hbWUgPSAnaDIuQ29udGVudEl0ZW0tdGl0bGUgYTpub3QoLnpoaWh1X2VfdG9RdWVzdGlvbiknCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChuYW1lKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe2Jsb2NrVHlwZV8oaXRlbSk7fSkKICAgIH0KCiAgICAvLyDlkI7nu63liqDovb3nmoTkv6Hmga/mtYEKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25zTGlzdCA9PiB7CiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICBibG9ja1R5cGVfKHRhcmdldC5xdWVyeVNlbGVjdG9yKG5hbWUpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CgogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VybGNoYW5nZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgYWRkU2V0SW50ZXJ2YWxfKG5hbWUpOwogICAgICAgIC8vIOenu+mZpOebuOWFs+aQnOe0ogogICAgICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZVNlYXJjaCcpICYmIGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3NlYXJjaCcgJiYgbG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ3R5cGU9Y29udGVudCcpID4gLTEpIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUmVsZXZhbnRRdWVyeScpLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5oaWRkZW4gPSB0cnVlO30sIDE1MDApCiAgICB9KQoKICAgIGZ1bmN0aW9uIGJsb2NrVHlwZV8odGl0bGVBKSB7CiAgICAgICAgaWYgKCF0aXRsZUEpIHJldHVybiAvLyDliKTmlq3mmK/lkKbkuLrnnJ8KICAgICAgICAvL2NvbnNvbGUubG9nKHRpdGxlQS5ocmVmKQogICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2gnKSB7IC8vIOaQnOe0oumhtQogICAgICAgICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ3R5cGU9Y29udGVudCcpID09PSAtMSkgcmV0dXJuIC8vICAg5LuF6ZmQ5pCc57Si6aG155qEIFvnu7zlkIhdCiAgICAgICAgICAgIGlmICh0aXRsZUEuaHJlZi5pbmRleE9mKCcvenZpZGVvLycpID4gLTEgfHwgdGl0bGVBLmhyZWYuaW5kZXhPZigndmlkZW8uemhpaHUuY29tJykgPiAtMSkgeyAvLyAgICAgICAgICAgICAgICAgIOWmguaenOaYr+inhumikQogICAgICAgICAgICAgICAgaWYgKG1lbnVfdmFsdWUoJ21lbnVfYmxvY2tUeXBlVmlkZW8nKSkgZmluZFBhcmVudEVsZW1lbnQodGl0bGVBLCAnQ2FyZCcpLmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGl0bGVBLmhyZWYuaW5kZXhPZignemh1YW5sYW4uemhpaHUuY29tJykgPiAtMSkgeyAvLyDlpoLmnpzmmK/mlofnq6AKICAgICAgICAgICAgICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZUFydGljbGUnKSkgZmluZFBhcmVudEVsZW1lbnQodGl0bGVBLCAnQ2FyZCBTZWFyY2hSZXN1bHQtQ2FyZCcpLmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSBpZiAodGl0bGVBLmhyZWYuaW5kZXhPZignL3RvcGljLycpID4gLTEpIHsgLy8gICAgICAgICAgICDlpoLmnpzmmK/or53popgKICAgICAgICAgICAgICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZVRvcGljJykpIGZpbmRQYXJlbnRFbGVtZW50KHRpdGxlQSwgJ0NhcmQgU2VhcmNoUmVzdWx0LUNhcmQnKS5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRpdGxlQS5ocmVmLmluZGV4T2YoJy9tYXJrZXQvJykgPiAtMSkgeyAvLyAgICAgICAgICAg5aaC5p6c5piv5p2C5b+X5paH56ug562J5Lmx5LiD5YWr57Of55qECiAgICAgICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVBcnRpY2xlJykpIGZpbmRQYXJlbnRFbGVtZW50KHRpdGxlQSwgJ0NhcmQgU2VhcmNoUmVzdWx0LUNhcmQnKS5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvcXVlc3Rpb24vJykgPiAtMSkgeyAvLyDpl67popjpobUKICAgICAgICAgICAgaWYgKG1lbnVfdmFsdWUoJ21lbnVfYmxvY2tUeXBlVmlkZW8nKSkgZmluZFBhcmVudEVsZW1lbnQodGl0bGVBLCAnTGlzdC1pdGVtJykuaGlkZGVuID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgeyAvLyDpppbpobUKICAgICAgICAgICAgaWYgKHRpdGxlQS5ocmVmLmluZGV4T2YoJy96dmlkZW8vJykgPiAtMSB8fCB0aXRsZUEuaHJlZi5pbmRleE9mKCd2aWRlby56aGlodS5jb20nKSA+IC0xKSB7IC8vICAgICAgICAgICAgICAgICAg5aaC5p6c5piv6KeG6aKRCiAgICAgICAgICAgICAgICBpZiAobWVudV92YWx1ZSgnbWVudV9ibG9ja1R5cGVWaWRlbycpKSBmaW5kUGFyZW50RWxlbWVudCh0aXRsZUEsICdDYXJkIFRvcHN0b3J5SXRlbSBUb3BzdG9yeUl0ZW0taXNSZWNvbW1lbmQnKS5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRpdGxlQS5ocmVmLmluZGV4T2YoJy9hbnN3ZXIvJykgPiAtMSkgeyAvLyAgICAgICAgICAg5aaC5p6c5piv6Zeu6aKY77yI6KeG6aKR5Zue562U77yJCiAgICAgICAgICAgICAgICBpZiAoZmluZFBhcmVudEVsZW1lbnQodGl0bGVBLCAnQ29udGVudEl0ZW0gQW5zd2VySXRlbScpLnF1ZXJ5U2VsZWN0b3IoJy5WaWRlb0Fuc3dlclBsYXllcicpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG1lbnVfdmFsdWUoJ21lbnVfYmxvY2tUeXBlVmlkZW8nKSkgZmluZFBhcmVudEVsZW1lbnQodGl0bGVBLCAnQ2FyZCBUb3BzdG9yeUl0ZW0gVG9wc3RvcnlJdGVtLWlzUmVjb21tZW5kJykuaGlkZGVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmICh0aXRsZUEuaHJlZi5pbmRleE9mKCd6aHVhbmxhbi56aGlodS5jb20nKSA+IC0xKSB7IC8vIOWmguaenOaYr+aWh+eroAogICAgICAgICAgICAgICAgaWYgKG1lbnVfdmFsdWUoJ21lbnVfYmxvY2tUeXBlQXJ0aWNsZScpKSBmaW5kUGFyZW50RWxlbWVudCh0aXRsZUEsICdDYXJkIFRvcHN0b3J5SXRlbSBUb3BzdG9yeUl0ZW0taXNSZWNvbW1lbmQnKS5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGFkZFNldEludGVydmFsXyhBKSB7CiAgICAgICAgbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgbGV0IGFUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKEEpOwogICAgICAgICAgICBpZiAoYVRhZy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgICAgIGFUYWcuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtibG9ja1R5cGVfKGl0ZW0pO30pCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KfQoKCi8vIOWvu+aJvueItuWFg+e0oApmdW5jdGlvbiBmaW5kUGFyZW50RWxlbWVudChpdGVtLCBjbGFzc05hbWUsIHR5cGUgPSBmYWxzZSkgewogICAgaWYgKGl0ZW0ucGFyZW50RWxlbWVudCkgewogICAgICAgIC8vY29uc29sZS5sb2coaXRlbS5wYXJlbnRFbGVtZW50KQogICAgICAgIGlmICh0eXBlKSB7IC8vIHRydWUgPSDlrozlhajkuIDoh7TvvIxmYWxzZSA9IOWMheWQq+WNs+WPrwogICAgICAgICAgICBpZiAoaXRlbS5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZSAmJiBpdGVtLnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lID09PSBjbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coaXRlbS5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZSkKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGZpbmRQYXJlbnRFbGVtZW50KGl0ZW0ucGFyZW50RWxlbWVudCwgY2xhc3NOYW1lLCB0cnVlKQogICAgICAgICAgICAgICAgaWYgKHRlbXApIHJldHVybiB0ZW1wCiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoaXRlbS5wYXJlbnRFbGVtZW50LmNsYXNzTmFtZSAmJiBpdGVtLnBhcmVudEVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YoY2xhc3NOYW1lKSA+IC0xKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5wYXJlbnRFbGVtZW50OwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBmaW5kUGFyZW50RWxlbWVudChpdGVtLnBhcmVudEVsZW1lbnQsIGNsYXNzTmFtZSkKICAgICAgICAgICAgICAgIGlmICh0ZW1wKSByZXR1cm4gdGVtcAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgcmV0dXJuCn0KCgovLyDnp7vpmaTpq5jkuq7pk77mjqUKZnVuY3Rpb24gcmVtb3ZlSGlnaGxpZ2h0TGluaygpIHsKICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSB8fCB0YXJnZXQudGFnTmFtZSAhPSAnQScpIGJyZWFrCiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmRhdGFzZXQuemFOb3RUcmFja0xpbmsgJiYgdGFyZ2V0LmhyZWYuaW5kZXhPZignaHR0cHM6Ly93d3cuemhpaHUuY29tL3NlYXJjaD9xPScpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGFyZW50RWxlbWVudC5yZXBsYWNlV2l0aCh0YXJnZXQudGV4dENvbnRlbnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbGJhY2spOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CgogICAgLy8g6ZKI5a+555qE5piv5omT5byA572R6aG15ZCO55u05o6l5Yqg6L2955qE5YmN6Z2i5Yeg5Liq5Zue562U77yI5LiK6Z2i5ZOq5Lqb5piv6ZKI5a+55Yqo5oCB5Yqg6L2955qE5Zue562U77yJCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuID4gYVtkYXRhLXphLW5vdC10cmFjay1saW5rXVtocmVmXj0iaHR0cHM6Ly93d3cuemhpaHUuY29tL3NlYXJjaD9xPSJdJykuZm9yRWFjaChlID0+IGUucGFyZW50RWxlbWVudC5yZXBsYWNlV2l0aChlLnRleHRDb250ZW50KSkKfQoKCi8vIOWxj+iUveebkOmAieWGheWuuQpmdW5jdGlvbiBibG9ja1lhblh1YW4oKSB7CiAgICBpZiAoIW1lbnVfdmFsdWUoJ21lbnVfYmxvY2tZYW5YdWFuJykpIHJldHVybgogICAgY29uc3QgYmxvY2tZYW5YdWFuX3F1ZXN0aW9uID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ0xpc3QtaXRlbScgfHwgdGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ0NhcmQgQW5zd2VyQ2FyZCcpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5LZmVDb2xsZWN0aW9uLUFuc3dlclRvcENhcmQtQ29udGFpbmVyLCAuS2ZlQ29sbGVjdGlvbi1QdXJjaGFzZUJ0bicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CgogICAgY29uc3QgYmxvY2tZYW5YdWFuX3F1ZXN0aW9uX2Fuc3dlciA9IChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikgPT4gewogICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVUeXBlICE9IDEpIHJldHVybgogICAgICAgICAgICAgICAgdGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5MaXN0LWl0ZW0sIC5DYXJkLkFuc3dlckNhcmQnKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pewogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5LZmVDb2xsZWN0aW9uLUFuc3dlclRvcENhcmQtQ29udGFpbmVyLCAuS2ZlQ29sbGVjdGlvbi1QdXJjaGFzZUJ0bicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uaGlkZGVuID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKCiAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2Fuc3dlci8nKSA+IC0xKSB7IC8vIOWbnuetlOmhte+8iOWwseaYr+WPquacieS4ieS4quWbnuetlOeahOmhtemdou+8iQogICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoYmxvY2tZYW5YdWFuX3F1ZXN0aW9uX2Fuc3dlcik7CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CiAgICB9IGVsc2UgeyAvLyDpl67popjpobXvvIjlj6/ku6XmmL7npLrmiYDmnInlm57nrZTnmoTpobXpnaLvvIkKICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGJsb2NrWWFuWHVhbl9xdWVzdGlvbik7CiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CiAgICB9CgogICAgLy8g6ZKI5a+555qE5piv5omT5byA572R6aG15ZCO55u05o6l5Yqg6L2955qE5YmN6Z2i5Yeg5Liq5Zue562U77yI5LiK6Z2i5ZOq5Lqb5piv6ZKI5a+55Yqo5oCB5Yqg6L2955qE5Zue562U77yJCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuTGlzdC1pdGVtLCAuQ2FyZC5BbnN3ZXJDYXJkJykuZm9yRWFjaChmdW5jdGlvbihpdGVtKXsKICAgICAgICBpZiAoaXRlbS5xdWVyeVNlbGVjdG9yKCcuS2ZlQ29sbGVjdGlvbi1BbnN3ZXJUb3BDYXJkLUNvbnRhaW5lciwgLktmZUNvbGxlY3Rpb24tUHVyY2hhc2VCdG4nKSkgewogICAgICAgICAgICBpdGVtLmhpZGRlbiA9IHRydWU7CiAgICAgICAgfQogICAgfSkKfQoKCi8vIOWMuuWIhumXrumimOaWh+eroApmdW5jdGlvbiBhZGRUeXBlVGlwcygpIHsKICAgIGlmICghbWVudV92YWx1ZSgnbWVudV90eXBlVGlwcycpKSByZXR1cm4KICAgIGxldCBzdHlsZSA9IGBmb250LXdlaWdodDogYm9sZDtmb250LXNpemU6IDEzcHg7cGFkZGluZzogMXB4IDRweCAwO2JvcmRlci1yYWRpdXM6IDJweDtkaXNwbGF5OiBpbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246IHRvcDttYXJnaW46ICR7KGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3NlYXJjaCcpID8gJzInIDogJzQnfXB4IDRweCAwIDA7YAogICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9IGAvKiDljLrliIbpl67popjmlofnq6AgKi8KLkFuc3dlckl0ZW0gLkNvbnRlbnRJdGVtLXRpdGxlIGE6bm90KC56aGlodV9lX3RvUXVlc3Rpb24pOjpiZWZvcmUge2NvbnRlbnQ6J+mXrumimCc7Y29sb3I6ICNmNjhiODM7YmFja2dyb3VuZC1jb2xvcjogI2Y2OGI4MzMzOyR7c3R5bGV9fQouVG9wc3RvcnlRdWVzdGlvbkFza0l0ZW0gLkNvbnRlbnRJdGVtLXRpdGxlIGE6bm90KC56aGlodV9lX3RvUXVlc3Rpb24pOjpiZWZvcmUge2NvbnRlbnQ6J+mXrumimCc7Y29sb3I6ICNmZjVhNGU7YmFja2dyb3VuZC1jb2xvcjogI2ZmNWE0ZTMzOyR7c3R5bGV9fQouWlZpZGVvSXRlbSAuQ29udGVudEl0ZW0tdGl0bGUgYTo6YmVmb3JlLCAuWnZpZGVvSXRlbSAuQ29udGVudEl0ZW0tdGl0bGUgYTo6YmVmb3JlIHtjb250ZW50Oifop4bpopEnO2NvbG9yOiAjMDBCQ0Q0O2JhY2tncm91bmQtY29sb3I6ICMwMEJDRDQzMzske3N0eWxlfX0KLkFydGljbGVJdGVtIC5Db250ZW50SXRlbS10aXRsZSBhOjpiZWZvcmUge2NvbnRlbnQ6J+aWh+eroCc7Y29sb3I6ICMyMTk2RjM7YmFja2dyb3VuZC1jb2xvcjogIzIxOTZGMzMzOyR7c3R5bGV9fWA7Cn0KCgovLyDnm7Tovr7pl67popjmjInpkq4KZnVuY3Rpb24gYWRkVG9RdWVzdGlvbigpIHsKICAgIGlmICghbWVudV92YWx1ZSgnbWVudV90b1F1ZXN0aW9uJykpIHJldHVybgoKICAgIC8vIOS4gOW8gOWni+WKoOi9veeahOS/oeaBr+a1gSArIOa3u+WKoOaMiemSruagt+W8jwogICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3NlYXJjaCcpIHsKICAgICAgICBkb2N1bWVudC5sYXN0Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSBgYS56aGlodV9lX3RvUXVlc3Rpb24ge2ZvbnQtc2l6ZTogMTNweCAhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OiBub3JtYWwgIWltcG9ydGFudDtwYWRkaW5nOiAxcHggNnB4IDAgIWltcG9ydGFudDtib3JkZXItcmFkaXVzOiAycHggIWltcG9ydGFudDtkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDt2ZXJ0aWNhbC1hbGlnbjogdG9wICFpbXBvcnRhbnQ7aGVpZ2h0OiAyMC42N3B4ICFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6IDIwLjY3cHggIWltcG9ydGFudDttYXJnaW4tdG9wOiAycHggIWltcG9ydGFudDt9YDsKICAgICAgICBhZGRTZXRJbnRlcnZhbF8oJ2gyLkNvbnRlbnRJdGVtLXRpdGxlIGE6bm90KC56aGlodV9lX3RpcHMpJyk7CiAgICB9IGVsc2UgewogICAgICAgIGRvY3VtZW50Lmxhc3RDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9IGBhLnpoaWh1X2VfdG9RdWVzdGlvbiB7Zm9udC1zaXplOiAxM3B4ICFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6IG5vcm1hbCAhaW1wb3J0YW50O3BhZGRpbmc6IDFweCA2cHggMCAhaW1wb3J0YW50O2JvcmRlci1yYWRpdXM6IDJweCAhaW1wb3J0YW50O2Rpc3BsYXk6IGlubGluZS1ibG9jayAhaW1wb3J0YW50O3ZlcnRpY2FsLWFsaWduOiB0b3AgIWltcG9ydGFudDttYXJnaW4tdG9wOiA0cHggIWltcG9ydGFudDt9YDsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdoMi5Db250ZW50SXRlbS10aXRsZSBhOm5vdCguemhpaHVfZV90aXBzKScpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7YWRkVHlwZVRpcHNfKGl0ZW0pO30pCiAgICB9CgogICAgLy8g5ZCO57ut5Yqg6L2955qE5L+h5oGv5rWBCiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9uc0xpc3QgPT4gewogICAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zTGlzdCkgewogICAgICAgICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBtdXRhdGlvbi5hZGRlZE5vZGVzKSB7CiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lm5vZGVUeXBlICE9IDEpIHJldHVybgogICAgICAgICAgICAgICAgYWRkVHlwZVRpcHNfKHRhcmdldC5xdWVyeVNlbGVjdG9yKCdoMi5Db250ZW50SXRlbS10aXRsZSBhOm5vdCguemhpaHVfZV90aXBzKScpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7CgogICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3VybGNoYW5nZScsIGZ1bmN0aW9uKCl7CiAgICAgICAgYWRkU2V0SW50ZXJ2YWxfKCdoMi5Db250ZW50SXRlbS10aXRsZSBhOm5vdCguemhpaHVfZV90aXBzKScpOwogICAgfSkKCiAgICBmdW5jdGlvbiBhZGRUeXBlVGlwc18odGl0bGVBKSB7CiAgICAgICAgaWYgKCF0aXRsZUEpIHJldHVybiAvLyDliKTmlq3mmK/lkKbkuLrnnJ8KICAgICAgICBpZiAodGl0bGVBLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignYS56aGlodV9lX3RvUXVlc3Rpb24nKSkgcmV0dXJuIC8vIOWIpOaWreaYr+WQpuW3sua3u+WKoAogICAgICAgIGlmICh0aXRsZUEudGV4dENvbnRlbnQuaW5kZXhPZignPycpICE9IC0xKSB7IC8vIOaKiumXrumimOacq+WwvuiLseaWh+mXruWlvSBbP10g55qE5pu/5o2i5Li65Lit5paH6Zeu5aW9IFvvvJ9d77yM6L+Z5qC35oyJ6ZKu5LiO5qCH6aKY5LmL6Ze055qE6Ze06Led5bCx5Yia5Yia5aW9fgogICAgICAgICAgICB0aXRsZUEuaW5uZXJIVE1MID0gdGl0bGVBLmlubmVySFRNTC5yZXBsYWNlKCc/JywgIu+8nyIpCiAgICAgICAgfQogICAgICAgIGlmICgvYW5zd2VyXC9cZCsvLnRlc3QodGl0bGVBLmhyZWYpKSB7IC8vICDlpoLmnpzmmK/mjIflkJHlm57nrZTnmoTpl67popjvvIjogIzpnZ7mjIflkJHnuq/pl67popjnmoTpk77mjqXvvIkKICAgICAgICAgICAgdGl0bGVBLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBgPGEgY2xhc3M9InpoaWh1X2VfdG9RdWVzdGlvbiBWb3RlQnV0dG9uIiBocmVmPSIke3RpdGxlQS5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbaXRlbXByb3A9InVybCJdJykuY29udGVudH0iIHRhcmdldD0iX2JsYW5rIj7nm7Tovr7pl67popg8L2E+YCk7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGFkZFNldEludGVydmFsXyhBKSB7CiAgICAgICAgbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICAgICAgbGV0IGFUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKEEpOwogICAgICAgICAgICBpZiAoYVRhZy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTsKICAgICAgICAgICAgICAgIGFUYWcuZm9yRWFjaChmdW5jdGlvbihpdGVtKXthZGRUeXBlVGlwc18oaXRlbSk7fSkKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQp9CgoKLy8g5bGV5byA6Zeu6aKY5o+P6L+wCmZ1bmN0aW9uIHF1ZXN0aW9uUmljaFRleHRNb3JlKCkgewogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X3F1ZXN0aW9uUmljaFRleHRNb3JlJykpIHJldHVybgogICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5RdWVzdGlvblJpY2hUZXh0LW1vcmUnKTsKICAgIGlmIChidXR0b24pIGJ1dHRvbi5jbGljaygpCn0KCgovLyDnn6XkuY7lhY3nmbvlvZUKZnVuY3Rpb24gcmVtb3ZlTG9naW4oKSB7CiAgICBjb25zdCByZW1vdmVMb2dpbk1vZGFsID0gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7CiAgICAgICAgZm9yIChjb25zdCBtdXRhdGlvbiBvZiBtdXRhdGlvbnNMaXN0KSB7CiAgICAgICAgICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIG11dGF0aW9uLmFkZGVkTm9kZXMpIHsKICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgIT0gMSkgcmV0dXJuCiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5zaWduRmxvd01vZGFsJykpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgYnV0dG9uID0gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5CdXR0b24uTW9kYWwtY2xvc2VCdXR0b24uQnV0dG9uLS1wbGFpbicpOwogICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24pIGJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKCiAgICAvLyDmnKrnmbvlvZXml7bmiY3kvJrnm5HlkKzlubbnp7vpmaTnmbvlvZXlvLnnqpcKICAgIGlmKGxvY2F0aW9uLmhvc3RuYW1lID09PSAnemh1YW5sYW4uemhpaHUuY29tJykgeyAvLyDlpoLmnpzmmK/mlofnq6DpobUKICAgICAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5Db2x1bW5QYWdlSGVhZGVyLU1lbnVUb2dnbGVyJykpIHsgLy8g5pyq55m75b2VCiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIocmVtb3ZlTG9naW5Nb2RhbCk7CiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsZWFuVGl0bGVzKCk7IC8vIOWHgOWMluagh+mimOa2iOaBrwogICAgICAgIH0KICAgIH0gZWxzZSB7IC8vIOS4jeaYr+aWh+eroOmhtQogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24uQXBwSGVhZGVyLWxvZ2luJykpIHsgLy8g5pyq55m75b2VCiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIocmVtb3ZlTG9naW5Nb2RhbCk7CiAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pOwogICAgICAgICAgICBkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJy5RdWVzdGlvbi1tYWluQ29sdW1uTG9naW4sIGJ1dHRvbi5BcHBIZWFkZXItbG9naW4ge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9JzsgLy8g5bGP6JS96Zeu6aKY6aG15Lit6Ze055qE55m75b2V5o+Q56S6CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5BcHBIZWFkZXItbG9naW4nKS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgJzxhIGNsYXNzPSJCdXR0b24gQXBwSGVhZGVyLWxvZ2luIEJ1dHRvbi0tYmx1ZSIgaHJlZj0iaHR0cHM6Ly93d3cuemhpaHUuY29tL3NpZ25pbiIgdGFyZ2V0PSJfYmxhbmsiPueZu+W9lTwvYT4nKTsgLy8gW+eZu+W9lV0g5oyJ6ZKu6Lez6L2s6Iez55m75b2V6aG16Z2iCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2xlYW5UaXRsZXMoKTsgLy8g5YeA5YyW5qCH6aKY5raI5oGvCiAgICAgICAgfQogICAgfQp9CgoKLy8g5YeA5YyW5qCH6aKY5raI5oGvCmZ1bmN0aW9uIGNsZWFuVGl0bGVzKCkgewogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X2NsZWFuVGl0bGVzJykpIHJldHVybgoKICAgIC8vIOaWueahiOS4gAogICAgY29uc3QgZWxUaXRsZSA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcigndGl0bGUnKTsKICAgIGNvbnN0IG9yaWdpbmFsID0gZWxUaXRsZS50ZXh0Q29udGVudDsKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKGVsVGl0bGUudGV4dENvbnRlbnQgIT0gb3JpZ2luYWwpIHsgLy8g6YG/5YWN6YeN5aSN5omn6KGMCiAgICAgICAgICAgIGVsVGl0bGUudGV4dENvbnRlbnQgPSBvcmlnaW5hbDsKICAgICAgICB9CiAgICB9KTsKICAgIG9ic2VydmVyLm9ic2VydmUoZWxUaXRsZSwgeyBjaGlsZExpc3Q6IHRydWUgfSk7CgogICAgLy8g5pa55qGI5LqMCiAgICAvLyBpZiAoUmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZG9jdW1lbnQsICd0aXRsZScpKSB7CiAgICAvLyAgICAgY29uc3QgZWxUaXRsZSA9IGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcigndGl0bGUnKTsKICAgIC8vICAgICBjb25zdCBvcmlnaW5hbCA9IGVsVGl0bGUudGV4dENvbnRlbnQ7CiAgICAvLyAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpIHsKICAgIC8vICAgICAgICAgaWYgKGVsVGl0bGUudGV4dENvbnRlbnQgIT0gb3JpZ2luYWwpIHsgLy8g6YG/5YWN6YeN5aSN5omn6KGMCiAgICAvLyAgICAgICAgICAgICBlbFRpdGxlLnRleHRDb250ZW50ID0gb3JpZ2luYWw7CiAgICAvLyAgICAgICAgIH0KICAgIC8vICAgICB9KTsKICAgIC8vICAgICBvYnNlcnZlci5vYnNlcnZlKGVsVGl0bGUsIHsgY2hpbGRMaXN0OiB0cnVlIH0pOwogICAgLy8gfSBlbHNlIHsKICAgIC8vICAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnRpdGxlOwogICAgLy8gICAgIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsICd0aXRsZScsIHsKICAgIC8vICAgICAgICAgc2V0OiAoKSA9PiB7fSwKICAgIC8vICAgICAgICAgZ2V0OiAoKSA9PiB0aXRsZSwKICAgIC8vICAgICB9KTsKICAgIC8vIH0KfQoKCi8vIOWHgOWMluaQnOe0oueDremXqApmdW5jdGlvbiBjbGVhblNlYXJjaCgpIHsKICAgIGlmICghbWVudV92YWx1ZSgnbWVudV9jbGVhblNlYXJjaCcpKSByZXR1cm4KCiAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5TZWFyY2hCYXItaW5wdXQgPiBpbnB1dCcpOwogICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICBpZiAobXV0YXRpb25zTGlzdFswXS5hdHRyaWJ1dGVOYW1lID09PSAncGxhY2Vob2xkZXInICYmIG11dGF0aW9uc0xpc3RbMF0udGFyZ2V0LnBsYWNlaG9sZGVyICE9ICcnKSBtdXRhdGlvbnNMaXN0WzBdLnRhcmdldC5wbGFjZWhvbGRlciA9ICcnOwogICAgfSk7CiAgICBlbC5wbGFjZWhvbGRlciA9ICcnOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbCwgeyBhdHRyaWJ1dGVzOiB0cnVlIH0pOwogICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJy5BdXRvQ29tcGxldGUtZ3JvdXAgPiAuU2VhcmNoQmFyLWxhYmVsOm5vdCguU2VhcmNoQmFyLWxhYmVsLS1oaXN0b3J5KSwgLkF1dG9Db21wbGV0ZS1ncm91cCA+IFtpZF49IkF1dG9Db21wbGV0ZTItdG9wU2VhcmNoLSJdIHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSc7Cn0KCgovLyDlv6vmjbflhbPpl63mgqzmta7or4TorrrvvIjnm5HlkKzngrnlh7vkuovku7bvvIzngrnlh7vnvZHpobXkuKTkvqfnqbrnmb3lpITvvIkKZnVuY3Rpb24gY2xvc2VGbG9hdGluZ0NvbW1lbnRzKCkgewogICAgY29uc3QgY2xvc2VGbG9hdGluZ0NvbW1lbnRzTW9kYWwgPSAobXV0YXRpb25zTGlzdCwgb2JzZXJ2ZXIpID0+IHsKICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHsKICAgICAgICAgICAgZm9yIChjb25zdCB0YXJnZXQgb2YgbXV0YXRpb24uYWRkZWROb2RlcykgewogICAgICAgICAgICAgICAgaWYgKHRhcmdldC5ub2RlVHlwZSAhPSAxKSByZXR1cm4KICAgICAgICAgICAgICAgIGlmICh0YXJnZXQucXVlcnlTZWxlY3RvcignLk1vZGFsLWJhY2tkcm9wJykpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuTW9kYWwtYmFja2Ryb3AnKS5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09IHRoaXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQnV0dG9uLk1vZGFsLWNsb3NlQnV0dG9uLkJ1dHRvbi0tcGxhaW4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24pIGJ1dHRvbi5jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2xvc2VGbG9hdGluZ0NvbW1lbnRzTW9kYWwpOwogICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7Cn0KCgovLyDnm5HlkKwgWE1MSHR0cFJlcXVlc3Qg5LqL5Lu2Ci8qZnVuY3Rpb24gRXZlbnRYTUxIdHRwUmVxdWVzdCgpIHsKICAgIHZhciBfc2VuZCA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZAogICAgZnVuY3Rpb24gc2VuZFJlcGxhY2VtZW50KGRhdGEpIHsKICAgICAgICBhZGRUeXBlVGlwcygpOwogICAgICAgIHJldHVybiBfc2VuZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQogICAgd2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kID0gc2VuZFJlcGxhY2VtZW50Owp9Ki8KCgovLyDoh6rlrprkuYkgdXJsY2hhbmdlIOS6i+S7tu+8iOeUqOadpeebkeWQrCBVUkwg5Y+Y5YyW77yJCmZ1bmN0aW9uIGFkZFVybENoYW5nZUV2ZW50KCkgewogICAgaGlzdG9yeS5wdXNoU3RhdGUgPSAoIGYgPT4gZnVuY3Rpb24gcHVzaFN0YXRlKCl7CiAgICAgICAgdmFyIHJldCA9IGYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3B1c2hzdGF0ZScpKTsKICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3VybGNoYW5nZScpKTsKICAgICAgICByZXR1cm4gcmV0OwogICAgfSkoaGlzdG9yeS5wdXNoU3RhdGUpOwoKICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlID0gKCBmID0+IGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZSgpewogICAgICAgIHZhciByZXQgPSBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXBsYWNlc3RhdGUnKSk7CiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSk7CiAgICAgICAgcmV0dXJuIHJldDsKICAgIH0pKGhpc3RvcnkucmVwbGFjZVN0YXRlKTsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCgpPT57CiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCd1cmxjaGFuZ2UnKSkKICAgIH0pOwp9CgoKLy8g5pi+56S66Zeu6aKY5L2c6ICFCmZ1bmN0aW9uIHF1ZXN0aW9uX2F1dGhvcigpIHsKICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuQnJhbmRRdWVzdGlvblN5bWJvbCwgLlF1ZXN0aW9uQXV0aG9yJykpIHJldHVybgogICAgbGV0IHFKc29uID0gSlNPTi5wYXJzZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjanMtaW5pdGlhbERhdGEnKS50ZXh0Q29udGVudCkuaW5pdGlhbFN0YXRlLmVudGl0aWVzLnF1ZXN0aW9uc1svXGQrLy5leGVjKGxvY2F0aW9uLnBhdGhuYW1lKVswXV0uYXV0aG9yLAogICAgICAgIGh0bWwgPSBgPGRpdiBjbGFzcz0iQnJhbmRRdWVzdGlvblN5bWJvbCI+PGEgY2xhc3M9IkJyYW5kUXVlc3Rpb25TeW1ib2wtYnJhbmRMaW5rIiBocmVmPSIvcGVvcGxlLyR7cUpzb24udXJsVG9rZW59Ij48aW1nIHJvbGU9InByZXNlbnRhdGlvbiIgc3JjPSIke3FKc29uLmF2YXRhclVybH0iIGNsYXNzPSJCcmFuZFF1ZXN0aW9uU3ltYm9sLWxvZ28iIGFsdD0iIj48c3BhbiBjbGFzcz0iQnJhbmRRdWVzdGlvblN5bWJvbC1uYW1lIj4ke3FKc29uLm5hbWV9PC9zcGFuPjwvYT48ZGl2IGNsYXNzPSJCcmFuZFF1ZXN0aW9uU3ltYm9sLWRpdmlkZXIiIHN0eWxlPSJtYXJnaW4tbGVmdDogNXB4O21hcmdpbi1yaWdodDogMTBweDsiPjwvZGl2PjwvZGl2PmA7CiAgICAgICAgLy9odG1sID0gYDxkaXYgY2xhc3M9IlF1ZXN0aW9uQXV0aG9yIj48ZGl2IGNsYXNzPSJBdXRob3JJbmZvIEF1dGhvckluZm8tLXBsYWluIiBpdGVtcHJvcD0iYXV0aG9yIiBpdGVtc2NvcGU9IiIgaXRlbXR5cGU9Imh0dHA6Ly9zY2hlbWEub3JnL1BlcnNvbiI+PGRpdiBjbGFzcz0iQXV0aG9ySW5mbyI+PHNwYW4gY2xhc3M9IlVzZXJMaW5rIEF1dGhvckluZm8tYXZhdGFyV3JhcHBlciI+PGRpdiBjbGFzcz0iUG9wb3ZlciI+PGRpdiBpZD0iUG9wb3ZlcjE4LXRvZ2dsZSIgYXJpYS1oYXNwb3B1cD0idHJ1ZSIgYXJpYS1leHBhbmRlZD0iZmFsc2UiIGFyaWEtb3ducz0iUG9wb3ZlcjE4LWNvbnRlbnQiPjxhIGNsYXNzPSJVc2VyTGluay1saW5rIiBkYXRhLXphLWRldGFpbC12aWV3LWVsZW1lbnRfbmFtZT0iVXNlciIgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9IiR7cUpzb24udXJsVG9rZW59Ij48aW1nIGNsYXNzPSJBdmF0YXIgQXV0aG9ySW5mby1hdmF0YXIiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgc3JjPSIke3FKc29uLmF2YXRhclVybH0iPjwvYT48L2Rpdj48L2Rpdj48L3NwYW4+PGRpdiBjbGFzcz0iQXV0aG9ySW5mby1jb250ZW50Ij48ZGl2IGNsYXNzPSJBdXRob3JJbmZvLWhlYWQiPjxzcGFuIGNsYXNzPSJVc2VyTGluayBBdXRob3JJbmZvLW5hbWUiPjxkaXYgY2xhc3M9IlBvcG92ZXIiPjxkaXYgaWQ9IlBvcG92ZXIxOS10b2dnbGUiIGFyaWEtaGFzcG9wdXA9InRydWUiIGFyaWEtZXhwYW5kZWQ9ImZhbHNlIiBhcmlhLW93bnM9IlBvcG92ZXIxOS1jb250ZW50Ij48YSBjbGFzcz0iVXNlckxpbmstbGluayIgZGF0YS16YS1kZXRhaWwtdmlldy1lbGVtZW50X25hbWU9IlVzZXIiIHRhcmdldD0iX2JsYW5rIiBocmVmPSIke3FKc29uLnVybFRva2VufSI+JHtxSnNvbi5uYW1lfTwvYT48L2Rpdj48L2Rpdj48L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+YAogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlF1ZXN0aW9uSGVhZGVyLXRvcGljcycpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBodG1sKTsKICAgIC8vZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlF1ZXN0aW9uUGFnZSBoMS5RdWVzdGlvbkhlYWRlci10aXRsZScpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCBodG1sKTsKfQoKCi8vIFvlrozmlbTmmL7npLrml7bpl7QgKyDnva7pobbmmL7npLrml7bpl7RdIOWKn+iDveS/ruaUueiHqu+8mmh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80MDI4MDjvvIjku44gSlF1ZXJ5IOaUueS4uuWOn+eUnyBKYXZhU2NyaXB077yM5LiU57K+566A44CB5LyY5YyW5LqG5Luj56CB77yJCi8vIOWujOaVtOaYvuekuuaXtumXtCArIOe9rumhtuaYvuekuuaXtumXtApmdW5jdGlvbiB0b3BUaW1lXyhjc3MsIGNsYXNzcykgewogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjc3MpLmZvckVhY2goZnVuY3Rpb24oX3RoaXMpIHsKICAgICAgICBsZXQgdCA9IF90aGlzLnF1ZXJ5U2VsZWN0b3IoJy5Db250ZW50SXRlbS10aW1lJyk7IGlmICghdCkgcmV0dXJuCiAgICAgICAgaWYgKCEodC5jbGFzc0xpc3QuY29udGFpbnMoJ2Z1bGwnKSkgJiYgdC5xdWVyeVNlbGVjdG9yKCdzcGFuJykgJiYgdC5xdWVyeVNlbGVjdG9yKCdzcGFuJykudGV4dENvbnRlbnQgIT0gbnVsbCkgewogICAgICAgICAgICAvLyDlrozmlbTmmL7npLrml7bpl7QKICAgICAgICAgICAgdG9wVGltZV9hbGxUaW1lKHQpCiAgICAgICAgICAgIC8vIOWPkeW4g+aXtumXtOe9rumhtgogICAgICAgICAgICB0b3BUaW1lX3B1Ymxpc2hUb3AodCwgX3RoaXMsIGNsYXNzcykKICAgICAgICB9CiAgICB9KTsKfQoKCi8vIOWujOaVtOaYvuekuuaXtumXtCArIOe9rumhtuaYvuekuuaXtumXtCAtIOaWh+eroApmdW5jdGlvbiB0b3BUaW1lX3Bvc3QoKSB7CiAgICBsZXQgdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Db250ZW50SXRlbS10aW1lOm5vdCgueGl1LXRpbWUpJyk7IGlmICghdCkgcmV0dXJuCiAgICAvLyDlrozmlbTmmL7npLrml7bpl7QKICAgIGlmICh0LnRleHRDb250ZW50LmluZGV4T2YoJ+e8lui+keS6jicpID4gLTEgJiYgISh0LmNsYXNzTGlzdC5jb250YWlucygneGl1LXRpbWUnKSkpIHsKICAgICAgICBsZXQgdHQgPSB0LnRleHRDb250ZW50OwogICAgICAgIHQuY2xpY2soKTsKICAgICAgICB0LnRleHRDb250ZW50ID0gKHQudGV4dENvbnRlbnQgKyAnIO+8jCcgKyB0dCkKICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ3hpdS10aW1lJyk7CiAgICB9CgogICAgLy/lj5HluIPml7bpl7Tnva7pobYKICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X3B1Ymxpc2hUb3AnKSAmJiAhKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Qb3N0LUhlYWRlciA+IC5Db250ZW50SXRlbS10aW1lJykpICYmICEoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLkNvbnRlbnRJdGVtLW1ldGEgPiAuQ29udGVudEl0ZW0tdGltZScpKSkgewogICAgICAgIGxldCB0ZW1wX3RpbWUgPSB0LmNsb25lTm9kZSh0cnVlKTsKICAgICAgICB0ZW1wX3RpbWUuc3R5bGUucGFkZGluZyA9ICcwcHgnOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Qb3N0LUhlYWRlcicpLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlRW5kJywgdGVtcF90aW1lKTsKICAgIH0KfQoKCi8vIOWujOaVtOaYvuekuuaXtumXtApmdW5jdGlvbiB0b3BUaW1lX2FsbFRpbWUodCkgewogICAgaWYgKHQudGV4dENvbnRlbnQuaW5kZXhPZign5Y+R5biD5LqOJykgPiAtMSAmJiB0LnRleHRDb250ZW50LmluZGV4T2YoJ+e8lui+keS6jicpID09IC0xKSB7CiAgICAgICAgdC5xdWVyeVNlbGVjdG9yKCdzcGFuJykudGV4dENvbnRlbnQgPSAodC5xdWVyeVNlbGVjdG9yKCdzcGFuJykuZGF0YXNldC50b29sdGlwKTsKICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2Z1bGwnKTsKICAgIH0gZWxzZSBpZiAodC50ZXh0Q29udGVudC5pbmRleE9mKCflj5HluIPkuo4nKSA9PSAtMSAmJiB0LnRleHRDb250ZW50LmluZGV4T2YoJ+e8lui+keS6jicpID4gLTEpIHsKICAgICAgICB0LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS50ZXh0Q29udGVudCA9ICh0LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5kYXRhc2V0LnRvb2x0aXApICsgJyDvvIwnICsgKHQucXVlcnlTZWxlY3Rvcignc3BhbicpLnRleHRDb250ZW50KTsKICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ2Z1bGwnKTsKICAgIH0KfQoKCi8vIOWPkeW4g+aXtumXtOe9rumhtgpmdW5jdGlvbiB0b3BUaW1lX3B1Ymxpc2hUb3AodCwgX3RoaXMsIF9jbGFzcykgewogICAgaWYgKCFtZW51X3ZhbHVlKCdtZW51X3B1Ymxpc2hUb3AnKSkgcmV0dXJuCiAgICBpZiAoIXQucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoX2NsYXNzKSkgewogICAgICAgIGxldCB0ZW1wX3RpbWUgPSB0LmNsb25lTm9kZSh0cnVlKTsKICAgICAgICB0ZW1wX3RpbWUuc3R5bGUucGFkZGluZyA9ICcwcHgnOwogICAgICAgIC8vIOWvueS6jui+g+efreeahOWbnuetlO+8jOmakOiXj+WbnuetlOW6lemDqOeahOaXtumXtAogICAgICAgIGlmIChfdGhpcy5vZmZzZXRIZWlnaHQgPCA0MDApIHQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICBfdGhpcy5xdWVyeVNlbGVjdG9yKCcuJyArIF9jbGFzcykuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmVFbmQnLCB0ZW1wX3RpbWUpOwogICAgfQp9CgoKLy8g6Zeu6aKY5Yib5bu65pe26Ze0CmZ1bmN0aW9uIHF1ZXN0aW9uX3RpbWUoKSB7CiAgICBpZiAoIShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUXVlc3Rpb25QYWdlIC5RdWVzdGlvbkhlYWRlci1zaWRlIC5RdWVzdGlvblRpbWUteGl1JykpKSB7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlF1ZXN0aW9uUGFnZSAuUXVlc3Rpb25IZWFkZXItc2lkZScpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlRW5kJywgJzxkaXYgY2xhc3M9IlF1ZXN0aW9uVGltZS14aXUiIHN0eWxlPSJjb2xvcjogIzkwOThhYzsgbWFyZ2luLXRvcDogNXB4OyBmb250LXNpemU6IDEzcHg7IGZvbnQtc3R5bGU6IGl0YWxpYzsiPjxwPuWIm+W7uuaXtumXtO+8micgKyBnZXRVVEM4KG5ldyBEYXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5RdWVzdGlvblBhZ2UgPiBtZXRhW2l0ZW1wcm9wPWRhdGVDcmVhdGVkXScpLmNvbnRlbnQpKSArICc8L3A+PHA+5pyA5ZCO57yW6L6R77yaJyArIGdldFVUQzgobmV3IERhdGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlF1ZXN0aW9uUGFnZSA+IG1ldGFbaXRlbXByb3A9ZGF0ZU1vZGlmaWVkXScpLmNvbnRlbnQpKSArICc8L3A+PC9kaXY+Jyk7CiAgICB9Cn0KCgovLyBVVEMg5qCH5YeG5pe26L2sIFVUQys4IOWMl+S6rOaXtumXtO+8jOS/ruaUueiHqu+8mmh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy80MDI4MDjvvIjnsr7nroDvvIkKZnVuY3Rpb24gZ2V0VVRDOCh0KSB7CiAgICByZXR1cm4gKHQuZ2V0RnVsbFllYXIoKSArICctJyArICgoKHQuZ2V0TW9udGgoKSArIDEpIDwgMTApID8gKCcwJyArICh0LmdldE1vbnRoKCkgKyAxKSkgOiAodC5nZXRNb250aCgpICsgMSkpICsgJy0nICsgKCh0LmdldERhdGUoKSA8IDEwKSA/ICgnMCcgKyB0LmdldERhdGUoKSkgOiB0LmdldERhdGUoKSkgKyAnXHhhMFx4YTAnICsgKCh0LmdldEhvdXJzKCkgPCAxMCkgPyAoJzAnICsgdC5nZXRIb3VycygpKSA6IHQuZ2V0SG91cnMoKSkgKyAnOicgKyAoKHQuZ2V0TWludXRlcygpIDwgMTApID8gKCcwJyArIHQuZ2V0TWludXRlcygpKSA6IHQuZ2V0TWludXRlcygpKSArICc6JyArICgodC5nZXRTZWNvbmRzKCkgPCAxMCkgPyAoJzAnICsgdC5nZXRTZWNvbmRzKCkpIDogdC5nZXRTZWNvbmRzKCkpKTsKfQoKCi8vIOm7mOiupOermeWkluebtOmTvu+8jOS/ruaUueiHqu+8mmh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80MDI4MDjvvIjku44gSlF1ZXJ5IOaUueS4uuWOn+eUnyBKYXZhU2NyaXB077yM5LiU57K+566A44CB5LyY5YyW5LqG5Luj56CB77yJCmZ1bmN0aW9uIGRpcmVjdExpbmsgKCkgewogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYS5leHRlcm5hbFtocmVmKj0ibGluay56aGlodS5jb20vP3RhcmdldD0iXSwgYS5MaW5rQ2FyZFtocmVmKj0ibGluay56aGlodS5jb20vP3RhcmdldD0iXTpub3QoLk1DTkxpbmtDYXJkKTpub3QoLlpWaWRlb0xpbmtDYXJkKTpub3QoLkFETGlua0NhcmRDb250YWluZXIpJykuZm9yRWFjaChmdW5jdGlvbiAoX3RoaXMpIHtfdGhpcy5ocmVmID0gZGVjb2RlVVJJQ29tcG9uZW50KF90aGlzLmhyZWYuc3Vic3RyaW5nKF90aGlzLmhyZWYuaW5kZXhPZignbGluay56aGlodS5jb20vP3RhcmdldD0nKSArIDIzKSk7fSk7Cn0KCgovLyDpu5jorqTpq5jmuIXljp/lm77vvIzkv67mlLnoh6rvvJpodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDAyODA477yI5LuOIEpRdWVyeSDmlLnkuLrljp/nlJ8gSmF2YVNjcmlwdO+8jOS4lOeyvueugOOAgeS8mOWMluS6huS7o+egge+8iQpmdW5jdGlvbiBvcmlnaW5hbFBpYygpewogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW1nW2RhdGEtb3JpZ2luYWxdOm5vdCguY29tbWVudF9zdGlja2VyKTpub3QoLkF2YXRhciknKS5mb3JFYWNoKGZ1bmN0aW9uKG9uZSl7aWYgKG9uZS5zcmMgIT0gb25lLmRhdGFzZXQub3JpZ2luYWwpIHtvbmUuc3JjID0gb25lLmRhdGFzZXQub3JpZ2luYWx9fSk7Cn0KCgovLyDpu5jorqTmipjlj6DpgoDor7fvvIzkv67mlLnoh6rvvJpodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvNDAyODA477yI5LuOIEpRdWVyeSDmlLnkuLrljp/nlJ8gSmF2YVNjcmlwdO+8jOS4lOeyvueugOOAgeS8mOWMluS6huS7o+egge+8iQpmdW5jdGlvbiBxdWVzdGlvbkludml0YXRpb24oKXsKICAgIGxldCB0aW1lID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKICAgICAgICBsZXQgcSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5RdWVzdGlvbkludml0YXRpb24tY29udGVudCcpOyBpZiAoIXEpIHJldHVybgogICAgICAgIGNsZWFySW50ZXJ2YWwodGltZSk7CiAgICAgICAgcS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5RdWVzdGlvbkludml0YXRpb24tdGl0bGUnKS5pbm5lckhUTUwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUXVlc3Rpb25JbnZpdGF0aW9uLXRpdGxlJykuaW5uZXJUZXh0ICsgJzxzcGFuIHN0eWxlPSJjdXJzb3I6IHBvaW50ZXI7IGZvbnQtc2l6ZTogMTRweDsgY29sb3I6ICM5MTlhYWU7Ij4g5bGV5byAL+aKmOWPoDwvc3Bhbj4nCiAgICAgICAgLy8g54K55Ye75LqL5Lu277yI5bGV5byAL+aKmOWPoO+8iQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5Ub3BiYXInKS5vbmNsaWNrID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgbGV0IHEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuUXVlc3Rpb25JbnZpdGF0aW9uLWNvbnRlbnQnKQogICAgICAgICAgICBpZiAocS5zdHlsZS5kaXNwbGF5ID09ICdub25lJykgewogICAgICAgICAgICAgICAgcS5zdHlsZS5kaXNwbGF5ID0gJycKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHEuc3R5bGUuZGlzcGxheSA9ICdub25lJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7Cn0KCgooZnVuY3Rpb24oKSB7CiAgICBpZiAod2luZG93Lm9udXJsY2hhbmdlID09PSB1bmRlZmluZWQpIHthZGRVcmxDaGFuZ2VFdmVudCgpO30gLy8gVGFtcGVybW9ua2V5IHY0LjExIOeJiOacrOa3u+WKoOeahCBvbnVybGNoYW5nZSDkuovku7YgZ3JhbnTvvIzlj6/ku6Xnm5HmjqcgcGpheCDnrYnnvZHpobXnmoQgVVJMIOWPmOWMlgogICAgcmVtb3ZlTG9naW4oKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnp7vpmaTnmbvlvZXlvLnnqpcKICAgIHNldEludGVydmFsKG9yaWdpbmFsUGljLDEwMCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg6buY6K6k6auY5riF5Y6f5Zu+CiAgICBzZXRJbnRlcnZhbChkaXJlY3RMaW5rLCAxMDApOyAvLyAgICDpu5jorqTnq5nlpJbnm7Tpk74KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1cmxjaGFuZ2UnLCBmdW5jdGlvbigpeyAvLyDpkojlr7nnmoTmmK/ku47ljZXkuKrlm57nrZTpobXot7PovazliLDlrozmlbTlm57nrZTpobXml7YKICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZigncXVlc3Rpb24nKSA+IC0xICYmIGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJ3dhaXRpbmcnKSA9PT0gLTEgJiYgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2Fuc3dlci8nKSA9PT0gLTEpIHsgLy8gICAgICAg5Zue562U6aG1IC8vCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGNvbGxhcHNlZE5vd0Fuc3dlcignLlF1ZXN0aW9uUGFnZScpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgIOaUtui1t+W9k+WJjeWbnuetlCArIOW/q+aNt+i/lOWbnumhtumDqAogICAgICAgICAgICAgICAgY29sbGFwc2VkTm93QW5zd2VyKCcuUXVlc3Rpb24tbWFpbicpOyAvLyAgICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgICAgICBxdWVzdGlvblJpY2hUZXh0TW9yZSgpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsZXlvIDpl67popjmj4/ov7AKICAgICAgICAgICAgICAgIGJsb2NrVXNlcnMoJ3F1ZXN0aW9uJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumueUqOaItwogICAgICAgICAgICAgICAgYmxvY2tZYW5YdWFuKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS955uQ6YCJ5YaF5a65CiAgICAgICAgICAgIH0sIDMwMCk7CiAgICAgICAgfQogICAgfSkKCiAgICBpZiAoR01faW5mby5zY3JpcHRIYW5kbGVyID09PSAnVmlvbGVudG1vbmtleScpIHsgLy8gVmlvbGVudG1vbmtleSDmr5QgVGFtcGVybW9ua2V5IOWKoOi9veabtOaXqe+8jOS8muWvvOiHtOS4gOS6m+WFg+e0oOi/mOayoeWKoOi9ve+8jOWboOatpOmcgOimgeW7tui/n+S4gOS8muWEvwogICAgICAgIHNldFRpbWVvdXQoc3RhcnQsIDMwMCk7CiAgICB9IGVsc2UgewogICAgICAgIHN0YXJ0KCk7CiAgICB9CgogICAgZnVuY3Rpb24gc3RhcnQoKXsKICAgICAgICByZW1vdmVIaWdobGlnaHRMaW5rKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOenu+mZpOmrmOS6rumTvuaOpQogICAgICAgIGlmIChsb2NhdGlvbi5ob3N0bmFtZSAhPSAnemh1YW5sYW4uemhpaHUuY29tJykgewogICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2NvbHVtbi8nKSA9PT0gLTEpIGNsZWFuU2VhcmNoKCk7IC8v5YeA5YyW5pCc57Si54Ot6ZeoCiAgICAgICAgICAgIGNvbGxhcHNlZEFuc3dlcigpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDkuIDplK7mlLbotbflm57nrZQKICAgICAgICB9CiAgICAgICAgY2xvc2VGbG9hdGluZ0NvbW1lbnRzKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlv6vmjbflhbPpl63mgqzmta7or4TorrrvvIjnm5HlkKzngrnlh7vkuovku7bvvIzngrnlh7vnvZHpobXkuKTkvqfnqbrnmb3lpITvvIkKICAgICAgICBibG9ja0tleXdvcmRzKCdjb21tZW50Jyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumuWFs+mUruivje+8iOivhOiuuu+8iQoKCiAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJ3F1ZXN0aW9uJykgPiAtMSAmJiBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJy9sb2cnKSA9PSAtMSkgeyAvLyAgICAgICDlm57nrZTpobUgLy8KICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJ3dhaXRpbmcnKSA9PSAtMSkgewogICAgICAgICAgICAgICAgY29sbGFwc2VkTm93QW5zd2VyKCcuUXVlc3Rpb25QYWdlJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgICAgICBjb2xsYXBzZWROb3dBbnN3ZXIoJy5RdWVzdGlvbi1tYWluJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICDmlLbotbflvZPliY3lm57nrZQgKyDlv6vmjbfov5Tlm57pobbpg6gKICAgICAgICAgICAgICAgIHF1ZXN0aW9uUmljaFRleHRNb3JlKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxleW8gOmXrumimOaPj+i/sAogICAgICAgICAgICAgICAgYmxvY2tVc2VycygncXVlc3Rpb24nKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS95oyH5a6a55So5oi3CiAgICAgICAgICAgICAgICBibG9ja1lhblh1YW4oKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3nm5DpgInlhoXlrrkKICAgICAgICAgICAgICAgIGJsb2NrVHlwZSgncXVlc3Rpb24nKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+Wumuexu+WIq++8iOinhumikS/mlofnq6DnrYnvvIkKICAgICAgICAgICAgICAgIGRlZmF1bHRDb2xsYXBzZWRBbnN3ZXIoKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOm7mOiupOaUtui1t+WbnuetlAogICAgICAgICAgICB9CiAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7dG9wVGltZV8oJy5Db250ZW50SXRlbS5BbnN3ZXJJdGVtJywgJ0NvbnRlbnRJdGVtLW1ldGEnKX0sIDMwMCk7IC8vIOe9rumhtuaYvuekuuaXtumXtAogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cXVlc3Rpb25fdGltZSgpOyBxdWVzdGlvbl9hdXRob3IoKX0sIDEwMCk7IC8v6Zeu6aKY5Yib5bu65pe26Ze0ICsg5pi+56S66Zeu6aKY5L2c6ICFCiAgICAgICAgICAgIHF1ZXN0aW9uSW52aXRhdGlvbigpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDpu5jorqTmipjlj6DpgoDor7cKCiAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2gnKSB7IC8vICAgICAgICAgIOaQnOe0oue7k+aenOmhtSAvLwogICAgICAgICAgICBjb2xsYXBzZWROb3dBbnN3ZXIoJ21haW4gZGl2Jyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgIGNvbGxhcHNlZE5vd0Fuc3dlcignLlNlYXJjaC1jb250YWluZXInKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICDmlLbotbflvZPliY3lm57nrZQgKyDlv6vmjbfov5Tlm57pobbpg6gKICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0b3BUaW1lXygnLkNvbnRlbnRJdGVtLkFuc3dlckl0ZW0sIC5Db250ZW50SXRlbS5BcnRpY2xlSXRlbScsICdTZWFyY2hJdGVtLW1ldGEnKX0sIDMwMCk7IC8vIOe9rumhtuaYvuekuuaXtumXtAogICAgICAgICAgICBhZGRUeXBlVGlwcygpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5Yy65YiG6Zeu6aKY5paH56ugCiAgICAgICAgICAgIGFkZFRvUXVlc3Rpb24oKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnm7Tovr7pl67popjmjInpkq4KICAgICAgICAgICAgYmxvY2tVc2Vycygnc2VhcmNoJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumueUqOaItwogICAgICAgICAgICBibG9ja0tleXdvcmRzKCdzZWFyY2gnKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS95oyH5a6a5YWz6ZSu6K+NCiAgICAgICAgICAgIGJsb2NrVHlwZSgnc2VhcmNoJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3mjIflrprnsbvliKvvvIjop4bpopEv5paH56ug562J77yJCgoKICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy90b3BpYy8nKSA+IC0xKSB7IC8vICAg6K+d6aKY6aG1IC8vCiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvaG90JykgPiAtMSB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoJy90b3AtYW5zd2VycycpID4gLTEpIHsgLy8g5LuF6ZmQIFvorqjorrpdIFvnsr7ljY5dCiAgICAgICAgICAgICAgICBjb2xsYXBzZWROb3dBbnN3ZXIoJ21haW4uQXBwLW1haW4nKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICDmlLbotbflvZPliY3lm57nrZQgKyDlv6vmjbfov5Tlm57pobbpg6gKICAgICAgICAgICAgICAgIGNvbGxhcHNlZE5vd0Fuc3dlcignLkNvbnRlbnRMYXlvdXQnKTsgLy8gICAgICAgICAgICAgICAgICAgICAgIOaUtui1t+W9k+WJjeWbnuetlCArIOW/q+aNt+i/lOWbnumhtumDqAogICAgICAgICAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt0b3BUaW1lXygnLkNvbnRlbnRJdGVtLkFuc3dlckl0ZW0sIC5Db250ZW50SXRlbS5BcnRpY2xlSXRlbScsICdDb250ZW50SXRlbS1tZXRhJyl9LCAzMDApOyAvLyDnva7pobbmmL7npLrml7bpl7QKICAgICAgICAgICAgICAgIGFkZFR5cGVUaXBzKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWMuuWIhumXrumimOaWh+eroAogICAgICAgICAgICAgICAgYWRkVG9RdWVzdGlvbigpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg55u06L6+6Zeu6aKY5oyJ6ZKuCiAgICAgICAgICAgICAgICBibG9ja1VzZXJzKCd0b3BpYycpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3mjIflrprnlKjmiLcKICAgICAgICAgICAgICAgIGJsb2NrS2V5d29yZHMoJ3RvcGljJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumuWFs+mUruivjQogICAgICAgICAgICB9CgogICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdG5hbWUgPT09ICd6aHVhbmxhbi56aGlodS5jb20nKXsgLy8gICAg5paH56ugIC8vCiAgICAgICAgICAgIGJhY2tUb1RvcCgnYXJ0aWNsZS5Qb3N0LU1haW4uUG9zdC1Ob3JtYWxNYWluJyk7IC8vICAgICAgICAgICAgICAgICDlv6vmjbfov5Tlm57pobbpg6gKICAgICAgICAgICAgYmFja1RvVG9wKCdkaXYuUG9zdC1TdWIuUG9zdC1Ob3JtYWxTdWInKTsgLy8gICAgICAgICAgICAgICAgICAgICAgIOW/q+aNt+i/lOWbnumhtumDqAogICAgICAgICAgICBzZXRUaW1lb3V0KHRvcFRpbWVfcG9zdCwgMzAwKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg572u6aG25pi+56S65pe26Ze0CiAgICAgICAgICAgIGJsb2NrVXNlcnMoKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3mjIflrprnlKjmiLcKCgogICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2NvbHVtbi8nKSA+IC0xKSB7IC8vICAgIOS4k+agjyAvLwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBjb2xsYXBzZWRBbnN3ZXIoKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5LiA6ZSu5pS26LW35Zue562UCiAgICAgICAgICAgICAgICBjb2xsYXBzZWROb3dBbnN3ZXIoJ21haW4gZGl2Jyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpe3RvcFRpbWVfKCcuQ29udGVudEl0ZW0uQW5zd2VySXRlbSwgLkNvbnRlbnRJdGVtLkFydGljbGVJdGVtJywgJ0NvbnRlbnRJdGVtLW1ldGEnKX0sIDMwMCk7IC8vIOe9rumhtuaYvuekuuaXtumXtAogICAgICAgICAgICAgICAgYmxvY2tVc2VycygpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumueUqOaItwogICAgICAgICAgICB9LCAzMDApOwoKCiAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvcGVvcGxlLycpID4gLTEgfHwgbG9jYXRpb24uaHJlZi5pbmRleE9mKCdvcmcnKSA+IC0xKSB7IC8vIOeUqOaIt+S4u+mhtSAvLwogICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKS5sZW5ndGggPT09IDMpIGFkZFR5cGVUaXBzKCk7YWRkVG9RdWVzdGlvbigpOyAvLyDljLrliIbpl67popjmlofnq6DjgIHnm7Tovr7pl67popjmjInpkq4KICAgICAgICAgICAgY29sbGFwc2VkTm93QW5zd2VyKCdtYWluIGRpdicpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOaUtui1t+W9k+WJjeWbnuetlCArIOW/q+aNt+i/lOWbnumhtumDqAogICAgICAgICAgICBjb2xsYXBzZWROb3dBbnN3ZXIoJy5Qcm9maWxlLW1haW4nKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7dG9wVGltZV8oJy5Db250ZW50SXRlbS5BbnN3ZXJJdGVtLCAuQ29udGVudEl0ZW0uQXJ0aWNsZUl0ZW0nLCAnQ29udGVudEl0ZW0tbWV0YScpfSwgMzAwKTsgLy8g572u6aG25pi+56S65pe26Ze0CiAgICAgICAgICAgIGJsb2NrVXNlcnMoJ3Blb3BsZScpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3mjIflrprnlKjmiLcKICAgICAgICAgICAgYmxvY2tLZXl3b3JkcygncGVvcGxlJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+WumuWFs+mUruivjQoKCiAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvY29sbGVjdGlvbi8nKSA+IC0xKSB7IC8vIOaUtuiXj+WkuSAvLwogICAgICAgICAgICBhZGRUeXBlVGlwcygpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5Yy65YiG6Zeu6aKY5paH56ugCiAgICAgICAgICAgIGFkZFRvUXVlc3Rpb24oKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDnm7Tovr7pl67popjmjInpkq4KICAgICAgICAgICAgY29sbGFwc2VkTm93QW5zd2VyKCdtYWluJyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOaUtui1t+W9k+WJjeWbnuetlCArIOW/q+aNt+i/lOWbnumhtumDqAogICAgICAgICAgICBjb2xsYXBzZWROb3dBbnN3ZXIoJy5Db2xsZWN0aW9uc0RldGFpbFBhZ2UnKTsgLy8gICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7dG9wVGltZV8oJy5Db250ZW50SXRlbS5BbnN3ZXJJdGVtLCAuQ29udGVudEl0ZW0uQXJ0aWNsZUl0ZW0nLCAnQ29udGVudEl0ZW0tbWV0YScpfSwgMzAwKTsgLy8g572u6aG25pi+56S65pe26Ze0CiAgICAgICAgICAgIGJsb2NrS2V5d29yZHMoJ2NvbGxlY3Rpb24nKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3mjIflrprlhbPplK7or40KCgogICAgICAgIH0gZWxzZSB7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDpppbpobUgLy8KICAgICAgICAgICAgY29sbGFwc2VkTm93QW5zd2VyKCdtYWluIGRpdicpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOaUtui1t+W9k+WJjeWbnuetlCArIOW/q+aNt+i/lOWbnumhtumDqAogICAgICAgICAgICBjb2xsYXBzZWROb3dBbnN3ZXIoJy5Ub3BzdG9yeS1jb250YWluZXInKTsgLy8gICAgICAgICAgICAgICAgICAgICAg5pS26LW35b2T5YmN5Zue562UICsg5b+r5o236L+U5Zue6aG26YOoCiAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7dG9wVGltZV8oJy5Ub3BzdG9yeUl0ZW0nLCAnQ29udGVudEl0ZW0tbWV0YScpfSwgMzAwKTsgLy8g572u6aG25pi+56S65pe26Ze0CiAgICAgICAgICAgIGFkZFR5cGVUaXBzKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDljLrliIbpl67popjmlofnq6AKICAgICAgICAgICAgYWRkVG9RdWVzdGlvbigpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOebtOi+vumXrumimOaMiemSrgogICAgICAgICAgICBibG9ja1VzZXJzKCdpbmRleCcpOyAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5bGP6JS95oyH5a6a55So5oi3CiAgICAgICAgICAgIGJsb2NrS2V5d29yZHMoJ2luZGV4Jyk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlsY/olL3mjIflrprlhbPplK7or40KICAgICAgICAgICAgYmxvY2tUeXBlKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOWxj+iUveaMh+Wumuexu+WIq++8iOinhumikS/mlofnq6DnrYnvvIkKICAgICAgICAgICAgLy8g6Kej5Yaz5bGP6JS96KeG6aKR5ZCO77yM5Zug5Li66aaW6aG15L+h5oGv5rWB5aSq5bCR6ICM5rKh5pyJ5rua5Yqo5p2h5a+86Ie05peg5rOV5Yqg6L295pu05aSa5YaF5a6555qE6Zeu6aKYCiAgICAgICAgICAgIGlmIChtZW51X3ZhbHVlKCdtZW51X2Jsb2NrVHlwZVZpZGVvJykpIGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnLlRvcHN0b3J5LWNvbnRhaW5lcnttaW4taGVpZ2h0OiAxNTAwcHg7fSc7CiAgICAgICAgfQogICAgfQp9KSgpOw=="},{"name":"自由编辑","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*www.ruiwen.com/*","*www.xuexila.com/*","*www.unjs.com/*","*m.ruiwen.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1661936236467,"data":{}},"enabled":true,"position":5,"uuid":"971206e1-65d5-4cfb-add1-cb0f913c8311","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDoh6rnlLHnvJbovpEKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjEKLy8gQGRlc2NyaXB0aW9uICB0cnkgdG8gdGFrZSBvdmVyIHRoZSB3b3JsZCEKLy8gQGF1dGhvciAgICAgICBZb3UKLy8gQG1hdGNoICAgICAgICp3d3cucnVpd2VuLmNvbS8qCi8vIEBtYXRjaCAgICAgICAqd3d3Lnh1ZXhpbGEuY29tLyoKLy8gQG1hdGNoICAgICAgICp3d3cudW5qcy5jb20vKgovLyBAbWF0Y2ggICAgICAgKm0ucnVpd2VuLmNvbS8qCi8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCmphdmFzY3JpcHQ6ZG9jdW1lbnQuYm9keS5jb250ZW50RWRpdGFibGU9J3RydWUnO2RvY3VtZW50LmRlc2lnbk1vZGU9J29uJzt2b2lkIDA="},{"name":"自动点击去广告","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":"document-end","tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*huaban.com/*","*www.gaoding.com/template/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1661936236466,"data":{}},"enabled":true,"position":6,"uuid":"10858df9-236c-4915-9d78-d3e56474cf7e","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDoh6rliqjngrnlh7vljrvlub/lkYoKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjEKLy8gQGRlc2NyaXB0aW9uICB0cnkgdG8gdGFrZSBvdmVyIHRoZSB3b3JsZCEKLy8gQGF1dGhvciAgICAgICBZb3UKLy8gQG1hdGNoICAgICAgICpodWFiYW4uY29tLyoKLy8gQG1hdGNoICAgICAgICp3d3cuZ2FvZGluZy5jb20vdGVtcGxhdGUvKgovLyBAaWNvbiAgICAgICAgIGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09Ci8vIEBncmFudCAgICAgICAgbm9uZQovLyA9PS9Vc2VyU2NyaXB0PT0KCgooZnVuY3Rpb24oKSB7Cgogc2V0VGltZW91dChmdW5jdGlvbigpewogICAgdmFyIEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInA3emxxcGJvIilbMF07CiAgICAgICAgaWYgKEJ0bi5jbGFzc05hbWUgPT0gInA3emxxcGJvIikgewogICAgICAgICAgICBCdG4uY2xpY2soKTt9fSwxMDAwKQoKIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgIHZhciBCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJnZGEtYnRuIGdkYS1idG4tcHJpbWFyeSBnZGQtbWF0ZXJpYWwtZGV0YWlsLWluZm9fX2J1dHRvbi1lZGl0IilbMF07CiAgICAgICAgaWYgKEJ0bi5jbGFzc05hbWUgPT0gImdkYS1idG4gZ2RhLWJ0bi1wcmltYXJ5IGdkZC1tYXRlcmlhbC1kZXRhaWwtaW5mb19fYnV0dG9uLWVkaXQiKSB7CiAgICAgICAgICAgIEJ0bi5jbGljaygpO319LDI1MDApCgoKCi8qKgphZGRFdmVudExpc3RlbmVyKCdjbGljaycsICh7dGFyZ2V0fSkgPT4gewogICAgdmFyIGpzX2NvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJqc19jb250ZW50IilbMF07CiAgICBpZih0YXJnZXQgPT09IGpzX2NvbnRlbnQpIHsKICAgIGpzX2NvbnRlbnQuc2VsZWN0KCk7CiAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpOwogIH0KfSkKYWxlcnQoImhhaCIpCioqLwp9KSgpOwo="},{"name":"自动无缝翻页","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null}},"storage":{"ts":1661936236493,"data":{"menu_disable":"o[\"greasyfork.org\"]","menu_discuz_thread_page":"btrue","menu_page_number":"btrue","menu_pause_page":"bfalse"}},"enabled":false,"position":7,"file_url":"https://greasyfork.org/scripts/419215-%E8%87%AA%E5%8A%A8%E6%97%A0%E7%BC%9D%E7%BF%BB%E9%A1%B5/code/%E8%87%AA%E5%8A%A8%E6%97%A0%E7%BC%9D%E7%BF%BB%E9%A1%B5.user.js","uuid":"74817b73-3d0c-467a-a273-193a6b21d60a","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDoh6rliqjml6DnvJ3nv7vpobUKLy8gQHZlcnNpb24gICAgICAyLjYuMQovLyBAYXV0aG9yICAgICAgIFguSS5VCi8vIEBkZXNjcmlwdGlvbiAg5peg57yd5ou85o6l5LiL5LiA6aG15YaF5a6577yI54CR5biD5rWB77yJ77yM55uu5YmN5pSv5oyB77yaW+aJgOacieS9v+eUqOOAjERpc2N1eiHjgIFGbGFydW3jgIFEVVgoV29yZFByZXNzKeOAjeeahOe9keermV3jgIHnmb7luqbjgIHosLfmrYzjgIHlv4XlupTjgIHmkJzni5fjgIHlpLTmnaHmkJzntKLjgIEzNjAg5pCc57Si44CB5b6u5L+h5pCc57Si44CB6LS05ZCn44CB6LGG55Oj44CB5b6u5Y2a44CBTkdB44CBVjJFWOOAgem+meeahOWkqeepuuOAgei1t+eCueWwj+ivtOOAgeeFjuibi+e9keOAgUlU5LmL5a6244CB5Y2D5Zu+572R44CBUGl4YWJheeOAgTNETeOAgea4uOS+oOe9keOAgea4uOawkeaYn+epuuOAgU5leHVzTW9kc+OAgVN0ZWFtIOWIm+aEj+W3peWdiuOAgUNTLlJJTi5SVeOAgUZpdEdpcmzjgIHniYflupPjgIHojLbmna/ni5DjgIFOT+inhumikeOAgeS9juerr+W9seinhuOAgeWliOiPsuW9seinhuOAgTkx576O5Ymn572R44CB55yf5LiN5Y2h5b2x6Zmi44CB6Z+z6IyD5Lid44CBQlTkuYvlrrbjgIHokIznlarnu4TjgIHliqjmvKvoirHlm63jgIHmqLHoirHliqjmvKvjgIHniLHmgYvliqjmvKvjgIFBR0Ug5Yqo5ryr44CBTnlhYeOAgVNya0JU44CBUkFSQkfjgIFTdWJIROOAgTQyM0Rvd27jgIHkuI3mrbvpuJ/jgIHmianlsZXov7fjgIHmnoHnroDmj5Lku7bjgIHlsI/kvJfova/ku7bjgIHliqjmvKvni4LjgIHmvKvnlLvnjKvjgIHmvKvnlLtEQuOAgUhpQ29taWPjgIHliqjmvKvkuYvlrrbjgIHlj6Tpo47mvKvnlLvnvZHjgIFQdWJNZWTjgIF3aWtpSG9344CBR3JlYXN5Rm9ya+OAgUdpdGh1YuOAgVN0YWNrT3ZlcmZsb3fvvIjku6XkuIrku4XkuIDpg6jliIbvvIzmm7TlpJrnmoTlhpnkuI3kuIvkuoYuLi4KLy8gQG1hdGNoICAgICAgICAqOi8vKi8qCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9pLmxvbGkubmV0LzIwMjEvMDMvMDcvcmRpamVZbTgzcHpueFdxLnBuZwovLyBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICAgR01fcmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9ub3RpZmljYXRpb24KLy8gQGdyYW50ICAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGxpY2Vuc2UgICAgICBHUEwtMy4wIExpY2Vuc2UKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dpdGh1Yi5jb20vWElVMi9Vc2VyU2NyaXB0Ci8vIEBzdXBwb3J0VVJMICAgaHR0cHM6Ly9naXRodWIuY29tL1hJVTIvVXNlclNjcmlwdAovLyBAaG9tZXBhZ2VVUkwgIGh0dHBzOi8vZ2l0aHViLmNvbS9YSVUyL1VzZXJTY3JpcHQKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgbWVudUFsbCA9IFsKICAgICAgICBbJ21lbnVfZGlzYWJsZScsICfinIUg5bey5ZCv55SoICjngrnlh7vlr7nlvZPliY3nvZHnq5nnpoHnlKgpJywgJ+KdjCDlt7LnpoHnlKggKOeCueWHu+WvueW9k+WJjee9keermeWQr+eUqCknLCBbXV0sCiAgICAgICAgWydtZW51X2Rpc2N1el90aHJlYWRfcGFnZScsICfluJblrZDlhoXoh6rliqjnv7vpobUgKOS7heiuuuWdmyknLCAn5biW5a2Q5YaF6Ieq5Yqo57+76aG1ICjku4XorrrlnZspJywgdHJ1ZV0sCiAgICAgICAgWydtZW51X3BhZ2VfbnVtYmVyJywgJ+aYvuekuuW9k+WJjemhteeggeWPiueCueWHu+aaguWBnOe/u+mhtScsICfmmL7npLrlvZPliY3pobXnoIHlj4rngrnlh7vmmoLlgZznv7vpobUnLCB0cnVlXSwKICAgICAgICBbJ21lbnVfcGF1c2VfcGFnZScsICflt6bplK7lj4zlh7vnvZHpobXnqbrnmb3lpITmmoLlgZznv7vpobUnLCAn5bem6ZSu5Y+M5Ye7572R6aG156m655m95aSE5pqC5YGc57+76aG1JywgZmFsc2VdCiAgICBdLCBtZW51SWQgPSBbXSwgd2ViVHlwZSA9IDAsIGN1clNpdGUgPSB7U2l0ZVR5cGVJRDogMH0sIERCU2l0ZSwgU2l0ZVR5cGUsIHBhdXNlUGFnZSA9IHRydWUsIHBhZ2VOdW0gPSB7bm93OiAxLCBfbm93OiAxfSwgbG9jYXRpb25jaGFuZ2UgPSBmYWxzZSwgbm93TG9jYXRpb24gPSAnJywgZm9ydW1XZWJzaXRlID0gWydjcy5yaW4ucnUnLCAnd3d3LmZseWVydC5jb20nLCAnYmJzLnBlZGl5LmNvbScsICd3d3cubGliYWNsdWIuY29tJ107CiAgICBmb3IgKGxldCBpPTA7aTxtZW51QWxsLmxlbmd0aDtpKyspeyAvLyDlpoLmnpzor7vlj5bliLDnmoTlgLzkuLogbnVsbCDlsLHlhpnlhaXpu5jorqTlgLwKICAgICAgICBpZiAoR01fZ2V0VmFsdWUobWVudUFsbFtpXVswXSkgPT0gbnVsbCl7R01fc2V0VmFsdWUobWVudUFsbFtpXVswXSwgbWVudUFsbFtpXVszXSl9OwogICAgfQogICAgcmVnaXN0ZXJNZW51Q29tbWFuZCgpOwogICAgaWYgKG1lbnVJZC5sZW5ndGggPCAyKSB7cmV0dXJufQogICAgLy8g5rOo5YaM6ISa5pys6I+c5Y2VCiAgICBmdW5jdGlvbiByZWdpc3Rlck1lbnVDb21tYW5kKCkgewogICAgICAgIGlmIChtZW51SWQubGVuZ3RoICE9IFtdKXsKICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8bWVudUlkLmxlbmd0aDtpKyspewogICAgICAgICAgICAgICAgR01fdW5yZWdpc3Rlck1lbnVDb21tYW5kKG1lbnVJZFtpXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yIChsZXQgaT0wO2k8bWVudUFsbC5sZW5ndGg7aSsrKSB7IC8vIOW+queOr+azqOWGjOiEmuacrOiPnOWNlQogICAgICAgICAgICBtZW51QWxsW2ldWzNdID0gR01fZ2V0VmFsdWUobWVudUFsbFtpXVswXSk7CiAgICAgICAgICAgIGlmIChtZW51QWxsW2ldWzBdID09PSAnbWVudV9kaXNhYmxlJykgeyAvLyDlkK/nlKgv56aB55SoCgogICAgICAgICAgICAgICAgaWYgKG1lbnVfZGlzYWJsZSgnY2hlY2snKSkgeyAvLyDlvZPliY3nvZHnq5nlnKjnpoHnlKjliJfooajkuK0KICAgICAgICAgICAgICAgICAgICBtZW51SWRbaV0gPSBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGAke21lbnVBbGxbaV1bMl19YCwgZnVuY3Rpb24oKXttZW51X2Rpc2FibGUoJ2RlbCcpfSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyAvLyDkuI3lnKjnpoHnlKjliJfooajkuK0KICAgICAgICAgICAgICAgICAgICB3ZWJUeXBlID0gZG9lc0l0U3VwcG9ydCgpOyAvLyDliKTmlq3nvZHnq5nnsbvlnovvvIjljbPmmK/lkKbmlK/mjIHvvInvvIzpobrkvr/nm7TmjqXotYvlgLwKICAgICAgICAgICAgICAgICAgICBpZiAod2ViVHlwZSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCfinYwg5b2T5YmN572R56uZ5pqC5LiN5pSv5oyBIFvngrnlh7vnlLPor7fmlK/mjIFdJywgZnVuY3Rpb24gKCkge3dpbmRvdy5HTV9vcGVuSW5UYWIoJ2h0dHBzOi8vZ2l0aHViLmNvbS9YSVUyL1VzZXJTY3JpcHQjeGl1MnVzZXJzY3JpcHQnLCB7YWN0aXZlOiB0cnVlLGluc2VydDogdHJ1ZSxzZXRQYXJlbnQ6IHRydWV9KTt3aW5kb3cuR01fb3BlbkluVGFiKCdodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvNDE5MjE1L2ZlZWRiYWNrJywge2FjdGl2ZTogdHJ1ZSxpbnNlcnQ6IHRydWUsc2V0UGFyZW50OiB0cnVlfSk7fSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnW+iHquWKqOaXoOe8nee/u+mhtV0gLSDkuI3mlK/mjIHlvZPliY3nvZHnq5kgWyAnICsgbG9jYXRpb24uaHJlZiArICcgXe+8jOasoui/jueUs+ivt+aUr+aMgTogaHR0cHM6Ly9naXRodWIuY29tL1hJVTIvVXNlclNjcmlwdCAvIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy85Njg4MC9mZWVkYmFjaycpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdlYlR5cGUgPT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBtZW51SWRbaV0gPSBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGAke21lbnVBbGxbaV1bMV19YCwgZnVuY3Rpb24oKXttZW51X2Rpc2FibGUoJ2FkZCcpfSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9IGVsc2UgaWYgKG1lbnVBbGxbaV1bMF0gPT09ICdtZW51X2Rpc2N1el90aHJlYWRfcGFnZScpIHsgLy8g5biW5a2Q5YaF6Ieq5Yqo57+76aG1ICjku4XorrrlnZspCgogICAgICAgICAgICAgICAgaWYgKHdlYlR5cGUgPT09IDIgfHwgZm9ydW1XZWJzaXRlLmluZGV4T2YobG9jYXRpb24uaG9zdCkgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIG1lbnVJZFtpXSA9IEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQoYCR7bWVudUFsbFtpXVszXT8n4pyFJzon4p2MJ30gJHttZW51QWxsW2ldWzFdfWAsIGZ1bmN0aW9uKCl7bWVudV9zd2l0Y2gobWVudUFsbFtpXVszXSwgbWVudUFsbFtpXVswXSwgbWVudUFsbFtpXVsyXSl9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBtZW51SWRbaV0gPSBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKGAke21lbnVBbGxbaV1bM10/J+KchSc6J+KdjCd9ICR7bWVudUFsbFtpXVsxXX1gLCBmdW5jdGlvbigpe21lbnVfc3dpdGNoKG1lbnVBbGxbaV1bM10sIG1lbnVBbGxbaV1bMF0sIG1lbnVBbGxbaV1bMl0pfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgbWVudUlkW21lbnVJZC5sZW5ndGhdID0gR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgn8J+SrCDlj43ppoggJiDmrKLov47nlLPor7fmlK/mjIEnLCBmdW5jdGlvbiAoKSB7d2luZG93LkdNX29wZW5JblRhYignaHR0cHM6Ly9naXRodWIuY29tL1hJVTIvVXNlclNjcmlwdCN4aXUydXNlcnNjcmlwdCcsIHthY3RpdmU6IHRydWUsaW5zZXJ0OiB0cnVlLHNldFBhcmVudDogdHJ1ZX0pO3dpbmRvdy5HTV9vcGVuSW5UYWIoJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vc2NyaXB0cy80MTkyMTUvZmVlZGJhY2snLCB7YWN0aXZlOiB0cnVlLGluc2VydDogdHJ1ZSxzZXRQYXJlbnQ6IHRydWV9KTt9KTsKICAgIH0KCiAgICAvLyDnvZHnq5nop4TliJkKICAgIGZ1bmN0aW9uIHNldERCU2l0ZSgpIHsKICAgIC8qCiAgICDoh6rliqjnv7vpobXop4TliJkKICAgIGxvY2F0aW9uY2hhbmdlOiDlr7nkuo7kvb/nlKggcGpheCDmioDmnK/nmoTnvZHnq5nvvIzpnIDopoHnm5HlkKwgVVJMIOWPmOWMluadpemHjeaWsOWIpOaWree/u+mhteinhOWImQogICAgdHlwZe+8mgogICAgICAxID0g55Sx6ISa5pys5a6e546w6Ieq5Yqo5peg57yd57+76aG1CiAgICAgIDIgPSDnvZHnq5noh6rluKbkuoboh6rliqjml6DnvJ3nv7vpobXlip/og73vvIzlj6rpnIDopoHngrnlh7vkuIvkuIDpobXmjInpkq7ljbPlj68KICAgICAgICAgIG5leHRUZXh0OiDmjInpkq7mlofmnKzvvIzlvZPmjInpkq7mlofmnKwgPSDor6XmlofmnKzml7bvvIzmiY3kvJrngrnlh7vmjInpkq7liqDovb3kuIvkuIDpobXvvIjpgb/lhY3kuIDnnqzpl7TliqDovb3lpKrlpJrmrKHkuIvkuIDpobXvvIkKICAgICAgICAgIG5leHRUZXh0T2Y6IOaMiemSruaWh+acrOeahOS4gOmDqOWIhu+8jOW9k+aMiemSruaWh+acrOWMheWQq+ivpeaWh+acrOaXtu+8jOaJjeS8mueCueWHu+aMiemSruWKoOi9veS4i+S4gOmhte+8iOmBv+WFjeS4gOeerOmXtOWKoOi9veWkquWkmuasoeS4i+S4gOmhte+8iQogICAgICAgICAgbmV4dEhUTUw6IOaMiemSruWGheWFg+e0oO+8jOW9k+aMiemSruWGheWFg+e0oCA9IOivpeWFg+e0oOWGheWuueaXtu+8jOaJjeS8mueCueWHu+aMiemSruWKoOi9veS4i+S4gOmhte+8iOmBv+WFjeS4gOeerOmXtOWKoOi9veWkquWkmuasoeS4i+S4gOmhte+8iQogICAgICAgICAgaW50ZXJ2YWxzOiDngrnlh7vpl7TpmpTml7bpl7TvvIzlr7nkuo7msqHmnInmjInpkq7mloflrZflj5jljJbnmoTmjInpkq7vvIzlj6/ku6XmiYvliqjmjIflrprpl7TpmpTml7bpl7TvvIzljZXkvY3vvJptcwogICAgICAzID0g5L6d6Z2g5YWD57Sg6Led56a75Y+v6KeG5Yy65Z+f5bqV6YOo55qE6Led56a75p2l6Kem5Y+R57+76aG1CiAgICAgIDQgPSDpg6jliIbnroDljZXnmoTliqjmgIHliqDovb3nsbvnvZHnq5nvvIjmmoLml7bvvIkKICAgIGluc2VydFBvc2l0aW9u77yaCiAgICAgIDEgPSDmj5LlhaXor6XlhYPntKDmnKzouqvnmoTliY3pnaLvvJsKICAgICAgMiA9IOaPkuWFpeivpeWFg+e0oOW9k+S4re+8jOesrOS4gOS4quWtkOWFg+e0oOWJjemdou+8mwogICAgICAzID0g5o+S5YWl6K+l5YWD57Sg5b2T5Lit77yM5pyA5ZCO5LiA5Liq5a2Q5YWD57Sg5ZCO6Z2i77ybCiAgICAgIDQgPSDmj5LlhaXor6XlhYPntKDmnKzouqvnmoTlkI7pnaLvvJsKICAgIG1pbWVUeXBlOiDnvZHnq5nnvJbnoIEKICAgIHNjcmlwdFR5cGU6IOWNleeLrOaPkuWFpSA8c2NyaXB0PiDmoIfnrb4KICAgICAgMSA9IOS4i+S4gOmhteeahOaJgOaciSA8c2NyaXB0PiDmoIfnrb4KICAgICAgMiA9IOS4i+S4gOmhteS4u+S9k+WFg+e0oOWQjOe6pyA8c2NyaXB0PiDmoIfnrb4KICAgICAgMyA9IOS4i+S4gOmhteS4u+S9k+WFg+e0oOWQjOe6pyA8c2NyaXB0PiDmoIfnrb7vvIjov5znqIvmlofku7bvvIkKICAgICAgNCA9IOS4i+S4gOmhteS4u+S9k+WFg+e0oOWtkOWFg+e0oCA8c2NyaXB0PiDmoIfnrb4KICAgIGhpc3Rvcnk6IOa3u+WKoOWOhuWPsuiusOW9lSDlubYg5L+u5pS55b2T5YmNIFVSTAogICAgZm9yY2VIVFRQUzog5LiL5LiA6aG16ZO+5o6l5by65Yi2IEhUVFBTCiAgICBzY3JvbGxEZWx0Ye+8muaVsOWAvOi2iuWkp++8jOa7muWKqOadoeinpuWPkeeCuei2iumdoOS4iu+8iOi2iuaXqeW8gOWni+e/u+mhte+8ie+8jOS4gOiIrOaYr+iuv+mXrue9kemhtemAn+W6pui2iuaFou+8jOivpeWAvOWwsemcgOimgei2iuWkp++8iOWmguaenCBUeXBlID0gM++8jOWImeebuOWPje+8iQogICAgZnVuY3Rpb27vvJoKICAgICAgYmVmb3JlID0g5o+S5YWl5YmN5omn6KGM5Ye95pWw77ybCiAgICAgIGFmdGVyID0g5o+S5YWl5ZCO5omn6KGM5Ye95pWw77ybCiAgICAgIHBhcmFtZXRlciA9IOWPguaVsAogICAgKi8KICAgICAgICBEQlNpdGUgPSB7CiAgICAgICAgICAgIGJhaWR1X3RpZWJhOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3RpZWJhLmJhaWR1LmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvZicpIHsKICAgICAgICAgICAgICAgICAgICBiYWlkdV90aWViYV8xKCk7IC8vIOWPs+S+p+aCrOa1ruWPkeW4luaMiemSrueCueWHu+S6i+S7tu+8iOino+WGs+iHquWKqOe/u+mhteWvvOiHtOaXoOazleWPkeW4lueahOmXrumimO+8iQogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuYmFpZHVfdGllYmE7IGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnaW1nLmpfcmV0cmFjdCB7bWFyZ2luLXRvcDogMCAhaW1wb3J0YW50O21hcmdpbi1ib3R0b206IDAgIWltcG9ydGFudDt9JzsgLy8g5L+u5aSN5biW5a2Q5YiX6KGo5Lit6aKE6KeI5Zu+54mH77yM5Zyo5YiH5o2i5LiL5LiA5LiqL+S4iuS4gOS4quWbvueJh+aXtu+8jOWkmuWHuuadpeeahOWbvueJh+S4iuS4i+i+uei3nQogICAgICAgICAgICAgICAgLy99IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9wLycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAvL2N1clNpdGUgPSBEQlNpdGUuYmFpZHVfdGllYmFfcG9zdDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvZi9zZWFyY2gvcmVzJykgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuYmFpZHVfdGllYmFfc2VhcmNoOwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDQsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6IGJhaWR1X3RpZWJhX2Z1bmN0aW9uTmV4dCwKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjdGhyZWFkX2xpc3QgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyN0aHJlYWRfbGlzdCcsIDNdLAogICAgICAgICAgICAgICAgICAgIGluc2VydEVsZW1lbnQ6IGJhaWR1X3RpZWJhX2luc2VydEVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I2Zyc19saXN0X3BhZ2VyJywKICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbHM6IDMwMDAsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDIwMDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbjogewogICAgICAgICAgICAgICAgICAgIGJlZm9yZTogYmFpZHVfdGllYmFfZnVuY3Rpb25CZWZvcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgIOeZvuW6pui0tOWQpyAtIOW4luWtkOWIl+ihqAogICAgICAgICAgICBiYWlkdV90aWViYV9wb3N0OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9saVtjb250YWlucyhAY2xhc3MsInBiX2xpc3RfcGFnZXIiKV0vYVtjb250YWlucyh0ZXh0KCksIuS4i+S4gOmhtSIpXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNqX3BfcG9zdGxpc3QgPiBkaXYnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczsjal9wX3Bvc3RsaXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7bGkucGJfbGlzdF9wYWdlcicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICDnmb7luqbotLTlkKcgLSDluJblrZDlhoUKICAgICAgICAgICAgYmFpZHVfdGllYmFfc2VhcmNoOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0ibmV4dCJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I2pfcF9wb3N0bGlzdCA+IConLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczsjal9wX3Bvc3RsaXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2VyLnBhZ2VyLXNlYXJjaCcsCiAgICAgICAgICAgICAgICAgICAgc2NyaXB0VHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyDnmb7luqbotLTlkKcgLSDmkJzntKLpobUKICAgICAgICAgICAgZG91YmFuX3N1YmplY3RfY29tbWVudHM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnbW92aWUuZG91YmFuLmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3N1YmplY3QnKSA+IC0xICYmIGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9jb21tZW50cycpID4gLTEpIHsgLy8g55+t6K+E5YiX6KGoCiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5kb3ViYW5fc3ViamVjdF9jb21tZW50czsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3N1YmplY3QnKSA+IC0xICYmIGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9yZXZpZXdzJykgPiAtMSkgeyAvLyDlvbHor4TliJfooagKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRvdWJhbl9zdWJqZWN0X3Jldmlld3M7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3N1YmplY3QnKSA+IC0xICYmIGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9lcGlzb2RlJykgPiAtMSkgeyAvLyDnlLXop4bliafmr4/pm4bor4TorroKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRvdWJhbl9zdWJqZWN0X2VwaXNvZGU7CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9Im5leHQiXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNjb21tZW50cyA+IC5jb21tZW50LWl0ZW0nLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjcGFnaW5hdG9yJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I3BhZ2luYXRvcicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8g6LGG55OjIC0g55+t6K+ECiAgICAgICAgICAgIGRvdWJhbl9zdWJqZWN0X3Jldmlld3M6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2xpbmtbQHJlbD0ibmV4dCJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnJldmlldy1saXN0ID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnJldmlldy1saXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRvcicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gIOixhueToyAtIOW9seivhAogICAgICAgICAgICBkb3ViYW5fc3ViamVjdF9lcGlzb2RlOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9saW5rW0ByZWw9Im5leHQiXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNjb21tZW50cyA+IGRpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNjb21tZW50cycsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0b3InLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICDosYbnk6MgLSDliafor4QKICAgICAgICAgICAgZG91YmFuX2dyb3VwOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5kb3ViYW4uY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvZ3JvdXAvdG9waWMvJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZG91YmFuX2dyb3VwX3RvcGljOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvZ3JvdXAvZXhwbG9yZScpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRvdWJhbl9ncm91cF9leHBsb3JlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvZ3JvdXAvJykgPiAtMSAmJiBsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvZGlzY3Vzc2lvbicpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRvdWJhbl9ncm91cDsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO3NwYW4ubmV4dCA+IGEnLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO3RhYmxlLm9sdCA+IHRib2R5ID4gdHI6bm90KC50aCknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt0YWJsZS5vbHQgPiB0Ym9keScsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0b3InLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAg6LGG55OjIC0g5bCP57uECiAgICAgICAgICAgIGRvdWJhbl9ncm91cF9leHBsb3JlOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO3NwYW4ubmV4dCA+IGEnLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNjb250ZW50IC5hcnRpY2xlID4gZGl2ID4gLmNoYW5uZWwtaXRlbScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNjb250ZW50IC5hcnRpY2xlID4gZGl2JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRvcicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAg6LGG55OjIC0g5bCP57uE6K6o6K6657K+6YCJCiAgICAgICAgICAgIGRvdWJhbl9ncm91cF90b3BpYzogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzcztzcGFuLm5leHQgPiBhJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjY29tbWVudHMgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNjb21tZW50cycsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0b3InLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAg6LGG55OjIC0g5bCP57uE5biW5a2Q5YaFCiAgICAgICAgICAgIHdlaWJvX2NvbW1lbnQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd2VpYm8uY29tJywKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMiwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2FbYWN0aW9uLXR5cGU9ImNsaWNrX21vcmVfY29tbWVudCJdJywKICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dDogJ+afpeeci+abtOWkmmMnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgIOW+ruWNmuivhOiuugogICAgICAgICAgICB0aWFueWE6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnYmJzLnRpYW55YS5jbicsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2xpc3QnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS50aWFueWE7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9wb3N0JykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUudGlhbnlhX3Bvc3Q7CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W2NvbnRhaW5zKEBjbGFzcywgInBhZ2VzIildL2RpdltAY2xhc3M9ImxpbmtzIl0vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy50YWItYmJzLWxpc3QgPiB0Ym9keTpub3QoOmZpcnN0LW9mLXR5cGUpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7dGFibGUudGFiLWJicy1saXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICcvL2Rpdltjb250YWlucyhAY2xhc3MsICJwYWdlcyIpXScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgIOWkqea2r+ekvuWMugogICAgICAgICAgICB0aWFueWFfcG9zdDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2EuanMta2V5Ym9hcmQtbmV4dFtocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LmF0bC1tYWluID4gZGl2W2NsYXNzPSJhdGwtaXRlbSJdJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LmF0bC1tYWluJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LmF0bC1wYWdlcyA+IGZvcm0nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAg5aSp5rav56S+5Yy6IC0g5biW5a2Q5YaFCiAgICAgICAgICAgIG5nYV90aHJlYWQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiBbJ2Jicy5uZ2EuY24nLCAnbmdhYmJzLmNvbScsICduZ2EuMTc4LmNvbScsICdnLm5nYS5jbiddLAogICAgICAgICAgICAgICAgaWZyYW1lOiB0cnVlLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7bG9jYXRpb25jaGFuZ2UgPSB0cnVlOwogICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3RocmVhZC5waHAnKSB7IC8vIOW4luWtkOWIl+ihqAogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUubmdhX3RocmVhZDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvcmVhZC5waHAnKSB7IC8vIOW4luWtkOWGhQogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUubmdhX3JlYWQ7CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczsjcGFnZWJidG0gYVt0aXRsZT0i5LiL5LiA6aG1Il1baHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyN0b3BpY3Jvd3MgPiB0Ym9keSwgI3RvcGljcm93cyA+IHNjcmlwdCcsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyN0b3BpY3Jvd3MnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzcztkaXZbbmFtZT0icGFnZWJhbGwiXScsCiAgICAgICAgICAgICAgICAgICAgc2NyaXB0VHlwZTogMiwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IG5nYV90aHJlYWRfZnVuY3Rpb25BZnRlcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICBOR0EgLSDlkITniYjlnZfluJblrZDliJfooagKICAgICAgICAgICAgbmdhX3JlYWQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7I3BhZ2ViYnRtIGFbdGl0bGUqPSLkuIvkuIDpobUiXVtocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdpZCgibV9wb3N0c19jIikvdGFibGUgfCBpZCgibV9wb3N0c19jIikvc2NyaXB0IHwgLy9zY3JpcHRbY29udGFpbnModGV4dCgpLCAiY29tbW9udWkudXNlckluZm8uc2V0QWxsIildJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I21fcG9zdHNfYycsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO2RpdltuYW1lPSJwYWdlYmFsbCJdJywKICAgICAgICAgICAgICAgICAgICBzY3JpcHRUeXBlOiAyLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgTkdBIC0g5biW5a2Q5YaFCiAgICAgICAgICAgIHYyZXhfcmVjZW50OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogWyd2MmV4LmNvbScsICd3d3cudjJleC5jb20nXSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nKSB7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICDpppbpobUKICAgICAgICAgICAgICAgICAgICB2MmV4X2Z1bmN0aW9uQWZ0ZXIoJyNNYWluIGEudG9waWMtbGluazpub3QoW3RhcmdldF0pJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3JlY2VudCcpIHsgLy8gICAgICAgICAgICAg5pyA6L+R5Li76aKY6aG1CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS52MmV4X3JlY2VudDsKICAgICAgICAgICAgICAgICAgICB2MmV4X2Z1bmN0aW9uQWZ0ZXIoJyNNYWluIGEudG9waWMtbGluazpub3QoW3RhcmdldF0pJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL25vdGlmaWNhdGlvbnMnKSB7IC8vICAgICAg5o+Q6YaS5raI5oGv6aG1CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS52MmV4X25vdGlmaWNhdGlvbnM7CiAgICAgICAgICAgICAgICAgICAgdjJleF9mdW5jdGlvbkFmdGVyKCcjTWFpbiBhW2hyZWZePSIvdC8iXTpub3QoW3RhcmdldF0pJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL2JhbGFuY2UnKSB7IC8vICAgICAgICAgICAg6LSm5oi35L2Z6aKd6aG1CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS52MmV4X2JhbGFuY2U7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9nby8nKSA+IC0xKSB7IC8vICAgICAg5YiG57G75Li76aKY6aG1CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS52MmV4X2dvOwogICAgICAgICAgICAgICAgICAgIHYyZXhfZnVuY3Rpb25BZnRlcignI01haW4gYS50b3BpYy1saW5rOm5vdChbdGFyZ2V0XSknKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3JlcGxpZXMnKSA+IC0xKSB7IC8vICDnlKjmiLflm57lpI3pobUKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnYyZXhfcmVwbGllczsKICAgICAgICAgICAgICAgICAgICB2MmV4X2Z1bmN0aW9uQWZ0ZXIoJyNNYWluIGFbaHJlZl49Ii90LyJdOm5vdChbdGFyZ2V0XSknKTsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0icGFnZV9jdXJyZW50Il0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuY2VsbC5pdGVtJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWycvL2RpdltAaWQ9Ik1haW4iXS8vZGl2W0BjbGFzcz0iYm94Il0vL2RpdltAY2xhc3M9ImNlbGwiXVtsYXN0KCldJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I01haW4gPiAuYm94ID4gLmNlbGxbc3R5bGVdOm5vdCguaXRlbSkgPiB0YWJsZScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbjogewogICAgICAgICAgICAgICAgICAgIGFmdGVyOiB2MmV4X2Z1bmN0aW9uQWZ0ZXIsCiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyOiAnI01haW4gYS50b3BpYy1saW5rOm5vdChbdGFyZ2V0XSknCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgVjJFWCAtIOacgOi/keS4u+mimOmhtQogICAgICAgICAgICB2MmV4X25vdGlmaWNhdGlvbnM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJwYWdlX2N1cnJlbnQiXS9mb2xsb3dpbmctc2libGluZzo6YVsxXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNub3RpZmljYXRpb25zID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I25vdGlmaWNhdGlvbnMnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjTWFpbiA+IC5ib3ggPiAuY2VsbFtzdHlsZV0gPiB0YWJsZScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbjogewogICAgICAgICAgICAgICAgICAgIGFmdGVyOiB2MmV4X2Z1bmN0aW9uQWZ0ZXIsCiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyOiAnI01haW4gYVtocmVmXj0iL3QvIl06bm90KFt0YXJnZXRdKScKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gIFYyRVggLSDmj5DphpLmtojmga/pobUKICAgICAgICAgICAgdjJleF9yZXBsaWVzOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0icGFnZV9jdXJyZW50Il0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BpZD0iTWFpbiJdLy9kaXZbQGNsYXNzPSJib3giXS8vZGl2W0BjbGFzcz0iZG9ja19hcmVhIl0gfCAvLypbQGlkPSJNYWluIl0vL2RpdltAY2xhc3M9ImJveCJdLy9kaXZbQGNsYXNzPSJpbm5lciJdIHwgLy8qW0BpZD0iTWFpbiJdLy9kaXZbQGNsYXNzPSJib3giXS8vZGl2W0BjbGFzcz0iZG9ja19hcmVhIl1bbGFzdCgpXS9mb2xsb3dpbmctc2libGluZzo6ZGl2W0BjbGFzcz0iY2VsbCJdWzFdJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWycvL2RpdltAaWQ9Ik1haW4iXS8vZGl2W0BjbGFzcz0iYm94Il0vL2RpdltAY2xhc3M9ImNlbGwiXVtsYXN0KCldJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I01haW4gPiAuYm94ID4gLmNlbGxbc3R5bGVdID4gdGFibGUnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBhZnRlcjogdjJleF9mdW5jdGlvbkFmdGVyLAogICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcjogJyNNYWluIGFbaHJlZl49Ii90LyJdOm5vdChbdGFyZ2V0XSknCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICBWMkVYIC0g55So5oi35Zue5aSN6aG1CiAgICAgICAgICAgIHYyZXhfZ286IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJwYWdlX2N1cnJlbnQiXS9mb2xsb3dpbmctc2libGluZzo6YVsxXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNUb3BpY3NOb2RlID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I1RvcGljc05vZGUnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjTWFpbiA+IC5ib3ggPiAuY2VsbFtzdHlsZV0gPiB0YWJsZScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbjogewogICAgICAgICAgICAgICAgICAgIGFmdGVyOiB2MmV4X2Z1bmN0aW9uQWZ0ZXIsCiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyOiAnI01haW4gYS50b3BpYy1saW5rOm5vdChbdGFyZ2V0XSknCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgIFYyRVggLSDliIbnsbvkuLvpopjpobUKICAgICAgICAgICAgdjJleF9iYWxhbmNlOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0icGFnZV9jdXJyZW50Il0vZm9sbG93aW5nLXNpYmxpbmc6OmFbMV1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjTWFpbiAuYm94ID4gZGl2Om5vdCguY2VsbCkgPiB0YWJsZSA+IHRib2R5ID4gdHI6bm90KDpmaXJzdC1jaGlsZCknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjTWFpbiAuYm94ID4gZGl2Om5vdCguY2VsbCkgPiB0YWJsZSA+IHRib2R5JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I01haW4gPiAuYm94ID4gLmNlbGxbc3R5bGVdID4gdGFibGUnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICBWMkVYIC0g6LSm5oi35L2Z6aKd6aG1CiAgICAgICAgICAgIGxrb25nOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5sa29uZy5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9mb3J1bS8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5sa29uZzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3RocmVhZC8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5sa29uZ190aHJlYWQ7CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogbGtvbmdfZnVuY3Rpb25OZXh0LAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbQGNsYXNzPSJtYWluLXRpdGxlIl0vcGFyZW50OjpkaXYvcGFyZW50OjpkaXYgfCAvL2hlYWQvc3R5bGVbQGRhdGEtZW1vdGlvbi1jc3NdJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWycvL2RpdltAY2xhc3M9Im1haW4tdGl0bGUiXVsxXS9wYXJlbnQ6OmRpdi9wYXJlbnQ6OmRpdi9wYXJlbnQ6OmRpdicsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO3VsLmFudC1wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbHM6IDUwMCwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTIwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICAgIOm+meeahOWkqeepuiAtIOWQhOeJiOWdl+W4luWtkOWIl+ihqAogICAgICAgICAgICBsa29uZ190aHJlYWQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6IGxrb25nX2Z1bmN0aW9uTmV4dCwKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJy8vZGl2W0BjbGFzcz0ibWFpbi1jb250ZW50Il0vcGFyZW50OjpkaXYgfCAvL2hlYWQvc3R5bGVbQGRhdGEtZW1vdGlvbi1jc3NdJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWycvL2RpdltAY2xhc3M9Im1haW4tY29udGVudCJdWzFdL3BhcmVudDo6ZGl2L3BhcmVudDo6ZGl2JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7dWwuYW50LXBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIGludGVydmFsczogNTAwLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMjAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICDpvpnnmoTlpKnnqbogLSDluJblrZDlhoUKICAgICAgICAgICAgcGVkaXlfZm9ydW06IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnYmJzLnBlZGl5LmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2ZvcnVtLScpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnBlZGl5X2ZvcnVtOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvdGhyZWFkLScpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoJ21lbnVfZGlzY3V6X3RocmVhZF9wYWdlJykpIHtjdXJTaXRlID0gREJTaXRlLnBlZGl5X3RocmVhZDt9CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vdWxbY29udGFpbnMoQGNsYXNzLCAicGFnaW5hdGlvbiIpXS8vYVtjb250YWlucyh0ZXh0KCksICLilrYiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO3RhYmxlLnRocmVhZGxpc3QgPiB0Ym9keSA+IHRyJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7dGFibGUudGhyZWFkbGlzdCA+IHRib2R5JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7dWwucGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICDnnIvpm6rorrrlnZsgLSDlkITniYjlnZfluJblrZDliJfooagKICAgICAgICAgICAgcGVkaXlfdGhyZWFkOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy91bFtjb250YWlucyhAY2xhc3MsICJwYWdpbmF0aW9uIildLy9hW2NvbnRhaW5zKHRleHQoKSwgIuKWtiIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7dGFibGUucG9zdGxpc3QgPiB0Ym9keSA+IHRyW2RhdGEtcGlkXScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzO3RhYmxlLnBvc3RsaXN0ID4gdGJvZHkgPiB0cjpub3QoW2RhdGEtcGlkXSknLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2Nzczt1bC5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAg55yL6Zuq6K665Z2bIC0g5biW5a2Q5YaFCiAgICAgICAgICAgIGtkc2xpZmU6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnY2x1Yi5rZHNsaWZlLmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2ZfJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmtkc2xpZmU7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvdF8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUua2RzbGlmZV90OwogICAgICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJmciBpM19yIl0vYVtAaHJlZl1bY29udGFpbnModGV4dCgpLCAi5ZCO5LiA6aG1IildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczt1bC5tYWluX0xpc3QgPiBsaS5pMjpub3QoLmhfYmcpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7dWwubWFpbl9MaXN0ID4gbGkuaTMnLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2Nzczt1bC5tYWluX0xpc3QgPiBsaS5pMycsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAg5a695bim5bGx6K665Z2bCiAgICAgICAgICAgIGtkc2xpZmVfdDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZXMiXS9hW2NvbnRhaW5zKHRleHQoKSwgIj4+IildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjcmVwbHlfbGlzdF9wYW5lbCA+ICosIHNjcmlwdFtzcmMqPSJ1aS9qcy9rZHMuanMiXScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNyZXBseV9saXN0X3BhbmVsJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2VzJywKICAgICAgICAgICAgICAgICAgICBzY3JpcHRUeXBlOiAzLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICDlrr3luKblsbHorrrlnZsgLSDluJblrZDlhoUKICAgICAgICAgICAgbGliYWNsdWI6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LmxpYmFjbHViLmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvJyB8fCBsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvZGF0ZV8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUubGliYWNsdWI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvZl8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUubGliYWNsdWJfZjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy90XycpID4gLTEgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3JlcGx5XycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5saWJhY2x1Yl90OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3BydF8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUubGliYWNsdWJfcHJ0OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvZmFjYWRlLnBocCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5saWJhY2x1Yl9zZWFyY2g7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnbGkudWktbGlzdC1tZXJjaGFudC1hZCwgLnVpLW5hdi1hcHBJbWFnZSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30nO30sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InVpLWNydW1icy1tb3JlIl0vYVtAY2xhc3M9ImZuLWxpbmsiXVsxXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7dWwudWktbGlzdCA+IGxpOm5vdCgudWktbGlzdC1pdGVtLWhlYWQpOm5vdCgudWktbGlzdC1tZXJjaGFudC1hZCknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt1bC51aS1saXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7ZGl2LnVpLWNydW1icy1tb3JlJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTIwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgIOevseeshue9keiuuuWdmwogICAgICAgICAgICBsaWJhY2x1Yl9mOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJ1aS1wYWdpbmciXS9hW0BjbGFzcz0idWktcGFnaW5nLW5leHQiXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7dWwudWktbGlzdCA+IGxpOm5vdCgudWktbGlzdC1pdGVtLWhlYWQpOm5vdCgudWktbGlzdC1tZXJjaGFudC1hZCknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt1bC51aS1saXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7ZGl2LnVpLXBhZ2luZycsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEyMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAg56+x56yG572R6K665Z2bIC0g5ZCE54mI5Z2X5biW5a2Q5YiX6KGoCiAgICAgICAgICAgIGxpYmFjbHViX3Q6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YS51aS1wYWdpbmctbmV4dCcsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnVpLWJveC1jb250ZW50ID4gZGl2LnVpLXRvcGljLCAudWktYm94LWNvbnRlbnQgPiBhW25hbWVdJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnVpLWJveC1jb250ZW50JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7ZGl2LnVpLXBhZ2luZycsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAg56+x56yG572R6K665Z2bIC0g5biW5a2Q5YaFCiAgICAgICAgICAgIGxpYmFjbHViX3BydDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczthLnVpLXBhZ2luZy1uZXh0JywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczt1bC51aS1saXN0ID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt1bC51aS1saXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7ZGl2LnVpLXBhZ2luZycsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDIwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgIOevseeshue9keiuuuWdmyAtIOW4luWtkOWGhSAtIOaJk+WNsOeJiAogICAgICAgICAgICBsaWJhY2x1Yl9zZWFyY2g6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InVpLXBhZ2UiXS9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnVpLWJveC1tYWluID4gdWwudWktbGlzdCA+IGxpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnVpLWJveC1tYWluID4gdWwudWktbGlzdCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO2Rpdi51aS1wYWdlJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTIwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAg56+x56yG572R6K665Z2bIC0g5pCc57Si6aG1CiAgICAgICAgICAgIHhjYXJfZm9ydW1kaXNwbGF5OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy54Y2FyLmNvbS5jbicsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvYmJzL2ZvcnVtZGlzcGxheS5waHAnKSB7Y3VyU2l0ZSA9IERCU2l0ZS54Y2FyX2ZvcnVtZGlzcGxheX19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EucGFnZV9kb3duJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsudGFibGUtc2VjdGlvbiA+IGRsOm5vdCgudGFibGVfaGVhZCknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsudGFibGUtc2VjdGlvbicsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5mb3J1bUxpc3RfcGFnZScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDIwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICDniLHljaHmsb3ovabnvZHorrrlnZsgLSDlkITniYjlnZfluJblrZDliJfooagKICAgICAgICAgICAgZmx5ZXJ0X2ZvcnVtZGlzcGxheTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cuZmx5ZXJ0LmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ21vZD1mb3J1bWRpc3BsYXknKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5mbHllcnRfZm9ydW1kaXNwbGF5OwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5zZWFyY2guaW5kZXhPZignbW9kPXZpZXd0aHJlYWQnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKEdNX2dldFZhbHVlKCdtZW51X2Rpc2N1el90aHJlYWRfcGFnZScpKSB7Y3VyU2l0ZSA9IERCU2l0ZS5mbHllcnRfdmlld3RocmVhZDt9CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9Im54dCJdW0BocmVmXVtub3QoY29udGFpbnMoQGhyZWYsICJqYXZhc2NyaXB0IikpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I3RocmVhZGxpc3QgdGFibGUgPiB0Ym9keVtpZF49Im5vcm1hbHRocmVhZF8iXScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnaWQoInRocmVhZGxpc3QiKS8vdGFibGUvdGJvZHlbc3RhcnRzLXdpdGgoQGlkLCAibm9ybWFsdGhyZWFkXyIpXS9wYXJlbnQ6OnRhYmxlJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBnJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMjUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyDpo57lrqLnvZHorrrlnZsgLSDlkITniYjlnZfluJblrZDliJfooagKICAgICAgICAgICAgZmx5ZXJ0X3ZpZXd0aHJlYWQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJueHQiXVtAaHJlZl1bbm90KGNvbnRhaW5zKEBocmVmLCAiamF2YXNjcmlwdCIpKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNwb3N0bGlzdCA+IC5jb21paXNfdmlld2JveCcsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNwb3N0bGlzdCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5jb21paXNfcGdzID4gLnBnJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMzAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgIOmjnuWuoue9keiuuuWdmyAtIOW4luWtkOWGhQogICAgICAgICAgICBhZG5tYjM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnYWRubWIzLmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL20vZi8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuYWRubWIzX21mOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL20vdC8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuYWRubWIzX210OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2YvJykgPiAtMSB8fCBsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvRm9ydW0vJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmFkbm1iMzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy90LycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5hZG5tYjNfdDsKICAgICAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vdWxbY29udGFpbnMoQGNsYXNzLCAicGFnaW5hdGlvbiIpXS8vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5oLXRocmVhZHMtbGlzdCA+ICosIHNjcmlwdFtzcmMkPSIvaC5kZXNrdG9wLmpzIl0nLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsuaC10aHJlYWRzLWxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJy8vdWxbY29udGFpbnMoQGNsYXNzLCAicGFnaW5hdGlvbiIpXScsCiAgICAgICAgICAgICAgICAgICAgc2NyaXB0VHlwZTogMywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICAgQSDlspsKICAgICAgICAgICAgYWRubWIzX3Q6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL3VsW2NvbnRhaW5zKEBjbGFzcywgInBhZ2luYXRpb24iKV0vL2FbY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aG1IildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuaC10aHJlYWRzLWxpc3QgPiAuaC10aHJlYWRzLWl0ZW0gPiAuaC10aHJlYWRzLWl0ZW0tcmVwbHlzLCBzY3JpcHRbc3JjJD0iL2guZGVza3RvcC5qcyJdJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LmgtdGhyZWFkcy1saXN0ID4gLmgtdGhyZWFkcy1pdGVtJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICcvL3VsW2NvbnRhaW5zKEBjbGFzcywgInBhZ2luYXRpb24iKV0nLAogICAgICAgICAgICAgICAgICAgIHNjcmlwdFR5cGU6IDMsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICBBIOWymyAtIOW4luWtkOWGhQogICAgICAgICAgICBhZG5tYjNfbWY6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2xpW2NvbnRhaW5zKEBjbGFzcywgInBhZ2luYXRpb24tbmV4dCIpXS8vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5oLW1pZGRsZSA+IGRpdltpZF49InRocmVhZHNfIl0sIC5oLW1pZGRsZSA+IGhyLmgtbWlkZGxlID4gZGl2W2lkXj0idGhyZWFkc18iXSwgLmgtbWlkZGxlID4gaHI6bnRoLW9mLXR5cGUobisyKSwgc2NyaXB0W3NyYyQ9Ii9oLm1vYmlsZS5qcyJdJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I2gtdGhyZWFkcy1wYWdpbmF0aW9uJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I2gtdGhyZWFkcy1wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JpcHRUeXBlOiAzLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICBBIOWymyAtIOW4luWtkOWIl+ihqO+8iOaJi+acuueJiO+8iQogICAgICAgICAgICBhZG5tYjNfbXQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2xpW2NvbnRhaW5zKEBjbGFzcywgInBhZ2luYXRpb24tbmV4dCIpXS8vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5oLXRocmVhZHMtcmVwbHlsaXN0ID4gZGl2LCBzY3JpcHRbc3JjJD0iL2gubW9iaWxlLmpzIl0nLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsuaC10aHJlYWRzLXJlcGx5bGlzdCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOyNoLXRocmVhZHMtcGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2NyaXB0VHlwZTogMywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgQSDlspsgLSDluJblrZDlhoXvvIjmiYvmnLrniYjvvIkKICAgICAgICAgICAgamFuZGFuOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ2phbmRhbi5uZXQnLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnLycgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3BhZ2UvJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuamFuZGFuOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9kemgnKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5qYW5kYW5fZHpoOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmphbmRhbl9jb21tZW50OwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9IndwLXBhZ2VuYXZpIl0vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKSBvciBjb250YWlucyh0ZXh0KCksICLmm7TlpJrmlofnq6AiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNjb250ZW50ID4gLmxpc3QtcG9zdCcsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy53cC1wYWdlbmF2aScsIDFdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy53cC1wYWdlbmF2aSwgI25hdl9wcmV2JywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBzcmNfb3JpZ2luYWxfZnVuY3Rpb25CZWZvcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICAgICDnhY7om4vnvZEKICAgICAgICAgICAgamFuZGFuX2NvbW1lbnQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YS5wcmV2aW91cy1jb21tZW50LXBhZ2UnLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO29sLmNvbW1lbnRsaXN0ID4gbGlbaWRePSJjb21tZW50LSJdLCBzY3JpcHRbc3JjXj0iLy9jZG4uamFuZGFuLm5ldC9zdGF0aWMvbWluLyJdJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7b2wuY29tbWVudGxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsuY3AtcGFnZW5hdmksICNuYXZfcHJldicsCiAgICAgICAgICAgICAgICAgICAgc2NyaXB0VHlwZTogMywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICDnhY7om4vnvZEKICAgICAgICAgICAgamFuZGFuX2R6aDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMiwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy5zaG93X21vcmUnLAogICAgICAgICAgICAgICAgICAgIGludGVydmFsczogMTUwMCwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICAg54WO6JuL572RIC0g5aSn5p2C54OpCiAgICAgICAgICAgIGd1b2tyOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5ndW9rci5jb20nLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnZGl2W2NsYXNzKj0iTG9hZE1vcmVXcmFwIl0nLAogICAgICAgICAgICAgICAgICAgIGludGVydmFsczogMTUwMCwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICAgICAgICDmnpzlo7PnvZEKICAgICAgICAgICAgZXhwcmV2aWV3OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5leHByZXZpZXcuY29tJywKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMiwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJyNzaG93X2FydGljbGVfcmVkXzFTSE9XJywKICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbHM6IDE1MDAsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICDotoXog73nvZEKICAgICAgICAgICAgbGFuZGlhbjogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cubGFuZGlhbi52aXAnLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLmxvYWQtbW9yZSA+IGJ1dHRvbicsCiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHQ6ICfliqDovb3mm7TlpJonLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMzAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICAgICDok53ngrnnvZEKICAgICAgICAgICAgaXRob21lOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5pdGhvbWUuY29tJywKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMiwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2EubW9yZScsCiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxzOiAxNTAwLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICAgICAgSVQg5LmL5a62CiAgICAgICAgICAgIF81OHBpYzogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cuNThwaWMuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2RvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnLnF0LW1vZGVsLXQge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9JzsgLy8g6ZqQ6JeP55m75b2V5by556qXCiAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3R1cGlhbi8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5fNThwaWM7IGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnLnF0dy1jYXJkLnBsYWNlLWJveC5pcy10d28ge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9JzsgLy8g6ZqQ6JeP5pyr5bC+5b6I5aSn55qEIFvkuIvkuIDpobVdIOaMiemSrgogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvYy8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5fNThwaWNfYzsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbY29udGFpbnMoQGNsYXNzLCJwYWdlLWJveCIpXS8vYVt0ZXh0KCk9IuS4i+S4gOmhtSJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnBpYy1ib3ggPiAucXR3LWNhcmQnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsucGljLWJveCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlLWJveCcsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDIwMDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbjogewogICAgICAgICAgICAgICAgICAgIGJlZm9yZTogXzU4cGljX2Z1bmN0aW9uQmVmb3JlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICDljYPlm77nvZEgLSDliIbnsbsv5pCc57Si6aG1CiAgICAgICAgICAgIF81OHBpY19jOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbY29udGFpbnMoQGNsYXNzLCJwYWdlLWJveCIpXS8vYVt0ZXh0KCk9IuS4i+S4gOmhtSJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7Lmxpc3QtYm94ID4gLnF0dy1jYXJkJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7Lmxpc3QtYm94JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2UtYm94JywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogNDAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBfNThwaWNfZnVuY3Rpb25CZWZvcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICDljYPlm77nvZEgLSDkuJPpopgv5pS26JeP5aS5CiAgICAgICAgICAgIHBpeGFiYXk6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAncGl4YWJheS5jb20nLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW3RleHQoKT0iTmV4dCBwYWdlIl1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzcztbY2xhc3NePSJyZXN1bHRzIl0gID4gW2NsYXNzXj0iY29udGFpbmVyIl0gPiBkaXYnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzcztbY2xhc3NePSJyZXN1bHRzIl0gID4gW2NsYXNzXj0iY29udGFpbmVyIl0nLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJy8vYVt0ZXh0KCk9Ik5leHQgcGFnZSJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDIwMDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbjogewogICAgICAgICAgICAgICAgICAgIGJlZm9yZTogcGl4YWJheV9mdW5jdGlvbkJlZm9yZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICBQaXhhYmF5CiAgICAgICAgICAgIGxvZ29zYzogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cubG9nb3NjLmNuJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvc28vJykgPiAtMSkge2N1clNpdGUgPSBEQlNpdGUubG9nb3NjO319LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnYnV0dG9uLnNvLXBhYmxvLWJ1dHRvbicsCiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxzOiAxNTAwLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICDmkJzlm77npZ7lmaggKOWFjei0ueaXoOeJiOadgykKICAgICAgICAgICAgcHV4aWFuZzogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cucHV4aWFuZy5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3NlYXJjaC9mYXZvcml0ZScpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnB1eGlhbmdfY29sbGVjdDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2VhcmNoL3B1eGlhbmcnIHx8IGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL2xpc3QnIHx8IGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL2dhbGxlcmllcycgfHwgbG9jYXRpb24ucGF0aG5hbWUgPT09ICcvYXJ0aWNsZXMnKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5wdXhpYW5nOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5wdXhpYW5nOyBjdXJTaXRlLnBhZ2VyLnNjcm9sbERlbHRhID0gNDAwMDsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2xpLm5leHQgPiBhW2hyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczsud29yay1saXN0ID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LndvcmstbGlzdCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlcmJhcicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAg5pmu6LGh572RIC0g5L2c5ZOB6ZuGL+aQnOe0oumhtQogICAgICAgICAgICBwdXhpYW5nX2NvbGxlY3Q6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7bGkubmV4dCA+IGFbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5jb2xsZWN0LWxpc3QgPiBkaXYnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsuY29sbGVjdC1saXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2VyYmFyJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAg5pmu6LGh572RIC0g5pS26JeP5aS5CiAgICAgICAgICAgIG9tOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5vbS5jbicsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUgIT0gJy8nKSB7Y3VyU2l0ZSA9IERCU2l0ZS5vbTt9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzcztsaS5uZXh0ID4gYVtocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7Lm1haW5fY29udGVudCA+IHVsID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsubWFpbl9jb250ZW50ID4gdWwnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2Nzczt1bC5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICAgICAgIOasp+aooee9kQogICAgICAgICAgICBfM2RtZ2FtZTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cuM2RtZ2FtZS5jb20nLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAzLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9saVtAY2xhc3M9Im5leHQiXS9hW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7Lm5ld3Nfd2FycF9jZW50ZXIgPiAqJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7Lm5ld3Nfd2FycF9jZW50ZXInLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZXdyYXAnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbEVsZW1lbnQ6ICcucGFnZXdyYXAnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiA0MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICAgM0RNCiAgICAgICAgICAgIF8zZG1nYW1lX21vZDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdtb2QuM2RtZ2FtZS5jb20nLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiBfM2RtZ2FtZV9tb2RfZnVuY3Rpb25OZXh0LAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnLy9kaXZbY29udGFpbnMoQGNsYXNzLCAiZ2FtZS1tb2QtbGlzdCIpIG9yIGNvbnRhaW5zKEBjbGFzcywgInNlYXJjaC1tb2QtbGlzdCIpXSB8IC8vc2NyaXB0W25vdChAc3JjIG9yIEB0eXBlKV1bY29udGFpbnModGV4dCgpLCAiLmdhbWUtbW9kLXBhZ2UiKSBvciBjb250YWlucyh0ZXh0KCksICIuc2VhcmNoLW1vZC1wYWdlIildJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWycvL2Rpdltjb250YWlucyhAY2xhc3MsICJnYW1lLW1vZC13cmFwIikgb3IgY29udGFpbnMoQGNsYXNzLCAic2VhcmNoLW1vZCAiKV0nLCAzXSwKICAgICAgICAgICAgICAgICAgICBzY3JpcHRUeXBlOiAyLAogICAgICAgICAgICAgICAgICAgIGhpc3Rvcnk6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEyMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAzRE0gTU9E56uZCiAgICAgICAgICAgIGFsaTIxM193d3c6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LmFsaTIxMy5uZXQnLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAzLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnaWQoImFmdGVyX3RoaXNfcGFnZSIpW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I0NvbnRlbnQgPio6bm90KC5uZXdzX2RpbmcpOm5vdCgucGFnZV9mZW55ZSknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsucGFnZV9mZW55ZScsIDFdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlX2ZlbnllJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxFbGVtZW50OiAnLnBhZ2VfZmVueWUnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiA0MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgIOa4uOS+oOe9kQogICAgICAgICAgICBhbGkyMTNfZ2w6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnZ2wuYWxpMjEzLm5ldCcsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtjdXJTaXRlID0gREJTaXRlLmFsaTIxM19nbDsgZG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9ICcubl9zaG93X2Ige2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9Jzt9LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAzLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0ibmV4dCBuIl1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuYy1kZXRhaWwgPionLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsuYy1kZXRhaWwnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZV9mZW55ZScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRWxlbWVudDogJy5wYWdlX2ZlbnllJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogNDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICAg5ri45L6g572RIC0g5pS755WlCiAgICAgICAgICAgIGFsaTIxM19waWM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAncGljLmFsaTIxMy5uZXQnLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7Y3VyU2l0ZSA9IERCU2l0ZS5hbGkyMTNfcGljOyBkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJ2EucHJldiwgYS5uZXh0IHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSc7fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczthLm5leHRbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNpbWFnZS1zaG93ID4gaW1nJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I2ltYWdlLXNob3cnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjaW1hZ2Utc2hvdyA+IGEnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMjAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICDmuLjkvqDnvZEgLSDlm77lupMKICAgICAgICAgICAgZ2FtZXJza3lfZW50OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5nYW1lcnNreS5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9lbnQvJykgPiAtMSkge2N1clNpdGUgPSBEQlNpdGUuZ2FtZXJza3lfZW50O30gZWxzZSB7Y3VyU2l0ZSA9IERCU2l0ZS5nYW1lcnNreV9nbDt9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMywKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZV9jc3MiXS9hW3RleHQoKT0i5LiL5LiA6aG1Il1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuTWlkMkxfY29uID4gKjpub3QoLmdzX25jX2VkaXRvcik6bm90KC5wYWdlY3NzKTpub3QoLnBhZ2VfY3NzKTpub3QoLmdzX2Njc19zb2x2ZSk6bm90KC5wb3N0X2RpbmcpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnBhZ2VfY3NzJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2VfY3NzJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxFbGVtZW50OiAnLnBhZ2VfY3NzJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAg5ri45rCR5pif56m6CiAgICAgICAgICAgIGdhbWVyc2t5X2dsOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAzLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlX2NzcyJdL2FbdGV4dCgpPSLkuIvkuIDpobUiXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIGZvcmNlSFRUUFM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7Lk1pZDJMX2NvbiA+ICo6bm90KC5nc19uY19lZGl0b3IpOm5vdCgucGFnZWNzcyk6bm90KC5nc19jY3Nfc29sdmUpOm5vdCgucG9zdF9kaW5nKScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5nc19uY19lZGl0b3InLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZV9jc3MnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbEVsZW1lbnQ6ICcucGFnZWNzcycsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IC0xMDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IGdhbWVyc2t5X2dsX2Z1bmN0aW9uQmVmb3JlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgIOa4uOawkeaYn+epuiAtIOaUu+eVpQogICAgICAgICAgICBuZXh1c21vZHM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3Lm5leHVzbW9kcy5jb20nLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiA0LAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiBuZXh1c21vZHNfZnVuY3Rpb25OZXh0LAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO3VsLnRpbGVzID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt1bC50aWxlcycsIDNdLAogICAgICAgICAgICAgICAgICAgIGluc2VydEVsZW1lbnQ6IG5leHVzbW9kc19pbnNlcnRFbGVtZW50LAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMzAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICAgIE5leHVzTW9kcwogICAgICAgICAgICBzdGVhbWNvbW11bml0eTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdzdGVhbWNvbW11bml0eS5jb20nLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0icGFnZWJ0biJdW2xhc3QoKV1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczsud29ya3Nob3BCcm93c2VJdGVtcyA+IConLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczsud29ya3Nob3BCcm93c2VJdGVtcycsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy53b3Jrc2hvcEJyb3dzZVBhZ2luZycsCiAgICAgICAgICAgICAgICAgICAgc2NyaXB0VHlwZTogMiwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICDliJvmhI/lt6XlnYogLSDpobnnm67liJfooagKICAgICAgICAgICAgeWlrbTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cueWlrbS5uZXQnLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy91bFtAY2xhc3M9InBhZ2VyIl0vL2FbdGV4dCgpPSLkuIvkuIDpobUiXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICcvL2gyW2NvbnRhaW5zKHRleHQoKSwgIuaJgOaciea4uOaIjyIpIG9yIGNvbnRhaW5zKHRleHQoKSwgIuaQnOe0oue7k+aenCIpXS9mb2xsb3dpbmctc2libGluZzo6ZGl2WzFdL2RpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnLy9oMltjb250YWlucyh0ZXh0KCksICLmiYDmnInmuLjmiI8iKSBvciBjb250YWlucyh0ZXh0KCksICLmkJzntKLnu5PmnpwiKV0vZm9sbG93aW5nLXNpYmxpbmc6OmRpdlsxXScsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO3VsLnBhZ2VyJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICAgICAgICAg5bCP6Zy4546L5YW25LmQ5peg56m3CiAgICAgICAgICAgIGNzX3Jpbl9ydTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdjcy5yaW4ucnUnLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL2ZvcnVtL3ZpZXdmb3J1bS5waHAnKSB7IC8vIOeJiOWdl+W4luWtkOWIl+ihqAogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuY3NfcmluX3J1OwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9mb3J1bS92aWV3dG9waWMucGhwJykgeyAvLyDluJblrZDlhoUKICAgICAgICAgICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoJ21lbnVfZGlzY3V6X3RocmVhZF9wYWdlJykpIGN1clNpdGUgPSBEQlNpdGUuY3NfcmluX3J1X3ZpZXd0b3BpYzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvZm9ydW0vc2VhcmNoLnBocCcpIHsgLy8g5pCc57Si57uT5p6cCiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5jc19yaW5fcnVfc2VhcmNoOwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL3RkW0BjbGFzcz0iZ2Vuc21hbGwiXVtAYWxpZ249InJpZ2h0Il0vL2FbdGV4dCgpPSJOZXh0Il1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjcGFnZWNvbnRlbnQgPiB0YWJsZS50YWJsZWJnID4gdGJvZHkgPiB0cjpub3QoW2FsaWduXSknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjcGFnZWNvbnRlbnQgPiB0YWJsZS50YWJsZWJnID4gdGJvZHkgPiB0clthbGlnbl0nLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjcGFnZWNvbnRlbnQgPiB0YWJsZTpmaXJzdC1jaGlsZCcsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbjogewogICAgICAgICAgICAgICAgICAgIGJlZm9yZTogY3NfcmluX3J1X2Z1bmN0aW9uQmVmb3JlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICAgY3MucmluLnJ1IC0g5ZCE54mI5Z2X5biW5a2Q5YiX6KGoCiAgICAgICAgICAgIGNzX3Jpbl9ydV92aWV3dG9waWM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdpZCgicGFnZWhlYWRlciIpL3BbQGNsYXNzPSJnZW5zbWFsbCJdLy9hW3RleHQoKT0iTmV4dCJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I3BhZ2Vjb250ZW50ID4gdGFibGUudGFibGViZzpub3QoOm50aC1sYXN0LWNoaWxkKDIpKTpub3QoOm50aC1jaGlsZCgyKSknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjcGFnZWNvbnRlbnQgPiB0YWJsZS50YWJsZWJnOm50aC1sYXN0LWNoaWxkKDIpJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I3BhZ2Vjb250ZW50ID50YWJsZTpub3QoLnRhYmxlYmcpLCAjcGFnZWhlYWRlciBwLmdlbnNtYWxsJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgY3MucmluLnJ1IC0g5biW5a2Q5YaFCiAgICAgICAgICAgIGNzX3Jpbl9ydV9zZWFyY2g6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdpZCgid3JhcGNlbnRyZSIpL2RpdltAY2xhc3M9Im5hdiJdLy9hW3RleHQoKT0iTmV4dCJdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczsjd3JhcGNlbnRyZSA+IGZvcm0gPiB0YWJsZS50YWJsZWJnID4gdGJvZHkgPiB0clt2YWxpZ25dJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I3dyYXBjZW50cmUgPiBmb3JtID4gdGFibGUudGFibGViZyA+IHRib2R5ID4gdHI6bGFzdC1jaGlsZCcsIDFdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOyN3cmFwY2VudHJlID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgY3MucmluLnJ1IC0g5pCc57Si6aG1CiAgICAgICAgICAgIGNyYWNraHViOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ2NyYWNraHViLnNpdGUnLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7Y3VyU2l0ZSA9IERCU2l0ZS5jcmFja2h1YjsgZG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9ICdodG1sLndwLWRhcmstbW9kZS1hY3RpdmUgLmluc2lkZS1hcnRpY2xlIHtiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS13cC1kYXJrLW1vZGUtYmcpO30nO30sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJuZXh0IHBhZ2UtbnVtYmVycyJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7YXJ0aWNsZVtpZF49InBvc3QtIl0nLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzcztuYXYucGFnaW5nLW5hdmlnYXRpb24nLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzcztuYXYucGFnaW5nLW5hdmlnYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAyMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICAgIENyYWNraHViMjEzCiAgICAgICAgICAgIGZpdGdpcmw6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnZml0Z2lybC1yZXBhY2tzLnNpdGUnLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0ibmV4dCBwYWdlLW51bWJlcnMiXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO2FydGljbGVbaWRePSJwb3N0LSJdJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7bmF2LnBhZ2luZy1uYXZpZ2F0aW9uJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7bmF2LnBhZ2luZy1uYXZpZ2F0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMjAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICAgICAgRml0R2lybCBSZXBhY2tzCiAgICAgICAgICAgIHBpYW5rdTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6IC9waWFua3UvLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lICE9ICcvJykge2N1clNpdGUgPSBEQlNpdGUucGlhbmt1O319LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EuYTFbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5jb250ZW50LWxpc3QgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5jb250ZW50LWxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZXMnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IHBpYW5rdV9mdW5jdGlvbkJlZm9yZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICDniYflupMKICAgICAgICAgICAgY3VwZm94OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5jdXBmb3guY29tJywKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMiwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy5sb2FkLW1vcmUnLAogICAgICAgICAgICAgICAgICAgIG5leHRUZXh0OiAn54K55Ye75Yqg6L295pu05aSaJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogNzAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgIOiMtuadr+eLkAogICAgICAgICAgICBub3ZpcG5vYWQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3Lm5vdmlwbm9hZC5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lICE9ICcvJyAmJiBsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcuaHRtbCcpID09PSAtMSkge2N1clNpdGUgPSBEQlNpdGUubm92aXBub2FkO319LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EubmV4dHBvc3RzbGluaycsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnZpZGVvLWxpc3RpbmctY29udGVudCAucm93ID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnZpZGVvLWxpc3RpbmctY29udGVudCAucm93JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LndwLXBhZ2VuYXZpJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBzcmNfb3JpZ2luYWxfZnVuY3Rpb25CZWZvcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgTk/op4bpopEKICAgICAgICAgICAgZGRyazogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdkZHJrLm1lJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nIHx8IGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9jYXRlZ29yeS8nKSA+IC0xIHx8IGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy90YWcvJykgPiAtMSkge2N1clNpdGUgPSBEQlNpdGUuZGRyazt9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczthLm5leHQnLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5wb3N0LWJveC1saXN0ID4gYXJ0aWNsZScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5wb3N0LWJveC1saXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb25fd3JhcCcsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICDkvY7nq6/lvbHop4YKICAgICAgICAgICAgbmZtb3ZpZXM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3Lm5mbW92aWVzLmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2VhcmNoLnBocCcgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2xpc3QvJykgPiAtMSkge2N1clNpdGUgPSBEQlNpdGUubmZtb3ZpZXM7fX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL3VsW2NvbnRhaW5zKEBjbGFzcywgIm15dWktcGFnZSIpXS9saS9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7dWwubXl1aS12b2RsaXN0ID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt1bC5teXVpLXZvZGxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2Nzczt1bC5teXVpLXBhZ2UnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IG5mbW92aWVzX2Z1bmN0aW9uQmVmb3JlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICDlpYjoj7LlvbHop4YKICAgICAgICAgICAgenh6ajogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cuenh6ai5tZScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUgIT0gJy8nICYmIGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9kZXRhaWwvJykgPT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS56eHpqOyBkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJ2Rpdi5zdHVpLXBhZ2VfX2FsbCB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30nOwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL3VsW2NvbnRhaW5zKEBjbGFzcywgInN0dWktcGFnZV9faXRlbSIpXS8vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO3VsLnN0dWktdm9kbGlzdCA+IGxpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7dWwuc3R1aS12b2RsaXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7dWwuc3R1aS1wYWdlX19pdGVtJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBuZm1vdmllc19mdW5jdGlvbkJlZm9yZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgIOWcqOe6v+S5i+WutgogICAgICAgICAgICBfOTFtanc6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnOTFtancuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvdmlkZW8vJykgPT09IC0xIHx8IGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy92cGxheS8nKSA9PT0gLTEpIHtjdXJTaXRlID0gREJTaXRlLl85MW1qdzt9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczsubmV4dC1wYWdlID4gYScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7Lm0tbW92aWVzID4gYXJ0aWNsZScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5wYWdpbmF0aW9uJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IHNyY19vcmlnaW5hbF9mdW5jdGlvbkJlZm9yZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICA5MSDnvo7liafnvZEKICAgICAgICAgICAgemhlbmJ1a2E6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiBbJ3d3dy56aGVuYnVrYTMuY29tJywgJ3d3dy56aGVuYnVrYTUuY29tJ10sCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3ZvZHR5cGUvJykgPiAtMSkge2N1clNpdGUgPSBEQlNpdGUuemhlbmJ1a2E7fX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL3VsW2NvbnRhaW5zKEBjbGFzcywgInN0dWktcGFnZSIpXS9saS9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7dWwuc3R1aS12b2RsaXN0ID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt1bC5zdHVpLXZvZGxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2Nzczt1bC5zdHVpLXBhZ2UnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IG5mbW92aWVzX2Z1bmN0aW9uQmVmb3JlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICDnnJ/kuI3ljaHlvbHpmaIKICAgICAgICAgICAgZG0yMzM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LmRtMjMzLmNjJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvY2F0YWxvZy8nKSA+IC0xIHx8IGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3JlY29tbWVuZC8nIHx8IGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3NlYXJjaCcpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRtMjMzOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9hcnRpY2xlLycpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRtMjMzX2FydGljbGU7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3JhbmsvJykgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZG0yMzNfcmFuazsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlbGlzdCJdLy9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpIG9yIGNvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmggSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LmRobmV3IHVsID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsuZGhuZXcgdWwnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZWxpc3QnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgMjMzIOWKqOa8qwogICAgICAgICAgICBkbTIzM19hcnRpY2xlOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlbGlzdCJdLy9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpIG9yIGNvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmggSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnhneWQgdWwgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy54Z3lkIHVsJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2VsaXN0JywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAyMzMg5Yqo5ryrIC0g5Yqo5ryr5oOF5oqlL+i1hOiurwogICAgICAgICAgICBkbTIzM19yYW5rOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlbGlzdCJdLy9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpIG9yIGNvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmggSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnNpZGUtdXBkYXRlLm5vcm1hbC13YWkgPiAubm9ybWFsLW5laScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5zaWRlLXVwZGF0ZS5ub3JtYWwtd2FpJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2VsaXN0JywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAyMzMg5Yqo5ryrIC0g5o6S6KGM5qacCiAgICAgICAgICAgIGFnZWZhbnM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LmFnZWZhbnMuY2MnLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9jYXRhbG9nLycpID4gLTEgfHwgbG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2VhcmNoJykgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuYWdlZmFuczsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvcmVjb21tZW5kJyB8fCBsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy91cGRhdGUnKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5hZ2VmYW5zXzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvcmFuaycpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmFnZWZhbnNfcmFuazsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnaWQoImNvbnRhaW5lciIpLy9kaXZbQGNsYXNzPSJibG9ja2NvbnRlbnQiXS9kaXZbQHN0eWxlXVtub3QoQGNsYXNzKV0vbGkvYVtAaHJlZl1bY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aG1IildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjY29udGFpbmVyIC5ibG9ja2NvbnRlbnQxID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I2NvbnRhaW5lciAuYmxvY2tjb250ZW50MScsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOyNjb250YWluZXIgLmJsb2NrY29udGVudCA+IGRpdltzdHlsZV06bm90KFtjbGFzc10pJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICBBR0Ug5Yqo5ryrIC0g5YWo6YOoL+aQnOe0ogogICAgICAgICAgICBhZ2VmYW5zXzogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2lkKCJjb250YWluZXIiKS8vZGl2W0BjbGFzcz0iYmxvY2tjb250ZW50Il0vZGl2W0BzdHlsZV1bbm90KEBjbGFzcyldL2xpL2FbQGhyZWZdW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I2NvbnRhaW5lciAuYmxvY2tjb250ZW50ID4gdWwgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNjb250YWluZXIgLmJsb2NrY29udGVudCA+IHVsJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I2NvbnRhaW5lciAuYmxvY2tjb250ZW50ID4gZGl2W3N0eWxlXTpub3QoW2NsYXNzXSknLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgQUdFIOWKqOa8qyAtIOWFtuS7lumhtQogICAgICAgICAgICBhZ2VmYW5zX3Jhbms6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdpZCgiY29udGFpbmVyIikvdWxbQHN0eWxlXVtub3QoQGNsYXNzKV0vbGkvYVtAaHJlZl1bY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aG1IildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjY29udGFpbmVyID4gLmRpdl9yaWdodCAgLmJsb2NrY29udGVudC5kaXZfcmlnaHRfcl8zID4gdWwnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjY29udGFpbmVyID4gLmRpdl9yaWdodCAgLmJsb2NrY29udGVudC5kaXZfcmlnaHRfcl8zJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I2NvbnRhaW5lciA+IHVsW3N0eWxlXTpub3QoW2NsYXNzXSknLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICBBR0Ug5Yqo5ryrIC0g5o6S6KGM5qacCiAgICAgICAgICAgIHloZG06IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3Lmltb21vZS5sYScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2xpc3QvJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUueWhkbTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc28uYXNwJyB8fCBsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2guYXNwJykgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUueWhkbV87CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZXMiXS9hW0BocmVmXVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNjb250cmFpbmVyID4gLmltZz4gdWwgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNjb250cmFpbmVyID4gLmltZz4gdWwnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZXMnLAogICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiAndGV4dC9odG1sOyBjaGFyc2V0PWdiMjMxMicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAg5qix6Iqx5Yqo5ryrCiAgICAgICAgICAgIHloZG1fOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlcyJdL2FbQGhyZWZdW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I2NvbnRyYWluZXIgLmZpcmUgLnBpY3MgPiB1bCA+IGxpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I2NvbnRyYWluZXIgLmZpcmUgLnBpY3MgPiB1bCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlcycsCiAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6ICd0ZXh0L2h0bWw7IGNoYXJzZXQ9Z2IyMzEyJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgIOaoseiKseWKqOa8qyAtIOaQnOe0oumhteetiQogICAgICAgICAgICB6enpmdW46IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3Lnp6emZ1bi5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy92b2RfdHlwZScpID4gLTEgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3ZvZF9zaG93JykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnp6emZ1bjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy92b2Rfc2VhcmNoJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnp6emZ1bl9zZWFyY2g7CiAgICAgICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7I3BhZ2UgYVt0aXRsZT0i5LiL5LiA6aG1Il0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO3VsLnNlYXJjaC1yZXN1bHQgPiBhJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7dWwuc2VhcmNoLXJlc3VsdCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOyNwYWdlJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBzcmNfb3JpZ2luYWxfZnVuY3Rpb25CZWZvcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgIFp6ekZ1biDliqjmvKsKICAgICAgICAgICAgenp6ZnVuX3NlYXJjaDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczsjcGFnZSBhW3RpdGxlPSLkuIvkuIDpobUiXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7dWwuc2hvdy1saXN0ID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt1bC5zaG93LWxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjcGFnZScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbjogewogICAgICAgICAgICAgICAgICAgIGJlZm9yZTogc3JjX29yaWdpbmFsX2Z1bmN0aW9uQmVmb3JlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vIFp6ekZ1biDliqjmvKsgLSDmkJzntKLpobUKICAgICAgICAgICAgeWluZmFuczogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cueWluZmFucy5uZXQnLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7Y3VyU2l0ZSA9IERCU2l0ZS55aW5mYW5zOyBkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJyNwb3N0X2NvbnRhaW5lciB7aGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7fSAjcG9zdF9jb250YWluZXIgPiBsaSB7cG9zaXRpb246IHN0YXRpYyAhaW1wb3J0YW50OyBmbG9hdDogbGVmdCAhaW1wb3J0YW50OyBoZWlnaHQ6IDYyMHB4ICFpbXBvcnRhbnQ7fSc7fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczthLm5leHRbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNwb3N0X2NvbnRhaW5lciA+IGxpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I3Bvc3RfY29udGFpbmVyJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAg6Z+z6IyD5LidCiAgICAgICAgICAgIGJ0YnR0OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogL2J0YnR0LywKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZSJdL2FbY29udGFpbnModGV4dCgpLCAi4pa2Iikgb3IgY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aG1IildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjdGhyZWFkbGlzdCA+IHRhYmxlLCAjdGhyZWFkbGlzdCA+IGhyJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I3RocmVhZGxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDIwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgIEJUIOS5i+WutgogICAgICAgICAgICBiZHlzOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5iZDIwMjAuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZSAhPSAnLycgJiYgISgvXC9cZCtcLmh0bS8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpKSB7Y3VyU2l0ZSA9IERCU2l0ZS5iZHlzO319LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnZGl2LmxheXVpLWZsb3ctbW9yZSA+IGEnLAogICAgICAgICAgICAgICAgICAgIG5leHRUZXh0OiAn5Yqg6L295pu05aSaJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgIEJEIOW9seinhgogICAgICAgICAgICBnYW9xaW5nX2ZtOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ2dhb3FpbmcuZm0nLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLmNvbC1tZC0xMiA+IGFbaHJlZl0sICNsb2FkbW9yZSA+IGFbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIGludGVydmFsczogMTUwMCwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgIOmrmOa4heeUteWPsAogICAgICAgICAgICB5eWRzOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3l5ZHMuZmFucycsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24uc2VhcmNoICE9ICcnICYmIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdwPScpID09PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnl5ZHM7CiAgICAgICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YS5uZXh0LnBhZ2UtbnVtYmVyc1tocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7Lmxpc3QtZ3JvdXBlZCA+IGRpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5saXN0LWdyb3VwZWQnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzcztuYXYucGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDExMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICBZWURTIOeUteW9sQogICAgICAgICAgICBraXNzc3ViOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5raXNzc3ViLm9yZycsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YS5uZXh0cHJldicsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I2RhdGFfbGlzdCA+IHRyJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I2RhdGFfbGlzdCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlcycsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDI1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAg54ix5oGL5Yqo5ryrCiAgICAgICAgICAgIGRtaHk6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiBbJ3NoYXJlLmRtaHkub3JnJywgJ2RtaHkuYW5vbmVrby5jb20nXSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0ibmF2X3RpdGxlIl0vYVtAaHJlZl1bY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aCBIildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjdG9waWNfbGlzdCA+IHRib2R5ID4gdHInLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjdG9waWNfbGlzdCA+IHRib2R5JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7Lm5hdl90aXRsZScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbjogewogICAgICAgICAgICAgICAgICAgIGFmdGVyOiBmdW5jdGlvbigpIHtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKS50ZXh0Q29udGVudCA9IGAkKCcjdG9waWNfbGlzdCA+IHRib2R5ID4gdHI6ZXZlbjpub3QoLmV2ZW4pOm5vdCgub2RkKScpLmFkZENsYXNzKCdldmVuJyk7ICQoJyN0b3BpY19saXN0ID4gdGJvZHkgPiB0cjpvZGQ6bm90KC5ldmVuKTpub3QoLm9kZCknKS5hZGRDbGFzcygnb2RkJyk7YDt9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgIOWKqOa8q+iKseWbrQogICAgICAgICAgICBmdXRhYWNnOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ2Z1dGFhY2cuY29tJywKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2Nzczt1bC5wYWdpbmF0aW9uIGFbcmVsPSJuZXh0Il0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy50b3BpYy1saXN0ID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnRvcGljLWxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2Nzczt1bC5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICDmibblpbnliqjmvKsKICAgICAgICAgICAgYmFuZ3VtaTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdiYW5ndW1pLm1vZScsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDIsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdbdG9ycmVudC1saXN0PSJsYXR0b3JyZW50cyJdIGJ1dHRvbltuZy1jbGljaz0ibG9hZE1vcmUoKSJdICxbdG9ycmVudC1saXN0PSJ0b3JyZW50cyJdIGJ1dHRvbltuZy1jbGljaz0ibG9hZE1vcmUoKSJdJywKICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbHM6IDEwMDAsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAg6JCM55Wq57uECiAgICAgICAgICAgIG55YWE6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnbnlhYS5zaScsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQHJlbD0ibmV4dCJdW0BocmVmXSB8IC8vbGlbQGNsYXNzPSJuZXh0Il0vYVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO3RhYmxlLnRvcnJlbnQtbGlzdCA+IHRib2R5ID4gdHInLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt0YWJsZS50b3JyZW50LWxpc3QgPiB0Ym9keScsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO3VsLnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAyMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgIE55YWEKICAgICAgICAgICAgc2tyYnQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAvc2tyYnQvLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3NlYXJjaCcpIGN1clNpdGUgPSBEQlNpdGUuc2tyYnQ7fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogc2tyYnRfZnVuY3Rpb25OZXh0LAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO2RpdltjbGFzcz0icm93Il0gPiAuY29sLW1kLTYgPiB1bCcsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzO25hdlthcmlhLWxhYmVsKj0iUGFnZSJdJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7dWwucGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDkwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgU2tyQlQKICAgICAgICAgICAgcmFyYmdwcng6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAvcmFyYmcvLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3RvcnJlbnRzLnBocCcpIHtjdXJTaXRlID0gREJTaXRlLnJhcmJncHJ4O319LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnKC8vYVtAdGl0bGU9Im5leHQgcGFnZSJdKVsxXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO3RhYmxlLmxpc3RhMnQgdHIubGlzdGEyJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7dGFibGUubGlzdGEydCA+IHRib2R5JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I3BhZ2VyX2xpbmtzJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgUkFSQkcKICAgICAgICAgICAgc3ViZGg6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnc3ViZGguY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nIHx8IGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9saXN0L25ldycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnN1YmRoOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvc2VhcmNoJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuc3ViZGhfc2VhcmNoOwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJwYWdlLWxpbmsiXVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5jb2wtbGctOSAuYmctd2hpdGUuc2hhZG93LXNtLnJvdW5kZWQtMyA+IC5yb3cuZ3gtMCcsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5jb2wtbGctOSAuYmctd2hpdGUuc2hhZG93LXNtLnJvdW5kZWQtMycsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO3VsLnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICBTdWJESAogICAgICAgICAgICBzdWJkaF9zZWFyY2g6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJwYWdlLWxpbmsiXVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5jb2wtbGctOSAuYmctd2hpdGUuc2hhZG93LXNtLnJvdW5kZWQtMycsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzO25hdlthcmlhLWxhYmVsPSJwYWdpbmF0aW9uIl0nLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2Nzczt1bC5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICBTdWJESCAtIOaQnOe0oumhtQogICAgICAgICAgICBtaW5pNGs6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3Lm1pbmk0ay5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lICE9ICcvJyAmJiAhKC9cL1xkezMsfS8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpKSB7Y3VyU2l0ZSA9IERCU2l0ZS5taW5pNGs7fTt9LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EucGFnZXJfX2l0ZW0tLW5leHRbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO2RpdltjbGFzcyo9Ii1pdGVtLWxpc3QiXSA+IHVsID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzcztkaXZbY2xhc3MqPSItaXRlbS1saXN0Il0gPiB1bCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMjAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICBNSU5JNEsKICAgICAgICAgICAgYnRoYWhhOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogL2J0aGFoYS8sCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3NlYXJjaC8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5idGhhaGE7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9ICdbaWRePSJsaXN0X3RvcCJdLCBbaWRePSJsaXN0X2JvdHRvbSJdIHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2lkXj0ibGlzdF90b3AiXSwgW2lkXj0ibGlzdF9ib3R0b20iXScpLmZvckVhY2goZnVuY3Rpb24gKG9uZSkge29uZS5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuaGlkZGVuID0gdHJ1ZTt9KTsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy91bFtAY2xhc3M9InBhZ2luYXRpb24iXS9saS9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7dGFibGUudGFibGUgPiB0Ym9keSA+IHRyJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7dGFibGUudGFibGUgPiB0Ym9keScsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO3VsLnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IGJ0aGFoYV9mdW5jdGlvbkJlZm9yZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICBCVEhhaGEKICAgICAgICAgICAgYTRrOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5hNGsubmV0JywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvc3VidGl0bGUvJykgPT09IC0xKSB7Y3VyU2l0ZSA9IERCU2l0ZS5hNGs7fTt9LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EucGFnZXJfX2l0ZW0tLW5leHRbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO3VsLmxpc3QgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzO3VsLmxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgIEE0ayDlrZfluZXnvZHvvIjlrZfluZXvvIkKICAgICAgICAgICAgYXNzcnQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnYXNzcnQubmV0JywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZSAhPSAnLycpIHtjdXJTaXRlID0gREJTaXRlLmFzc3J0O307fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogYXNzcnRfZnVuY3Rpb25OZXh0LAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5yZXN1bHRjYXJkID4gZGl2Om5vdCgjdG9wLWJhbm5lcik6bm90KCNib3R0b20tYmFubmVyKScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5wYWdlbGlua2NhcmQnLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZWxpbmtjYXJkJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgIOWwhOaJi+e9ke+8iOWtl+W5le+8iQogICAgICAgICAgICBzdWJoZDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdzdWJoZC50dicsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvZm9ydW0vZm9ydW0nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuc3ViaGRfZm9ydW07CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZSAhPSAnLycgJiYgbG9jYXRpb24ucGF0aG5hbWUgIT0gJy96dScgJiYgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2EvJykgPT09IC0xICYmIGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9kLycpID09PSAtMSAmJiBsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvZm9ydW0vJykgPT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuc3ViaGQ7CiAgICAgICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJwYWdlLWxpbmsiXVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5iZy13aGl0ZS5zaGFkb3ctc20ucm91bmRlZC0zJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7bmF2LmNsZWFyZml4JywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7bmF2LmNsZWFyZml4JywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgIFN1YkhE77yI5a2X5bmV77yJCiAgICAgICAgICAgIHN1YmhkX2ZvcnVtOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0icGFnZS1saW5rIl1bY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aG1IildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuYmctd2hpdGUuc2hhZG93LXNtLnJvdW5kZWQtMyA+IGRpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5iZy13aGl0ZS5zaGFkb3ctc20ucm91bmRlZC0zJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7bmF2LmNsZWFyZml4JywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogODAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgU3ViSEQgLSBmb3J1be+8iOWtl+W5le+8iQogICAgICAgICAgICBxaWRpYW46IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LnFpZGlhbi5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9hbGwvJykgPiAtMSkge2N1clNpdGUgPSBEQlNpdGUucWlkaWFuO319LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2FbY2xhc3MqPSJwYWdpbmF0aW9uLW5leHQiXVtocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7dWwuYWxsLWltZy1saXN0ID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt1bC5hbGwtaW1nLWxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjcGFnZS1jb250YWluZXInLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiA5MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAg6LW354K55bCP6K+0CiAgICAgICAgICAgIHFpZGlhbl9yZWFkOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3JlYWQucWlkaWFuLmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2NoYXB0ZXIvJykgPiAtMSkge2N1clNpdGUgPSBEQlNpdGUucWlkaWFuX3JlYWQ7IGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnLmFkbWlyZS13cmFwIHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSc7fX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YVtpZCQ9ImNoYXB0ZXJOZXh0Il1baHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5tYWluLXRleHQtd3JhcCA+IGRpdjpub3QoLmFkbWlyZS13cmFwKScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5tYWluLXRleHQtd3JhcCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5jaGFwdGVyLWNvbnRyb2wsIHRpdGxlJywKICAgICAgICAgICAgICAgICAgICBoaXN0b3J5OiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiA5MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgIOi1t+eCueWwj+ivtCAtIOmYheivu+mhtQogICAgICAgICAgICBiYW9zaHV1OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5iYW9zaHV1LmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL1RYVC9saXN0JykgPiAtMSkgY3VyU2l0ZSA9IERCU2l0ZS5iYW9zaHV1O30sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9Imxpc3RsMiJdLy9hW0BocmVmXVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsubGlzdGwyID4gdWwgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5saXN0bDIgPiB1bCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO2xpc3RsMiA+IGRsJywKICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogJ3RleHQvaHRtbDsgY2hhcnNldD1nYjIzMTInLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiA5MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICDlrp3kuabnvZHvvIjlsI/or7TvvIkKICAgICAgICAgICAgYmFvc2h1dV9tOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ20uYmFvc2h1dS5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9UWFQvbGlzdCcpID4gLTEpIGN1clNpdGUgPSBEQlNpdGUuYmFvc2h1dV9tO30sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9Im1hbl9maXJzdCJdLy9hW0BocmVmXVt0ZXh0KCk9IuS4i+S4gOmhtSJdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsubWFuX2ZpcnN0ID4gdWwgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5tYW5fZmlyc3QgPiB1bCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5tYW5fZmlyc3QgPiBkbCcsCiAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6ICd0ZXh0L2h0bWw7IGNoYXJzZXQ9Z2IyMzEyJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogOTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgIOWuneS5pue9ke+8iOWwj+ivtO+8iS0g5omL5py654mICiAgICAgICAgICAgIGxpbm92ZWw6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3Lmxpbm92ZWwubmV0JywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmICgvXC9ib29rXC9cZCtcLy4rXC5odG1sLy50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnLnJld2FyZC1zZWN0aW9uIHtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fSc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9jYXQvJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUubGlub3ZlbDsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy91bFtAY2xhc3M9InBhZ2luYXRpb24iXS9saS9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnJhbmstYm9vay1saXN0ID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnJhbmstYm9vay1saXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7dWwucGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICDovbvkuYvmloflupMKICAgICAgICAgICAgbGlub3ZlbGliOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5saW5vdmVsaWIuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmICgvXC9ub3ZlbFwvXGQrXC8uK1wuaHRtbC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmxpbm92ZWxpYjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3dlbmt1LycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmxpbm92ZWxpYl93ZW5rdTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3RvcC8nKSA+IC0xIHx8IGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy90b3BmdWxsLycpID4gLTEgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZigndG9wbGlzdC5waHAnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5saW5vdmVsaWJfdG9wOwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL3BbQGNsYXNzPSJtbGZ5X3BhZ2UiXS9hW0BocmVmXVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKSBvciBjb250YWlucyh0ZXh0KCksICLkuIvkuIDnq6AiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNtbGZ5X21haW5fdGV4dCA+IConLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjbWxmeV9tYWluX3RleHQnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzcztwLm1sZnlfcGFnZSwgaGVhZCA+IHRpdGxlJywKICAgICAgICAgICAgICAgICAgICBoaXN0b3J5OiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgIOWTlOWTqei9u+Wwj+ivtAogICAgICAgICAgICBsaW5vdmVsaWJfd2Vua3U6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7I3BhZ2VsaW5rID4gYS5uZXh0W2hyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczsuc3RvcmVfY29sbGlzdCA+IGRpdi5ib29rYm94JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnN0b3JlX2NvbGxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjcGFnZWxpbmsnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IHNyY19vcmlnaW5hbF9mdW5jdGlvbkJlZm9yZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyDlk5Tlk6novbvlsI/or7QgLSDmloflupMKICAgICAgICAgICAgbGlub3ZlbGliX3RvcDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczsjcGFnZWxpbmsgPiBhLm5leHRbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5yYW5rcGFnZV9ib3ggPiBkaXYucmFua19kX2xpc3QnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzcztkaXYucGFnZXMnLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjcGFnZWxpbmsnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IHNyY19vcmlnaW5hbF9mdW5jdGlvbkJlZm9yZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgIOWTlOWTqei9u+Wwj+ivtCAtIOWFqOacrAogICAgICAgICAgICBjYXJ0b29ubWFkOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogWyd3d3cuY2FydG9vbm1hZC5jb20nLCd3d3cuY2FydG9vbm1hZC5jYyddLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9jb21pYy8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9ICdib2R5ID4gdGFibGUgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCg0KSA+IHRkID4gdGFibGUgPiB0Ym9keSA+IHRyOmZpcnN0LWNoaWxkID4gdGQ6bm90KDpmaXJzdC1jaGlsZCkge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9IGJvZHkgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDQpID4gdGQgPiB0YWJsZSA+IHRib2R5ID4gdHI6Zmlyc3QtY2hpbGQgPiB0ZDpmaXJzdC1jaGlsZCBpbWcge21heC13aWR0aDogMTAwJTtoZWlnaHQ6IGF1dG87ZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDttYXJnaW46IDAgYXV0byAhaW1wb3J0YW50O30nOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHkgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDQpID4gdGQgPiB0YWJsZSA+IHRib2R5ID4gdHI6Zmlyc3QtY2hpbGQgPiB0ZDpmaXJzdC1jaGlsZCA+IGEnKS5ocmVmID0gJ2phdmFzY3JpcHQ6dm9pZCgwKTsnOyAvLyDmuIXnkIblm77niYfkuIrnmoTpk77mjqUKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmNhcnRvb25tYWQ7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lICE9ICcvJykgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuY2FydG9vbm1hZF9saXN0OwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6IGNhcnRvb25tYWRfZnVuY3Rpb25OZXh0LAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO2JvZHkgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDQpID4gdGQgPiB0YWJsZSA+IHRib2R5ID4gdHI6Zmlyc3QtY2hpbGQgPiB0ZDpmaXJzdC1jaGlsZCBpbWcnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzcztib2R5ID4gdGFibGUgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCg0KSA+IHRkID4gdGFibGUgPiB0Ym9keSA+IHRyOmZpcnN0LWNoaWxkID4gdGQ6Zmlyc3QtY2hpbGQgPiBhJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7Ym9keSA+IHRhYmxlID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMiksIGJvZHkgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDUpJywKICAgICAgICAgICAgICAgICAgICBtaW1lVHlwZTogJ3RleHQvaHRtbDsgY2hhcnNldD1iaWc1JywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMjAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAg5Yqo5ryr54uCCiAgICAgICAgICAgIGNhcnRvb25tYWRfbGlzdDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9InBhZ2VzIl1bY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aCBIildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczt0ZFtiYWNrZ3JvdW5kPSIvaW1hZ2UvY29udGVudF9ib3g0LmdpZiJdK3RkID4gdGFibGUgPiB0Ym9keSA+IHRyJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7dGRbYmFja2dyb3VuZD0iL2ltYWdlL2NvbnRlbnRfYm94NC5naWYiXSt0ZCA+IHRhYmxlID4gdGJvZHknLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJy8vYVtAY2xhc3M9InBhZ2VzIl0vcGFyZW50Ojp0ZC9wYXJlbnQ6OnRyIHwgLy9mb250W2NvbnRhaW5zKHRleHQoKSwgIuebruWJjeWcqOesrCIpXScsCiAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6ICd0ZXh0L2h0bWw7IGNoYXJzZXQ9YmlnNScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICDliqjmvKvni4IgLSDliIbnsbsv5pCc57Si6aG1CiAgICAgICAgICAgIG1hbmh1YWNhdDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cubWFuaHVhY2F0LmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAoL1wvbWFuZ2FcL1xkK1wvLitcLmh0bWwvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGdldENvb2tpZSgnaXNfcHVsbCcpID09ICd0cnVlJykgeyAvLyDlvLrliLblhbPpl60gW+S4i+aLiV0g5qih5byPCiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZT0naXNfcHVsbD1mYWxzZTsgZXhwaXJlcz1UaHUsIDE4IERlYyAyMDMxIDEyOjAwOjAwIEdNVDsgcGF0aD0vJzsgLy8g5YaZ5YWlIENvb2tpZSDlhbPpl60gW+S4i+aLiV0g5qih5byPCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOyAvLyDliLfmlrDnvZHpobUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChtYW5odWFjYXRfaW5pdCwgMTAwKTsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLm1hbmh1YWNhdDsgZG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9ICcjbGVmdCwgI3JpZ2h0LCAjcHVsbC1sb2FkLCAubG9hZGluZywgLnBhZ2luYXRpb24sIGZvb3RlciB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gLmltZy1jb250ZW50ID4gaW1nIHtkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50O21hcmdpbjogMCBhdXRvICFpbXBvcnRhbnQ7IGJvcmRlcjogbm9uZSAhaW1wb3J0YW50OyBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7IG1heC13aWR0aDogOTklICFpbXBvcnRhbnQ7IGhlaWdodDogYXV0byAhaW1wb3J0YW50O30nOyAvLyDpmpDol4/kuI3pnIDopoHnmoTlhYPntKDvvIzosIPmlbTlm77niYcKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2xpc3QnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5tYW5odWFjYXRfbGlzdDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3NlYXJjaCcpID4gLTEgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3VwZGF0ZScpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLm1hbmh1YWNhdF9zZWFyY2g7CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogNCwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogbWFuaHVhY2F0X2Z1bmN0aW9uTmV4dCwKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LmltZy1jb250ZW50JywgM10sCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0RWxlbWVudDogbWFuaHVhY2F0X2luc2VydEVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LmNvbWljLWRldGFpbCA+IC5icmVhZGNydW1iLWJhciwgLmNvbWljLWRldGFpbCA+aDIuaDQsIHRpdGxlLCAudmctci1kYXRhLCBib2R5ID4gc2NyaXB0Om5vdChbc3JjXSknLAogICAgICAgICAgICAgICAgICAgIGludGVydmFsczogMjAwMCwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMzAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgIOa8q+eUu+eMqwogICAgICAgICAgICBtYW5odWFjYXRfbGlzdDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W2NvbnRhaW5zKEBjbGFzcywgInBhZ2luYXRpb24iKV0vL2FbQGhyZWZdW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpIG9yIGNvbnRhaW5zKHRleHQoKSwgIuS4i+mhtSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LmNvbWljLW1haW4tc2VjdGlvbiA+IConLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsuY29taWMtbWFpbi1zZWN0aW9uJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IHNyY19vcmlnaW5hbF9mdW5jdGlvbkJlZm9yZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICDmvKvnlLvnjKsgLSDliIbnsbvpobUKICAgICAgICAgICAgbWFuaHVhY2F0X3NlYXJjaDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W2NvbnRhaW5zKEBjbGFzcywgInBhZ2luYXRpb24iKV0vL2FbQGhyZWZdW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpIG9yIGNvbnRhaW5zKHRleHQoKSwgIuS4i+mhtSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LmNvbWljLW1haW4tc2VjdGlvbiAucm93ID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LmNvbWljLW1haW4tc2VjdGlvbiAucm93JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICDmvKvnlLvnjKsgLSDmkJzntKLpobUKICAgICAgICAgICAgbWFuaHVhZGI6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3Lm1hbmh1YWRiLmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAoL1wvbWFuaHVhXC9cZCtcLy4rXC5odG1sLy50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnLnJvdy5tLTAucHQtMy5hZF8yX3dyYXAsIC5yb3cubS0wLmFkXzFfd3JhcCwgLnBhZ2luYXRpb24uanVzdGlmeS1jb250ZW50LWNlbnRlciwgI2xlZnQsICNyaWdodCB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30nOwogICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbWcuaW1nLWZsdWlkLnNob3ctcGljJykpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2ltZy5pbWctZmx1aWQuc2hvdy1waWMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyAvLyDpmpDol4/nrKzkuIDkuKrlm77niYfvvIjpgb/lhY3ph43lpI3vvIkKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KG1hbmh1YWRiX2luaXQsIDEwMCk7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5tYW5odWFkYjsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2xpc3QnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5tYW5odWFjYXRfbGlzdDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3NlYXJjaCcpID4gLTEgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3VwZGF0ZScpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLm1hbmh1YWNhdF9zZWFyY2g7CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogNCwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogbWFuaHVhZGJfZnVuY3Rpb25OZXh0LAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO2JvZHkgPiBzY3JpcHQ6bm90KFt0eXBlXSk6bm90KFtzcmNdKSwgLnZnLXItZGF0YSwgb2wubGlua3Mtb2YtYm9va3MubnVtX2RpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5wamF4LWNvbnRhaW5lcicsIDNdLAogICAgICAgICAgICAgICAgICAgIGluc2VydEVsZW1lbnQ6IG1hbmh1YWRiX2luc2VydEVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxzOiA1MDAwLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAzMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgIOa8q+eUuyBEQgogICAgICAgICAgICBoaWNvbWljOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5oaWNvbWljLm5ldCcsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2NoYXB0ZXJzLycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJy5jb250ZW50IHtoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDt9IC5mb290ZXIsIC5sZWZ0X2N1cnNvciwgLnJpZ2h0X2N1cnNvciwgLmZpbmlzaCB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gLmNvbnRlbnQgPiBpbWcge2Rpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7bWFyZ2luOiAwIGF1dG8gIWltcG9ydGFudDt9JzsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGhpY29taWNfaW5pdCwgMTAwKTsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmhpY29taWM7CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogNCwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogaGljb21pY19mdW5jdGlvbk5leHQsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5jb250ZW50JywgM10sCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0RWxlbWVudDogaGljb21pY19pbnNlcnRFbGVtZW50LAogICAgICAgICAgICAgICAgICAgIGludGVydmFsczogNTAwMCwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMzAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgSGlDb21pYyAo5Zeo5ryr55S7KQogICAgICAgICAgICBkbXpqOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5kbXpqLmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3ZpZXcvJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGlmIChnZXRDb29raWUoJ2Rpc3BsYXlfbW9kZScpICE9ICcxJykgeyAvLyDlvLrliLblvIDlkK8gW+S4iuS4i+a7muWKqOmYheivu10g5qih5byPCiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZT0nZGlzcGxheV9tb2RlPTE7IGV4cGlyZXM9VGh1LCAxOCBEZWMgMjAzMSAxMjowMDowMCBHTVQ7IHBhdGg9Lyc7IC8vIOWGmeWFpSBDb29raWUg5byA5ZCvIFvkuIrkuIvmu5rliqjpmIXor7tdIOaooeW8jwogICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsgLy8g5Yi35paw572R6aG1CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZG16al9pbml0LCAxMDApOwogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZG16ajsgZG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9ICdwLm1oX2N1cnJfcGFnZSwgLmJ0bUJ0bkJveCwgLmZsb2F0X2NvZGUsICNmbG9hdENvZGUge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9IC5jb21pY193cmFDb24gPiBpbWcge2Rpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7bWFyZ2luOiAwIGF1dG8gIWltcG9ydGFudDsgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7IHBhZGRpbmc6IDAgIWltcG9ydGFudDsgbWF4LXdpZHRoOiA5OSUgIWltcG9ydGFudDsgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7fSc7IC8vIOmakOiXj+S4remXtOeahOmhteaVsOS/oeaBrwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvY2F0ZWdvcnknKSA+IC0xIHx8IGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy91cGRhdGUnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5kbXpqX2xpc3Q7IGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnLndyYXBfbWhsaXN0X2wuY29uX2xlZnQsIC53cmFwX2xpc3Qge2hlaWdodDogYXV0byFpbXBvcnRhbnQ7fSc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9yYW5rJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZG16al9yYW5rOyBkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJy53cmFwX21obGlzdF9sLmNvbl9sZWZ0IHtoZWlnaHQ6IGF1dG8haW1wb3J0YW50O30nOwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDQsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6IGRtempfZnVuY3Rpb25OZXh0LAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsuY29taWNfd3JhQ29uJywgM10sCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0RWxlbWVudDogZG16al9pbnNlcnRFbGVtZW50LAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy53cmFwX2xhc3RfbWlkLCAud3JhcF9sYXN0X2hlYWQsIHRpdGxlJywKICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbHM6IDIwMDAsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDMwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgIOWKqOa8q+S5i+WutiAtIOWOn+WImwogICAgICAgICAgICBkbXpqX2xpc3Q6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YS5wZ19uZXh0W2hyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczt1bC5saXN0X2Nvbl9saSA+IGxpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7dWwubGlzdF9jb25fbGknLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICDliqjmvKvkuYvlrrYgLSDljp/liJsgLSDliIbnsbvpobUKICAgICAgICAgICAgZG16al9yYW5rOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EucGdfbmV4dFtocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnBoX3JfY29uX2xpID4gZGl2Om5vdCguYWRfY29sdW1uKScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5waF9yX2Nvbl9saScsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgIOWKqOa8q+S5i+WutiAtIOWOn+WImyAtIOaOkuihjOamnAogICAgICAgICAgICBkbXpqX21hbmh1YTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdtYW5odWEuZG16ai5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKC9cL1xkK1wuc2h0bWwvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGNoYXB0ZXJTY3JvbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncWllaHVhbl90eHQnKSAvLyDlvLrliLbkuLogW+S4iuS4i+a7muWKqOmYheivu10g5qih5byPCiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXB0ZXJTY3JvbGwgJiYgY2hhcHRlclNjcm9sbC50ZXh0Q29udGVudCA9PT0gJ+WIh+aNouWIsOS4iuS4i+a7muWKqOmYheivuycpIHtjaGFwdGVyU2Nyb2xsLmNsaWNrKCk7fQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZG16al9tYW5odWFfaW5pdCwgMTAwKTsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRtempfbWFuaHVhOyBkb2N1bWVudC5sYXN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpLnRleHRDb250ZW50ID0gJ3AuY3Vycl9wYWdlLCAuYnRtQnRuQm94LCAuZmxvYXRfY29kZSwgI2Zsb2F0Q29kZSB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30gI2NlbnRlcl9ib3ggPiBpbWcge2Rpc3BsYXk6IGJsb2NrICFpbXBvcnRhbnQ7bWFyZ2luOiAwIGF1dG8gIWltcG9ydGFudDsgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7IHBhZGRpbmc6IDAgIWltcG9ydGFudDsgbWF4LXdpZHRoOiA5OSUgIWltcG9ydGFudDsgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7fSc7IC8vIOmakOiXj+S4remXtOeahOmhteaVsOS/oeaBrwogICAgICAgICAgICAgICAgLyp9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy90YWdzL3NlYXJjaCcpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRtempfbWFuaHVhX3NlYXJjaDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3RhZ3MvJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZG16al9tYW5odWFfbGlzdDsqLwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvdXBkYXRlJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZG16al9tYW5odWFfdXBkYXRlOwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDQsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6IGRtempfbWFuaHVhX2Z1bmN0aW9uTmV4dCwKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I2NlbnRlcl9ib3gnLCAzXSwKICAgICAgICAgICAgICAgICAgICBpbnNlcnRFbGVtZW50OiBkbXpqX21hbmh1YV9pbnNlcnRFbGVtZW50LAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5kaXNwbGF5X2dyYXliZywgdGl0bGUnLAogICAgICAgICAgICAgICAgICAgIGludGVydmFsczogMjAwMCwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMzAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICDliqjmvKvkuYvlrrYgLSDml6XmvKsKICAgICAgICAgICAgZG16al9tYW5odWFfc2VhcmNoOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlcyJdL2FbY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aG1IildJywKICAgICAgICAgICAgICAgICAgICBmb3JjZUhUVFBTOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy50Y2FyaWNhdHVyZV9ibG9jayB1bCcsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy50Y2FyaWNhdHVyZV9ibG9jaycsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlcycsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbjogewogICAgICAgICAgICAgICAgICAgIGFmdGVyOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKSkuc3JjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCA+IHNjcmlwdFtzcmMqPSIvanMvcHMuanMiXScpLnNyYzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8v5Yqo5ryr5LmL5a62IC0g5pel5ryrIC0g5pCc57Si6aG1CiAgICAgICAgICAgIGRtempfbWFuaHVhX2xpc3Q6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2VzIl0vYVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgICAgICAgICAgICAgIGZvcmNlSFRUUFM6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnRjYXJpY2F0dXJlX2Jsb2NrIHVsJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnBhZ2VzJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2VzJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKS5zcmMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdoZWFkID4gc2NyaXB0W3NyYyo9Ii9qcy9jc2VhcmNoLmpzIl0nKS5zcmM7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAg5Yqo5ryr5LmL5a62IC0g5pel5ryrIC0g5YiG57G76aG1CiAgICAgICAgICAgIGRtempfbWFuaHVhX3VwZGF0ZTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZXMiXS9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7Lm5ld3BpY19jb250ZW50ID4gKjpub3QoLnBhZ2VzKScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5uZXdwaWNfY29udGVudCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlcycsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy/liqjmvKvkuYvlrrYgLSDml6XmvKsgLSDmnIDmlrDmm7TmlrAKICAgICAgICAgICAgY29weW1hbmdhOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5jb3B5bWFuZ2EuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvY2hhcHRlci8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5jb3B5bWFuZ2E7IGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnLnVwTWVtYmVyLCAuY29taWNDb250YWluZXJBZHMsIC5mb290ZXIge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9JzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2NvbWljcycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmNvcHltYW5nYV9saXN0OwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDQsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6IGNvcHltYW5nYV9mdW5jdGlvbk5leHQsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzO3VsLmNvbWljQ29udGVudC1pbWFnZS1saXN0ID4gbGk6Zmlyc3QtY2hpbGQnLCAxXSwKICAgICAgICAgICAgICAgICAgICBpbnNlcnRFbGVtZW50OiBjb3B5bWFuZ2FfaW5zZXJ0RWxlbWVudCwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsuZGlzcG9zYWJsZURhdGEsIC5kaXNwb3NhYmxlUGFzcywgLmRpc3Bvc2FibGVVcmxQcmVmaXgsIC5kaXNwb3NhYmxlVXJsU3VmZml4LCAuZm9vdGVyLCBoNC5oZWFkZXIsIHRpdGxlJywKICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbHM6IDUwMDAsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDMwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICDmi7fotJ3mvKvnlLsKICAgICAgICAgICAgY29weW1hbmdhX2xpc3Q6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7bGkubmV4dCA+IGFbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5leGVtcHRDb21pYy1ib3ggPiBkaXYnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsuZXhlbXB0Q29taWMtYm94JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7dWwucGFnZS1hbGwnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IHNyY19zcmNfZnVuY3Rpb25CZWZvcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAg5ou36LSd5ryr55S7IC0g5YiG57G76aG1CiAgICAgICAgICAgIGd1ZmVuZ21oOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogL2d1ZmVuZ21oLywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmICgvXC9cZCsuK1wuaHRtbC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgY2hhcHRlclNjcm9sbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFwdGVyLXNjcm9sbCcpIC8vIOW8uuWItuS4uiBb5LiL5ouJ6ZiF6K+7XSDmqKHlvI8KICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcHRlclNjcm9sbCAmJiBjaGFwdGVyU2Nyb2xsLmNsYXNzTmFtZSA9PT0gJycpIHtjaGFwdGVyU2Nyb2xsLmNsaWNrKCk7fQogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZ3VmZW5nbWg7IGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAncC5pbWdfaW5mbyB7ZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O30nOyAvLyDpmpDol4/kuK3pl7TnmoTpobXmlbDkv6Hmga8KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3VwZGF0ZScpID4gLTEgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2xpc3QnKSA+IC0xIHx8IGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9zZWFyY2gnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5ndWZlbmdtaF9saXN0OwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDQsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6IGd1ZmVuZ21oX2Z1bmN0aW9uTmV4dCwKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzcztib2R5ID4gc2NyaXB0OmZpcnN0LWNoaWxkJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I2ltYWdlcycsIDNdLAogICAgICAgICAgICAgICAgICAgIGluc2VydEVsZW1lbnQ6IGd1ZmVuZ21oX2luc2VydEVsZW1lbnQsCiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxzOiA1MDAwLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiA0MDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgIOWPpOmjjua8q+eUu+e9kQogICAgICAgICAgICBndWZlbmdtaF9saXN0OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2xpLm5leHQgPiBhW2hyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczt1bC5ib29rLWxpc3QgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzO3VsLmJvb2stbGlzdCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO3VsLnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICDlj6Tpo47mvKvnlLvnvZEgLSDliIbnsbvpobUKICAgICAgICAgICAgc3pjZG1qOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5zemNkbWouY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvc3pjY2hhcHRlci8nKSA+IC0xKSB7Y3VyU2l0ZSA9IERCU2l0ZS5zemNkbWo7IGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnLmhlYWRlciB7b3BhY2l0eTogMC4zICFpbXBvcnRhbnQ7fSc7fX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9ImZhbnllIl1bMV0vYVtAaHJlZl1bdGV4dCgpPSLkuIvkuIDpobUiIG9yIHRleHQoKT0i5LiL5LiA6K+dIl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5jb21pY3BhZ2UgPiBkaXYsdGl0bGUnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsuY29taWNwYWdlJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LmZhbnllLGgxLnRpdGxlJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMjAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBzemNkbWpfZnVuY3Rpb25CZWZvcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICDnoILkuYvoiLnliqjmvKvlrrYKICAgICAgICAgICAgbWFuZ2FiejogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdtYW5nYWJ6LmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAoL1wvbVxkKy8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KG1hbmdhYnpfaW5pdCwgNTAwKTsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLm1hbmdhYno7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubGFzdEVsZW1lbnRDaGlsZC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKS50ZXh0Q29udGVudCA9ICdib2R5ID4gLmNvbnRhaW5lciA+IGRpdjpub3QoW2lkXSkge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9IC50b3AtYmFyIHtvcGFjaXR5OiAwLjMgIWltcG9ydGFudDt9ICNjcF9pbWcgPiBpbWd7ZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDttYXJnaW46IDAgYXV0byAhaW1wb3J0YW50O3dpZHRoOiBhdXRvICFpbXBvcnRhbnQ7IGhlaWdodDogYXV0byAhaW1wb3J0YW50O30nOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXC9cZCtielwvLy50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGV0YWlsLWxpc3QtZm9ybS1tb3JlJykpIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZXRhaWwtbGlzdC1mb3JtLW1vcmUnKS5jbGljaygpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvbWFuZ2EtbGlzdCcpID4gLTEgfHwgbG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2VhcmNoJykgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUubWFuZ2Fiel9saXN0OwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDQsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6IG1hbmdhYnpfZnVuY3Rpb25OZXh0LAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjY3BfaW1nJywgM10sCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0RWxlbWVudDogbWFuZ2Fiel9pbnNlcnRFbGVtZW50LAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO3AudG9wLXRpdGxlLCBib2R5ID4gLmNvbnRhaW5lciA+IGRpdjpub3QoW2lkXSksIHRpdGxlJywKICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbHM6IDUwMCwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgTWFuZ2FieiDmvKvnlLsKICAgICAgICAgICAgbWFuZ2Fiel9saXN0OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlLXBhZ2luYXRpb24iXS8vYVtAaHJlZl1bY29udGFpbnModGV4dCgpLCAiPiIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7dWwubWgtbGlzdCA+IGxpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7dWwubWgtbGlzdCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlLXBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiA4MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICBNYW5nYWJ6IOa8q+eUuyAtIOWIhuexuy/mkJzntKLpobUKICAgICAgICAgICAgXzQyM2Rvd246IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LjQyM2Rvd24uY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcuaHRtbCcpID09PSAtMSkgY3VyU2l0ZSA9IERCU2l0ZS5fNDIzZG93bjt9LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdpbmciXS8vYVtjb250YWlucyh0ZXh0KCksIuS4i+S4gOmhtSIpXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO2Rpdi5jb250ZW50LXdyYXAgdWwuZXhjZXJwdCA+IGxpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7ZGl2LmNvbnRlbnQtd3JhcCB1bC5leGNlcnB0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7ZGl2LnBhZ2luZycsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICA0MjNEb3duCiAgICAgICAgICAgIGlhb19zdTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdpYW8uc3UnLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9saVtAY2xhc3M9ImJ0biBidG4tcHJpbWFyeSBuZXh0Il0vL2FbQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjaW5kZXggPiBhcnRpY2xlLCAjYXJjaGl2ZSA+IGFydGljbGUnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzcztvbC5wYWdlLW5hdmlnYXRvcicsIDFdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO29sLnBhZ2UtbmF2aWdhdG9yJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBpYW9fc3VfZnVuY3Rpb25CZWZvcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICAgIOS4jeatu+m4nwogICAgICAgICAgICBzaGFyZXJ3OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5zaGFyZXJ3LmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignLmh0bWwnKSA9PT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2VhcmNoLnBocCcpIHtjdXJTaXRlID0gREJTaXRlLnNoYXJlcndfc2VhcmNoO30gZWxzZSB7Y3VyU2l0ZSA9IERCU2l0ZS5zaGFyZXJ3O307fTt9LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO3NwYW4ubmV4dCA+IGFbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5uZXctcG9zdCA+IGFydGljbGUnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsubmV3LXBvc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZWJhcicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICAg5YiG5Lqr6ICFCiAgICAgICAgICAgIHNoYXJlcndfc2VhcmNoOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO3NwYW4ubmV4dCA+IGFbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNtYWluYm94ID4gYXJ0aWNsZScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5wYWdlYmFyJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2ViYXInLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAg5YiG5Lqr6ICFIC0g5pCc57Si6aG1CiAgICAgICAgICAgIGV4dGZhbnM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LmV4dGZhbnMuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZSAhPSAnLycpIHtjdXJTaXRlID0gREJTaXRlLmV4dGZhbnM7fX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7LnBhZ2UgYVtkYXRhLXBhZ2U9Im5leHQiXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnNpZGUtbGVmdCA+IHVsW2NsYXNzKj0iLWxpc3QiXSA+IGxpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnNpZGUtbGVmdCA+IHVsW2NsYXNzKj0iLWxpc3QiXScsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMjAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICAgICDmianlsZXov7cKICAgICAgICAgICAgY2hyb21lX3p6em1oOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ2Nocm9tZS56enptaC5jbicsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDIsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdidXR0b24ubW9yZS1idG4nLAogICAgICAgICAgICAgICAgICAgIGludGVydmFsczogMTAwMCwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAg5p6B566A5o+S5Lu2CiAgICAgICAgICAgIGFwcGlubjogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cuYXBwaW5uLmNvbScsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJuZXh0IHBhZ2UtbnVtYmVycyJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7c2VjdGlvbiNsYXRlc3QtcG9zdHMgPiBhcnRpY2xlJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7bmF2Lm5hdmlnYXRpb24ucGFnaW5hdGlvbicsIDFdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO2Rpdi5uYXYtbGlua3MnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICAgICDlsI/kvJfova/ku7YKICAgICAgICAgICAgaXNoYXJlcGM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LmlzaGFyZXBjLmNvbScsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YS5uZXh0W2hyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuY29udGVudCA+IGRpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzO25hdi5wYWdpbmF0aW9uJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7bmF2LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICAg5LmQ6L2v5Y2a5a6iCiAgICAgICAgICAgIHBjNTIxOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5wYzUyMS5uZXQnLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnNlYXJjaC5zbGljZSgwLDMpID09PSAnP3M9Jykge2N1clNpdGUgPSBEQlNpdGUucGM1MjFfc2VhcmNoO30gZWxzZSB7Y3VyU2l0ZSA9IERCU2l0ZS5wYzUyMTt9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMiwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2RpdltpZF49Imlhc190cmlnZ2VyXyJdJywKICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbHM6IDEwMDAsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICAgICDkuI3lv5jliJ3lv4MKICAgICAgICAgICAgcGM1MjFfc2VhcmNoOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EubmV4dFtocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I21haW4gPiB1bCA+IGxpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I21haW4gPiB1bCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO25hdi5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAg5LiN5b+Y5Yid5b+DIC0g5pCc57Si6aG1CiAgICAgICAgICAgIGdoeGk6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LmdoeGkuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nICYmICFsb2NhdGlvbi5zZWFyY2gpIHtjdXJTaXRlID0gREJTaXRlLmdoeGk7fSBlbHNlIHtjdXJTaXRlID0gREJTaXRlLmdoeGlfcG9zdGxpc3Q7fX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDIsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcubG9hZC1tb3JlJywKICAgICAgICAgICAgICAgICAgICBpbnRlcnZhbHM6IDEwMDAsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDUwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICAgICAg5p6c5qC45Yml5aOzIC0g6aaW6aG1CiAgICAgICAgICAgIGdoeGlfcG9zdGxpc3Q6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YS5uZXh0W2hyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczt1bC5wb3N0LWxvb3AgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzO3VsLnBvc3QtbG9vcCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzO3VsLnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZnVuY3Rpb246IHsKICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IHNyY19vcmlnaW5hbF9mdW5jdGlvbkJlZm9yZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICDmnpzmoLjliaXlo7MgLSDliIbnsbsv5pCc57Si6aG1CiAgICAgICAgICAgIHNpeHlpbjogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cuc2l4eWluLmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvJyAmJiBsb2NhdGlvbi5zZWFyY2ggPT09ICcnKSB7IC8vIOmmlumhtQogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuc2l4eWluOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcuaHRtbCcpID09PSAtMSkgeyAvLyAgICDliIbnsbvpobUKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnNpeHlpbl9wb3N0bGlzdDsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLmxvYWQtbW9yZScsCiAgICAgICAgICAgICAgICAgICAgbmV4dEhUTUw6ICfngrnlh7vmn6XnnIvmm7TlpJonLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICAgICDlha3pn7Pova/ku7YgLSDpppbpobUKICAgICAgICAgICAgc2l4eWluX3Bvc3RsaXN0OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0ibmV4dCJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7dWwucG9zdC1sb29wID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt1bC5wb3N0LWxvb3AnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2Nzczt1bC5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAg5YWt6Z+z6L2v5Lu2IC0g5YiG57G76aG1CiAgICAgICAgICAgIHdlaWRvd246IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LndlaWRvd24uY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvc2VhcmNoLycpID4gLTEpIHsgLy/mkJzntKLpobUKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLndlaWRvd25fc2VhcmNoOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvc3BlY2lhbC8nKSA+IC0xKSB7IC8vIOS4k+mimOmhtQogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUud2VpZG93bl9zcGVjaWFsOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLndlaWRvd247CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9Im5leHRwYWdlIl1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuYXJ0aWNsZVdyYXBwZXIgPiAuaXRlbUFydGljbGUsIC5hcnRpY2xlV3JhcHBlciA+IC5yaWNoVGV4dEl0ZW0uc2VhcmNoJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LmFydGljbGVXcmFwcGVyJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I3BhZ2VHcm91cCcsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICAg5b6u5b2T5LiL6L29CiAgICAgICAgICAgIHdlaWRvd25fc2VhcmNoOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0ibmV4dHBhZ2UiXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5hcnRpY2xlTGlzdFdyYXBwZXIgPiAucmljaFRleHRJdGVtLnNlYXJjaCcsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNwYWdlR3JvdXAnLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjcGFnZUdyb3VwJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogNzAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAg5b6u5b2T5LiL6L29IC0g5pCc57Si6aG1CiAgICAgICAgICAgIHdlaWRvd25fc3BlY2lhbDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9Im5leHRwYWdlIl1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczsuc3BlY2lhbCA+IC5pdGVtJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnNwZWNpYWwnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjcGFnZUdyb3VwJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogNzAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICDlvq7lvZPkuIvovb0gLSDkuJPpopjpobUKICAgICAgICAgICAgdGhfc2p5OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy50aC1zankuY29tJywKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzcztsaS5uZXh0LXBhZ2UgPiBhJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuY29udGVudCA+IGFydGljbGUnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsucGFnaW5hdGlvbicsIDFdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMjAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICAgICAgdGgtc2p5IOaxieWMlgogICAgICAgICAgICBmc3lscjogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdmc3lsci5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy5odG1sJykgPT09IC0xKSB7Y3VyU2l0ZSA9IERCU2l0ZS5mc3lscjt9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczthLm5leHQucGFnZS1udW1iZXJzW2hyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsucG9zdHMtY29uID4gZGl2Om5vdChbY2xhc3MqPSJwb3N0cy0iXSknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsucG9zdHMtY29uJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7bmF2LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICAgICAg5Y+R54On5Y+L57u/6L2vCiAgICAgICAgICAgIGlwbGF5c29mdF9wb3N0c2xpc3Q6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LmlwbGF5c29mdC5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy5odG1sJykgPiAtMSB8fCBsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvcC8nKSA+IC0xKSB7IC8vIOaWh+eroOWGhQogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuaXBsYXlzb2Z0X3Bvc3Rjb21tZW50czsKICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIOWFtuS7lumhtemdogogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuaXBsYXlzb2Z0X3Bvc3RzbGlzdDsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlbmF2aSJdLy9hW0B0aXRsZT0i5LiL5LiA6aG1Il1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjcG9zdGxpc3QgPiBkaXYuZW50cnknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjcG9zdGxpc3QgPiAucGFnZW5hdmktYnV0dG9uJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2VuYXZpLWJ1dHRvbiwgLnBhZ2VuYXZpJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTIwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBpcGxheXNvZnRfcG9zdHNsaXN0X2Z1bmN0aW9uQmVmb3JlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgIOW8guasoeWFg+i9r+S7tgogICAgICAgICAgICBpcGxheXNvZnRfcG9zdGNvbW1lbnRzOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnI2xvYWRIaXN0b3J5Q29tbWVudHMnLAogICAgICAgICAgICAgICAgICAgIG5leHRUZXh0T2Y6ICflsZXlvIDlkI7pnaInLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMjAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vIOW8guasoeWFg+i9r+S7tiAtIOivhOiuugogICAgICAgICAgICBtcHlpdDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cubXB5aXQuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nICYmICFsb2NhdGlvbi5zZWFyY2gpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLm1weWl0OwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvY2F0ZWdvcnkvJykgPiAtMSB8fCBsb2NhdGlvbi5zZWFyY2guaW5kZXhPZignP3M9JykgPiAtMSkgeyAvLyDmkJzntKLpobUgLyDliIbnsbvpobUKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLm1weWl0X2NhdGVnb3J5OwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJwYWdlLW51bWJlcnMiXVtAdGl0bGU9IuS4i+S4gOmhtSJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I3Bvc3QgPiBkaXZbaWRePSJwb3N0LSJdJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I3Bvc3QgPiAjcGFnZW5hdmknLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjcG9zdCA+ICNwYWdlbmF2aScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE3MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICAgICDogIHmroEgfCDmroHmvILpgaUKICAgICAgICAgICAgbXB5aXRfY2F0ZWdvcnk6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJwYWdlLW51bWJlcnMiXVtAdGl0bGU9IuS4i+S4gOmhtSJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I2NvbnRlbnQgPiBkaXZbY2xhc3NePSJlbnRyeV9ib3giXScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNjb250ZW50ID4gI3BhZ2VuYXZpJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7I2NvbnRlbnQgPiAjcGFnZW5hdmknLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNzAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAg6ICB5q6BIHwg5q6B5ryC6YGlIC0g5pCc57Si6aG1L+WIhuexu+mhtQogICAgICAgICAgICB5eHNzcDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cueXhzc3AuY29tJywKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnZS1uYXYgdGQtcGItcGFkZGluZy1zaWRlIl0vYVtsYXN0KCldW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnRkLW1vZHVsZXMtY29udGFpbmVyLnRkLW1vZHVsZS1udW1iZXI0ID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnRkLW1vZHVsZXMtY29udGFpbmVyLnRkLW1vZHVsZS1udW1iZXI0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2UtbmF2LnRkLXBiLXBhZGRpbmctc2lkZScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICAgICDlvILmmJ/ova/ku7bnqbrpl7QKICAgICAgICAgICAgc29yZHVtOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5zb3JkdW0ub3JnJywKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9Im5leHQgcGFnZS1udW1iZXJzIl1bQGhyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuYXJ0aWNsZSA+IGFydGljbGUnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzcztuYXYubmF2aWdhdGlvbi5wb3N0cy1uYXZpZ2F0aW9uJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7bmF2Lm5hdmlnYXRpb24ucG9zdHMtbmF2aWdhdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICAgICjkuIvpnaLov5nlh6DkuKrpg73mmK/lm73lpJbljZrlrqLnvZHnq5kpCiAgICAgICAgICAgIHdpbmFlcm86IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd2luYWVyby5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL2Jsb2cvJyB8fCBsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvY2F0ZWdvcnkvJykgPiAtMSkgY3VyU2l0ZSA9IERCU2l0ZS53aW5hZXJvO30sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7Lm5hdi1wcmV2aW91cyA+IGEnLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNjb250ZW50ID4gYXJ0aWNsZScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNuYXYtYmVsb3cnLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjbmF2LWJlbG93JywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBscmVwYWNrczogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdscmVwYWNrcy5uZXQnLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy5odG1sJykgPT09IC0xKSBjdXJTaXRlID0gREJTaXRlLmxyZXBhY2tzO30sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7LnBhZ2VfbmV4dCA+IGEnLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNtYWluIC5wb3N0LWxpc3QgYXJ0aWNsZScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5wYWdlX25hdicsIDFdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlX25hdicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbjogewogICAgICAgICAgICAgICAgICAgIGJlZm9yZTogbHJlcGFja3NfZnVuY3Rpb25CZWZvcmUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgd2luaGVscG9ubGluZTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cud2luaGVscG9ubGluZS5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL2Jsb2cvJykge2N1clNpdGUgPSBEQlNpdGUud2luaGVscG9ubGluZTt9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzcztzcGFuLnByZXYgPiBhW2hyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjbWFpbiA+IGFydGljbGUnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzcztuYXYucGFnaW5nLW5hdmlnYXRpb24nLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzcztuYXYucGFnaW5nLW5hdmlnYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAyMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdpbmRvd3NsYXRlc3Q6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnd3d3LndpbmRvd3NsYXRlc3QuY29tJywKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W2NvbnRhaW5zKEBjbGFzcywgInBhZ2UtbmF2IildL2EvaVtAY2xhc3M9InRkLWljb24tbWVudS1yaWdodCJdL3BhcmVudDo6YScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnRkLXNzLW1haW4tY29udGVudCA+IGRpdjpub3QoLnRkLWJsb2NrLXRpdGxlLXdyYXApOm5vdCgucGFnZS1uYXYpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnBhZ2UtbmF2JywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2UtbmF2JywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMjAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB0aGV3aW5kb3dzY2x1YjogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cudGhld2luZG93c2NsdWIuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2N1clNpdGUgPSBEQlNpdGUudGhld2luZG93c2NsdWI7IGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy8nKSB7Y3VyU2l0ZS5wYWdlci5zY3JvbGxEZWx0YSA9IDIwMDA7fX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7bGkucGFnaW5hdGlvbi1uZXh0ID4gYScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I2dlbmVzaXMtY29udGVudCA+IGFydGljbGUnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsucGFnaW5hdGlvbicsIDFdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBnaXRodWJfc3RhcjogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdnaXRodWIuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2xvY2F0aW9uY2hhbmdlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ3RhYj1zdGFycycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5naXRodWJfc3RhcjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvaXNzdWVzJykgPiAtMSAmJiBsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvaXNzdWVzLycpID09PSAtMSkgfHwgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9wdWxscycpID4gLTEgJiYgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3B1bGxzLycpID09PSAtMSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5naXRodWJfaXNzdWVzOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL2Rpc2N1c3Npb25zJykgPiAtMSAmJiAhKC9cL2Rpc2N1c3Npb25zXC9cZCsvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmdpdGh1Yl9kaXNjdXNzaW9uczsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9yZWxlYXNlcycpID4gLTEgJiYgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3JlbGVhc2VzL3RhZy8nKSA9PT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5naXRodWJfcmVsZWFzZXM7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvdGFncycpID4gLTEgJiYgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3RhZ3MvJykgPT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZ2l0aHViX3RhZ3M7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvY29tbWl0cycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5naXRodWJfY29tbWl0czsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9zZWFyY2gnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbG9jYXRpb24uc2VhcmNoKSByZXR1cm4KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPVJlcG9zaXRvcmllcycpID4gLTEgfHwgbG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ3R5cGU9JykgPT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmdpdGh1Yl9zZWFyY2g7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ3R5cGU9Y29kZScpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZ2l0aHViX3NlYXJjaF9jb2RlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPWNvbW1pdHMnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmdpdGh1Yl9zZWFyY2hfY29tbWl0OwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPWlzc3VlcycpID4gLTEgfHwgbG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ3R5cGU9ZGlzY3Vzc2lvbnMnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmdpdGh1Yl9zZWFyY2hfaXNzdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ3R5cGU9cmVnaXN0cnlwYWNrYWdlcycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZ2l0aHViX3NlYXJjaF9wYWNrYWdlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPW1hcmtldHBsYWNlJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5naXRodWJfc2VhcmNoX21hcmtldHBsYWNlOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCd0eXBlPXRvcGljcycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZ2l0aHViX3NlYXJjaF90b3BpY3M7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ3R5cGU9d2lraXMnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmdpdGh1Yl9zZWFyY2hfd2lraTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5zZWFyY2guaW5kZXhPZigndHlwZT11c2VycycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZ2l0aHViX3NlYXJjaF91c2VyOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2luYXRlLWNvbnRhaW5lciJdLy9hW0BocmVmXVtjb250YWlucyh0ZXh0KCksICJOZXh0IildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjanMtcGpheC1jb250YWluZXIgLnBvc2l0aW9uLXJlbGF0aXZlIGRpdltjbGFzc149ImNvbC1sZy0iXSA+IGRpdjpub3QoLnBvc2l0aW9uLXJlbGF0aXZlKTpub3QoLnBhZ2luYXRlLWNvbnRhaW5lciknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsucGFnaW5hdGUtY29udGFpbmVyJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRlLWNvbnRhaW5lcicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDMwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgICBHaXRodWIgLSDnlKjmiLcgU3RhciDliJfooagKICAgICAgICAgICAgZ2l0aHViX2lzc3VlczogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczthLm5leHRfcGFnZScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LmpzLW5hdmlnYXRpb24tY29udGFpbmVyLmpzLWFjdGl2ZS1uYXZpZ2F0aW9uLWNvbnRhaW5lciA+IGRpdltpZF49Imlzc3VlXyJdJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LmpzLW5hdmlnYXRpb24tY29udGFpbmVyLmpzLWFjdGl2ZS1uYXZpZ2F0aW9uLWNvbnRhaW5lcicsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMzAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICBHaXRodWIgLSBJc3N1ZXMg5YiX6KGoIC8gUFIg5YiX6KGoCiAgICAgICAgICAgIGdpdGh1Yl9kaXNjdXNzaW9uczogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczthLm5leHRfcGFnZScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I3JlcG8tY29udGVudC1wamF4LWNvbnRhaW5lciBkaXZbZGF0YS1kaXNjdXNzaW9uLWhvdmVyY2FyZHMtZW5hYmxlZF0gPiBkaXYnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjcmVwby1jb250ZW50LXBqYXgtY29udGFpbmVyIGRpdltkYXRhLWRpc2N1c3Npb24taG92ZXJjYXJkcy1lbmFibGVkXScsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMzAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgR2l0aHViIC0gRGlzY3Vzc2lvbnMg5YiX6KGoCiAgICAgICAgICAgIGdpdGh1Yl9yZWxlYXNlczogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnaW5hdGlvbiJdL2FbY29udGFpbnModGV4dCgpLCAiTmV4dCIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnJlcG9zaXRvcnktY29udGVudCAgPi5wb3NpdGlvbi1yZWxhdGl2ZSA+IGRpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5yZXBvc2l0b3J5LWNvbnRlbnQgID4ucG9zaXRpb24tcmVsYXRpdmUnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDMwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgIEdpdGh1YiAtIFJlbGVhc2VzIOWIl+ihqAogICAgICAgICAgICBnaXRodWJfdGFnczogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0icGFnaW5hdGlvbiJdL2FbY29udGFpbnModGV4dCgpLCAiTmV4dCIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnJlcG9zaXRvcnktY29udGVudCA+IC5Cb3ggPiBkaXYuQm94LXJvdycsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5yZXBvc2l0b3J5LWNvbnRlbnQgPiAuQm94JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAzMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICAgR2l0aHViIC0gVGFncyDliJfooagKICAgICAgICAgICAgZ2l0aHViX2NvbW1pdHM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2luYXRlLWNvbnRhaW5lciJdLy9hW2NvbnRhaW5zKHRleHQoKSwgIk9sZGVyIildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzcztkaXYuanMtbmF2aWdhdGlvbi1jb250YWluZXIgPiBkaXYnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzcztkaXYuanMtbmF2aWdhdGlvbi1jb250YWluZXInLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnaW5hdGUtY29udGFpbmVyJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMzAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgIEdpdGh1YiAtIENvbW1pdHMg5YiX6KGoCiAgICAgICAgICAgIGdpdGh1Yl9zZWFyY2g6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YS5uZXh0X3BhZ2UnLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO3VsLnJlcG8tbGlzdCA+IGxpJywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7dWwucmVwby1saXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgIEdpdGh1YiAtIFNlYXJjaCDliJfooagKICAgICAgICAgICAgZ2l0aHViX3NlYXJjaF9jb2RlOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EubmV4dF9wYWdlJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuY29kZS1saXN0ID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LmNvZGUtbGlzdCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgR2l0aHViIC0gU2VhcmNoIOWIl+ihqCAtIENvZGUKICAgICAgICAgICAgZ2l0aHViX3NlYXJjaF9jb21taXQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YS5uZXh0X3BhZ2UnLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNjb21taXRfc2VhcmNoX3Jlc3VsdHMgPiBkaXYnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjY29tbWl0X3NlYXJjaF9yZXN1bHRzJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgR2l0aHViIC0gU2VhcmNoIOWIl+ihqCAtIENvbW1pdAogICAgICAgICAgICBnaXRodWJfc2VhcmNoX2lzc3VlOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EubmV4dF9wYWdlJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuaXNzdWUtbGlzdCA+IGRpdiA+IGRpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5pc3N1ZS1saXN0ID4gZGl2JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgIEdpdGh1YiAtIFNlYXJjaCDliJfooaggLSBJc3N1ZXMvRGlzY3Vzc2lvbnMKICAgICAgICAgICAgZ2l0aHViX3NlYXJjaF9wYWNrYWdlOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EubmV4dF9wYWdlJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjcGFja2FnZV9zZWFyY2hfcmVzdWx0cyA+IGRpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNwYWNrYWdlX3NlYXJjaF9yZXN1bHRzJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICBHaXRodWIgLSBTZWFyY2gg5YiX6KGoIC0gUGFja2FnZQogICAgICAgICAgICBnaXRodWJfc2VhcmNoX21hcmtldHBsYWNlOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EubmV4dF9wYWdlJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsuaXNzdWUtbGlzdCA+IGRpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5pc3N1ZS1saXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vIEdpdGh1YiAtIFNlYXJjaCDliJfooaggLSBNYXJrZXRwbGFjZQogICAgICAgICAgICBnaXRodWJfc2VhcmNoX3RvcGljczogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczthLm5leHRfcGFnZScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnRvcGljLWxpc3QgPiBkaXYnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsudG9waWMtbGlzdCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgIEdpdGh1YiAtIFNlYXJjaCDliJfooaggLSBUb3BpY3MKICAgICAgICAgICAgZ2l0aHViX3NlYXJjaF93aWtpOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EubmV4dF9wYWdlJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczsjd2lraV9zZWFyY2hfcmVzdWx0cyA+IGRpdjpmaXJzdC1jaGlsZCA+IGRpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyN3aWtpX3NlYXJjaF9yZXN1bHRzID4gZGl2OmZpcnN0LWNoaWxkJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICBHaXRodWIgLSBTZWFyY2gg5YiX6KGoIC0gd2lraQogICAgICAgICAgICBnaXRodWJfc2VhcmNoX3VzZXI6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YS5uZXh0X3BhZ2UnLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyN1c2VyX3NlYXJjaF9yZXN1bHRzID4gZGl2OmZpcnN0LWNoaWxkID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I3VzZXJfc2VhcmNoX3Jlc3VsdHMgPiBkaXY6Zmlyc3QtY2hpbGQnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgIEdpdGh1YiAtIFNlYXJjaCDliJfooaggLSB1c2VyCiAgICAgICAgICAgIHN0YWNrb3ZlcmZsb3c6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAnc3RhY2tvdmVyZmxvdy5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9xdWVzdGlvbnMnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5zdGFja292ZXJmbG93OwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zZWFyY2gnKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5zdGFja292ZXJmbG93X3NlYXJjaDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvdGFncycpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnN0YWNrb3ZlcmZsb3dfdGFnczsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvdXNlcnMnKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5zdGFja292ZXJmbG93X3VzZXJzOwogICAgICAgICAgICAgICAgfX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YVtocmVmXVtyZWw9Im5leHQiXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7I3F1ZXN0aW9ucyA+IGRpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNxdWVzdGlvbnMnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZXInLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgIFN0YWNrT3ZlcmZsb3cgLSBRdWVzdGlvbnMKICAgICAgICAgICAgc3RhY2tvdmVyZmxvd190YWdzOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2FbaHJlZl1bcmVsPSJuZXh0Il0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyN0YWdzLWJyb3dzZXIgPiBkaXYnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjdGFncy1icm93c2VyJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2VyJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgU3RhY2tPdmVyZmxvdyAtIFRhZ3MKICAgICAgICAgICAgc3RhY2tvdmVyZmxvd191c2VyczogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczthW2hyZWZdW3JlbD0ibmV4dCJdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjdXNlci1icm93c2VyID4gZGl2OmZpcnN0LWNoaWxkID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I3VzZXItYnJvd3NlciA+IGRpdjpmaXJzdC1jaGlsZCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlcicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgU3RhY2tPdmVyZmxvdyAtIFVzZXJzCiAgICAgICAgICAgIHN0YWNrb3ZlcmZsb3dfc2VhcmNoOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2FbaHJlZl1bcmVsPSJuZXh0Il0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5qcy1zZWFyY2gtcmVzdWx0cyA+IGRpdjpmaXJzdC1jaGlsZCA+IGRpdicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5qcy1zZWFyY2gtcmVzdWx0cyA+IGRpdjpmaXJzdC1jaGlsZCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlcicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICBTdGFja092ZXJmbG93IC0gU2VhcmNoCiAgICAgICAgICAgIHNlZ21lbnRmYXVsdDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICdzZWdtZW50ZmF1bHQuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2xvY2F0aW9uY2hhbmdlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3F1ZXN0aW9ucycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnNlZ21lbnRmYXVsdDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2VhcmNoJykgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuc2VnbWVudGZhdWx0X3NlYXJjaDsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hW0BjbGFzcz0icGFnZS1saW5rIl1bY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aG1IildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczt1bC5saXN0LWdyb3VwID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt1bC5saXN0LWdyb3VwJywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7dWwucGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAgIFNlZ21lbnRGYXVsdCAtIFF1ZXN0aW9ucwogICAgICAgICAgICBzZWdtZW50ZmF1bHRfc2VhcmNoOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2FbaHJlZl1bcmVsPSJuZXh0Il0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5zZWFyY2gtcmVzdWx0ID4gc2VjdGlvbicsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5zZWFyY2gtcmVzdWx0ID4gZGl2Omxhc3QtY2hpbGQnLCAxXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2Nzczt1bC5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICBTZWdtZW50RmF1bHQgLSBTZWFyY2gKICAgICAgICAgICAgbGliZ2VuOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogL2xpYmdlbi8sCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcvc2VhcmNoLnBocCcpIHtjdXJTaXRlID0gREJTaXRlLmxpYmdlbjt9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZm9udC9hW0BocmVmXVtjb250YWlucyh0ZXh0KCksICLilroiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO3RhYmxlW3J1bGVzPSJyb3dzIl0gPiB0Ym9keSA+IHRyOm50aC1vZi10eXBlKG4rMiksIC5wYWdpbmF0b3Irc2NyaXB0Om5vdChbc3JjXSknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczt0YWJsZVtydWxlcz0icm93cyJdID4gdGJvZHknLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJy8vdGRbLi9mb250L2FbQGhyZWZdW2NvbnRhaW5zKHRleHQoKSwgIuKWuiIpXV0nLAogICAgICAgICAgICAgICAgICAgIHNjcmlwdFR5cGU6IDIsCiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMjAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICAgIOWtpuacrwogICAgICAgICAgICBwdWJtZWQ6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiAncHVibWVkLm5jYmkubmxtLm5paC5nb3YnLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnYnV0dG9uLmxvYWQtYnV0dG9uLm5leHQtcGFnZScsCiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHQ6ICdTaG93IG1vcmUnLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxNTAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgICAgICAg5a2m5pyvCiAgICAgICAgICAgIGdvb2dsZV9zY2hvbGFyOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9hWy4vc3BhbltAY2xhc3M9ImdzX2ljbyBnc19pY29fbmF2X25leHQiXV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNnc19yZXNfY2NsX21pZCA+IConLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjZ3NfcmVzX2NjbF9taWQnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2lkKCJnc19uIiknLAogICAgICAgICAgICAgICAgICAgIHNjcmlwdFR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDIwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAg6LC35q2M5a2m5pyvCiAgICAgICAgICAgIGJpbmdfYWNhZGVtaWM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICdjc3M7YS5zYl9wYWdOW2hyZWZdJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjYl9yZXN1bHRzID4gbGkuYWNhX2FsZ28nLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjYl9yZXN1bHRzIC5iX3BhZycsIDFdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOyNiX3Jlc3VsdHMgLmJfcGFnJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAg5b+F5bqU5a2m5pyvCiAgICAgICAgICAgIGJhaWR1X3h1ZXNodTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd4dWVzaHUuYmFpZHUuY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zJykgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuYmFpZHVfeHVlc2h1OwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignam91cm5hbC9uYXZpZ2F0aW9uJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuYmFpZHVfeHVlc2h1X2pvdXJuYWw7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJ3BhcGVyL3Nob3cnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5iYWlkdV94dWVzaHVfcGFwZXI7CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2lkKCJwYWdlIikvYVsuL2lbQGNsYXNzPSJjLWljb24tcGFnZXItbmV4dCJdXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNiZHhzX3Jlc3VsdF9saXN0cyA+IGRpdi5yZXN1bHQnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsjYmR4c19yZXN1bHRfbGlzdHMnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjcGFnZScsCiAgICAgICAgICAgICAgICAgICAgaGlzdG9yeTogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgIOeZvuW6puWtpuacrwogICAgICAgICAgICBiYWlkdV94dWVzaHVfam91cm5hbDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2NzczthLnJlcy1wYWdlLW5leHRbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNqb3VybmFsZGV0YWlsID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I2pvdXJuYWxkZXRhaWwnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucmVzLXBhZ2UnLAogICAgICAgICAgICAgICAgICAgIGhpc3Rvcnk6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8g55m+5bqm5a2m5pyvCiAgICAgICAgICAgIGJhaWR1X3h1ZXNodV9wYXBlcjogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMiwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2Rpdjpub3QoW3N0eWxlKj0iZGlzcGxheTogbm9uZSJdKSA+IC5tb3JlX2J0bicsCiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHQ6ICfliqDovb3mm7TlpJonLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAg55m+5bqm5a2m5pyvCiAgICAgICAgICAgIHNvX3h1ZXNodTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd4dWVzaHUuc28uY29tJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9zJykge2N1clNpdGUgPSBEQlNpdGUuc29feHVlc2h1O319LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2Ejc25leHRbaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO3VsLmxpc3QgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzO3VsLmxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjcGFnZScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAzNjAg5a2m5pyvCiAgICAgICAgICAgIHdpa2lob3c6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBob3N0OiBbJ3d3dy53aWtpaG93LmNvbScsICd6aC53aWtpaG93LmNvbSddLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9DYXRlZ29yeTonKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS53aWtpaG93OwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvd2lraUhvd1RvJykgPiAtMSAmJiBsb2NhdGlvbi5zZWFyY2guaW5kZXhPZignP3NlYXJjaD0nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS53aWtpaG93X3NlYXJjaDsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnY3NzO2EucGFnX25leHQnLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOyNjYXRfYWxsID4gLmNhdF9ncmlkID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7I2NhdF9hbGwgPiAuY2F0X2dyaWQnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsjbGFyZ2VfcGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2NyaXB0VHlwZTogNCwKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMjAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgIOaMh+WNlwogICAgICAgICAgICB3aWtpaG93X3NlYXJjaDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJ2Nzczsjc2VhcmNocmVzdWx0c19mb290ZXIgPiBhLmJ1dHRvbnJpZ2h0JywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2Nzczsjc2VhcmNocmVzdWx0c19saXN0ID4gYScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNzZWFyY2hyZXN1bHRzX2xpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2Nzczsjc2VhcmNocmVzdWx0c19mb290ZXInLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAzMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICDmjIfljZcgLSDmkJzntKLpobUKICAgICAgICAgICAgYWZyZWVjYXR2OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3d3dy5hZnJlZWNhdHYuY29tJywKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMiwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy5idG4tbW9yZSA+IGJ1dHRvbicsCiAgICAgICAgICAgICAgICAgICAgaW50ZXJ2YWxzOiAyMDAwLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vICAgICAgICAgIOebtOaSrQogICAgICAgICAgICBncmVhc3lmb3JrOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ2dyZWFzeWZvcmsub3JnJywKICAgICAgICAgICAgICAgIGZ1bmN0aW9uU3RhcnQ6IGZ1bmN0aW9uKCkge2lmICgvXC9zY3JpcHRzJC8udGVzdChsb2NhdGlvbi5wYXRobmFtZSkgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3NjcmlwdHMvYnktc2l0ZS8nKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5ncmVhc3lmb3JrOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXC9mZWVkYmFjayQvLnRlc3QobG9jYXRpb24ucGF0aG5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5ncmVhc3lmb3JrX2ZlZWRiYWNrOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcvZGlzY3Vzc2lvbnMnKSA+IC0xICYmICEoL1wvXGQrLy50ZXN0KGxvY2F0aW9uLnBhdGhuYW1lKSkpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmdyZWFzeWZvcmtfZGlzY3Vzc2lvbnM7CiAgICAgICAgICAgICAgICB9fSwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vYVtAY2xhc3M9Im5leHRfcGFnZSJdW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7b2wjYnJvd3NlLXNjcmlwdC1saXN0ID4gbGknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzcztvbCNicm93c2Utc2NyaXB0LWxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAgICAg6ISa5pysCiAgICAgICAgICAgIGdyZWFzeWZvcmtfZmVlZGJhY2s6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJuZXh0X3BhZ2UiXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5zY3JpcHQtZGlzY3Vzc2lvbi1saXN0ID4gZGl2JywKICAgICAgICAgICAgICAgICAgICBpbnNlcnRQb3NpdGlvbjogWydjc3M7LnNjcmlwdC1kaXNjdXNzaW9uLWxpc3QnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnaW5hdGlvbicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAg6ISa5pysIC0g5Y+N6aaI6aG1CiAgICAgICAgICAgIGdyZWFzeWZvcmtfZGlzY3Vzc2lvbnM6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDAsCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2FbQGNsYXNzPSJuZXh0X3BhZ2UiXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5kaXNjdXNzaW9uLWxpc3QgPiBkaXYnLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsuZGlzY3Vzc2lvbi1saXN0JywgM10sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LnBhZ2luYXRpb24nLAogICAgICAgICAgICAgICAgICAgIHNjcm9sbERlbHRhOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIC8vIOiEmuacrCAtIOiuqOiuuumhtQogICAgICAgICAgICBydXlpbGVfeHVleGlhbzogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIGhvc3Q6ICd3d3cucnV5aWxlLmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09ICcveHVleGlhby8nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUucnV5aWxlX3h1ZXhpYW87CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZSA9PT0gJy9kYXRhLycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5ydXlpbGVfZGF0YTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3NoaWp1YW4vJykgewogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnJ1eWlsZV9zaGlqdWFuOwogICAgICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJmeSJdL2FbY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aG1IildW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7Lnh4bGIgPiAuc2snLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsueHhsYicsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5meScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gIOWmguaEj+S6huaVmeiCsiAtIOWtpuagoQogICAgICAgICAgICBydXlpbGVfZGF0YTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vZGl2W0BjbGFzcz0iZnkiXS9hW2NvbnRhaW5zKHRleHQoKSwgIuS4i+S4gOmhtSIpXVtAaHJlZl0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzOy5tMV96ID4gLmxiaycsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOy5wYWdlJywgMV0sCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUU6ICdjc3M7LmZ5JywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAg5aaC5oSP5LqG5pWZ6IKyIC0g5pWw5o2uCiAgICAgICAgICAgIHJ1eWlsZV9zaGlqdWFuOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJmeSJdL2FbY29udGFpbnModGV4dCgpLCAi5LiL5LiA6aG1IildW0BocmVmXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7Lm0xX3ogPiAubTJfbGInLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsucGFnZScsIDFdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5meScsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDEwMDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gIOWmguaEj+S6huaVmeiCsiAtIOivleWNtwogICAgICAgICAgICBuZXRiaWFuOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3BpYy5uZXRiaWFuLmNvbScsCiAgICAgICAgICAgICAgICBmdW5jdGlvblN0YXJ0OiBmdW5jdGlvbigpIHtjdXJTaXRlID0gREJTaXRlLm5ldGJpYW47IGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnbGkubmV4dHBhZ2Uge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9Jzt9LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9kaXZbQGNsYXNzPSJwYWdlIl0vYVtjb250YWlucyh0ZXh0KCksIuS4i+S4gOmhtSIpXScsCiAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1lbnQ6ICdjc3M7LnNsaXN0IHVsID4gbGk6bm90KC5uZXh0cGFnZSknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzczsuc2xpc3QgdWwnLCAzXSwKICAgICAgICAgICAgICAgICAgICByZXBsYWNlRTogJ2NzczsucGFnZScsCiAgICAgICAgICAgICAgICAgICAgbWltZVR5cGU6ICd0ZXh0L2h0bWw7IGNoYXJzZXQ9Z2JrJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAg5b285bK45Zu+572RCiAgICAgICAgICAgIGlvbGl1OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ2JpbmcuaW9saXUuY24nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9waG90by8nKSA9PT0gLTEgJiYgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignLmh0bWwnKSA9PT0gLTEpIHtjdXJTaXRlID0gREJTaXRlLmlvbGl1OyBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jhc2UnKSkudGFyZ2V0ID0gJ19ibGFuayc7fX0sCiAgICAgICAgICAgICAgICBwYWdlcjogewogICAgICAgICAgICAgICAgICAgIHR5cGU6IDEsCiAgICAgICAgICAgICAgICAgICAgbmV4dExpbms6ICcvL2RpdltAY2xhc3M9InBhZ2UiXS9hW0BocmVmXVtjb250YWlucyh0ZXh0KCksICLkuIvkuIDpobUiKV0nLAogICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtZW50OiAnY3NzO2JvZHkgPiAuY29udGFpbmVyID4gZGl2Lml0ZW0nLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2Nzcztib2R5ID4gLmNvbnRhaW5lcicsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdlJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTAwMAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7CiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBpb2xpdV9mdW5jdGlvbkJlZm9yZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAvLyAgICAgICAgICAgICDlv4XlupTlo4HnurgKICAgICAgICAgICAgemh1dGl4OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAwLAogICAgICAgICAgICAgICAgaG9zdDogJ3podXRpeC5jb20nLAogICAgICAgICAgICAgICAgZnVuY3Rpb25TdGFydDogZnVuY3Rpb24oKSB7aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmltYXJ5LWhvbWUnKSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuemh1dGl4X3Bvc3RsaXN0OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnpodXRpeDsKICAgICAgICAgICAgICAgIH19LAogICAgICAgICAgICAgICAgcGFnZXI6IHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAxLAogICAgICAgICAgICAgICAgICAgIG5leHRMaW5rOiAnLy9saVtAY2xhc3M9Im5leHQtcGFnZSJdL2EgfCAvL2RpdltAY2xhc3M9ImJ0bi1wYWdlciJdL2FbY29udGFpbnModGV4dCgpLCAi4p2vIildJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjcG9zdC1saXN0ID4gdWwgPiBsaScsCiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb246IFsnY3NzOyNwb3N0LWxpc3QgPiB1bCcsIDNdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0aW9uLCAuYjItcGFnZW5hdi5wb3N0LW5hdicsCiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGE6IDE1MDAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgLy8gICAgICAgICAg6Ie0576O5YyWCiAgICAgICAgICAgIHpodXRpeF9wb3N0bGlzdDogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMCwKICAgICAgICAgICAgICAgIHBhZ2VyOiB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogMSwKICAgICAgICAgICAgICAgICAgICBuZXh0TGluazogJy8vbGlbQGNsYXNzPSJuZXh0LXBhZ2UiXS9hJywKICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbWVudDogJ2NzczsjcHJpbWFyeS1ob21lID4gZGl2Om5vdCgucGFnaW5hdGlvbiknLAogICAgICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uOiBbJ2NzczsucGFnaW5hdGlvbicsIDFdLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2VFOiAnY3NzOy5wYWdpbmF0aW9uJywKICAgICAgICAgICAgICAgICAgICBzY3JvbGxEZWx0YTogMTUwMAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IC8vICDoh7Tnvo7ljJYgLSDmlofnq6DliJfooagKICAgICAgICB9OwogICAgICAgIC8vIOeUn+aIkCBTaXRlVHlwZUlECiAgICAgICAgZ2VuZXJhdGVJRCgpOwogICAgICAgIC8vIOeUqOS6juiEmuacrOWIpOaWre+8iOmSiOWvuemDqOWIhueJueauiueahOe9keerme+8iQogICAgICAgIFNpdGVUeXBlID0gewogICAgICAgICAgICBCQUlEVV9USUVCQTogREJTaXRlLmJhaWR1X3RpZWJhLlNpdGVUeXBlSUQsCiAgICAgICAgICAgIEdBTUVSU0tZX0dMOiBEQlNpdGUuZ2FtZXJza3lfZ2wuU2l0ZVR5cGVJRAogICAgICAgIH07CiAgICB9CgoKICAgIGlmICh3ZWJUeXBlICE9IDEpIHsKICAgICAgICAvLyA8IOaJgOaciSBEaXNjdXoh6K665Z2bID4KICAgICAgICBpZiAod2ViVHlwZSA9PT0gMikgewogICAgICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignLmh0bWwnKSA+IC0xKSB7IC8vICAgICAgICAgICAgICAgICAgIOWIpOaWreaYr+S4jeaYr+mdmeaAgee9kemhte+8iC5odG1sIOe7k+Wwvu+8iQogICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJy9mb3J1bS0nKSA+IC0xKSB7IC8vICAgICAgICAgICAgIDwg5ZCE54mI5Z2X5biW5a2Q5YiX6KGoID4KICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2F1dG9wYm4nKSkgeyAvLyAgICAgICAgICAgICAgICDliKTmlq3mmK/lkKbmnIkgW+S4i+S4gOmhtV0g5oyJ6ZKuCiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZGlzY3V6X2ZvcnVtOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhdGVyZmFsbCcpKSB7IC8vICAgICAgIOWIpOaWreaYr+WQpuS4uuWbvueJh+aooeW8jwogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRpc2N1el93YXRlcmZhbGw7IHdhdGVyZmFsbFN0eWxlKCk7IC8vIOWbvueJh+aooeW8j+WIl+ihqOagt+W8j+mihOWkhOeQhgogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZGlzY3V6X2d1aWRlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL3RocmVhZC0nKSA+IC0xKSB7IC8vICAgICA8IOW4luWtkOWGhSA+CiAgICAgICAgICAgICAgICAgICAgaWYgKEdNX2dldFZhbHVlKCdtZW51X2Rpc2N1el90aHJlYWRfcGFnZScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZGlzY3V6X3RocmVhZDsKICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVBnYnRuKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDpmpDol4/luJblrZDlhoXnmoQgW+S4i+S4gOmhtV0g5oyJ6ZKuCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmKGxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJ3NlYXJjaCcpID4gLTEpIHsgLy8gICAgICAgIDwg5pCc57Si57uT5p6cID4KICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRpc2N1el9zZWFyY2g7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5aaC5p6c5rKh5pyJ5Yy56YWN55qE5YiZ57un57utCiAgICAgICAgICAgIGlmIChjdXJTaXRlLlNpdGVUeXBlSUQgPT09IDApIHsKICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbi5zZWFyY2guaW5kZXhPZignbW9kPWZvcnVtZGlzcGxheScpID4gLTEgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignZm9ydW1kaXNwbGF5LnBocCcpID4gLTEpIHsgLy8gICAgICA8IOWQhOeJiOWdl+W4luWtkOWIl+ihqCA+CiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdXRvcGJuJykpIHsgLy8gICAgICAgICAgICAgICAg5Yik5pat5piv5ZCm5pyJIFvkuIvkuIDpobVdIOaMiemSrgogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRpc2N1el9mb3J1bTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXRlcmZhbGwnKSkgeyAvLyAgICAgICDliKTmlq3mmK/lkKbkuLrlm77niYfmqKHlvI8KICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5kaXNjdXpfd2F0ZXJmYWxsOyB3YXRlcmZhbGxTdHlsZSgpOyAvLyDlm77niYfmqKHlvI/liJfooajmoLflvI/pooTlpITnkIYKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRpc2N1el9ndWlkZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdtb2Q9dmlld3RocmVhZCcpID4gLTEgfHwgbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZigndmlld3RocmVhZC5waHAnKSA+IC0xKSB7IC8vIDwg5biW5a2Q5YaFID4KICAgICAgICAgICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoJ21lbnVfZGlzY3V6X3RocmVhZF9wYWdlJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5kaXNjdXpfdGhyZWFkOwogICAgICAgICAgICAgICAgICAgICAgICBoaWRlUGdidG4oKTsgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOmakOiXj+W4luWtkOWGheeahCBb5LiL5LiA6aG1XSDmjInpkq4KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdtb2Q9Z3VpZGUnKSA+IC0xKSB7IC8vICAgICAgPCDlr7zor7vluJblrZDliJfooaggPgogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZGlzY3V6X2d1aWRlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmKGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCdtb2Q9c3BhY2UnKSA+IC0xICYmIGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCcmdmlldz1tZScpID4gLTEpIHsgLy8g5Yir5Lq655qE5Li76aKYL+WbnuWkjQogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZGlzY3V6X3lvdXNwYWNlOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5zZWFyY2guaW5kZXhPZignbW9kPWNvbGxlY3Rpb24nKSA+IC0xKSB7IC8vIDwg5reY6LS05YiX6KGoID4KICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRpc2N1el9jb2xsZWN0aW9uOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCdzZWFyY2gnKSA+IC0xKSB7IC8vICAgICAgIDwg5pCc57Si57uT5p6cID4KICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmRpc2N1el9zZWFyY2g7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aHJlYWRsaXN0JykpIHsgLy8gICAgICAgICAgPCDpg6jliIborrrlnZvnmoTlkITmnb/lnZcgVVJMIOaYr+iHquWumuS5ieeahCA+CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5kaXNjdXpfZm9ydW07CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3N0bGlzdCcpKSB7IC8vICAgICAgICAgICAgPCDpg6jliIborrrlnZvnmoTluJblrZDlhoUgVVJMIOaYr+iHquWumuS5ieeahCA+CiAgICAgICAgICAgICAgICAgICAgaWYgKEdNX2dldFZhbHVlKCdtZW51X2Rpc2N1el90aHJlYWRfcGFnZScpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZGlzY3V6X3RocmVhZDsKICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVBnYnRuKCk7IC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDpmpDol4/luJblrZDlhoXnmoQgW+S4i+S4gOmhtV0g5oyJ6ZKuCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIC8vIDwg5omA5pyJIEZsYXJ1bSDorrrlnZsgPgogICAgICAgIH0gZWxzZSBpZiAod2ViVHlwZSA9PT0gMykgewogICAgICAgICAgICBEQlNpdGUuZmxhcnVtLmZ1bmN0aW9uU3RhcnQoKQogICAgICAgICAgICAvLyA8IOaJgOacieS9v+eUqCBXb3JkUHJlc3MgRFVYIOS4u+mimOeahOe9keermSA+CiAgICAgICAgfSBlbHNlIGlmICh3ZWJUeXBlID09PSA0KSB7CiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCcuaHRtbCcpID09PSAtMSkgY3VyU2l0ZSA9IERCU2l0ZS5kdXg7CiAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ob3N0ID09PSAnYXBwaG90LmNjJykgY3VyU2l0ZS5wYWdlci5zY3JvbGxEZWx0YSA9IDI1MDA7IC8vIOWvueS6jumAn+W6puaFoueahOe9keerme+8jOmcgOimgeWinuWKoOe/u+mhteaVj+aEn+W6pgogICAgICAgIH0KICAgIH0KCiAgICBpZiAoR01fZ2V0VmFsdWUoJ21lbnVfcGFnZV9udW1iZXInKSkge3BhZ2VOdW1iZXIoJ2FkZCcpO30gZWxzZSB7cGFnZU51bWJlcignc2V0Jyk7fSAvLyDmmL7npLrpobXnoIEKICAgIHBhdXNlUGFnZUV2ZW50KCk7IC8vIOW3pumUruWPjOWHu+e9kemhteepuueZveWkhOaaguWBnOe/u+mhtQoKICAgIGlmIChsb2NhdGlvbmNoYW5nZSkgeyAvLyDlr7nkuo7kvb/nlKggcGpheCDmioDmnK/nmoTnvZHnq5nvvIzpnIDopoHnm5HlkKwgVVJMIOWPmOWMluadpemHjeaWsOWIpOaWree/u+mhteinhOWImQogICAgICAgIG5vd0xvY2F0aW9uID0gbG9jYXRpb24uaHJlZgogICAgICAgIGFkZExvY2F0aW9uY2hhbmdlKCk7IC8vIOiHquWumuS5iSBsb2NhdGlvbmNoYW5nZSDkuovku7YKICAgICAgICBpZiAod2ViVHlwZSA9PT0gMSkgewogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9jYXRpb25jaGFuZ2UnLCBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgaWYgKG5vd0xvY2F0aW9uICE9IGxvY2F0aW9uLmhyZWYpIHsKICAgICAgICAgICAgICAgICAgICBub3dMb2NhdGlvbiA9IGxvY2F0aW9uLmhyZWY7IGN1clNpdGUgPSB7U2l0ZVR5cGVJRDogMH07IHBhZ2VOdW0ubm93ID0gMTsgLy8g6YeN572u6KeE5YiZK+mhteeggQogICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyTWVudUNvbW1hbmQoKTsgLy8g6YeN5paw5Yik5pat6KeE5YiZCiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZS5wYWdlVXJsID0gJyc7IC8vIOS4i+S4gOmhtVVSTAogICAgICAgICAgICAgICAgICAgIHBhZ2VMb2FkaW5nKCk7IC8vIOiHquWKqOaXoOe8nee/u+mhtQoKICAgICAgICAgICAgICAgICAgICBpZiAoR01fZ2V0VmFsdWUoJ21lbnVfcGFnZV9udW1iZXInKSkge3BhZ2VOdW1iZXIoJ2FkZCcpO30gZWxzZSB7cGFnZU51bWJlcignc2V0Jyk7fSAvLyDmmL7npLrpobXnoIEKICAgICAgICAgICAgICAgICAgICBwYXVzZVBhZ2VFdmVudCgpOyAvLyDlt6bplK7lj4zlh7vnvZHpobXnqbrnmb3lpITmmoLlgZznv7vpobUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgaWYgKHdlYlR5cGUgPT09IDMpIHsKICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvY2F0aW9uY2hhbmdlJywgZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIGlmIChub3dMb2NhdGlvbiAhPSBsb2NhdGlvbi5ocmVmKSB7CiAgICAgICAgICAgICAgICAgICAgbm93TG9jYXRpb24gPSBsb2NhdGlvbi5ocmVmOyBjdXJTaXRlID0ge1NpdGVUeXBlSUQ6IDB9OyBwYWdlTnVtLm5vdyA9IDE7IC8vIOmHjee9ruinhOWImSvpobXnoIEKICAgICAgICAgICAgICAgICAgICBEQlNpdGUuZmxhcnVtLmZ1bmN0aW9uU3RhcnQoKTsgLy8g6YeN5paw5Yik5pat6KeE5YiZCiAgICAgICAgICAgICAgICAgICAgcGFnZUxvYWRpbmcoKTsgLy8g6Ieq5Yqo5peg57yd57+76aG1CgogICAgICAgICAgICAgICAgICAgIGlmIChHTV9nZXRWYWx1ZSgnbWVudV9wYWdlX251bWJlcicpKSB7cGFnZU51bWJlcignYWRkJyk7fSBlbHNlIHtwYWdlTnVtYmVyKCdzZXQnKTt9IC8vIOaYvuekuumhteeggQogICAgICAgICAgICAgICAgICAgIHBhdXNlUGFnZUV2ZW50KCk7IC8vIOW3pumUruWPjOWHu+e9kemhteepuueZveWkhOaaguWBnOe/u+mhtQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KCiAgICBjdXJTaXRlLnBhZ2VVcmwgPSAnJzsgLy8g5LiL5LiA6aG1VVJMCiAgICAvL2NvbnNvbGUubG9nKGN1clNpdGUpOwogICAgcGFnZUxvYWRpbmcoKTsgLy8g6Ieq5Yqo5peg57yd57+76aG1CgoKICAgIC8vIFtEaXNjdXohIOiuuuWdm10g6ZqQ6JeP5biW5a2Q5YaF55qEIFvkuIvkuIDpobVdIOaMiemSrgogICAgZnVuY3Rpb24gaGlkZVBnYnRuKCkgewogICAgICAgIGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSAnLnBnYnRuIHtkaXNwbGF5OiBub25lO30nOwogICAgfQogICAgLy8gW0Rpc2N1eiEg6K665Z2bXSDlm77niYfmqKHlvI/liJfooajmoLflvI/pooTlpITnkIYKICAgIGZ1bmN0aW9uIHdhdGVyZmFsbFN0eWxlKCkgewogICAgICAgIGxldCB3aWR0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3YXRlcmZhbGwgPiBsaTpmaXJzdC1jaGlsZCcpLnN0eWxlLndpZHRoOwogICAgICAgIGRvY3VtZW50Lmxhc3RFbGVtZW50Q2hpbGQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKSkudGV4dENvbnRlbnQgPSBgI3dhdGVyZmFsbCB7aGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7IHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7fSAjd2F0ZXJmYWxsID4gbGkge3dpZHRoOiAke3dpZHRofSAhaW1wb3J0YW50OyBmbG9hdDogbGVmdCAhaW1wb3J0YW50OyBwb3NpdGlvbjogaW5oZXJpdCAhaW1wb3J0YW50OyBsZWZ0OiBhdXRvICFpbXBvcnRhbnQ7IHRvcDogYXV0byAhaW1wb3J0YW50O31gOwogICAgfQogICAgLy8gW0Rpc2N1eiEg6K665Z2bXSDnmoTmj5LlhaXliY3lh73mlbDvvIjliqDovb3lm77niYfvvIzku4Xpg6jliIborrrlnZvvvIkKICAgIGZ1bmN0aW9uIGRpc2N1el90aHJlYWRfZnVuY3Rpb25CZWZvcmUocGFnZUVsZW1zKSB7CiAgICAgICAgaWYgKGxvY2F0aW9uLmhvc3RuYW1lID09PSAnYmJzLnBjYmV0YS5jb20nKSB7IC8vIOS7hemDqOWIhuiuuuWdm+mcgOimgeWkhOeQhgogICAgICAgICAgICBwYWdlRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgICAgICBvbmUucXVlcnlTZWxlY3RvckFsbCgnaW1nW2ZpbGVdJykuZm9yRWFjaChmdW5jdGlvbiAobm93KSB7CiAgICAgICAgICAgICAgICAgICAgbm93LnNyYyA9IG5vdy5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHBhZ2VFbGVtcwogICAgfQoKCiAgICAvLyDpgJrnlKjlnovmj5LlhaXliY3lh73mlbDvvIjliqDovb3lm77niYcgZGF0YS1vcmlnaW5hbCA9PiBzcmPvvIkKICAgIGZ1bmN0aW9uIHNyY19vcmlnaW5hbF9mdW5jdGlvbkJlZm9yZShwYWdlRWxlbXMpIHsKICAgICAgICBwYWdlRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgIGxldCBub3cgPSBvbmUucXVlcnlTZWxlY3RvcignaW1nW2RhdGEtb3JpZ2luYWxdJykKICAgICAgICAgICAgaWYgKG5vdykgewogICAgICAgICAgICAgICAgbm93LnNyYyA9IG5vdy5kYXRhc2V0Lm9yaWdpbmFsOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHBhZ2VFbGVtcwogICAgfQogICAgLy8g6YCa55So5Z6L5o+S5YWl5YmN5Ye95pWw77yI5Yqg6L295Zu+54mHIGRhdGEtc3JjID0+IHNyY++8iQogICAgZnVuY3Rpb24gc3JjX3NyY19mdW5jdGlvbkJlZm9yZShwYWdlRWxlbXMpIHsKICAgICAgICBwYWdlRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgIGxldCBub3cgPSBvbmUucXVlcnlTZWxlY3RvcignaW1nW2RhdGEtc3JjXScpCiAgICAgICAgICAgIGlmIChub3cpIHsKICAgICAgICAgICAgICAgIG5vdy5zcmMgPSBub3cuZGF0YXNldC5zcmM7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcGFnZUVsZW1zCiAgICB9CgoKICAgIC8vIFtEVVhdIOeahOaPkuWFpeWJjeWHveaVsO+8iOWKoOi9veWbvueJh++8iQogICAgZnVuY3Rpb24gZHV4X2Z1bmN0aW9uQmVmb3JlKHBhZ2VFbGVtcykgewogICAgICAgIHBhZ2VFbGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHsKICAgICAgICAgICAgbGV0IG5vdyA9IG9uZS5xdWVyeVNlbGVjdG9yKCdpbWcudGh1bWJbZGF0YS1zcmNdJykKICAgICAgICAgICAgaWYgKG5vdykge25vdy5zcmMgPSBub3cuZGF0YXNldC5zcmM7fQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBwYWdlRWxlbXMKICAgIH0KCgogICAgLy8gW+WktOadoeaQnOe0ol0g55qE5o+S5YWl5YmN5Ye95pWw77yI6L+H5ruk55u45YWz5pCc57Si77yJCiAgICBmdW5jdGlvbiB0b3V0aWFvX2Z1bmN0aW9uQmVmb3JlKHBhZ2VFbGVtcykgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZUVsZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGxldCBub3cgPSBwYWdlRWxlbXNbaV0ucXVlcnlTZWxlY3RvcignZGl2W2NsYXNzKj0iLWhlYWRlciJdJykKICAgICAgICAgICAgaWYgKG5vdyAmJiBub3cudGV4dENvbnRlbnQgPT09ICfnm7jlhbPmkJzntKInKSB7CiAgICAgICAgICAgICAgICBwYWdlRWxlbXMuc3BsaWNlKGksMSkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gcGFnZUVsZW1zCiAgICB9CgoKICAgIC8vIFszNjDmkJzntKJdIOeahOaPkuWFpeWJjeWHveaVsO+8iOWKoOi9veWbvueJh++8iQogICAgZnVuY3Rpb24gc29fZnVuY3Rpb25CZWZvcmUocGFnZUVsZW1zKSB7CiAgICAgICAgcGFnZUVsZW1zLmZvckVhY2goZnVuY3Rpb24gKG9uZSkgewogICAgICAgICAgICBvbmUucXVlcnlTZWxlY3RvckFsbCgnaW1nW2RhdGEtaXNyY10nKS5mb3JFYWNoKGZ1bmN0aW9uIChub3cpIHsKICAgICAgICAgICAgICAgIG5vdy5zcmMgPSBub3cuZGF0YXNldC5pc3JjOwogICAgICAgICAgICAgICAgbm93LmNsYXNzTmFtZSA9IG5vdy5jbGFzc05hbWUucmVwbGFjZSgnc28tbGF6eWltZycsJycpOwogICAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcGFnZUVsZW1zCiAgICB9CgoKICAgIC8vIFvnmb7luqbotLTlkKdd77yI5Y+R5biW5oyJ6ZKu54K55Ye75LqL5Lu277yJCiAgICBmdW5jdGlvbiBiYWlkdV90aWViYV8xKCkgewogICAgICAgIGxldCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGJ1aV9hc2lkZV9mYmFyX2J1dHRvbi50YnVpX2ZiYXJfcG9zdCA+IGEnKTsKICAgICAgICBpZiAoYnV0dG9uKSB7CiAgICAgICAgICAgIGJ1dHRvbi5yZW1vdmUoKTsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGkudGJ1aV9hc2lkZV9mYmFyX2J1dHRvbi50YnVpX2ZiYXJfZG93bicpLmluc2VydEFkamFjZW50SFRNTChhZGRUbyg0KSwgJzxsaSBjbGFzcz0idGJ1aV9hc2lkZV9mYmFyX2J1dHRvbiB0YnVpX2ZiYXJfcG9zdCI+PGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyIgdGl0bGU9IuWboOS4uiBb6Ieq5Yqo5peg57yd57+76aG1XSDnmoTljp/lm6DvvIzor7fngrnlh7vor6XmjInpkq7lj5HluJbvvIEiPjwvYT48L2xpPicpCiAgICAgICAgICAgIGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YnVpX2FzaWRlX2ZiYXJfYnV0dG9uLnRidWlfZmJhcl9wb3N0ID4gYScpOwogICAgICAgICAgICBpZiAoYnV0dG9uKSB7CiAgICAgICAgICAgICAgICBidXR0b24ub25jbGljayA9IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgbGV0IGJ1dHRvbjIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdkaXYuZWR1aS1idG4uZWR1aS1idG4tZnVsbHNjcmVlbi5lZHVpLWJ0bi1uYW1lLXBvcnRyYWl0Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbjIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uMi5jbGljaygpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfmj5DnpLrvvJrnmbvlvZXlkI7miY3og73lj5HluJbvvIEnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgLy8gW+eZvuW6pui0tOWQp10g55qE5o+S5YWl5YmN5Ye95pWw77yI5Yqg6L295Zu+54mH77yJCiAgICBmdW5jdGlvbiBiYWlkdV90aWViYV9mdW5jdGlvbkJlZm9yZShwYWdlRWxlbXMpIHsKICAgICAgICBwYWdlRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgIG9uZS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcudGhyZWFkbGlzdF9waWNbZGF0YS1vcmlnaW5hbF0nKS5mb3JFYWNoKGZ1bmN0aW9uIChub3cpIHsKICAgICAgICAgICAgICAgIG5vdy5zcmMgPSBub3cuZGF0YXNldC5vcmlnaW5hbDsKICAgICAgICAgICAgICAgIG5vdy5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZSc7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHBhZ2VFbGVtcwogICAgfQogICAgLy8gW+eZvuW6pui0tOWQp10g6I635Y+W5LiL5LiA6aG15Zyw5Z2ACiAgICBmdW5jdGlvbiBiYWlkdV90aWViYV9mdW5jdGlvbk5leHQoKSB7CiAgICAgICAgbGV0IG5leHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhLm5leHQucGFnaW5hdGlvbi1pdGVtW2hyZWZdJyk7CiAgICAgICAgaWYgKG5leHQgIT0gbnVsbCAmJiBuZXh0Lm5vZGVUeXBlID09PSAxICYmIG5leHQuaHJlZiAmJiBuZXh0LmhyZWYuc2xpY2UoMCw0KSA9PT0gJ2h0dHAnKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSBuZXh0LmhyZWYgKyAnJnBhZ2VsZXRzPWZycy1saXN0JTJGcGFnZWxldCUyRnRocmVhZCZwYWdlbGV0c19zdGFtcD0nICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgICAgIGlmICh1cmwgPT09IGN1clNpdGUucGFnZVVybCkgcmV0dXJuCiAgICAgICAgICAgIGN1clNpdGUucGFnZVVybCA9IHVybDsKICAgICAgICAgICAgZ2V0UGFnZUVsZW1zKGN1clNpdGUucGFnZVVybCk7CiAgICAgICAgfTsKICAgIH0KICAgIC8vIFvnmb7luqbotLTlkKddIOaPkuWFpeaVsOaNrgogICAgZnVuY3Rpb24gYmFpZHVfdGllYmFfaW5zZXJ0RWxlbWVudChuZXdCb2R5LCB0eXBlKSB7CiAgICAgICAgaWYgKCFuZXdCb2R5KSByZXR1cm4KICAgICAgICBsZXQgcGFnZUVsZW1zID0gZ2V0QWxsRWxlbWVudHMoY3VyU2l0ZS5wYWdlci5wYWdlRWxlbWVudCwgbmV3Qm9keSwgbmV3Qm9keSksCiAgICAgICAgICAgIHRvRWxlbWVudCA9IGdldEFsbEVsZW1lbnRzKGN1clNpdGUucGFnZXIuaW5zZXJ0UG9zaXRpb25bMF0pWzBdOwogICAgICAgIGlmIChwYWdlRWxlbXMubGVuZ3RoID49IDApIHsKICAgICAgICAgICAgLy8g5omn6KGM5o+S5YWl5YmN5Ye95pWwCiAgICAgICAgICAgIHBhZ2VFbGVtcyA9IGN1clNpdGUuZnVuY3Rpb24uYmVmb3JlKHBhZ2VFbGVtcyk7CiAgICAgICAgICAgIC8vIOaPkuWFpeS9jee9rgogICAgICAgICAgICBsZXQgYWRkVG8xID0gYWRkVG8oY3VyU2l0ZS5wYWdlci5pbnNlcnRQb3NpdGlvblsxXSk7CiAgICAgICAgICAgIC8vIOiOt+WPliA8c2NyaXB0PiDlhoXlrrkKICAgICAgICAgICAgY29uc3Qgc2NyaXB0RWxlbXMgPSBnZXRBbGxFbGVtZW50cygnLy9zY3JpcHQnLCBuZXdCb2R5LCBuZXdCb2R5KTsKICAgICAgICAgICAgbGV0IHNjcmlwdFRleHQgPSAnJzsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY3JpcHRFbGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKHNjcmlwdEVsZW1zW2ldLnRleHRDb250ZW50LmluZGV4T2YoJ0JpZ3BpcGUucmVnaXN0ZXIoImZycy1saXN0L3BhZ2VsZXQvdGhyZWFkX2xpc3QiJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIHNjcmlwdFRleHQgPSBzY3JpcHRFbGVtc1tpXS50ZXh0Q29udGVudC5yZXBsYWNlKCdCaWdwaXBlLnJlZ2lzdGVyKCJmcnMtbGlzdC9wYWdlbGV0L3RocmVhZF9saXN0IiwgJywnJyk7CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoc2NyaXB0VGV4dCkgewogICAgICAgICAgICAgICAgc2NyaXB0VGV4dCA9IHNjcmlwdFRleHQuc2xpY2UoMCwgc2NyaXB0VGV4dC5pbmRleE9mKCcpLicpKSAvLyDojrflj5bkuLvkvZPlhoXlrrkKICAgICAgICAgICAgICAgIGxldCBzY3JpcHRKU09OID0gSlNPTi5wYXJzZShzY3JpcHRUZXh0KS5jb250ZW50OyAvLyAgICAgICAgICAg5a2X56ym5Liy6L2sIEpTT04KICAgICAgICAgICAgICAgIHZhciB0ZW1wX2JhaWR1X3RpZWJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IHRlbXBfYmFpZHVfdGllYmEuaW5uZXJIVE1MID0gc2NyaXB0SlNPTjsgLy8g5a2X56ym5Liy6L2sIEVsZW1lbnQg5YWD57SgCiAgICAgICAgICAgICAgICBwYWdlRWxlbXMgPSBjdXJTaXRlLmZ1bmN0aW9uLmJlZm9yZShnZXRBbGxFbGVtZW50cyhjdXJTaXRlLnBhZ2VyLnBhZ2VFbGVtZW50LCB0ZW1wX2JhaWR1X3RpZWJhLCB0ZW1wX2JhaWR1X3RpZWJhKSk7IC8vIOaPkuWFpeWJjeaJp+ihjOWHveaVsAogICAgICAgICAgICAgICAgcGFnZUVsZW1zLmZvckVhY2goZnVuY3Rpb24gKG9uZSkge3RvRWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoYWRkVG8xLCBvbmUpO30pOyAvLyDmj5LlhaXlhYPntKAKICAgICAgICAgICAgICAgIC8vIOW9k+WJjemhteeggSArIDEKICAgICAgICAgICAgICAgIHBhZ2VOdW0ubm93ID0gcGFnZU51bS5fbm93ICsgMQogICAgICAgICAgICAgICAgLy8g5pu/5o2i5YWD57SgCiAgICAgICAgICAgICAgICBsZXQgb3JpRSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY3VyU2l0ZS5wYWdlci5wYWdlRWxlbWVudC5yZXBsYWNlKCdjc3M7JywgJycpKSwKICAgICAgICAgICAgICAgICAgICByZXBFID0gZ2V0QWxsRWxlbWVudHMoY3VyU2l0ZS5wYWdlci5yZXBsYWNlRSwgdGVtcF9iYWlkdV90aWViYSwgdGVtcF9iYWlkdV90aWViYSk7CiAgICAgICAgICAgICAgICBpZiAob3JpRS5sZW5ndGggPT09IHJlcEUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcmlFLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9yaUVbaV0ub3V0ZXJIVE1MID0gcmVwRVtpXS5vdXRlckhUTUw7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKCiAgICAvLyBbTkdBKOeOqeWutuekvuWMuildIOeahOaPkuWFpeWQjuWHveaVsO+8iOWKoOi9veWQhOeJiOWdl+W4luWtkOWIl+ihqOagt+W8j++8iQogICAgZnVuY3Rpb24gbmdhX3RocmVhZF9mdW5jdGlvbkFmdGVyKCkgewogICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JykpLnRleHRDb250ZW50ID0gJ2NvbW1vbnVpLnRvcGljQXJnLmxvYWRBbGwoKTsnOwogICAgfQoKCiAgICAvLyBbVjJFWF0g55qE5o+S5YWl5ZCO5Ye95pWw77yI5paw5qCH562+6aG15omT5byA6ZO+5o6l77yJCiAgICBmdW5jdGlvbiB2MmV4X2Z1bmN0aW9uQWZ0ZXIoY3NzKSB7CiAgICAgICAgbGV0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjc3MpO2lmICghbGlua3MpIHJldHVybgogICAgICAgIGxpbmtzLmZvckVhY2goZnVuY3Rpb24gKF90aGlzKSB7X3RoaXMudGFyZ2V0ID0gJ19ibGFuayc7fSk7CiAgICB9CgoKICAgIC8vIFvpvpnnmoTlpKnnqbpdIOiOt+WPluS4i+S4gOmhteWcsOWdgAogICAgZnVuY3Rpb24gbGtvbmdfZnVuY3Rpb25OZXh0KCkgewogICAgICAgIGxldCBuZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGkuYW50LXBhZ2luYXRpb24tbmV4dCcpLCBwYWdlOwogICAgICAgIGlmIChuZXh0ICYmIG5leHQuZ2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJykgPT09ICdmYWxzZScpIHsKICAgICAgICAgICAgcGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xpLmFudC1wYWdpbmF0aW9uLWl0ZW0tYWN0aXZlW3RpdGxlXScpOwogICAgICAgICAgICBpZiAocGFnZSAmJiBwYWdlLnRpdGxlKSB7CiAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5wYWdlci5pbnRlcnZhbHMpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgX1NpdGVUeXBlSUQgPSBjdXJTaXRlLlNpdGVUeXBlSUQ7IGN1clNpdGUuU2l0ZVR5cGVJRCA9IDA7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe2N1clNpdGUuU2l0ZVR5cGVJRCA9IF9TaXRlVHlwZUlEO30sIGN1clNpdGUucGFnZXIuaW50ZXJ2YWxzKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIChsb2NhdGlvbi5vcmlnaW4gKyBsb2NhdGlvbi5wYXRobmFtZSArICc/cGFnZT0nICsgKytwYWdlLnRpdGxlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gJyc7CiAgICB9CgoKICAgIC8vIFvljYPlm77nvZFdIOeahOaPkuWFpeWJjeWHveaVsO+8iOWKoOi9veWbvueJh++8iQogICAgZnVuY3Rpb24gXzU4cGljX2Z1bmN0aW9uQmVmb3JlKHBhZ2VFbGVtcykgewogICAgICAgIGxldCBpc19vbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucXR3LWNhcmQucGxhY2UtYm94LmlzLW9uZScpOwogICAgICAgIGlmIChpc19vbmUgJiYgaXNfb25lLnN0eWxlLmRpc3BsYXkgIT0gJ25vbmUnKSB7aXNfb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7fQogICAgICAgIHBhZ2VFbGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHsKICAgICAgICAgICAgbGV0IG5vdyA9IG9uZS5xdWVyeVNlbGVjdG9yKCdpbWcubGF6eScpCiAgICAgICAgICAgIGlmIChub3cgJiYgbm93LmdldEF0dHJpYnV0ZSgnc3JjJykgIT0gbm93LmRhdGFzZXQub3JpZ2luYWwpIHsKICAgICAgICAgICAgICAgIG5vdy5zcmMgPSBub3cuZGF0YXNldC5vcmlnaW5hbDsKICAgICAgICAgICAgICAgIG5vdy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBwYWdlRWxlbXMKICAgIH0KCgogICAgLy8gW1BpeGFiYXldIOeahOaPkuWFpeWJjeWHveaVsO+8iOWKoOi9veWbvueJh++8iQogICAgZnVuY3Rpb24gcGl4YWJheV9mdW5jdGlvbkJlZm9yZShwYWdlRWxlbXMpIHsKICAgICAgICBwYWdlRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgIGxldCBub3cgPSBvbmUucXVlcnlTZWxlY3RvcignaW1nW2RhdGEtbGF6eS1zcmNdJykKICAgICAgICAgICAgaWYgKG5vdykgewogICAgICAgICAgICAgICAgbm93LnNyYyA9IG5vdy5kYXRhc2V0LmxhenlTcmM7CiAgICAgICAgICAgICAgICBub3cucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWxhenktc3JjJykKICAgICAgICAgICAgICAgIG5vdy5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtbGF6eS1zcmNzZXQnKQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHBhZ2VFbGVtcwogICAgfQoKCiAgICAvLyBbM0RNIE1PRF0g6I635Y+W5LiL5LiA6aG15Zyw5Z2ACiAgICBmdW5jdGlvbiBfM2RtZ2FtZV9tb2RfZnVuY3Rpb25OZXh0KCkgewogICAgICAgIGxldCBuZXh0TnVtID0gZ2V0RWxlbWVudEJ5WHBhdGgoJy8vbGlbQGNsYXNzPSJwYWdlLWxpc3QgYWN0aXZlIl0vZm9sbG93aW5nLXNpYmxpbmc6OmxpW2NvbnRhaW5zKEBjbGFzcywgInBhZ2UtbGlzdCIpXS9hJyk7CiAgICAgICAgdmFyIHVybCA9ICcnOwogICAgICAgIGlmIChuZXh0TnVtICYmIG5leHROdW0udGV4dENvbnRlbnQpIHsKICAgICAgICAgICAgbmV4dE51bSA9ICdQYWdlPScgKyBuZXh0TnVtLnRleHRDb250ZW50OwogICAgICAgICAgICBpZiAobG9jYXRpb24uc2VhcmNoKSB7CiAgICAgICAgICAgICAgICBsZXQgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoLnJlcGxhY2UoLygmKT9QYWdlPVxkKygmKT8vLCAnJyk7CiAgICAgICAgICAgICAgICBpZiAoc2VhcmNoID09PSAnPycpIHsKICAgICAgICAgICAgICAgICAgICB1cmwgKz0gbG9jYXRpb24ub3JpZ2luICsgbG9jYXRpb24ucGF0aG5hbWUgKyBzZWFyY2ggKyBuZXh0TnVtOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB1cmwgKz0gbG9jYXRpb24ub3JpZ2luICsgbG9jYXRpb24ucGF0aG5hbWUgKyBzZWFyY2ggKyAnJicgKyBuZXh0TnVtOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdXJsICs9IGxvY2F0aW9uLm9yaWdpbiArIGxvY2F0aW9uLnBhdGhuYW1lICsgJz8nICsgbmV4dE51bTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvL2NvbnNvbGUubG9nKHVybCkKICAgICAgICByZXR1cm4gdXJsCiAgICB9CgoKICAgIC8vIFvmuLjmsJHmmJ/nqbot5pS755WlXSDnmoTmj5LlhaXliY3lh73mlbDvvIjnp7vpmaTkuIvkuIDpobXlupXpg6jnmoQgIuabtOWkmuebuOWFs+WGheWuueivt+WFs+azqO+8mnh4eCIg5paH5a2X77yJCiAgICBmdW5jdGlvbiBnYW1lcnNreV9nbF9mdW5jdGlvbkJlZm9yZShwYWdlRWxlbXMpIHsKICAgICAgICBwYWdlRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgIGlmIChvbmUudGFnTmFtZSA9PT0gJ1AnICYmIG9uZS50ZXh0Q29udGVudC5pbmRleE9mKCfmm7TlpJrnm7jlhbPlhoXlrrnor7flhbPms6gnKSA+IC0xKSB7b25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7fQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBwYWdlRWxlbXMKICAgIH0KCgogICAgLy8gW05leHVzTW9kc10g6I635Y+W5LiL5LiA6aG15Zyw5Z2ACiAgICBmdW5jdGlvbiBuZXh1c21vZHNfZnVuY3Rpb25OZXh0KCkgewogICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV4dXMtdWktYmxvY2tlcicpKSByZXR1cm4KICAgICAgICBsZXQgbW9kTGlzdDsKICAgICAgICBpZiAobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignL25ld3MnKSA+IC0xKSB7bW9kTGlzdCA9IFJIX05ld3NUYWJDb250ZW50O30gZWxzZSB7bW9kTGlzdCA9IFJIX01vZExpc3Q7fQogICAgICAgIGxldCBvdXRfaXRlbXMgPSBKU09OLnN0cmluZ2lmeShtb2RMaXN0Lm91dF9pdGVtcykucmVwbGFjZSgve3x9fCIvZywnJyksCiAgICAgICAgICAgIG5leHROdW0gPSBnZXRFbGVtZW50QnlYcGF0aCgnLy9kaXZbY29udGFpbnMoQGNsYXNzLCAicGFnZW5hdiIpXVsxXS8vYVtjb250YWlucyhAY2xhc3MsICJwYWdlLXNlbGVjdGVkIildL3BhcmVudDo6bGkvZm9sbG93aW5nLXNpYmxpbmc6OmxpL2EnKSwKICAgICAgICAgICAgY2F0ZWdvcmllcyA9IG1vZExpc3Qub3V0X2l0ZW1zLmNhdGVnb3JpZXMsIGNhdGVnb3JpZXNVcmwgPSAnJzsKICAgICAgICB2YXIgdXJsID0gJyc7CiAgICAgICAgaWYgKG5leHROdW0gJiYgbmV4dE51bS5pbm5lclRleHQpIHsKICAgICAgICAgICAgbmV4dE51bSA9IG5leHROdW0uaW5uZXJUZXh0OwogICAgICAgICAgICBpZiAob3V0X2l0ZW1zLmluZGV4T2YoJ3BhZ2U6JykgPiAtMSkgewogICAgICAgICAgICAgICAgb3V0X2l0ZW1zID0gb3V0X2l0ZW1zLnJlcGxhY2UoL3BhZ2U6XGQrLywgYHBhZ2U6JHtuZXh0TnVtfWApCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBvdXRfaXRlbXMgKz0gYCxwYWdlOiR7bmV4dE51bX1gOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChjYXRlZ29yaWVzICYmIGNhdGVnb3JpZXMgIT0gW10pIHsKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2F0ZWdvcmllcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNVcmwgKz0gYCxjYXRlZ29yaWVzW106JHtjYXRlZ29yaWVzW2ldfWAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGVnb3JpZXNVcmwgPSBjYXRlZ29yaWVzVXJsLnJlcGxhY2UoLywvLCcnKTsKICAgICAgICAgICAgICAgIGlmIChvdXRfaXRlbXMuaW5kZXhPZignY2F0ZWdvcmllczonKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgb3V0X2l0ZW1zID0gb3V0X2l0ZW1zLnJlcGxhY2UoL2NhdGVnb3JpZXM6XFsuKlxdLywgY2F0ZWdvcmllc1VybCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB1cmwgPSBgaHR0cHM6Ly93d3cubmV4dXNtb2RzLmNvbSR7bW9kTGlzdC51cml9P1JIXyR7bW9kTGlzdC5pZH09JHtvdXRfaXRlbXN9YAogICAgICAgICAgICAvL2NvbnNvbGUubG9nKG5leHROdW0sIHVybCwgY3VyU2l0ZS5wYWdlVXJsLCBvdXRfaXRlbXMpCiAgICAgICAgICAgIGlmICh1cmwgPT09IGN1clNpdGUucGFnZVVybCkgcmV0dXJuCiAgICAgICAgICAgIGN1clNpdGUucGFnZVVybCA9IHVybDsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhuZXh0TnVtLCBjdXJTaXRlLnBhZ2VVcmwsIG91dF9pdGVtcykKICAgICAgICAgICAgZ2V0UGFnZUVsZW1zKGN1clNpdGUucGFnZVVybCkKICAgICAgICB9CiAgICB9CiAgICAvLyBbTmV4dXNNb2RzXSDmj5LlhaXmlbDmja4KICAgIGZ1bmN0aW9uIG5leHVzbW9kc19pbnNlcnRFbGVtZW50KG5ld0JvZHksIHR5cGUpIHsKICAgICAgICBpZiAoIW5ld0JvZHkpIHJldHVybgogICAgICAgIGxldCBwYWdlRWxlbXMgPSBnZXRBbGxFbGVtZW50cyhjdXJTaXRlLnBhZ2VyLnBhZ2VFbGVtZW50LCBuZXdCb2R5LCBuZXdCb2R5KSwgLy8g5Li75L2T5YWD57SgCiAgICAgICAgICAgIHRvRWxlbWVudCA9IGdldEFsbEVsZW1lbnRzKGN1clNpdGUucGFnZXIuaW5zZXJ0UG9zaXRpb25bMF0pWzBdLCAvLyDmj5LlhaXkvY3nva7nmoTlhYPntKAKICAgICAgICAgICAgYWRkVG8xID0gYWRkVG8oY3VyU2l0ZS5wYWdlci5pbnNlcnRQb3NpdGlvblsxXSk7IC8vIOaPkuWFpeS9jee9rgogICAgICAgIC8vIOa3u+WKoOS4i+i9veaVsOaNrgogICAgICAgIHBhZ2VFbGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHsKICAgICAgICAgICAgbGV0IG5vdyA9IG9uZS5xdWVyeVNlbGVjdG9yKCcubW9kLXRpbGUtbGVmdCcpOwogICAgICAgICAgICBpZiAobm93KSB7CiAgICAgICAgICAgICAgICBsZXQgZG93bmxvYWRDb3VudCA9IG5vdy5xdWVyeVNlbGVjdG9yKCcuZG93bmxvYWRjb3VudCA+IHNwYW4uZmxleC1sYWJlbCcpOwogICAgICAgICAgICAgICAgaWYgKGRvd25sb2FkQ291bnQpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhub3cuZGF0YXNldC5nYW1lSWQsIG5vdy5kYXRhc2V0Lm1vZElkKQogICAgICAgICAgICAgICAgICAgIGlmIChHbG9iYWxNb2RTdGF0c1tub3cuZGF0YXNldC5nYW1lSWRdICYmIEdsb2JhbE1vZFN0YXRzW25vdy5kYXRhc2V0LmdhbWVJZF1bbm93LmRhdGFzZXQubW9kSWRdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkQ291bnQudGV4dENvbnRlbnQgPSBzaG9ydEZvcm1hdChwYXJzZUludChHbG9iYWxNb2RTdGF0c1tub3cuZGF0YXNldC5nYW1lSWRdW25vdy5kYXRhc2V0Lm1vZElkXS50b3RhbCkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIC8vIOaPkuWFpee9kemhtQogICAgICAgIHBhZ2VFbGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHt0b0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KGFkZFRvMSwgb25lKTt9KTsKICAgICAgICAvLyDlvZPliY3pobXnoIEgKyAxCiAgICAgICAgcGFnZU51bS5ub3cgPSBwYWdlTnVtLl9ub3cgKyAxCiAgICAgICAgLy8g5pu/5o2i5YWD57SgCiAgICAgICAgbGV0IG9yaUUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGN1clNpdGUucGFnZXIucmVwbGFjZUUucmVwbGFjZSgnY3NzOycsICcnKSksCiAgICAgICAgICAgIHJlcEUgPSBnZXRBbGxFbGVtZW50cyhjdXJTaXRlLnBhZ2VyLnJlcGxhY2VFLCBuZXdCb2R5LCBuZXdCb2R5KTsKICAgICAgICBpZiAob3JpRS5sZW5ndGggPT09IHJlcEUubGVuZ3RoKSB7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3JpRS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgb3JpRVtpXS5vdXRlckhUTUwgPSByZXBFW2ldLm91dGVySFRNTDsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCgogICAgLy8gW2NzX3Jpbl9ydV0g5ZCE54mI5Z2X5biW5a2Q5YiX6KGo55qE5o+S5YWl5YmN5Ye95pWw77yI6L+H5ruk572u6aG25biW5a2Q77yJCiAgICBmdW5jdGlvbiBjc19yaW5fcnVfZnVuY3Rpb25CZWZvcmUocGFnZUVsZW1zKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlRWxlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaWYgKHBhZ2VFbGVtc1tpXS50ZXh0Q29udGVudC5yZXBsYWNlKC9cbnwJL2csJycpID09PSAnVG9waWNzJykgewogICAgICAgICAgICAgICAgcGFnZUVsZW1zLnNwbGljZSgwLGkrMSk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gcGFnZUVsZW1zCiAgICB9CgoKICAgIC8vIFvniYflupNdIOeahOaPkuWFpeWJjeWHveaVsO+8iOWKoOi9veWbvueJh++8iQogICAgZnVuY3Rpb24gcGlhbmt1X2Z1bmN0aW9uQmVmb3JlKHBhZ2VFbGVtcykgewogICAgICAgIHBhZ2VFbGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHsKICAgICAgICAgICAgbGV0IG5vdyA9IG9uZS5xdWVyeVNlbGVjdG9yKCdpbWcnKQogICAgICAgICAgICBpZiAobm93KSB7CiAgICAgICAgICAgICAgICBub3cuc3JjID0gbm93LmRhdGFzZXQuc3JjOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHBhZ2VFbGVtcwogICAgfQoKCiAgICAvLyBb5aWI6I+y5b2x6KeGL+WcqOe6v+S5i+Wuti/nnJ/kuI3ljaHlvbHpmaJdIOeahOaPkuWFpeWJjeWHveaVsO+8iOWKoOi9veWbvueJh++8iQogICAgZnVuY3Rpb24gbmZtb3ZpZXNfZnVuY3Rpb25CZWZvcmUocGFnZUVsZW1zKSB7CiAgICAgICAgcGFnZUVsZW1zLmZvckVhY2goZnVuY3Rpb24gKG9uZSkgewogICAgICAgICAgICBsZXQgbm93ID0gb25lLnF1ZXJ5U2VsZWN0b3IoJ2EubGF6eWxvYWQnKQogICAgICAgICAgICBpZiAobm93KSB7CiAgICAgICAgICAgICAgICBub3cuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgiJyArIG5vdy5kYXRhc2V0Lm9yaWdpbmFsICsgJyIpJzsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBwYWdlRWxlbXMKICAgIH0KCgogICAgLy8gW1NrckJUXSDojrflj5bkuIvkuIDpobXlnLDlnYAKICAgIGZ1bmN0aW9uIHNrcmJ0X2Z1bmN0aW9uTmV4dCgpIHsKICAgICAgICBsZXQgcGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Fbb25jbGlja11bYXJpYS1sYWJlbD0iTmV4dCJdJyk7CiAgICAgICAgaWYgKHBhZ2UpIHtwYWdlID0gLyg/PD1cKClcZCsoPz1cKSkvLmV4ZWMocGFnZS5vbmNsaWNrKVswXTt9IGVsc2Uge3JldHVybiAnJzt9IC8vIOiOt+WPluS4i+S4gOmhtemhteeggQogICAgICAgIGlmIChwYWdlKSB7CiAgICAgICAgICAgIGxldCBhY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoLWZvcm0nKS5hY3Rpb24sIHZhbHVlID0gJyc7IC8vIOiOt+WPluaPkOS6pOihqOWNlSBVUkwKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3NlYXJjaC1mb3JtIGlucHV0W25hbWVdJykuZm9yRWFjaChmdW5jdGlvbihpbnB1dCkgeyAvLyDnlJ/miJDooajljZXlj4LmlbAKICAgICAgICAgICAgICAgIHZhbHVlICs9IGlucHV0Lm5hbWUgKyAnPScgKyBpbnB1dC52YWx1ZSArICcmJwogICAgICAgICAgICB9KQogICAgICAgICAgICB2YWx1ZSA9IGVuY29kZVVSSSh2YWx1ZS5yZXBsYWNlKC8mJC8sJycpLnJlcGxhY2UoL3A9XGQrLywncD0nICsgcGFnZSkpOyAvLyDmuIXnkIbmnIDlkI7kuIDkuKogJiDnrKblj7fvvIzlubbmm7/mjaLpobXnoIEKICAgICAgICAgICAgaWYgKGFjdGlvbiAmJiB2YWx1ZSkgewogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhhY3Rpb24gKyAnPycgKyB2YWx1ZSkKICAgICAgICAgICAgICAgIHJldHVybiAoYWN0aW9uICsgJz8nICsgdmFsdWUpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuICcnOwogICAgfQoKCiAgICAvLyBbQlRIYWhhXSDnmoTmj5LlhaXliY3lh73mlbDvvIjliqDovb3lm77niYfvvIkKICAgIGZ1bmN0aW9uIGJ0aGFoYV9mdW5jdGlvbkJlZm9yZShwYWdlRWxlbXMpIHsKICAgICAgICBwYWdlRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgIGxldCBub3cgPSBvbmUucXVlcnlTZWxlY3RvcignW2lkXj0ibGlzdF90b3AiXSwgW2lkXj0ibGlzdF9ib3R0b20iXScpCiAgICAgICAgICAgIGlmIChub3cpIHtvbmUuaGlkZGVuID0gdHJ1ZTt9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHBhZ2VFbGVtcwogICAgfQoKCiAgICAvLyBb5bCE5omL572RXSDojrflj5bkuIvkuIDpobXlnLDlnYAKICAgIGZ1bmN0aW9uIGFzc3J0X2Z1bmN0aW9uTmV4dCgpIHsKICAgICAgICBsZXQgbmV4dFhQQUhUID0gJy8vYVtAaWQ9InBsLW5hdiJdW0BocmVmXVtjb250YWlucyh0ZXh0KCksICI+IildJwogICAgICAgIGxldCB1cmwgPSBnZXRFbGVtZW50QnlYcGF0aChuZXh0WFBBSFQpOwogICAgICAgIGlmICh1cmwpIHsKICAgICAgICAgICAgdXJsID0gLyg/PD1cKClcZCsoPz0sKS8uZXhlYyh1cmwuaHJlZilbMF0KICAgICAgICAgICAgaWYgKHVybCkgewogICAgICAgICAgICAgICAgcmV0dXJuIChsb2NhdGlvbi5vcmlnaW4gKyBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaC5yZXBsYWNlKC8oJik/cGFnZT1cZCskLywnJykgKyAnJnBhZ2U9JyArIHVybCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuICcnOwogICAgfQoKCiAgICAvLyBb5LiN5q276bifXSDnmoTmj5LlhaXliY3lh73mlbDvvIjliqDovb3lm77niYfvvIkKICAgIGZ1bmN0aW9uIGlhb19zdV9mdW5jdGlvbkJlZm9yZShwYWdlRWxlbXMpIHsKICAgICAgICBwYWdlRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgIGxldCBub3cgPSBvbmUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgncG9zdC1jYXJkJylbMF0KICAgICAgICAgICAgaWYgKG5vdykgewogICAgICAgICAgICAgICAgbm93LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Jsb2ctYmFja2dyb3VuZCcpWzBdLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoIicgKyBub3cuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdLnRleHRDb250ZW50LnNwbGl0KCInIilbMV0gKyAnIiknOwogICAgICAgICAgICAgICAgLy9ub3cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYmxvZy1iYWNrZ3JvdW5kJylbMF0uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgiJyArIFJlZ0V4cCgiKD88PWxvYWRCYW5uZXJEaXJlY3RcXCgnKS4qKD89JywgJycsKSIpLmV4ZWMobm93LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXS50ZXh0Q29udGVudClbMF07ICsgJyIpJzsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBwYWdlRWxlbXMKICAgIH0KCgogICAgLy8gW+W8guasoeWFg+i9r+S7tuS4lueVjF0g55qE5o+S5YWl5YmN5Ye95pWw77yI5Yqg6L295Zu+54mH77yJCiAgICBmdW5jdGlvbiBpcGxheXNvZnRfcG9zdHNsaXN0X2Z1bmN0aW9uQmVmb3JlKHBhZ2VFbGVtcykgewogICAgICAgIHBhZ2VFbGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHsKICAgICAgICAgICAgbGV0IG5vdyA9IG9uZS5xdWVyeVNlbGVjdG9yKCdpbWcubGF6eWxvYWQnKQogICAgICAgICAgICBpZiAobm93ICYmICFub3cuc3JjKSB7CiAgICAgICAgICAgICAgICBub3cuc3JjID0gbm93LmRhdGFzZXQuc3JjOwogICAgICAgICAgICAgICAgbm93LnNldEF0dHJpYnV0ZSgnc3Jjc2V0Jywgbm93LmRhdGFzZXQuc3JjKQogICAgICAgICAgICAgICAgbm93LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnbGF6eWxvYWRlZCcpCiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcGFnZUVsZW1zCiAgICB9CgoKICAgIC8vIFtMUmVwYWNrc10g55qE5o+S5YWl5YmN5Ye95pWw77yI6LCD5pW0IGNsYXNz77yJCiAgICBmdW5jdGlvbiBscmVwYWNrc19mdW5jdGlvbkJlZm9yZShwYWdlRWxlbXMpIHsKICAgICAgICBwYWdlRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgIGxldCBub3cgPSBvbmUucXVlcnlTZWxlY3RvcignLnNsaWRlVXAsIC5lbGVtZW50RmFkZScpCiAgICAgICAgICAgIGlmIChub3cpIHsKICAgICAgICAgICAgICAgIG5vdy5jbGFzc05hbWUgPSBub3cuY2xhc3NOYW1lLnJlcGxhY2UoJ3NsaWRlVXAnLCdzbGlkZVVwUnVuJykucmVwbGFjZSgnZWxlbWVudEZhZGUnLCdlbGVtZW50RmFkZVJ1bicpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHBhZ2VFbGVtcwogICAgfQoKCiAgICAvLyBb5b+F5bqU5aOB57q4XSDnmoTmj5LlhaXliY3lh73mlbDvvIjliqDovb3lm77niYfvvIkKICAgIGZ1bmN0aW9uIGlvbGl1X2Z1bmN0aW9uQmVmb3JlKHBhZ2VFbGVtcykgewogICAgICAgIHBhZ2VFbGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHsKICAgICAgICAgICAgbGV0IG5vdyA9IG9uZS5xdWVyeVNlbGVjdG9yKCdpbWcucHJvZ3Jlc3NpdmUtLW5vdC1sb2FkZWQnKQogICAgICAgICAgICBpZiAobm93KSB7CiAgICAgICAgICAgICAgICBub3cuY2xhc3NOYW1lID0gbm93LmNsYXNzTmFtZS5yZXBsYWNlKCdwcm9ncmVzc2l2ZS0tbm90LWxvYWRlZCcsJ3Byb2dyZXNzaXZlLS1pcy1sb2FkZWQnKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBwYWdlRWxlbXMKICAgIH0KCgogICAgLy8gW+a8q+eUu+eLgl0g6I635Y+W5LiL5LiA6aG15Zyw5Z2ACiAgICBmdW5jdGlvbiBjYXJ0b29ubWFkX2Z1bmN0aW9uTmV4dCgpIHsKICAgICAgICBsZXQgbmV4dFhQQUhUID0gJy8vYVtAY2xhc3M9InBhZ2VzIl1bY29udGFpbnModGV4dCgpLCLkuIvkuIDpoIEiKV0nLAogICAgICAgICAgICBuZXh0UFhQQVRIID0gJy8vYVtAY2xhc3M9InBhZ2VzIl1bY29udGFpbnMoc3RyaW5nKCksIuS4i+S4gOipsSIpXScKICAgICAgICBsZXQgdXJsID0gZ2V0RWxlbWVudEJ5WHBhdGgobmV4dFhQQUhUKTsKICAgICAgICBpZiAodXJsKSB7CiAgICAgICAgICAgIGlmICh1cmwuZ2V0QXR0cmlidXRlKCdocmVmJykgPT09ICd0aGVuZC5hc3AnKSB7CiAgICAgICAgICAgICAgICB1cmwgPSBnZXRFbGVtZW50QnlYcGF0aChuZXh0UFhQQVRIKQogICAgICAgICAgICAgICAgaWYgKHVybCkgcmV0dXJuIHVybC5ocmVmOwogICAgICAgICAgICAgICAgcGF1c2VQYWdlID0gZmFsc2U7CiAgICAgICAgICAgICAgICBHTV9ub3RpZmljYXRpb24oe3RleHQ6IGDms6jmhI/vvJror6XnvZHnq5nml6nmnJ/mvKvnlLvvvIjlpoLmtbfotLznjovjgIHmn6/ljZfvvInlm6DkuLrnvZHnq5noh6rouqvpl67popjogIzml6Dms5Xnv7voh7PkuIvkuIDor53vvIjku4XpmZDkuo7mmL7npLrkuLogW+esrCBYIOWNt10vW+S4i+S4gOWNt10g55qE77yJ44CCXG7lm6DmraTpnIDopoHmiYvliqjljrsgW+ebruW9lemhtV0g6L+b5YWl5LiL5LiA5Y2377yBYCwgdGltZW91dDogMTAwMDB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB1cmwuaHJlZjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gJyc7CiAgICB9CgoKICAgIC8vIFvmvKvnlLvnjKtdIOWIneWni+WMlu+8iOaYvuekuuacrOivneaJgOS7peWbvueJh++8iQogICAgZnVuY3Rpb24gbWFuaHVhY2F0X2luaXQoKSB7CiAgICAgICAgbGV0IF9pbWcgPSAnJzsKICAgICAgICBmb3IgKGxldCBub3cgb2YgaW1nX2RhdGFfYXJyKSB7CiAgICAgICAgICAgIF9pbWcgKz0gYDxpbWcgc3JjPSIke2Fzc2V0X2RvbWFpbn0ke2ltZ19wcmV9JHtub3d9Ij5gOwogICAgICAgIH0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW1nLWNvbnRlbnQgPiBpbWcnKS5yZW1vdmUoKTsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGN1clNpdGUucGFnZXIuaW5zZXJ0UG9zaXRpb25bMF0ucmVwbGFjZSgnY3NzOycsICcnKSkuaW5zZXJ0QWRqYWNlbnRIVE1MKGFkZFRvKGN1clNpdGUucGFnZXIuaW5zZXJ0UG9zaXRpb25bMV0pLCBfaW1nKTsgLy8g5bCGIGltZyDmoIfnrb7mj5LlhaXliLDnvZHpobXkuK0KCiAgICB9CiAgICAvLyBb5ryr55S754yrXSDojrflj5bkuIvkuIDpobXlnLDlnYAKICAgIGZ1bmN0aW9uIG1hbmh1YWNhdF9mdW5jdGlvbk5leHQocGFnZUVsZW1zLCB0eXBlKSB7CiAgICAgICAgaWYgKHR5cGUgPT09ICd1cmwnKSB7CiAgICAgICAgICAgIGlmKHBhZ2VFbGVtcy5jb2RlID09ICcwMDAwJykgewogICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGVtcy51cmwgPT09IGN1clNpdGUucGFnZVVybCkgcmV0dXJuCiAgICAgICAgICAgICAgICBjdXJTaXRlLnBhZ2VVcmwgPSBwYWdlRWxlbXMudXJsOwogICAgICAgICAgICAgICAgZ2V0UGFnZUVsZW1zKGN1clNpdGUucGFnZVVybCk7IC8vIOecn+ato+eahOS4i+S4gOmhtemTvuaOpQogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGV0IHZnX3JfZGF0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52Zy1yLWRhdGEnKTsKICAgICAgICAgICAgaWYgKHZnX3JfZGF0YSkgewogICAgICAgICAgICAgICAgZ2V0UGFnZUVsZW1zKGBodHRwczovLyR7bG9jYXRpb24uaG9zdH0vY2hhcHRlcl9udW0/Y2hhcHRlcl9pZD0ke3ZnX3JfZGF0YS5kYXRhc2V0LmNoYXB0ZXJfbnVtfSZjdHlwZT0xJnR5cGU9JHt2Z19yX2RhdGEuZGF0YXNldC5jaGFwdGVyVHlwZX07YCwgJ2pzb24nLCAnR0VUJywgJycsICd1cmwnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIC8vIFvmvKvnlLvnjKtdIOaPkuWFpeaVsOaNrgogICAgZnVuY3Rpb24gbWFuaHVhY2F0X2luc2VydEVsZW1lbnQocGFnZUVsZW1zLCB0eXBlKSB7CiAgICAgICAgaWYgKCFwYWdlRWxlbXMpIHJldHVybgogICAgICAgIGlmICh0eXBlID09PSAndXJsJykgeyAvLyDojrflj5bkuIvkuIDpobXpk77mjqUKICAgICAgICAgICAgbWFuaHVhY2F0X2Z1bmN0aW9uTmV4dChwYWdlRWxlbXMsIHR5cGUpOyByZXR1cm4KICAgICAgICB9CgogICAgICAgIC8vIOa3u+WKoOWOhuWPsuiusOW9lQogICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShge3RpdGxlOiAke2RvY3VtZW50LnRpdGxlfSwgdXJsOiAke2xvY2F0aW9uLmhyZWZ9fWAsIHBhZ2VFbGVtcy5xdWVyeVNlbGVjdG9yKCd0aXRsZScpLnRleHRDb250ZW50LCBjdXJTaXRlLnBhZ2VVcmwpOwoKICAgICAgICAvLyDmm7/mjaLlhYPntKAKICAgICAgICBsZXQgb3JpRSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY3VyU2l0ZS5wYWdlci5yZXBsYWNlRS5yZXBsYWNlKCdjc3M7JywgJycpKSwKICAgICAgICAgICAgcmVwRSA9IGdldEFsbEVsZW1lbnRzKGN1clNpdGUucGFnZXIucmVwbGFjZUUsIHBhZ2VFbGVtcywgcGFnZUVsZW1zKTsKICAgICAgICBpZiAob3JpRS5sZW5ndGggPT09IHJlcEUubGVuZ3RoKSB7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3JpRS5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgb3JpRVtpXS5vdXRlckhUTUwgPSByZXBFW2ldLm91dGVySFRNTDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8g5o+S5YWl5Zu+54mHCiAgICAgICAgbGV0IF9pbWcgPSAnJywgX2ltZ19hcnIgPSBMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NChnZXRFbGVtZW50QnlYcGF0aCgnLy9ib2R5L3NjcmlwdFtub3QoQHNyYyldW2NvbnRhaW5zKHRleHQoKSwgImltZ19kYXRhIildJykudGV4dENvbnRlbnQuc3BsaXQoJyInKVsxXSkuc3BsaXQoJywnKSwgdmdfcl9kYXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZnLXItZGF0YScpOzsKICAgICAgICBmb3IgKGxldCBub3cgb2YgX2ltZ19hcnIpIHsKICAgICAgICAgICAgX2ltZyArPSBgPGltZyBzcmM9IiR7dmdfcl9kYXRhLmRhdGFzZXQuY2hhcHRlckRvbWFpbn0ke2ltZ19wcmV9JHtub3d9Ij5gOwogICAgICAgIH0KICAgICAgICBpZiAoX2ltZykgewogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGN1clNpdGUucGFnZXIuaW5zZXJ0UG9zaXRpb25bMF0ucmVwbGFjZSgnY3NzOycsICcnKSkuaW5zZXJ0QWRqYWNlbnRIVE1MKGFkZFRvKGN1clNpdGUucGFnZXIuaW5zZXJ0UG9zaXRpb25bMV0pLCBfaW1nKTsgLy8g5bCGIGltZyDmoIfnrb7mj5LlhaXliLDnvZHpobXkuK0KICAgICAgICAgICAgLy8g5b2T5YmN6aG156CBICsgMQogICAgICAgICAgICBwYWdlTnVtLm5vdyA9IHBhZ2VOdW0uX25vdyArIDEKICAgICAgICB9CiAgICB9CgoKICAgIC8vIFvmvKvnlLtEQl0g5Yid5aeL5YyW77yI5bCG5pys6K+d5YW25L2Z5Zu+54mH5o+S5YWl572R6aG15Lit77yJCiAgICBmdW5jdGlvbiBtYW5odWFkYl9pbml0KCkgewogICAgICAgIGxldCBfaW1nID0gJycsCiAgICAgICAgICAgIGRhdGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudmctci1kYXRhJyksIGltZ0RhdGU7CiAgICAgICAgaWYgKCFkYXRhKSByZXR1cm4KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGN1clNpdGUucGFnZXIucGFnZUVsZW1lbnQucmVwbGFjZSgnY3NzOycsICcnKSkuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgIGlmIChvbmUudGFnTmFtZSA9PT0gJ1NDUklQVCcgJiYgb25lLnRleHRDb250ZW50LmluZGV4T2YoJ3ZhciBpbWdfZGF0YSA9JykgPiAtMSkgewogICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKHdpbmRvdy5hdG9iKG9uZS50ZXh0Q29udGVudC5zcGxpdCgiJyIpWzFdKSk7CiAgICAgICAgICAgICAgICBpZiAoanNvbikgewogICAgICAgICAgICAgICAgICAgIGxldCBfaW1nID0gJyc7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uLmxlbmd0aDsgaSsrKSB7IC8vIOmBjeWOhuWbvueJh+aWh+S7tuWQjeaVsOe7hO+8jOe7hOWQiOS4uiBpbWcg5qCH562+CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcmMgPSBkYXRhLmRhdGFzZXQuaG9zdCArIGRhdGEuZGF0YXNldC5pbWdfcHJlICsganNvbltpXS5pbWc7CiAgICAgICAgICAgICAgICAgICAgICAgIF9pbWcgKz0gYDxpbWcgY2xhc3M9ImltZy1mbHVpZCBzaG93LXBpYyIgc3JjPSIke3NyY30iPmAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzBdLnJlcGxhY2UoJ2NzczsnLCAnJykpLmluc2VydEFkamFjZW50SFRNTChhZGRUbyhjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzFdKSwgX2ltZyk7IC8vIOWwhiBpbWcg5qCH562+5o+S5YWl5Yiw572R6aG15LitCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9KQogICAgfQogICAgLy8gW+a8q+eUu0RCXSDojrflj5bkuIvkuIDpobXlnLDlnYAKICAgIGZ1bmN0aW9uIG1hbmh1YWRiX2Z1bmN0aW9uTmV4dCgpIHsKICAgICAgICBsZXQgbmV4dEFyciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EuZml4ZWQtYS1lcycpLCBuZXh0OwogICAgICAgIHZhciB1cmwgPSAnJzsKICAgICAgICBpZiAobmV4dEFyci5sZW5ndGggPT0gMCkgcmV0dXJuCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0QXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChuZXh0QXJyW2ldLmNsYXNzTmFtZS5pbmRleE9mKCdhY3RpdmUnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICBpZiAobmV4dEFycltpKzFdKSB1cmwgPSBuZXh0QXJyW2krMV0uaHJlZjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICh1cmwgPT09IGN1clNpdGUucGFnZVVybCkgcmV0dXJuCiAgICAgICAgY3VyU2l0ZS5wYWdlVXJsID0gdXJsCiAgICAgICAgZ2V0UGFnZUVsZW1zKGN1clNpdGUucGFnZVVybCk7CiAgICB9CiAgICAvLyBb5ryr55S7REJdIOaPkuWFpeaVsOaNrgogICAgZnVuY3Rpb24gbWFuaHVhZGJfaW5zZXJ0RWxlbWVudChwYWdlRWxlbXMsIHR5cGUpIHsKICAgICAgICBpZiAoIXBhZ2VFbGVtcykgcmV0dXJuCiAgICAgICAgbGV0IG9yaUUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGN1clNpdGUucGFnZXIucGFnZUVsZW1lbnQucmVwbGFjZSgnY3NzOycsICcnKSksCiAgICAgICAgICAgIHJlcEUgPSBnZXRBbGxFbGVtZW50cyhjdXJTaXRlLnBhZ2VyLnBhZ2VFbGVtZW50LCBwYWdlRWxlbXMsIHBhZ2VFbGVtcyk7CiAgICAgICAgaWYgKG9yaUUubGVuZ3RoID09PSByZXBFLmxlbmd0aCkgewogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9yaUUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIG9yaUVbaV0ub3V0ZXJIVE1MID0gcmVwRVtpXS5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5b2T5YmN6aG156CBICsgMQogICAgICAgICAgICBwYWdlTnVtLm5vdyA9IHBhZ2VOdW0uX25vdyArIDEKICAgICAgICAgICAgbWFuaHVhZGJfaW5pdCgpOyAvLyDlsIbliJrliJrmm7/mjaLnmoTlm77niYfmj5LlhaXnvZHpobXkuK0KICAgICAgICB9CiAgICB9CgoKICAgIC8vIFtIaUNvbWljKOWXqOa8q+eUuyldIOWIneWni+WMlu+8iOWwhuacrOivneWFtuS9meWbvueJh+aPkuWFpee9kemhteS4re+8iQogICAgZnVuY3Rpb24gaGljb21pY19pbml0KCkgewogICAgICAgIGxldCBfaW1nID0gJyc7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoYXB0ZXIgPiBzZWN0aW9uOm5vdCg6Zmlyc3QtY2hpbGQpID4gc2VjdGlvblt2YWxdJykuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgIGxldCBzcmMgPSBvbmUuZ2V0QXR0cmlidXRlKCd2YWwnKTsKICAgICAgICAgICAgaWYgKHNyYy5pbmRleE9mKCchcF9jX2NfJykgPT09IC0xKSBzcmMgKz0gJyFwX2NfY19oJwogICAgICAgICAgICBfaW1nICs9IGA8aW1nIHNyYz0iJHtzcmN9Ij5gCiAgICAgICAgfSkKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGN1clNpdGUucGFnZXIuaW5zZXJ0UG9zaXRpb25bMF0ucmVwbGFjZSgnY3NzOycsICcnKSkuaW5zZXJ0QWRqYWNlbnRIVE1MKGFkZFRvKGN1clNpdGUucGFnZXIuaW5zZXJ0UG9zaXRpb25bMV0pLCBfaW1nKTsgLy8g5bCGIGltZyDmoIfnrb7mj5LlhaXliLDnvZHpobXkuK0KICAgICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSB3aW5kb3cuZG9jdW1lbnQudGl0bGUucmVwbGFjZSgvKFwo56ysLitcKSk/IC0gSGlDb21pYy8sIGAoJHtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hhcHRlcl9uYW1lJykudGV4dENvbnRlbnR9KSAtIEhpQ29taWNgKTsgLy8g5L+u5pS5572R6aG15qCH6aKY77yI5Yqg5LiKIOesrCBYIOivne+8iQogICAgfQogICAgLy8gW0hpQ29taWMo5Zeo5ryr55S7KV0g6I635Y+W5LiL5LiA6aG15Zyw5Z2ACiAgICBmdW5jdGlvbiBoaWNvbWljX2Z1bmN0aW9uTmV4dCgpIHsKICAgICAgICBsZXQgbmV4dElkOwogICAgICAgIG5leHRJZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXh0X2NoYXB0ZXI6bm90KC5lbmQpJykKICAgICAgICBpZiAobmV4dElkICYmIG5leHRJZC5pZCAmJiBuZXh0SWQuaWQgIT0gJ05vbmUnKSB7CiAgICAgICAgICAgIGN1clNpdGUucGFnZVVybCA9IGxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgIGdldFBhZ2VFbGVtcyhgaHR0cHM6Ly93d3cuaGljb21pYy5uZXQvYXBpL3dlYi9jaGFwdGVyLyR7bmV4dElkLmlkfS9jb250ZW50c2AsICdqc29uJyk7CiAgICAgICAgfQogICAgfQogICAgLy8gW0hpQ29taWMo5Zeo5ryr55S7KV0g5o+S5YWl5pWw5o2uCiAgICBmdW5jdGlvbiBoaWNvbWljX2luc2VydEVsZW1lbnQocGFnZUVsZW1zLCB0eXBlKSB7CiAgICAgICAgaWYgKCFwYWdlRWxlbXMgfHwgcGFnZUVsZW1zLmNvZGUgIT0gMjAwKSByZXR1cm4KICAgICAgICBpZiAocGFnZUVsZW1zLnJlc3VsdHMuY2hhcHRlci5uZXh0KSB7IC8vIOWGmeWFpeS4i+S4gOmhteeahCBVVUlECiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXh0X2NoYXB0ZXInKS5pZCA9IHBhZ2VFbGVtcy5yZXN1bHRzLmNoYXB0ZXIubmV4dDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV4dF9jaGFwdGVyJykuaWQgPSAnTm9uZSc7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXh0X2NoYXB0ZXInKS5jbGFzc0xpc3QuYWRkKCdlbmQnKTsKICAgICAgICB9CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXB0ZXJfbmFtZScpLnRleHRDb250ZW50ID0gcGFnZUVsZW1zLnJlc3VsdHMuY2hhcHRlci5uYW1lOyAvLyDkv67mlLnmvKvnlLvmoIfpopgKICAgICAgICBsZXQgdGl0bGUgPSB3aW5kb3cuZG9jdW1lbnQudGl0bGUucmVwbGFjZSgvKFwo56ysLitcKSk/IC0gSGlDb21pYy8sIGAoJHtwYWdlRWxlbXMucmVzdWx0cy5jaGFwdGVyLm5hbWV9KSAtIEhpQ29taWNgKQogICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShge3RpdGxlOiAke2RvY3VtZW50LnRpdGxlfSwgdXJsOiAke2xvY2F0aW9uLmhyZWZ9fWAsIHRpdGxlLCBjdXJTaXRlLnBhZ2VVcmwpOyAvLyDmt7vliqDljoblj7LorrDlvZUKICAgICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSB0aXRsZTsgLy8g5L+u5pS55b2T5YmN572R6aG15qCH6aKY5Li65LiL5LiA6K+d55qE5qCH6aKYCiAgICAgICAgbGV0IF9pbWcgPSAnJzsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VFbGVtcy5yZXN1bHRzLmNoYXB0ZXIuY29udGVudHMubGVuZ3RoOyBpKyspIHsgLy8g6YGN5Y6G5Zu+54mH5paH5Lu25ZCN5pWw57uE77yM57uE5ZCI5Li6IGltZyDmoIfnrb4KICAgICAgICAgICAgbGV0IHNyYyA9IHBhZ2VFbGVtcy5yZXN1bHRzLmNoYXB0ZXIuY29udGVudHNbaV0udXJsOwogICAgICAgICAgICBpZiAoc3JjLmluZGV4T2YoJyFwX2NfY18nKSA9PT0gLTEpIHNyYyArPSAnIXBfY19jX2gnOwogICAgICAgICAgICBfaW1nICs9IGA8aW1nIHNyYz0iJHtzcmN9Ij5gCiAgICAgICAgfQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3VyU2l0ZS5wYWdlci5pbnNlcnRQb3NpdGlvblswXS5yZXBsYWNlKCdjc3M7JywgJycpKS5pbnNlcnRBZGphY2VudEhUTUwoYWRkVG8oY3VyU2l0ZS5wYWdlci5pbnNlcnRQb3NpdGlvblsxXSksIF9pbWcpOyAvLyDlsIYgaW1nIOagh+etvuaPkuWFpeWIsOe9kemhteS4rQogICAgICAgIC8vIOW9k+WJjemhteeggSArIDEKICAgICAgICBwYWdlTnVtLm5vdyA9IHBhZ2VOdW0uX25vdyArIDEKICAgIH0KCgogICAgLy8gW+WKqOa8q+S5i+Wutl0g5Yid5aeL5YyW77yI6LCD5pW05pys6K+d5YW25L2Z5Zu+54mH77yJCiAgICBmdW5jdGlvbiBkbXpqX2luaXQoKSB7CiAgICAgICAgbGV0IF9pbWcgPSAnJzsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29taWNfd3JhQ29uID4gYSA+IGltZycpLmZvckVhY2goZnVuY3Rpb24gKG9uZSkgewogICAgICAgICAgICBfaW1nICs9IGA8aW1nIHNyYz0iJHtvbmUuZGF0YXNldC5vcmlnaW5hbH0iPmA7CiAgICAgICAgICAgIG9uZS5wYXJlbnRFbGVtZW50LnJlbW92ZSgpOwogICAgICAgIH0pCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzBdLnJlcGxhY2UoJ2NzczsnLCAnJykpLmluc2VydEFkamFjZW50SFRNTChhZGRUbyhjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzFdKSwgX2ltZyk7IC8vIOWwhiBpbWcg5qCH562+5o+S5YWl5Yiw572R6aG15LitCgogICAgfQogICAgLy8gW+WKqOa8q+S5i+Wutl0g6I635Y+W5LiL5LiA6aG15Zyw5Z2ACiAgICBmdW5jdGlvbiBkbXpqX2Z1bmN0aW9uTmV4dCgpIHsKICAgICAgICBsZXQgbmV4dDsKICAgICAgICBuZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi5uZXh0ID4gYVtocmVmXScpCiAgICAgICAgaWYgKG5leHQpIHsKICAgICAgICAgICAgaWYgKG5leHQuaHJlZiA9PT0gY3VyU2l0ZS5wYWdlVXJsKSByZXR1cm4KICAgICAgICAgICAgY3VyU2l0ZS5wYWdlVXJsID0gbmV4dC5ocmVmOwogICAgICAgICAgICBnZXRQYWdlRWxlbXMoY3VyU2l0ZS5wYWdlVXJsKTsKICAgICAgICB9CiAgICB9CiAgICAvLyBb5Yqo5ryr5LmL5a62XSDmj5LlhaXmlbDmja4KICAgIGZ1bmN0aW9uIGRtempfaW5zZXJ0RWxlbWVudChwYWdlRWxlbXMsIHR5cGUpIHsKICAgICAgICBpZiAoIXBhZ2VFbGVtcykgcmV0dXJuCiAgICAgICAgLy8g5o+S5YWl5bm26L+Q6KGMIDxzY3JpcHQ+CiAgICAgICAgbGV0IHNjcmlwdEVsZW1lbnQgPSBwYWdlRWxlbXMucXVlcnlTZWxlY3RvckFsbCgnaGVhZCA+IHNjcmlwdFt0eXBlXTpub3QoW3NyY10pJyksIHNjcmlwdFRleHQgPSAnJzsKICAgICAgICBzY3JpcHRFbGVtZW50LmZvckVhY2goZnVuY3Rpb24gKG9uZSkge3NjcmlwdFRleHQgKz0gJzsnICsgb25lLnRleHRDb250ZW50O30pOwogICAgICAgIGlmIChzY3JpcHRUZXh0KSBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKS50ZXh0Q29udGVudCA9IHNjcmlwdFRleHQ7CgogICAgICAgIC8vIOaPkuWFpeWbvueJhwogICAgICAgIGxldCBfaW1nID0gJycsIF9pbWdfYXJyOwogICAgICAgIGlmIChwYWdlcy5pbmRleE9mKCd8JykgPT09IC0xKSB7CiAgICAgICAgICAgIF9pbWdfYXJyID0gSlNPTi5wYXJzZShwYWdlcy5yZXBsYWNlKC9cclxuL2csJ3wnKSkucGFnZV91cmwuc3BsaXQoJ3wnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfaW1nX2FyciA9IEpTT04ucGFyc2UocGFnZXMpLnBhZ2VfdXJsLnNwbGl0KCd8Jyk7CiAgICAgICAgfQogICAgICAgIGZvciAobGV0IG5vdyBvZiBfaW1nX2FycikgewogICAgICAgICAgICBfaW1nICs9IGA8aW1nIHNyYz0iJHtpbWdfcHJlZml4fSR7bm93fSI+YDsKICAgICAgICB9CiAgICAgICAgaWYgKF9pbWcpIHsKICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzBdLnJlcGxhY2UoJ2NzczsnLCAnJykpLmluc2VydEFkamFjZW50SFRNTChhZGRUbyhjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzFdKSwgX2ltZyk7IC8vIOWwhiBpbWcg5qCH562+5o+S5YWl5Yiw572R6aG15LitCgogICAgICAgICAgICAvLyDmt7vliqDljoblj7LorrDlvZUKICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKGB7dGl0bGU6ICR7ZG9jdW1lbnQudGl0bGV9LCB1cmw6ICR7bG9jYXRpb24uaHJlZn19YCwgcGFnZUVsZW1zLnF1ZXJ5U2VsZWN0b3IoJ3RpdGxlJykudGV4dENvbnRlbnQsIGN1clNpdGUucGFnZVVybCk7CgogICAgICAgICAgICAvLyDmm7/mjaLlhYPntKAKICAgICAgICAgICAgbGV0IG9yaUUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGN1clNpdGUucGFnZXIucmVwbGFjZUUucmVwbGFjZSgnY3NzOycsICcnKSksCiAgICAgICAgICAgICAgICByZXBFID0gZ2V0QWxsRWxlbWVudHMoY3VyU2l0ZS5wYWdlci5yZXBsYWNlRSwgcGFnZUVsZW1zLCBwYWdlRWxlbXMpOwogICAgICAgICAgICBpZiAob3JpRS5sZW5ndGggPT09IHJlcEUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9yaUUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBvcmlFW2ldLm91dGVySFRNTCA9IHJlcEVbaV0ub3V0ZXJIVE1MOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5b2T5YmN6aG156CBICsgMQogICAgICAgICAgICAgICAgcGFnZU51bS5ub3cgPSBwYWdlTnVtLl9ub3cgKyAxCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgoKICAgIC8vIFvliqjmvKvkuYvlrrYt5ryr55S7XSDliJ3lp4vljJbvvIjosIPmlbTmnKzor53lhbbkvZnlm77niYfvvIkKICAgIGZ1bmN0aW9uIGRtempfbWFuaHVhX2luaXQoKSB7CiAgICAgICAgbGV0IF9pbWcgPSAnJzsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjY2VudGVyX2JveCA+IC5pbm5lcl9pbWcgaW1nW3NyY10nKS5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHsKICAgICAgICAgICAgX2ltZyArPSBgPGltZyBzcmM9IiR7b25lLmRhdGFzZXQub3JpZ2luYWx9Ij5gOwogICAgICAgICAgICBvbmUucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpOwogICAgICAgIH0pCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzBdLnJlcGxhY2UoJ2NzczsnLCAnJykpLmluc2VydEFkamFjZW50SFRNTChhZGRUbyhjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzFdKSwgX2ltZyk7IC8vIOWwhiBpbWcg5qCH562+5o+S5YWl5Yiw572R6aG15LitCgogICAgfQogICAgLy8gW+WKqOa8q+S5i+Wuti3mvKvnlLtdIOiOt+WPluS4i+S4gOmhteWcsOWdgAogICAgZnVuY3Rpb24gZG16al9tYW5odWFfZnVuY3Rpb25OZXh0KCkgewogICAgICAgIGxldCBuZXh0OwogICAgICAgIG5leHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV4dF9jaGFwdGVyJykKICAgICAgICBpZiAobmV4dCkgewogICAgICAgICAgICBpZiAobmV4dC5ocmVmID09PSBjdXJTaXRlLnBhZ2VVcmwpIHJldHVybgogICAgICAgICAgICBjdXJTaXRlLnBhZ2VVcmwgPSBuZXh0LmhyZWY7CiAgICAgICAgICAgIGdldFBhZ2VFbGVtcyhjdXJTaXRlLnBhZ2VVcmwpOwogICAgICAgIH0KICAgIH0KICAgIC8vIFvliqjmvKvkuYvlrrYt5ryr55S7XSDmj5LlhaXmlbDmja4KICAgIGZ1bmN0aW9uIGRtempfbWFuaHVhX2luc2VydEVsZW1lbnQocGFnZUVsZW1zLCB0eXBlKSB7CiAgICAgICAgaWYgKCFwYWdlRWxlbXMpIHJldHVybgogICAgICAgIC8vIOaPkuWFpeW5tui/kOihjCA8c2NyaXB0PgogICAgICAgIGxldCBzY3JpcHRFbGVtZW50ID0gcGFnZUVsZW1zLnF1ZXJ5U2VsZWN0b3JBbGwoJ2hlYWQgPiBzY3JpcHRbdHlwZV06bm90KFtzcmNdKScpLCBzY3JpcHRUZXh0ID0gJyc7CiAgICAgICAgc2NyaXB0RWxlbWVudC5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHtzY3JpcHRUZXh0ICs9ICc7JyArIG9uZS50ZXh0Q29udGVudDt9KTsKICAgICAgICBpZiAoc2NyaXB0VGV4dCkgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKSkudGV4dENvbnRlbnQgPSBzY3JpcHRUZXh0OwoKICAgICAgICAvLyDmj5LlhaXlm77niYcKICAgICAgICBsZXQgX2ltZyA9ICcnOwogICAgICAgIGZvciAobGV0IG5vdyBvZiBhcnJfcGFnZXMpIHsKICAgICAgICAgICAgX2ltZyArPSBgPGltZyBzcmM9IiR7aW1nX3ByZWZpeH0ke25vd30iPmA7CiAgICAgICAgfQogICAgICAgIGlmIChfaW1nKSB7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3VyU2l0ZS5wYWdlci5pbnNlcnRQb3NpdGlvblswXS5yZXBsYWNlKCdjc3M7JywgJycpKS5pbnNlcnRBZGphY2VudEhUTUwoYWRkVG8oY3VyU2l0ZS5wYWdlci5pbnNlcnRQb3NpdGlvblsxXSksIF9pbWcpOyAvLyDlsIYgaW1nIOagh+etvuaPkuWFpeWIsOe9kemhteS4rQoKICAgICAgICAgICAgLy8g5re75Yqg5Y6G5Y+y6K6w5b2VCiAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShge3RpdGxlOiAke2RvY3VtZW50LnRpdGxlfSwgdXJsOiAke2xvY2F0aW9uLmhyZWZ9fWAsIHBhZ2VFbGVtcy5xdWVyeVNlbGVjdG9yKCd0aXRsZScpLnRleHRDb250ZW50LCBjdXJTaXRlLnBhZ2VVcmwpOwoKICAgICAgICAgICAgLy8g5pu/5o2i5YWD57SgCiAgICAgICAgICAgIGxldCBvcmlFID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjdXJTaXRlLnBhZ2VyLnJlcGxhY2VFLnJlcGxhY2UoJ2NzczsnLCAnJykpLAogICAgICAgICAgICAgICAgcmVwRSA9IGdldEFsbEVsZW1lbnRzKGN1clNpdGUucGFnZXIucmVwbGFjZUUsIHBhZ2VFbGVtcywgcGFnZUVsZW1zKTsKICAgICAgICAgICAgaWYgKG9yaUUubGVuZ3RoID09PSByZXBFLmxlbmd0aCkgewogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcmlFLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgb3JpRVtpXS5vdXRlckhUTUwgPSByZXBFW2ldLm91dGVySFRNTDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIOW9k+WJjemhteeggSArIDEKICAgICAgICAgICAgICAgIHBhZ2VOdW0ubm93ID0gcGFnZU51bS5fbm93ICsgMQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKCiAgICAvLyBb5ou36LSd5ryr55S7XSDojrflj5bkuIvkuIDpobXlnLDlnYAKICAgIGZ1bmN0aW9uIGNvcHltYW5nYV9mdW5jdGlvbk5leHQoKSB7CiAgICAgICAgbGV0IG5leHQ7CiAgICAgICAgbmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21pY0NvbnRlbnQtbmV4dCA+IGFbaHJlZl0nKQogICAgICAgIGlmIChuZXh0KSB7CiAgICAgICAgICAgIGlmIChuZXh0LmhyZWYgPT09IGN1clNpdGUucGFnZVVybCkgcmV0dXJuCiAgICAgICAgICAgIGN1clNpdGUucGFnZVVybCA9IG5leHQuaHJlZjsKICAgICAgICAgICAgZ2V0UGFnZUVsZW1zKGN1clNpdGUucGFnZVVybCk7CiAgICAgICAgfQogICAgfQogICAgLy8gW+aLt+i0nea8q+eUu10g5o+S5YWl5pWw5o2uCiAgICBmdW5jdGlvbiBjb3B5bWFuZ2FfaW5zZXJ0RWxlbWVudChwYWdlRWxlbXMsIHR5cGUpIHsKICAgICAgICBpZiAoIXBhZ2VFbGVtcykgcmV0dXJuCiAgICAgICAgLy8g5re75Yqg5Y6G5Y+y6K6w5b2VCiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKGB7dGl0bGU6ICR7ZG9jdW1lbnQudGl0bGV9LCB1cmw6ICR7bG9jYXRpb24uaHJlZn19YCwgcGFnZUVsZW1zLnF1ZXJ5U2VsZWN0b3IoJ3RpdGxlJykudGV4dENvbnRlbnQsIGN1clNpdGUucGFnZVVybCk7CiAgICAgICAgbGV0IG9sZEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21pY0NvbnRlbnQtaW1hZ2UtbGlzdCcpLmlubmVySFRNTDsKCiAgICAgICAgLy8g5pu/5o2i5YWD57SgCiAgICAgICAgbGV0IG9yaUUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGN1clNpdGUucGFnZXIucmVwbGFjZUUucmVwbGFjZSgnY3NzOycsICcnKSksCiAgICAgICAgICAgIHJlcEUgPSBnZXRBbGxFbGVtZW50cyhjdXJTaXRlLnBhZ2VyLnJlcGxhY2VFLCBwYWdlRWxlbXMsIHBhZ2VFbGVtcyk7CiAgICAgICAgaWYgKG9yaUUubGVuZ3RoID09PSByZXBFLmxlbmd0aCkgewogICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9yaUUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIG9yaUVbaV0ub3V0ZXJIVE1MID0gcmVwRVtpXS5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5o+S5YWl5bm26L+Q6KGMIDxzY3JpcHQ+CiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JykpLnNyYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHkgPiBzY3JpcHRbYXN5bmNdW3NyYyo9ImNvbWljX2NvbnRlbnRfcGFzcyJdJykuc3JjOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGN1clNpdGUucGFnZXIuaW5zZXJ0UG9zaXRpb25bMF0ucmVwbGFjZSgnY3NzOycsICcnKSkuaW5zZXJ0QWRqYWNlbnRIVE1MKGFkZFRvKGN1clNpdGUucGFnZXIuaW5zZXJ0UG9zaXRpb25bMV0pLCBvbGRJbWcpOyAvLyDlsIYgaW1nIOagh+etvuaPkuWFpeWIsOe9kemhteS4rQogICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAvLyDlvZPliY3pobXnoIEgKyAxCiAgICAgICAgICAgIHBhZ2VOdW0ubm93ID0gcGFnZU51bS5fbm93ICsgMQogICAgICAgIH0KICAgIH0KCgogICAgLy8gW+WPpOmjjua8q+eUu+e9kV0g6I635Y+W5LiL5LiA6aG15Zyw5Z2ACiAgICBmdW5jdGlvbiBndWZlbmdtaF9mdW5jdGlvbk5leHQoKSB7CiAgICAgICAgbGV0IHBhZ2VFbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3VyU2l0ZS5wYWdlci5wYWdlRWxlbWVudC5yZXBsYWNlKCdjc3M7JywgJycpKTsgLy8g5a+75om+5pWw5o2u5omA5Zyo5YWD57SgCiAgICAgICAgaWYgKHBhZ2VFbGVtcykgewogICAgICAgICAgICBsZXQgY29taWNVcmwsIG5leHRJZDsKICAgICAgICAgICAgdmFyIHVybCA9ICcnOwogICAgICAgICAgICBwYWdlRWxlbXMudGV4dENvbnRlbnQuc3BsaXQoJzsnKS5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpeyAvLyDliIblj7cgOyDliIblibLkuLrmlbDnu4TlubbpgY3ljoYKICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2cob25lKQogICAgICAgICAgICAgICAgaWYgKG9uZS5pbmRleE9mKCdjb21pY1VybCcpID4gLTEpIHsgLy8g5LiL5LiA6aG1IFVSTCDliY3ljYrpg6jliIYKICAgICAgICAgICAgICAgICAgICBjb21pY1VybCA9IG9uZS5zcGxpdCgnIicpWzFdOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvbmUuaW5kZXhPZignbmV4dENoYXB0ZXJEYXRhJykgPiAtMSkgeyAvLyDkuIvkuIDpobUgVVJMIOeahOWQjuWNiumDqOWIhiBJRAogICAgICAgICAgICAgICAgICAgIG5leHRJZCA9IG9uZS5zcGxpdCgnImlkIjonKVsxXS5zcGxpdCgnLCcpWzBdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICBpZiAoY29taWNVcmwgJiYgbmV4dElkICYmIG5leHRJZCAhPSAnbnVsbCcpIHsgLy8g57uE5ZCI5Yiw5LiA6LW35bCx5piv5LiL5LiA6aG1IFVSTAogICAgICAgICAgICAgICAgdXJsID0gY29taWNVcmwgKyBuZXh0SWQgKyAnLmh0bWwnCiAgICAgICAgICAgICAgICBpZiAodXJsID09PSBjdXJTaXRlLnBhZ2VVcmwpIHJldHVybgogICAgICAgICAgICAgICAgY3VyU2l0ZS5wYWdlVXJsID0gdXJsCiAgICAgICAgICAgICAgICBnZXRQYWdlRWxlbXMoY3VyU2l0ZS5wYWdlVXJsKTsgLy8g6K6/6Zeu5LiL5LiA6aG1IFVSTCDojrflj5YKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIC8vIFvlj6Tpo47mvKvnlLvnvZFdIOaPkuWFpeaVsOaNrgogICAgZnVuY3Rpb24gZ3VmZW5nbWhfaW5zZXJ0RWxlbWVudChwYWdlRWxlbXMsIHR5cGUpIHsKICAgICAgICBpZiAocGFnZUVsZW1zKSB7CiAgICAgICAgICAgIGxldCB1cmwgPSBjdXJTaXRlLnBhZ2VVcmw7CiAgICAgICAgICAgIHBhZ2VFbGVtcyA9IGdldEFsbEVsZW1lbnRzKGN1clNpdGUucGFnZXIucGFnZUVsZW1lbnQsIHBhZ2VFbGVtcywgcGFnZUVsZW1zKVswXTsKICAgICAgICAgICAgbGV0IGNoYXB0ZXJJbWFnZXMsIGNoYXB0ZXJQYXRoOwogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGN1clNpdGUucGFnZXIucGFnZUVsZW1lbnQucmVwbGFjZSgnY3NzOycsICcnKSkuaW5uZXJUZXh0ID0gcGFnZUVsZW1zLnRleHRDb250ZW50OyAvLyDlsIblvZPliY3nvZHpobXlhoXnmoTmlbDmja7miYDlnKjlhYPntKDlhoXlrrnmlLnkuLrliJrliJrojrflj5bnmoTkuIvkuIDpobXmlbDmja7lhoXlrrnvvIzku6Xkvr/lvqrnjq/ojrflj5bkuIvkuIDpobUgVVJMCiAgICAgICAgICAgIHBhZ2VFbGVtcy50ZXh0Q29udGVudC5zcGxpdCgnOycpLmZvckVhY2goZnVuY3Rpb24gKG9uZSl7IC8vIOWIhuWPtyA7IOWIhuWJsuS4uuaVsOe7hOW5tumBjeWOhgogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhvbmUpCiAgICAgICAgICAgICAgICBpZiAob25lLmluZGV4T2YoJ2NoYXB0ZXJJbWFnZXMnKSA+IC0xKSB7IC8vIOWbvueJh+aWh+S7tuWQjeaVsOe7hAogICAgICAgICAgICAgICAgICAgIGNoYXB0ZXJJbWFnZXMgPSBvbmUucmVwbGFjZSgvXi4rXFsvLCAnJykucmVwbGFjZSgnXScsICcnKS5yZXBsYWNlQWxsKCciJywgJycpLnNwbGl0KCcsJykKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob25lLmluZGV4T2YoJ2NoYXB0ZXJQYXRoJykgPiAtMSkgeyAvLyDlm77niYfmlofku7bot6/lvoQKICAgICAgICAgICAgICAgICAgICBjaGFwdGVyUGF0aCA9IG9uZS5zcGxpdCgnIicpWzFdOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvbmUuaW5kZXhPZigncGFnZVRpdGxlJykgPiAtMSkgeyAvLyDnvZHpobXmoIfpopgKICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBvbmUuc3BsaXQoJyInKVsxXTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoYHt0aXRsZTogJHtkb2N1bWVudC50aXRsZX0sIHVybDogJHtsb2NhdGlvbi5ocmVmfX1gLCB0aXRsZSwgdXJsKTsgLy8g5re75Yqg5Y6G5Y+y6K6w5b2VCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LnRpdGxlID0gdGl0bGU7IC8vIOS/ruaUueW9k+WJjee9kemhteagh+mimOS4uuS4i+S4gOmhteeahOagh+mimAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICBpZiAoY2hhcHRlckltYWdlcyAmJiBjaGFwdGVyUGF0aCkgewogICAgICAgICAgICAgICAgbGV0IF9pbWcgPSAnJzsKICAgICAgICAgICAgICAgIGNoYXB0ZXJJbWFnZXMuZm9yRWFjaChmdW5jdGlvbiAob25lMil7IC8vIOmBjeWOhuWbvueJh+aWh+S7tuWQjeaVsOe7hO+8jOe7hOWQiOS4uiBpbWcg5qCH562+CiAgICAgICAgICAgICAgICAgICAgX2ltZyArPSAnPGltZyBzcmM9Imh0dHBzOi8vcmVzLnhpYW9xaW5yZS5jb20vJyArIGNoYXB0ZXJQYXRoICsgb25lMiArICciIGRhdGEtaW5kZXg9IjAiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij4nCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzBdLnJlcGxhY2UoJ2NzczsnLCAnJykpLmluc2VydEFkamFjZW50SFRNTChhZGRUbyhjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzFdKSwgX2ltZyk7IC8vIOWwhiBpbWcg5qCH562+5o+S5YWl5Yiw572R6aG15LitCiAgICAgICAgICAgICAgICAvLyDlvZPliY3pobXnoIEgKyAxCiAgICAgICAgICAgICAgICBwYWdlTnVtLm5vdyA9IHBhZ2VOdW0uX25vdyArIDEKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCgogICAgLy8gW+egguS5i+iIueWKqOa8q+Wutl0g55qE5o+S5YWl5YmN5Ye95pWw77yI5Yqg6L295Zu+54mH77yJCiAgICBmdW5jdGlvbiBzemNkbWpfZnVuY3Rpb25CZWZvcmUocGFnZUVsZW1zKSB7CiAgICAgICAgcGFnZUVsZW1zLmZvckVhY2goZnVuY3Rpb24gKG9uZSkgewogICAgICAgICAgICBpZiAob25lLnRhZ05hbWUgPT09ICdUSVRMRScpIHsKICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IG9uZS50ZXh0Q29udGVudDsKICAgICAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShge3RpdGxlOiAke2RvY3VtZW50LnRpdGxlfSwgdXJsOiAke2xvY2F0aW9uLmhyZWZ9fWAsIHRpdGxlLCBjdXJTaXRlLnBhZ2VVcmwpOyAvLyDmt7vliqDljoblj7LorrDlvZUKICAgICAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC50aXRsZSA9IHRpdGxlOyAvLyDkv67mlLnlvZPliY3nvZHpobXmoIfpopjkuLrkuIvkuIDpobXnmoTmoIfpopgKICAgICAgICAgICAgICAgIG9uZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbGV0IG5vdyA9IG9uZS5xdWVyeVNlbGVjdG9yKCdpbWdbZGF0YS1vcmlnaW5hbF0nKQogICAgICAgICAgICAgICAgaWYgKG5vdykgewogICAgICAgICAgICAgICAgICAgIG5vdy5zcmMgPSBub3cuZGF0YXNldC5vcmlnaW5hbDsKICAgICAgICAgICAgICAgICAgICBub3cuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHBhZ2VFbGVtcwogICAgfQoKCiAgICAvLyBbTWFuZ2FieiDmvKvnlLtdIOWIneWni+WMlu+8iOiwg+aVtOacrOivneWbvueJh++8iQogICAgZnVuY3Rpb24gbWFuZ2Fiel9pbml0KCkgewogICAgICAgIHBhZ2VOdW1iZXIoJ2RlbCcpOwogICAgICAgIGxldCBzaG93aW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvd2ltYWdlJyksCiAgICAgICAgICAgIGNwX2ltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcF9pbWcnKSwKICAgICAgICAgICAgY3BfaW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3BfaW1hZ2UnKTsKICAgICAgICBpZiAoc2hvd2ltYWdlKSB7c2hvd2ltYWdlLnJlbW92ZUF0dHJpYnV0ZSgnb25jb250ZXh0bWVudScpO30KICAgICAgICBpZiAoY3BfaW1nKSB7Y3BfaW1nLnJlbW92ZUF0dHJpYnV0ZSgnb25jb250ZXh0bWVudScpO30KICAgICAgICBpZiAoY3BfaW1hZ2UpIHsKICAgICAgICAgICAgY3BfaW1hZ2UucmVtb3ZlQXR0cmlidXRlKCdvbmNvbnRleHRtZW51Jyk7CiAgICAgICAgICAgIGNwX2ltYWdlLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTsKICAgICAgICAgICAgY3BfaW1hZ2UucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpOwogICAgICAgIH0KICAgIH0KICAgIC8vIFtNYW5nYWJ6IOa8q+eUu10g6I635Y+W5LiL5LiA6aG15Zyw5Z2ACiAgICBmdW5jdGlvbiBtYW5nYWJ6X2Z1bmN0aW9uTmV4dCgpIHsKICAgICAgICB2YXIgdXJsID0gJyc7CiAgICAgICAgaWYgKE1BTkdBQlpfUEFHRSA9PT0gTUFOR0FCWl9JTUFHRV9DT1VOVCkgeyAvLyDkuIvkuIDor50KICAgICAgICAgICAgdXJsID0gZ2V0RWxlbWVudEJ5WHBhdGgoJy8vYVsuL2ltZ1tjb250YWlucyhAc3JjLCAiaWNvbl94aWF5aXpoYW5nIildXScpCiAgICAgICAgICAgIGlmICh1cmwgPT09IGN1clNpdGUucGFnZVVybCkgcmV0dXJuCiAgICAgICAgICAgIGN1clNpdGUucGFnZVVybCA9IHVybAogICAgICAgICAgICAvL2NvbnNvbGUubG9nKGN1clNpdGUucGFnZVVybCkKICAgICAgICAgICAgZ2V0UGFnZUVsZW1zKGN1clNpdGUucGFnZVVybCk7IC8vIOiuv+mXruS4i+S4gOivnSBVUkwg6I635Y+WCiAgICAgICAgfSBlbHNlIHsgLy8g5LiL5LiA6aG1CiAgICAgICAgICAgIGlmICghbWtleSkgdmFyIG1rZXkgPSAnJzsKICAgICAgICAgICAgdXJsID0gbG9jYXRpb24ub3JpZ2luICsgbG9jYXRpb24ucGF0aG5hbWUgKyAnY2hhcHRlcmltYWdlLmFzaHgnICsgYD9jaWQ9JHtNQU5HQUJaX0NJRH0mcGFnZT0ke01BTkdBQlpfUEFHRSArIDF9JmtleT0keyhta2V5KX0mX2NpZD0ke01BTkdBQlpfQ0lEfSZfbWlkPSR7TUFOR0FCWl9NSUR9Jl9kdD0ke01BTkdBQlpfVklFV1NJR05fRFR9Jl9zaWduPSR7TUFOR0FCWl9WSUVXU0lHTn1gCiAgICAgICAgICAgIGlmICh1cmwgPT09IGN1clNpdGUucGFnZVVybCkgcmV0dXJuCiAgICAgICAgICAgIGN1clNpdGUucGFnZVVybCA9IHVybAogICAgICAgICAgICAvL2NvbnNvbGUubG9nKGN1clNpdGUucGFnZVVybCkKICAgICAgICAgICAgZ2V0UGFnZUVsZW1zKGN1clNpdGUucGFnZVVybCwgJ3RleHQnLCAnR0VUJywgJycsICdOZXh0Jyk7IC8vIOiuv+mXruS4i+S4gOmhtSBVUkwg6I635Y+WCiAgICAgICAgfQogICAgfQogICAgLy8gW01hbmdhYnog5ryr55S7XSDmj5LlhaXmlbDmja4KICAgIGZ1bmN0aW9uIG1hbmdhYnpfaW5zZXJ0RWxlbWVudChwYWdlRWxlbXMsIHR5cGUpIHsKICAgICAgICBpZiAocGFnZUVsZW1zKSB7CiAgICAgICAgICAgIGlmICh0eXBlID09PSAnTmV4dCcpIHsKICAgICAgICAgICAgICAgIGxldCBpbWdBcnIgPSBldmFsKHBhZ2VFbGVtcyksCiAgICAgICAgICAgICAgICAgICAgX2ltZyA9ICcnOwogICAgICAgICAgICAgICAgZm9yIChsZXQgbm93IG9mIGltZ0FycikgewogICAgICAgICAgICAgICAgICAgIF9pbWcgKz0gYDxpbWcgc3JjPSIke25vd30iPmA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoX2ltZykgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3VyU2l0ZS5wYWdlci5pbnNlcnRQb3NpdGlvblswXS5yZXBsYWNlKCdjc3M7JywgJycpKS5pbnNlcnRBZGphY2VudEhUTUwoYWRkVG8oY3VyU2l0ZS5wYWdlci5pbnNlcnRQb3NpdGlvblsxXSksIF9pbWcpOyAvLyDlsIYgaW1nIOagh+etvuaPkuWFpeWIsOe9kemhteS4rQoKICAgICAgICAgICAgICAgICAgICAvLyDmt7vliqDljoblj7LorrDlvZUKICAgICAgICAgICAgICAgICAgICBNQU5HQUJaX1BBR0UgKz0gaW1nQXJyLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoYHt0aXRsZTogJHtkb2N1bWVudC50aXRsZX0sIHVybDogJHtsb2NhdGlvbi5ocmVmfX1gLCBkb2N1bWVudC50aXRsZSwgbG9jYXRpb24ub3JpZ2luICsgTUFOR0FCWl9DVVJMLnN1YnN0cmluZygwLCBNQU5HQUJaX0NVUkwubGVuZ3RoIC0gMSkgKyAnLXAnICsgTUFOR0FCWl9QQUdFICsgJy8nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIOaPkuWFpSA8c2NyaXB0PiDmoIfnrb4KICAgICAgICAgICAgICAgIGxldCBzY3JpcHRFbGVtZW50ID0gcGFnZUVsZW1zLnF1ZXJ5U2VsZWN0b3JBbGwoJ2h0bWw6bm90KFtkaXJdKSA+IGhlYWQgPiBzY3JpcHQ6bm90KFtzcmNdKScpLCBzY3JpcHRUZXh0ID0gJyc7CiAgICAgICAgICAgICAgICBzY3JpcHRFbGVtZW50LmZvckVhY2goZnVuY3Rpb24gKG9uZSkge3NjcmlwdFRleHQgKz0gJzsnICsgb25lLnRleHRDb250ZW50O30pOwogICAgICAgICAgICAgICAgaWYgKHNjcmlwdFRleHQpIHsKICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKS50ZXh0Q29udGVudCA9IHNjcmlwdFRleHQ7CgogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShge3RpdGxlOiAke2RvY3VtZW50LnRpdGxlfSwgdXJsOiAke2xvY2F0aW9uLmhyZWZ9fWAsIHBhZ2VFbGVtcy5xdWVyeVNlbGVjdG9yKCd0aXRsZScpLnRleHRDb250ZW50LCBjdXJTaXRlLnBhZ2VVcmwpOwoKICAgICAgICAgICAgICAgICAgICAvLyDmm7/mjaLlvoXmm7/mjaLlhYPntKAKICAgICAgICAgICAgICAgICAgICBsZXQgb3JpRSA9IGdldEFsbEVsZW1lbnRzKGN1clNpdGUucGFnZXIucmVwbGFjZUUpLAogICAgICAgICAgICAgICAgICAgICAgICByZXBFID0gZ2V0QWxsRWxlbWVudHMoY3VyU2l0ZS5wYWdlci5yZXBsYWNlRSwgcGFnZUVsZW1zLCBwYWdlRWxlbXMpOwogICAgICAgICAgICAgICAgICAgIGlmIChvcmlFLmxlbmd0aCA9PT0gcmVwRS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcmlFLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlFW2ldLm91dGVySFRNTCA9IHJlcEVbaV0ub3V0ZXJIVE1MOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIE1BTkdBQlpfUEFHRSA9IDA7CiAgICAgICAgICAgICAgICAgICAgbWFuZ2Fiel9mdW5jdGlvbk5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCgogICAgLy8g6Ieq5Yqo5peg57yd57+76aG1CiAgICBmdW5jdGlvbiBwYWdlTG9hZGluZygpIHsKICAgICAgICBpZiAoY3VyU2l0ZS5TaXRlVHlwZUlEID4gMCkgewogICAgICAgICAgICB3aW5kb3dTY3JvbGwoZnVuY3Rpb24gKGRpcmVjdGlvbiwgZSkgewogICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2Rvd24nICYmIHBhdXNlUGFnZSA9PT0gdHJ1ZSkgeyAvLyDkuIvmu5Ev5rKh5pyJ5pqC5YGc57+76aG15pe277yM5omN5YeG5aSH57+76aG1CiAgICAgICAgICAgICAgICAgICAgbGV0IHNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLAogICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwKICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsRGVsdGEgPSBjdXJTaXRlLnBhZ2VyLnNjcm9sbERlbHRhOwogICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLnBhZ2VyLnR5cGUgPT09IDMpIHsgLy8gPDw8PDwg57+76aG157G75Z6LIDPvvIjkvp3pnaDlhYPntKDot53nprvlj6/op4bljLrln5/lupXpg6jnmoTot53nprvmnaXop6blj5Hnv7vpobXvvIk+Pj4+PgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2Nyb2xsRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3VyU2l0ZS5wYWdlci5zY3JvbGxFbGVtZW50KTsKICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhzY3JvbGxFbGVtZW50Lm9mZnNldFRvcCAtIChzY3JvbGxUb3AgKyBzY3JvbGxIZWlnaHQpLCBzY3JvbGxEZWx0YSwgY3VyU2l0ZS5TaXRlVHlwZUlEKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsRWxlbWVudC5vZmZzZXRUb3AgLSAoc2Nyb2xsVG9wICsgc2Nyb2xsSGVpZ2h0KSA8PSBzY3JvbGxEZWx0YSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PT0gU2l0ZVR5cGUuR0FNRVJTS1lfR0wpIGN1clNpdGUucGFnZXIuc2Nyb2xsRGVsdGEgLT0gODAwIC8vIOa4uOawkeaYn+epuiBnbCDnmoTmr5TovoPlpYfokanvvIzpnIDopoHnibnmrorlpITnkIbkuIsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNob3dQYWdlci5sb2FkTW9yZVBhZ2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IDw9IHNjcm9sbEhlaWdodCArIHNjcm9sbFRvcCArIHNjcm9sbERlbHRhKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5wYWdlci50eXBlID09PSAyKSB7IC8vIDw8PDw8IOe/u+mhteexu+WeiyAy77yI572R56uZ6Ieq5bim5LqG6Ieq5Yqo5peg57yd57+76aG15Yqf6IO977yM5Y+q6ZyA6KaB54K55Ye75LiL5LiA6aG15oyJ6ZKu5Y2z5Y+v77yJPj4+Pj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5TaXRlVHlwZUlEID4gMCkgeyAvLyDlpoLmnpzmjIflrprkuobpl7TpmpTml7bpl7TvvIzpgqPkuYjlsLHkvp3pnaDov5nkuKrliKTmlq3ml7bpl7TliLDkuobmsqHmnIl+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhdXRvcGJuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjdXJTaXRlLnBhZ2VyLm5leHRMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dG9wYm4pIHsgLy8g5a+75om+5LiL5LiA6aG16ZO+5o6lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDpgb/lhY3ph43lpI3ngrnlh7vnv7vpobXmjInpkq4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLnBhZ2VyLm5leHRUZXh0KSB7IC8vICAgICAgICAgIOaMiemSruaWh+acrO+8jOW9k+aMiemSruaWh+acrCA9IOivpeaWh+acrOaXtu+8jOaJjeS8mueCueWHu+aMiemSruWKoOi9veS4i+S4gOmhtQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdXRvcGJuLmlubmVyVGV4dCA9PT0gY3VyU2l0ZS5wYWdlci5uZXh0VGV4dCkge2F1dG9wYm4uY2xpY2soKTsgcGFnZU51bS5ub3cgPSBwYWdlTnVtLl9ub3cgKyAxO30gLy8g5b2T5YmN6aG156CBICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJTaXRlLnBhZ2VyLm5leHRUZXh0T2YpIHsgLy8g5oyJ6ZKu5paH5pys55qE5LiA6YOo5YiG77yM5b2T5oyJ6ZKu5paH5pys5YyF5ZCr6K+l5paH5pys5pe277yM5omN5Lya54K55Ye75oyJ6ZKu5Yqg6L295LiL5LiA6aG1CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF1dG9wYm4uaW5uZXJUZXh0LmluZGV4T2YoY3VyU2l0ZS5wYWdlci5uZXh0VGV4dE9mKSA+IC0xKSB7YXV0b3Bibi5jbGljaygpOyBwYWdlTnVtLm5vdyA9IHBhZ2VOdW0uX25vdyArIDE7fSAvLyDlvZPliY3pobXnoIEgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1clNpdGUucGFnZXIubmV4dEhUTUwpIHsgLy8gICDmjInpkq7lhoXlhYPntKDvvIzlvZPmjInpkq7lhoXlhYPntKAgPSDor6XlhYPntKDlhoXlrrnml7bvvIzmiY3kvJrngrnlh7vmjInpkq7liqDovb3kuIvkuIDpobUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0b3Bibi5pbm5lckhUTUwgPT09IGN1clNpdGUucGFnZXIubmV4dEhUTUwpIHthdXRvcGJuLmNsaWNrKCk7IHBhZ2VOdW0ubm93ID0gcGFnZU51bS5fbm93ICsgMTt9IC8vIOW9k+WJjemhteeggSArIDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIOWmguaenOayoeacieaMh+WumuaMiemSruaWh+Wtl+WwseebtOaOpeeCueWHuwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9wYm4uY2xpY2soKTsgcGFnZU51bS5ub3cgPSBwYWdlTnVtLl9ub3cgKyAxOyAvLyDlvZPliY3pobXnoIEgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5a+55LqO5rKh5pyJ5oyJ6ZKu5paH5a2X5Y+Y5YyW55qE5oyJ6ZKu77yM5Y+v5Lul5oyH5a6a6Ze06ZqU5pe26Ze077yI6buY6K6kIDMwMG1z77yJCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJTaXRlLnBhZ2VyLmludGVydmFscykge2N1clNpdGUucGFnZXIuaW50ZXJ2YWxzID0gMzAwO30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgX1NpdGVUeXBlSUQgPSBjdXJTaXRlLlNpdGVUeXBlSUQ7IGN1clNpdGUuU2l0ZVR5cGVJRCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe2N1clNpdGUuU2l0ZVR5cGVJRCA9IF9TaXRlVHlwZUlEO30sIGN1clNpdGUucGFnZXIuaW50ZXJ2YWxzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJTaXRlLnBhZ2VyLnR5cGUgPT09IDEpIHsgLy8gPDw8PDwg57+76aG157G75Z6LIDHvvIjnlLHohJrmnKzlrp7njrDoh6rliqjml6DnvJ3nv7vpobXvvIk+Pj4+PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLlNpdGVUeXBlSUQgPiAwKSBTaG93UGFnZXIubG9hZE1vcmVQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1clNpdGUucGFnZXIudHlwZSA9PT0gNCkgeyAvLyA8PDw8PCDnv7vpobXnsbvlnosgNO+8iOmDqOWIhueugOWNleeahOWKqOaAgeWKoOi9veexu+e9keerme+8iT4+Pj4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Li655m+5bqm6LS05ZCn55qE5Y+R5biW6ICD6JmRLi4uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgPD0gc2Nyb2xsSGVpZ2h0ICsgc2Nyb2xsVG9wICsgMjAwICYmIGN1clNpdGUuU2l0ZVR5cGVJRCA9PT0gU2l0ZVR5cGUuQkFJRFVfVElFQkEpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlLnBhZ2VyLm5leHRMaW5rKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUucGFnZXIuaW50ZXJ2YWxzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgX1NpdGVUeXBlSUQgPSBjdXJTaXRlLlNpdGVUeXBlSUQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlLlNpdGVUeXBlSUQgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe2N1clNpdGUuU2l0ZVR5cGVJRCA9IF9TaXRlVHlwZUlEO30sIGN1clNpdGUucGFnZXIuaW50ZXJ2YWxzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9CgoKICAgIC8vIOWQr+eUqC/npoHnlKggKOW9k+WJjee9keermSkKICAgIGZ1bmN0aW9uIG1lbnVfZGlzYWJsZSh0eXBlKSB7CiAgICAgICAgc3dpdGNoKHR5cGUpIHsKICAgICAgICAgICAgY2FzZSAnY2hlY2snOgogICAgICAgICAgICAgICAgaWYoY2hlY2soKSkge3JldHVybiB0cnVlO30gZWxzZSB7cmV0dXJuIGZhbHNlO307IGJyZWFrOwogICAgICAgICAgICBjYXNlICdhZGQnOgogICAgICAgICAgICAgICAgYWRkKCk7IGJyZWFrOwogICAgICAgICAgICBjYXNlICdkZWwnOgogICAgICAgICAgICAgICAgZGVsKCk7IGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY2hlY2soKSB7IC8vIOWtmOWcqOi/lOWbnuecn++8jOS4jeWtmOWcqOi/lOWbnuWBhwogICAgICAgICAgICBsZXQgbGlzdCA9IEdNX2dldFZhbHVlKCdtZW51X2Rpc2FibGUnKTsgLy8g6K+75Y+W572R56uZ5YiX6KGoCiAgICAgICAgICAgIGlmIChsaXN0LmluZGV4T2YobG9jYXRpb24uaG9zdCkgPT09IC0xKSByZXR1cm4gZmFsc2UgLy8g5LiN5a2Y5Zyo6L+U5Zue5YGHCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBhZGQoKSB7CiAgICAgICAgICAgIGlmIChjaGVjaygpKSByZXR1cm4KICAgICAgICAgICAgbGV0IGxpc3QgPSBHTV9nZXRWYWx1ZSgnbWVudV9kaXNhYmxlJyk7IC8vIOivu+WPlue9keermeWIl+ihqAogICAgICAgICAgICBsaXN0LnB1c2gobG9jYXRpb24uaG9zdCk7IC8vIOi/veWKoOe9keermeWfn+WQjQogICAgICAgICAgICBHTV9zZXRWYWx1ZSgnbWVudV9kaXNhYmxlJywgbGlzdCk7IC8vIOWGmeWFpemFjee9rgogICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsgLy8g5Yi35paw572R6aG1CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBkZWwoKSB7CiAgICAgICAgICAgIGlmICghY2hlY2soKSkgcmV0dXJuCiAgICAgICAgICAgIGxldCBsaXN0ID0gR01fZ2V0VmFsdWUoJ21lbnVfZGlzYWJsZScpLCAvLyDor7vlj5bnvZHnq5nliJfooagKICAgICAgICAgICAgaW5kZXggPSBsaXN0LmluZGV4T2YobG9jYXRpb24uaG9zdCk7CiAgICAgICAgICAgIGxpc3Quc3BsaWNlKGluZGV4LCAxKTsgLy8g5Yig6Zmk572R56uZ5Z+f5ZCNCiAgICAgICAgICAgIEdNX3NldFZhbHVlKCdtZW51X2Rpc2FibGUnLCBsaXN0KTsgLy8g5YaZ5YWl6YWN572uCiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOyAvLyDliLfmlrDnvZHpobUKICAgICAgICB9CiAgICB9CgoKICAgIC8vIOW3pumUruWPjOWHu+e9kemhteepuueZveWkhOaaguWBnOe/u+mhtQogICAgZnVuY3Rpb24gcGF1c2VQYWdlRXZlbnQoKSB7CiAgICAgICAgaWYgKCFHTV9nZXRWYWx1ZSgnbWVudV9wYXVzZV9wYWdlJykpIHJldHVybgogICAgICAgIGlmIChjdXJTaXRlLlNpdGVUeXBlSUQgPT09IDApIHJldHVybgogICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChwYXVzZVBhZ2UpIHsKICAgICAgICAgICAgICAgIHBhdXNlUGFnZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgR01fbm90aWZpY2F0aW9uKHt0ZXh0OiBg4p2MIOW3suaaguWBnOacrOmhtSBb6Ieq5Yqo5peg57yd57+76aG1XVxuICAgIO+8iOWGjeasoeWPjOWHu+WPr+aBouWkje+8iWAsIHRpbWVvdXQ6IDIwMDB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHBhdXNlUGFnZSA9IHRydWU7CiAgICAgICAgICAgICAgICBHTV9ub3RpZmljYXRpb24oe3RleHQ6IGDinIUg5bey5oGi5aSN5pys6aG1IFvoh6rliqjml6DnvJ3nv7vpobVdXG4gICAg77yI5YaN5qyh5Y+M5Ye75Y+v5pqC5YGc77yJYCwgdGltZW91dDogMjAwMH0pOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9CgoKICAgIC8vIOaYvuekuumhteeggQogICAgZnVuY3Rpb24gcGFnZU51bWJlcih0eXBlKSB7CiAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PT0gMCkge2xldCBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQXV0b3BhZ2VfbnVtYmVyJyk7aWYgKHN0YXR1cykge3N0YXR1cy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO307IHJldHVybn0KICAgICAgICBsZXQgc3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0F1dG9wYWdlX251bWJlcicpOwogICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICBjYXNlICdhZGQnOgogICAgICAgICAgICAgICAgYWRkKCk7IGJyZWFrOwogICAgICAgICAgICBjYXNlICdkZWwnOgogICAgICAgICAgICAgICAgZGVsKCk7IGJyZWFrOwogICAgICAgICAgICBjYXNlICdzZXQnOgogICAgICAgICAgICAgICAgc2V0KCk7IGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYWRkKCl7CiAgICAgICAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICAgICAgICAgIGlmIChzdGF0dXMuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnKSB7c3RhdHVzLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7fQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5o+S5YWl572R6aG1CiAgICAgICAgICAgIGxldCBfaHRtbCA9IGA8c3R5bGU+I0F1dG9wYWdlX251bWJlciB7dG9wOiBjYWxjKDc1dmgpICFpbXBvcnRhbnQ7bGVmdDogMCAhaW1wb3J0YW50O3dpZHRoOiAzMnB4O2hlaWdodDogMzJweDtwYWRkaW5nOiA2cHggIWltcG9ydGFudDtkaXNwbGF5OiBmbGV4O3Bvc2l0aW9uOiBmaXhlZCAhaW1wb3J0YW50O29wYWNpdHk6IDAuNTt0cmFuc2l0aW9uOiAuMnM7ei1pbmRleDogMTAwMCAhaW1wb3J0YW50O2N1cnNvcjogcG9pbnRlcjt1c2VyLXNlbGVjdDogbm9uZSAhaW1wb3J0YW50O2ZsZXgtZGlyZWN0aW9uOiBjb2x1bW47YWxpZ24taXRlbXM6IGNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtib3gtc2l6aW5nOiBjb250ZW50LWJveDtib3JkZXItcmFkaXVzOiAwIDUwJSA1MCUgMDt0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXIgIWltcG9ydGFudDt0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLThweCk7YmFja2dyb3VuZC1jb2xvcjogI2VlZTstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O2JveC1zaGFkb3c6IDFweCAxcHggM3B4IDBweCAjYWFhICFpbXBvcnRhbnQ7Y29sb3I6ICMwMDAgIWltcG9ydGFudDt9ICNBdXRvcGFnZV9udW1iZXI6aG92ZXIge29wYWNpdHk6IDAuOTt0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7fTwvc3R5bGU+CjxkaXYgaWQ9IkF1dG9wYWdlX251bWJlciIgdGl0bGU9IjEuIOatpOWkhOaVsOWtl+S4uiBb5b2T5YmN6aG156CBXSAo5Y+v5Zyo6ISa5pys6I+c5Y2V5Lit5YWz6ZetKSYjMTA7JiMxMDsyLiDpvKDmoIflt6bplK7ngrnlh7vmraTlpIQgW+S4tOaXtuaaguWBnOacrOmhteiHquWKqOaXoOe8nee/u+mhtV3vvIjlho3mrKHngrnlh7vlj6/mgaLlpI3vvIkiPiR7cGFnZU51bS5fbm93fTwvZGl2PmAKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIF9odG1sKTsKICAgICAgICAgICAgLy8g54K55Ye75LqL5Lu277yI5Li05pe25pqC5YGc57+76aG177yJCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdBdXRvcGFnZV9udW1iZXInKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgaWYgKHBhdXNlUGFnZSkgewogICAgICAgICAgICAgICAgICAgIHBhdXNlUGFnZSA9IGZhbHNlOyB0aGlzLnN0eWxlID0gJ2NvbG9yOiAjRkY1NzIyICFpbXBvcnRhbnQ7IGZvbnQtc3R5bGU6IGl0YWxpYyAhaW1wb3J0YW50Oyc7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHBhdXNlUGFnZSA9IHRydWU7IHRoaXMuc3R5bGUgPSAnJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgc3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0F1dG9wYWdlX251bWJlcicpOwogICAgICAgICAgICBzZXQoKTsKICAgICAgICB9CiAgICAgICAgLy8g55uR5ZCs5YKo5a2Y5b2T5YmN6aG156CB55qE5a+56LGh5YC855qE5Y+Y5YyWCiAgICAgICAgZnVuY3Rpb24gc2V0KCl7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYWdlTnVtLCAnbm93JywgewogICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuX25vdyA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMpIHN0YXR1cy50ZXh0Q29udGVudCA9IHZhbHVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgZnVuY3Rpb24gZGVsKCl7CiAgICAgICAgICAgIGlmICghc3RhdHVzKSByZXR1cm4KICAgICAgICAgICAgc3RhdHVzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgfQogICAgfQoKCiAgICAvLyDoj5zljZXlvIDlhbMKICAgIGZ1bmN0aW9uIG1lbnVfc3dpdGNoKG1lbnVfc3RhdHVzLCBOYW1lLCBUaXBzKSB7CiAgICAgICAgaWYgKG1lbnVfc3RhdHVzID09PSB0cnVlKXsKICAgICAgICAgICAgR01fc2V0VmFsdWUoTmFtZSwgZmFsc2UpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIEdNX3NldFZhbHVlKE5hbWUsIHRydWUpOwogICAgICAgIH0KICAgICAgICBpZiAoTmFtZSA9PT0gJ21lbnVfcGFnZV9udW1iZXInKSB7CiAgICAgICAgICAgIGlmIChtZW51X3N0YXR1cyA9PT0gdHJ1ZSl7cGFnZU51bWJlcignZGVsJyk7fSBlbHNlIHtwYWdlTnVtYmVyKCdhZGQnKTt9CiAgICAgICAgICAgIHJlZ2lzdGVyTWVudUNvbW1hbmQoKTsgLy8g6YeN5paw5rOo5YaM6ISa5pys6I+c5Y2VCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7fQogICAgfTsKCgogICAgLy8g55Sf5oiQIElECiAgICBmdW5jdGlvbiBnZW5lcmF0ZUlEKCkgewogICAgICAgIGxldCBudW0gPSAwCiAgICAgICAgZm9yIChsZXQgdmFsIGluIERCU2l0ZSkgewogICAgICAgICAgICBEQlNpdGVbdmFsXS5TaXRlVHlwZUlEID0gbnVtID0gbnVtICsgMTsKICAgICAgICB9CiAgICB9CgoKICAgIC8vIOWIpOaWreaYr+aUr+aMgQogICAgZnVuY3Rpb24gZG9lc0l0U3VwcG9ydCgpIHsKICAgICAgICBzZXREQlNpdGUoKTsgLy8g6YWN572uIERCU2l0ZSDlj5jph4/lr7nosaEKCiAgICAgICAgLy8g6YGN5Y6G5Yik5pat5piv5ZCm5piv5p+Q5Liq5bey5pSv5oyB55qE572R56uZ77yM6aG65L6/55u05o6l6LWL5YC8CiAgICAgICAgbGV0IHN1cHBvcnQgPSBmYWxzZTsKICAgICAgICBmb3IgKGxldCBub3cgaW4gREJTaXRlKSB7IC8vIOmBjeWOhuWvueixoQogICAgICAgICAgICBpZiAoIURCU2l0ZVtub3ddLmhvc3QpIGNvbnRpbnVlOyAvLyDlpoLmnpzkuI3lrZjlnKjliJnnu6fnu63kuIvkuIDkuKrlvqrnjq8KICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoREJTaXRlW25vd10uaG9zdCkpIHsgLy8g5aaC5p6c5piv5pWw57uECiAgICAgICAgICAgICAgICBmb3IgKGxldCBpIG9mIERCU2l0ZVtub3ddLmhvc3QpIHsgLy8g6YGN5Y6G5pWw57uECiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IGxvY2F0aW9uLmhvc3QpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERCU2l0ZVtub3ddLmZ1bmN0aW9uU3RhcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIERCU2l0ZVtub3ddLmZ1bmN0aW9uU3RhcnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGVbbm93XTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ID0gdHJ1ZTsgYnJlYWs7IC8vIOWmguaenOaJvuWIsOS6huWwsemAgOWHuuW+queOrwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChEQlNpdGVbbm93XS5ob3N0IGluc3RhbmNlb2YgUmVnRXhwKSB7CiAgICAgICAgICAgICAgICBpZiAoREJTaXRlW25vd10uaG9zdC50ZXN0KGxvY2F0aW9uLmhvc3QpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYgIT0gdG9wKSB7aWYgKCFEQlNpdGVbbm93XS5pZnJhbWUpIGJyZWFrO30gLy8g5aaC5p6c5b2T5YmN5L2N5LqOIGlmcmFtZSDmoYbmnrbkuIvvvIzlsLHpnIDopoHliKTmlq3mmK/lkKbpnIDopoHmiafooYwKICAgICAgICAgICAgICAgICAgICBpZiAoREJTaXRlW25vd10uZnVuY3Rpb25TdGFydCkgewogICAgICAgICAgICAgICAgICAgICAgICBEQlNpdGVbbm93XS5mdW5jdGlvblN0YXJ0KCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZVtub3ddOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzdXBwb3J0ID0gdHJ1ZTsgYnJlYWs7IC8vIOWmguaenOaJvuWIsOS6huWwsemAgOWHuuW+queOrwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKERCU2l0ZVtub3ddLmhvc3QgPT09IGxvY2F0aW9uLmhvc3QpIHsKICAgICAgICAgICAgICAgIGlmIChzZWxmICE9IHRvcCkge2lmICghREJTaXRlW25vd10uaWZyYW1lKSBicmVhazt9IC8vIOWmguaenOW9k+WJjeS9jeS6jiBpZnJhbWUg5qGG5p625LiL77yM5bCx6ZyA6KaB5Yik5pat5piv5ZCm6ZyA6KaB5omn6KGMCiAgICAgICAgICAgICAgICBpZiAoREJTaXRlW25vd10uZnVuY3Rpb25TdGFydCkgewogICAgICAgICAgICAgICAgICAgIERCU2l0ZVtub3ddLmZ1bmN0aW9uU3RhcnQoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZVtub3ddOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc3VwcG9ydCA9IHRydWU7IGJyZWFrOyAvLyDlpoLmnpzmib7liLDkuoblsLHpgIDlh7rlvqrnjq8KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHN1cHBvcnQpIHsKICAgICAgICAgICAgY29uc29sZS5pbmZvKCdb6Ieq5Yqo5peg57yd57+76aG1XSAtIOWFtuS7lue9keerme+8iOeLrOeri+inhOWIme+8iScpOyByZXR1cm4gMTsKICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT0iYXV0aG9yIl1bY29udGVudCo9IkRpc2N1eiEiXSwgbWV0YVtuYW1lPSJnZW5lcmF0b3IiXVtjb250ZW50Kj0iRGlzY3V6ISJdJykgfHwgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2FbaHJlZio9Ind3dy5kaXNjdXoubmV0Il0nKSAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhW2hyZWYqPSJ3d3cuZGlzY3V6Lm5ldCJdJykudGV4dENvbnRlbnQuaW5kZXhPZignRGlzY3V6IScpID4gLTEpIHx8IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnQnKSAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnQnKS50ZXh0Q29udGVudC5pbmRleE9mKCdEaXNjdXohJykgPiAtMSkpIHsKICAgICAgICAgICAgY29uc29sZS5pbmZvKCdb6Ieq5Yqo5peg57yd57+76aG1XSAtIERpc2N1eiEg6K665Z2bJyk7IHJldHVybiAyOwogICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZsYXJ1bS1sb2FkaW5nJykpIHsKICAgICAgICAgICAgY29uc29sZS5pbmZvKCdb6Ieq5Yqo5peg57yd57+76aG1XSAtIEZsYXJ1bSDorrrlnZsnKTsgcmV0dXJuIDM7CiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdsaW5rW2hyZWYqPSJ0aGVtZXMvZHV4IiBpXSwgc2NyaXB0W3NyYyo9InRoZW1lcy9kdXgiIGldJykpIHsKICAgICAgICAgICAgY29uc29sZS5pbmZvKCdb6Ieq5Yqo5peg57yd57+76aG1XSAtIOS9v+eUqCBXb3JkUHJlc3MgRFVYIOS4u+mimOeahOe9keermScpOyByZXR1cm4gNDsKICAgICAgICB9IGVsc2UgaWYgKHNlbGYgIT0gdG9wKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIDA7CiAgICB9CgoKICAgIC8vIOiOt+WPliBDb29raWUKICAgIGZ1bmN0aW9uIGdldENvb2tpZShuYW1lKSB7CiAgICAgICAgaWYgKCFuYW1lKSByZXR1cm4gJycKICAgICAgICBsZXQgYXJyID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7CiAgICAgICAgbmFtZSArPSAnPScKICAgICAgICBmb3IgKGxldCBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGxldCBub3cgPSBhcnJbaV0udHJpbSgpOwogICAgICAgICAgICBpZiAobm93LmluZGV4T2YobmFtZSkgPT0gMCkgcmV0dXJuIG5vdy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIG5vdy5sZW5ndGgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJyc7CiAgICB9CgoKICAgIC8vIOexu+WeiyA0IOS4k+eUqAogICAgZnVuY3Rpb24gZ2V0UGFnZUVsZW1zKHVybCwgdHlwZSA9ICcnLCBtZXRob2QgPSAnR0VUJywgZGF0YSA9ICcnLCB0eXBlMikgewogICAgICAgIC8vY29uc29sZS5sb2codXJsLCBkYXRhKQogICAgICAgIGxldCBtaW1lVHlwZSA9ICcnOwogICAgICAgIGlmIChjdXJTaXRlLnBhZ2VyLm1pbWVUeXBlKSBtaW1lVHlwZSA9IGN1clNpdGUucGFnZXIubWltZVR5cGU7CiAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsCiAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogdHlwZSwKICAgICAgICAgICAgb3ZlcnJpZGVNaW1lVHlwZTogbWltZVR5cGUsCiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICdSZWZlcmVyJzogbG9jYXRpb24uaHJlZiwKICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAobWV0aG9kID09PSAnUE9TVCcpID8gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc6JycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGltZW91dDogNTAwMCwKICAgICAgICAgICAgb25sb2FkOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygn5pyA57uIIFVSTO+8micgKyByZXNwb25zZS5maW5hbFVybCwgJ+i/lOWbnuWGheWuue+8micgKyByZXNwb25zZS5yZXNwb25zZVRleHQpCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2pzb24nOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZS5wYWdlci5pbnNlcnRFbGVtZW50KHJlc3BvbnNlLnJlc3BvbnNlLCB0eXBlMik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlLnBhZ2VyLmluc2VydEVsZW1lbnQocmVzcG9uc2UucmVzcG9uc2VUZXh0LCB0eXBlMikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZS5wYWdlci5pbnNlcnRFbGVtZW50KFNob3dQYWdlci5jcmVhdGVEb2N1bWVudEJ5U3RyaW5nKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCksIHR5cGUyKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfQoKCiAgICAvLyDmj5LlhaXkvY3nva4KICAgIGZ1bmN0aW9uIGFkZFRvKG51bSkgewogICAgICAgIHN3aXRjaCAobnVtKSB7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgIHJldHVybiAnYmVmb3JlYmVnaW4nOyBicmVhazsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmV0dXJuICdhZnRlcmJlZ2luJzsgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJldHVybiAnYmVmb3JlZW5kJzsgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJldHVybiAnYWZ0ZXJlbmQnOyBicmVhazsKICAgICAgICB9CiAgICB9CgoKICAgIC8vIOa7muWKqOadoeS6i+S7tgogICAgZnVuY3Rpb24gd2luZG93U2Nyb2xsKGZuMSkgewogICAgICAgIHZhciBiZWZvcmVTY3JvbGxUb3AgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLAogICAgICAgICAgICBmbiA9IGZuMSB8fCBmdW5jdGlvbiAoKSB7fTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgLy8g5bu25pe2IDEg56eS5omn6KGM77yM6YG/5YWN5Yia6L295YWl5Yiw6aG16Z2i5bCx6Kem5Y+R57+76aG15LqL5Lu2CiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgdmFyIGFmdGVyU2Nyb2xsVG9wID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCwKICAgICAgICAgICAgICAgICAgICBkZWx0YSA9IGFmdGVyU2Nyb2xsVG9wIC0gYmVmb3JlU2Nyb2xsVG9wOwogICAgICAgICAgICAgICAgaWYgKGRlbHRhID09IDApIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIGZuKGRlbHRhID4gMCA/ICdkb3duJyA6ICd1cCcsIGUpOwogICAgICAgICAgICAgICAgYmVmb3JlU2Nyb2xsVG9wID0gYWZ0ZXJTY3JvbGxUb3A7CiAgICAgICAgICAgIH0sIGZhbHNlKTsKICAgICAgICB9LCAxMDAwKQogICAgfQoKCiAgICAvLyDkv67mlLnoh6ogaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzE0MTc4ICwgaHR0cHM6Ly9naXRodWIuY29tL21hY2hzaXgvU3VwZXItcHJlbG9hZGVyCiAgICB2YXIgU2hvd1BhZ2VyID0gewogICAgICAgIGdldEZ1bGxIcmVmOiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBpZiAoZSAhPSBudWxsICYmIGUubm9kZVR5cGUgPT09IDEgJiYgZS5ocmVmICYmIGUuaHJlZi5zbGljZSgwLDQpID09PSAnaHR0cCcpIHsKICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLnBhZ2VyLmZvcmNlSFRUUFMgJiYgbG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonKSB7cmV0dXJuIGUuaHJlZi5yZXBsYWNlKC9eaHR0cDovLCdodHRwczonKTt9CiAgICAgICAgICAgICAgICByZXR1cm4gZS5ocmVmOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiAnJzsKICAgICAgICB9LAogICAgICAgIGNyZWF0ZURvY3VtZW50QnlTdHJpbmc6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmIChlKSB7CiAgICAgICAgICAgICAgICBpZiAoJ0hUTUwnICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWUpIHJldHVybiAobmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGUsICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnKTsKICAgICAgICAgICAgICAgIHZhciB0OwogICAgICAgICAgICAgICAgdHJ5IHsgdCA9IChuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoZSwgJ3RleHQvaHRtbCcpO30gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgICAgICBpZiAodCkgcmV0dXJuIHQ7CiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KSB7CiAgICAgICAgICAgICAgICAgICAgdCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnQURvY3VtZW50Jyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRyeSB7KCh0ID0gZG9jdW1lbnQuY2xvbmVOb2RlKCExKSkuYXBwZW5kQ2hpbGQodC5pbXBvcnROb2RlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgITEpKSwgdC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodC5jcmVhdGVFbGVtZW50KCdoZWFkJykpLCB0LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZCh0LmNyZWF0ZUVsZW1lbnQoJ2JvZHknKSkpO30gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAodCkgewogICAgICAgICAgICAgICAgICAgIHZhciByID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSwKICAgICAgICAgICAgICAgICAgICAgICAgbiA9IHIuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KGUpOwogICAgICAgICAgICAgICAgICAgIHIuc2VsZWN0Tm9kZUNvbnRlbnRzKGRvY3VtZW50LmJvZHkpOwogICAgICAgICAgICAgICAgICAgIHQuYm9keS5hcHBlbmRDaGlsZChuKTsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhLCBvID0geyBUSVRMRTogITAsIE1FVEE6ICEwLCBMSU5LOiAhMCwgU1RZTEU6ICEwLCBCQVNFOiAhMH0sIGkgPSB0LmJvZHksIHMgPSBpLmNoaWxkTm9kZXMsIGMgPSBzLmxlbmd0aCAtIDE7IGMgPj0gMDsgYy0tKSBvWyhhID0gc1tjXSkubm9kZU5hbWVdICYmIGkucmVtb3ZlQ2hpbGQoYSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBjb25zb2xlLmVycm9yKCfmsqHmnInmib7liLDopoHovazmiJAgRE9NIOeahOWtl+espuS4sicpOwogICAgICAgIH0sCiAgICAgICAgbG9hZE1vcmVQYWdlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChjdXJTaXRlLnBhZ2VyKSB7CiAgICAgICAgICAgICAgICB2YXIgdXJsOwogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXJTaXRlLnBhZ2VyLm5leHRMaW5rID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICB1cmwgPSBjdXJTaXRlLnBhZ2VyLm5leHRMaW5rKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLnBhZ2VyLm5leHRMaW5rLnNsaWNlKDAsNCkgPT09ICdjc3M7JykgewogICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLmdldEZ1bGxIcmVmKGdldEVsZW1lbnRCeUNTUyhjdXJTaXRlLnBhZ2VyLm5leHRMaW5rLnNsaWNlKDQpKSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gdGhpcy5nZXRGdWxsSHJlZihnZXRFbGVtZW50QnlYcGF0aChjdXJTaXRlLnBhZ2VyLm5leHRMaW5rKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh1cmwsIGN1clNpdGUucGFnZVVybCk7CiAgICAgICAgICAgICAgICBpZiAodXJsID09PSAnJykgcmV0dXJuOwogICAgICAgICAgICAgICAgaWYgKGN1clNpdGUucGFnZVVybCA9PT0gdXJsKSByZXR1cm47Ly8g6YG/5YWN6YeN5aSN5Yqg6L2955u45ZCM55qE6aG16Z2iCiAgICAgICAgICAgICAgICBjdXJTaXRlLnBhZ2VVcmwgPSB1cmw7CiAgICAgICAgICAgICAgICBsZXQgbWltZVR5cGUgPSAnJzsKICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLnBhZ2VyLm1pbWVUeXBlKSBtaW1lVHlwZSA9IGN1clNpdGUucGFnZXIubWltZVR5cGU7CiAgICAgICAgICAgICAgICAvLyDor7vlj5bkuIvkuIDpobXnmoTmlbDmja4KICAgICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlTWltZVR5cGU6IG1pbWVUeXBlLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgJ1JlZmVyZXInOiBsb2NhdGlvbi5ocmVmCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiA1MDAwLAogICAgICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCfmnIDnu4ggVVJM77yaJyArIHJlc3BvbnNlLmZpbmFsVXJsLCAn6L+U5Zue5YaF5a6577yaJyArIHJlc3BvbnNlLnJlc3BvbnNlVGV4dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdCb2R5ID0gU2hvd1BhZ2VyLmNyZWF0ZURvY3VtZW50QnlTdHJpbmcocmVzcG9uc2UucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlRWxlbXMgPSBnZXRBbGxFbGVtZW50cyhjdXJTaXRlLnBhZ2VyLnBhZ2VFbGVtZW50LCBuZXdCb2R5LCBuZXdCb2R5KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b0VsZW1lbnQgPSBnZXRBbGxFbGVtZW50cyhjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzBdKVswXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coY3VyU2l0ZS5wYWdlci5wYWdlRWxlbWVudCwgcGFnZUVsZW1zLCBjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uLCB0b0VsZW1lbnQpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2VFbGVtcy5sZW5ndGggPj0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOacieaPkuWFpeWJjeWHveaVsOWwseaJp+ihjOWHveaVsAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLmZ1bmN0aW9uICYmIGN1clNpdGUuZnVuY3Rpb24uYmVmb3JlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLmZ1bmN0aW9uLnBhcmFtZXRlcikgeyAvLyDlpoLmnpzmjIflrprkuoblj4LmlbAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtcyA9IGN1clNpdGUuZnVuY3Rpb24uYmVmb3JlKGN1clNpdGUuZnVuY3Rpb24ucGFyYW1ldGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtcyA9IGN1clNpdGUuZnVuY3Rpb24uYmVmb3JlKHBhZ2VFbGVtcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaPkuWFpeS9jee9rgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhZGRUbzEgPSBhZGRUbyhjdXJTaXRlLnBhZ2VyLmluc2VydFBvc2l0aW9uWzFdKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5o+S5YWl5paw6aG16Z2i5YWD57SgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1zLmZvckVhY2goZnVuY3Rpb24gKG9uZSkge3RvRWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoYWRkVG8xLCBvbmUpO30pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlvZPliY3pobXnoIEgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZU51bS5ub3cgPSBwYWdlTnVtLl9ub3cgKyAxCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaPkuWFpSA8c2NyaXB0PiDmoIfnrb4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5wYWdlci5zY3JpcHRUeXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzY3JpcHRUZXh0ID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLnBhZ2VyLnNjcmlwdFR5cGUgPT09IDEpIHsgLy8gICAgICAgICDkuIvkuIDpobXnmoTmiYDmnIkgPHNjcmlwdD4g5qCH562+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzY3JpcHRFbGVtcyA9IGdldEFsbEVsZW1lbnRzKCcvL3NjcmlwdCcsIG5ld0JvZHksIG5ld0JvZHkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyaXB0RWxlbXMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uZS5zcmMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9FbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKS5zcmMgPSBvbmUuc3JjOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdFRleHQgKz0gJzsnICsgb25lLnRleHRDb250ZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9FbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKS50ZXh0Q29udGVudCA9IHNjcmlwdFRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyU2l0ZS5wYWdlci5zY3JpcHRUeXBlID09PSAyKSB7IC8vICDkuIvkuIDpobXkuLvkvZPlhYPntKDlkIznuqcgPHNjcmlwdD4g5qCH562+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWxlbXMuZm9yRWFjaChmdW5jdGlvbiAob25lKSB7aWYgKG9uZS50YWdOYW1lID09PSAnU0NSSVBUJykge3NjcmlwdFRleHQgKz0gJzsnICsgb25lLnRleHRDb250ZW50O319KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzY3JpcHRUZXh0KSB0b0VsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JykpLnRleHRDb250ZW50ID0gc2NyaXB0VGV4dDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJTaXRlLnBhZ2VyLnNjcmlwdFR5cGUgPT09IDMpIHsgLy8gIOS4i+S4gOmhteS4u+S9k+WFg+e0oOWQjOe6pyA8c2NyaXB0PiDmoIfnrb7vvIjov5znqIvmlofku7bvvIkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VFbGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChvbmUpIHtpZiAob25lLnRhZ05hbWUgPT09ICdTQ1JJUFQnICYmIG9uZS5zcmMpIHt0b0VsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JykpLnNyYyA9IG9uZS5zcmM7fX0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1clNpdGUucGFnZXIuc2NyaXB0VHlwZSA9PT0gNCkgeyAvLyAg5LiL5LiA6aG15Li75L2T5YWD57Sg5a2Q5YWD57SgIDxzY3JpcHQ+IOagh+etvgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUVsZW1zLmZvckVhY2goZnVuY3Rpb24gKG9uZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjcmlwdEVsZW1zID0gb25lLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcmlwdEVsZW1zLmZvckVhY2goZnVuY3Rpb24gKHNjcmlwdCkge3NjcmlwdFRleHQgKz0gJzsnICsgc2NyaXB0LnRleHRDb250ZW50O30pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NyaXB0VGV4dCkgdG9FbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKS50ZXh0Q29udGVudCA9IHNjcmlwdFRleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOa3u+WKoOWOhuWPsuiusOW9lQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLnBhZ2VyLmhpc3RvcnkgJiYgY3VyU2l0ZS5wYWdlci5oaXN0b3J5ID09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKGB7dGl0bGU6ICR7ZG9jdW1lbnQudGl0bGV9LCB1cmw6ICR7bG9jYXRpb24uaHJlZn19YCwgbmV3Qm9keS5xdWVyeVNlbGVjdG9yKCd0aXRsZScpLnRleHRDb250ZW50LCBjdXJTaXRlLnBhZ2VVcmwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pu/5o2i5b6F5pu/5o2i5YWD57SgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUucGFnZXIucmVwbGFjZUUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcmlFID0gZ2V0QWxsRWxlbWVudHMoY3VyU2l0ZS5wYWdlci5yZXBsYWNlRSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwRSA9IGdldEFsbEVsZW1lbnRzKGN1clNpdGUucGFnZXIucmVwbGFjZUUsIG5ld0JvZHksIG5ld0JvZHkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhvcmlFLCByZXBFKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlFLmxlbmd0aCA9PT0gcmVwRS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9yaUUubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpRVtpXS5vdXRlckhUTUwgPSByZXBFW2ldLm91dGVySFRNTDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOacieaPkuWFpeWQjuWHveaVsOWwseaJp+ihjOWHveaVsAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLmZ1bmN0aW9uICYmIGN1clNpdGUuZnVuY3Rpb24uYWZ0ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuZnVuY3Rpb24ucGFyYW1ldGVyKSB7IC8vIOWmguaenOaMh+WumuS6huWPguaVsAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZS5mdW5jdGlvbi5hZnRlcihjdXJTaXRlLmZ1bmN0aW9uLnBhcmFtZXRlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlLmZ1bmN0aW9uLmFmdGVyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgfTsKICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRCeUNTUyhjc3MsIGNvbnRleHROb2RlID0gZG9jdW1lbnQpIHsKICAgICAgICByZXR1cm4gY29udGV4dE5vZGUucXVlcnlTZWxlY3Rvcihjc3MpOwogICAgfQogICAgZnVuY3Rpb24gZ2V0QWxsRWxlbWVudHNCeUNTUyhjc3MsIGNvbnRleHROb2RlID0gZG9jdW1lbnQpIHsKICAgICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChjb250ZXh0Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKGNzcykpOwogICAgfQogICAgZnVuY3Rpb24gZ2V0RWxlbWVudEJ5WHBhdGgoeHBhdGgsIGNvbnRleHROb2RlLCBkb2MgPSBkb2N1bWVudCkgewogICAgICAgIGNvbnRleHROb2RlID0gY29udGV4dE5vZGUgfHwgZG9jOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRvYy5ldmFsdWF0ZSh4cGF0aCwgY29udGV4dE5vZGUsIG51bGwsIFhQYXRoUmVzdWx0LkZJUlNUX09SREVSRURfTk9ERV9UWVBFLCBudWxsKTsKICAgICAgICAgICAgLy8g5bqU6K+l5oC75piv6L+U5Zue5LiA5Liq5YWD57Sg6IqC54K5CiAgICAgICAgICAgIHJldHVybiByZXN1bHQuc2luZ2xlTm9kZVZhbHVlICYmIHJlc3VsdC5zaW5nbGVOb2RlVmFsdWUubm9kZVR5cGUgPT09IDEgJiYgcmVzdWx0LnNpbmdsZU5vZGVWYWx1ZTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHhwYXRoOiAke3hwYXRofWApOwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIGdldEFsbEVsZW1lbnRzQnlYcGF0aCh4cGF0aCwgY29udGV4dE5vZGUsIGRvYyA9IGRvY3VtZW50KSB7CiAgICAgICAgY29udGV4dE5vZGUgPSBjb250ZXh0Tm9kZSB8fCBkb2M7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBkb2MuZXZhbHVhdGUoeHBhdGgsIGNvbnRleHROb2RlLCBudWxsLCBYUGF0aFJlc3VsdC5PUkRFUkVEX05PREVfU05BUFNIT1RfVFlQRSwgbnVsbCk7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVlcnkuc25hcHNob3RMZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgY29uc3Qgbm9kZSA9IHF1ZXJ5LnNuYXBzaG90SXRlbShpKTsKICAgICAgICAgICAgICAgIC8vIOWmguaenOaYryBFbGVtZW50IOiKgueCuQogICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHJlc3VsdC5wdXNoKG5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg5peg5pWIIFhwYXRoOiAke3hwYXRofWApOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogICAgZnVuY3Rpb24gZ2V0QWxsRWxlbWVudHMoc2VsZWN0b3IsIGNvbnRleHROb2RlID0gdW5kZWZpbmVkLCBkb2MgPSBkb2N1bWVudCwgd2luID0gd2luZG93LCBfY3BsaW5rID0gdW5kZWZpbmVkKSB7CiAgICAgICAgaWYgKCFzZWxlY3RvcikgcmV0dXJuIFtdOwogICAgICAgIGNvbnRleHROb2RlID0gY29udGV4dE5vZGUgfHwgZG9jOwogICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIGlmIChzZWxlY3Rvci5zZWFyY2goL15jc3M7L2kpID09PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QWxsRWxlbWVudHNCeUNTUyhzZWxlY3Rvci5zbGljZSg0KSwgY29udGV4dE5vZGUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGdldEFsbEVsZW1lbnRzQnlYcGF0aChzZWxlY3RvciwgY29udGV4dE5vZGUsIGRvYyk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zdCBxdWVyeSA9IHNlbGVjdG9yKGRvYywgd2luLCBfY3BsaW5rKTsKICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHF1ZXJ5KSkgewogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdnZXRBbGxFbGVtZW50cyDov5Tlm57plJnor6/nsbvlnosnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBxdWVyeTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyDoh6rlrprkuYkgbG9jYXRpb25jaGFuZ2Ug5LqL5Lu277yI55So5p2l55uR5ZCsIFVSTCDlj5jljJbvvIkKICAgIGZ1bmN0aW9uIGFkZExvY2F0aW9uY2hhbmdlKCkgewogICAgICAgIGhpc3RvcnkucHVzaFN0YXRlID0gKCBmID0+IGZ1bmN0aW9uIHB1c2hTdGF0ZSgpewogICAgICAgICAgICB2YXIgcmV0ID0gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3B1c2hzdGF0ZScpKTsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdsb2NhdGlvbmNoYW5nZScpKTsKICAgICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9KShoaXN0b3J5LnB1c2hTdGF0ZSk7CgogICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlID0gKCBmID0+IGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZSgpewogICAgICAgICAgICB2YXIgcmV0ID0gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3JlcGxhY2VzdGF0ZScpKTsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdsb2NhdGlvbmNoYW5nZScpKTsKICAgICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICB9KShoaXN0b3J5LnJlcGxhY2VTdGF0ZSk7CgogICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsKCk9PnsKICAgICAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdsb2NhdGlvbmNoYW5nZScpKQogICAgICAgIH0pOwogICAgfQoKICAgIC8qLy8g55uR5ZCsIFhNTEh0dHBSZXF1ZXN0IFVSTAogICAgdmFyIF9zZW5kID0gd2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kCiAgICBmdW5jdGlvbiBzZW5kUmVwbGFjZW1lbnQoZGF0YSkgewogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgICAgcmV0dXJuIF9zZW5kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CiAgICB3aW5kb3cuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQgPSBzZW5kUmVwbGFjZW1lbnQ7CiAgICAvLyDnm5HlkKwgWE1MSHR0cFJlcXVlc3Qg5qih5byPKEdFVC9QT1NUKeWSjOaVsOaNrgogICAgdmFyIF9vcGVuID0gd2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5vcGVuCiAgICBmdW5jdGlvbiBvcGVuUmVwbGFjZW1lbnQoZGF0YSkgewogICAgICAgIGNvbnNvbGUubG9nKGRhdGEsIGFyZ3VtZW50cykKICAgICAgICByZXR1cm4gX29wZW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH0KICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUub3BlbiA9IG9wZW5SZXBsYWNlbWVudDsqLwp9KSgpOw=="},{"name":"让我直接跳转好吗","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*.zhihu.com/*","*://c.pc.qq.com/*","*://*.jianshu.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1661936236495,"data":{}},"enabled":true,"position":8,"file_url":"https://greasyfork.org/scripts/431920-%E8%AE%A9%E6%88%91%E7%9B%B4%E6%8E%A5%E8%B7%B3%E8%BD%AC%E5%A5%BD%E5%90%97/code/%E8%AE%A9%E6%88%91%E7%9B%B4%E6%8E%A5%E8%B7%B3%E8%BD%AC%E5%A5%BD%E5%90%97.user.js","uuid":"f5f18e1e-97da-436d-a580-5e6852b80c6b","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDorqnmiJHnm7TmjqXot7Povazlpb3lkJcKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3VzZXJzLzE3NzQ1OC1iZDc3NwovLyBAdmVyc2lvbiAgICAgIDAuNAovLyBAZGVzY3JpcHRpb24gIOe9kemhteS4reeahOWklumTvuebtOaOpei3s+WHuuWOu+iAjOS4jeWGjeiiq+aLpuS4gOmBkwovLyBAYXV0aG9yICAgICAgIHdpbmRlbmcKLy8gQG1hdGNoICAgICAgICAqOi8vKi56aGlodS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly9jLnBjLnFxLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovLyouamlhbnNodS5jb20vKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgpmdW5jdGlvbiBnYW9aaGlodSgpIHsKICBpZiAoIXdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKCd6aGlodS5jb20nKSkgcmV0dXJuCgogIGxldCBydW4gPSAoKSA9PiB7CiAgICBsZXQgY250ID0gMAogICAgbGV0IGFMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpCiAgICBmb3IgKGxldCBhIG9mIGFMaXN0KSB7CiAgICAgIGNvbnN0IGhyZWYgPSBhLmdldEF0dHJpYnV0ZSgnaHJlZicpCiAgICAgIGNvbnN0IG1hdGNoZXMgPSBocmVmLm1hdGNoKC9saW5rXC56aGlodVwuY29tXC8/XD90YXJnZXQ9KC4qKS8pCiAgICAgIC8vIGNvbnNvbGUubG9nKCc/JywgaHJlZiwgbWF0Y2hlcykKICAgICAgaWYgKG1hdGNoZXMpIHsKICAgICAgICBjb25zdCB1cmwgPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hlc1sxXSkKICAgICAgICBhLnNldEF0dHJpYnV0ZSgnaHJlZicsIHVybCkKICAgICAgICAvLyBjb25zb2xlLmxvZyhgJHtocmVmfSA9PiAke3VybH1gKQogICAgICAgICsrY250CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBjbnQgPiAwCiAgfQoKICBydW4oKQoKICBsZXQgTXV0YXRpb25PYnNlcnZlciA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5Nb3pNdXRhdGlvbk9ic2VydmVyCgogIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHsKICAgIHJ1bigpCiAgfSkKCiAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7CiAgICBjaGlsZExpc3Q6IHRydWUsCiAgICBzdWJ0cmVlOiB0cnVlCiAgfSkKfQoKZnVuY3Rpb24gZ2FvUVEoKSB7CiAgaWYgKCF3aW5kb3cubG9jYXRpb24uaHJlZi5tYXRjaCgnYy5wYy5xcS5jb20nKSkgcmV0dXJuCgogIGNvbnN0IG1hdGNoZXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLm1hdGNoKC9wZnVybD0oW14mJF0qKS8pCiAgaWYgKG1hdGNoZXMpIHsKICAgIGxldCB1cmwgPSBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hlc1sxXSkKICAgIGNvbnNvbGUubG9nKCdRUSB1cmwnLCB1cmwpCiAgICBpZiAoIXVybC5zdGFydHNXaXRoKCdodHRwJykgJiYgIXVybC5zdGFydHNXaXRoKCcvLycpKSB1cmwgPSAnLy8nICsgdXJsCiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybAogIH0KfQoKZnVuY3Rpb24gZ2FvSmlhbnNodSgpIHsKICBpZiAoIXdpbmRvdy5sb2NhdGlvbi5ocmVmLm1hdGNoKCdqaWFuc2h1LmNvbScpKSByZXR1cm4KCiAgbGV0IHJ1biA9ICgpID0+IHsKICAgIGxldCBjbnQgPSAwCiAgICBsZXQgYUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhJykKICAgIGZvciAobGV0IGEgb2YgYUxpc3QpIHsKICAgICAgY29uc3QgaHJlZiA9IGEuZ2V0QXR0cmlidXRlKCdocmVmJykKICAgICAgY29uc3QgbWF0Y2hlcyA9IGhyZWYubWF0Y2goL2xpbmtzLmppYW5zaHUuY29tXC9nb1w/dG89KFteJiRdKikvKQogICAgICAvLyBjb25zb2xlLmxvZygnPycsIGhyZWYsIG1hdGNoZXMpCiAgICAgIGlmIChtYXRjaGVzKSB7CiAgICAgICAgY29uc3QgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoZXNbMV0pCiAgICAgICAgYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB1cmwpCiAgICAgICAgLy8gY29uc29sZS5sb2coYCR7aHJlZn0gPT4gJHt1cmx9YCkKICAgICAgICArK2NudAogICAgICB9CiAgICB9CiAgICByZXR1cm4gY250ID4gMAogIH0KCiAgcnVuKCkKCiAgbGV0IE11dGF0aW9uT2JzZXJ2ZXIgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuV2ViS2l0TXV0YXRpb25PYnNlcnZlciB8fCB3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcgoKICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7CiAgICBydW4oKQogIH0pCgogIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgewogICAgY2hpbGRMaXN0OiB0cnVlLAogICAgc3VidHJlZTogdHJ1ZQogIH0pCn0KCihmdW5jdGlvbiAoKSB7CiAgJ3VzZSBzdHJpY3QnOwoKICAvLyBZb3VyIGNvZGUgaGVyZS4uLgogIGdhb1poaWh1KCkKICBnYW9RUSgpCiAgZ2FvSmlhbnNodSgpCn0pKCk7"},{"name":"复制秀米页面","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://xiumi.us/studio/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1661936236463,"data":{}},"enabled":true,"position":9,"uuid":"271c84f8-244e-47e9-99bd-8d39e7d4d9ad","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDlpI3liLbnp4DnsbPpobXpnaIKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjEKLy8gQGRlc2NyaXB0aW9uICB0cnkgdG8gdGFrZSBvdmVyIHRoZSB3b3JsZCEKLy8gQGF1dGhvciAgICAgICBZb3UKLy8gQG1hdGNoICAgICAgICBodHRwczovL3hpdW1pLnVzL3N0dWRpby8qCi8vIEBpY29uICAgICAgICAgaHR0cHM6Ly9zdGMueGl1bWkudXMvaW1hZ2VzL2I4MGNkOC54aXVtaV9sb2dvXzQwLnBuZwovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oICQgKSB7CiAgICB2YXIgZGl2PSI8ZGl2IHN0eWxlPSd3aWR0aDogNTBweDsgaGVpZ2h0OiA1MHB4OyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgei1pbmRleDogOTk5OTk7b3ZlcmZsb3c6IHZpc2libGU7Jz48YnV0dG9uIGlkPSdxY3N5JyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSAyNTUgMjU1IC8gMCUpOyB3aWR0aDogNTBweDtoZWlnaHQ6IDUwcHg7Y29sb3I6IzAwODlmZjAwO21hcmdpbi1sZWZ0OiAxMHB4O2JvcmRlci1yYWRpdXM6IDI1cHg7Ym9yZGVyOiAxcHggc29saWQgI2ZmZmZmZjtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly9naW1nMi5iYWlkdS5jb20vaW1hZ2Vfc2VhcmNoL3NyYz1odHRwJTNBJTJGJTJGYy1zc2wuZHVpdGFuZy5jb20lMkZ1cGxvYWRzJTJGaXRlbSUyRjIwMjAwNCUyRjMwJTJGMjAyMDA0MzAwMDU0MjJfY2pua3kudGh1bWIuNDAwXzAuZ2lmJnJlZmVyPWh0dHAlM0ElMkYlMkZjLXNzbC5kdWl0YW5nLmNvbSZhcHA9MjAwMiZzaXplPWY5OTk5LDEwMDAwJnE9YTgwJm49MCZnPTBuJmZtdD1qcGVnP3NlYz0xNjQ4NDc5MzA2JnQ9YmQ4OGJhMjgxMzMxYjhmM2UxMjNiZDlhMmZmNjcxMzIpOyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyOyc+5aSN5Yi25Luj56CBPC9idXR0b24+PC9kaXY+IjsKICAgICQoImJvZHkiKS5wcmVwZW5kKGRpdik7CiAgICB2YXIgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInFjc3kiKTsKYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29weUNvbnRlbnQpOwoKZnVuY3Rpb24gY29weUNvbnRlbnQgKCkgewogICAgIGZ1bmN0aW9uIG1wb3J0ICgpIHsKICAgICB2YXIgQnRuX3NhdmUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJidG4taW1nIG9wLWJ0biBkb25lIGRyb3Bkb3duLXRvZ2dsZSIpWzBdOwogICAgICBpZiAoQnRuX3NhdmUuY2xhc3NOYW1lID09ICJidG4taW1nIG9wLWJ0biBkb25lIGRyb3Bkb3duLXRvZ2dsZSIpIHsKICAgICAgICAgICAgQnRuX3NhdmUuY2xpY2soKTt9CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyIEJ0bjIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJnbHlwaGljb24gZ2x5cGhpY29uLW5ldy13aW5kb3ciKVswXTsKICAgICAgICAgICAgaWYgKEJ0bjIuY2xhc3NOYW1lID09ICJnbHlwaGljb24gZ2x5cGhpY29uLW5ldy13aW5kb3ciKSB7CiAgICAgICAgICAgIEJ0bjIuY2xpY2soKTt9fSwzMDApOwogICAgICB9OwoKICAgIGZ1bmN0aW9uIFRvYXN0KG1zZyxkdXJhdGlvbil7CiAgICBkdXJhdGlvbj1pc05hTihkdXJhdGlvbik/MzAwMDpkdXJhdGlvbjsKICAgIHZhciBtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBtLmlubmVySFRNTCA9IG1zZzsKICAgIG0uc3R5bGUuY3NzVGV4dD0iZm9udC1zaXplOiAxOHB4O2NvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7YmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjYpO3BhZGRpbmc6IDIwcHggMjVweDttYXJnaW46IDAgMCAwIC02MHB4O2JvcmRlci1yYWRpdXM6IDRweDtwb3NpdGlvbjogZml4ZWQ7ICAgIHRvcDogNTAlO2xlZnQ6IDUwJTt3aWR0aDogMjYwcHg7dGV4dC1hbGlnbjogY2VudGVyOyI7CiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG0pOwogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICB2YXIgZCA9IDAuNTsKICAgICAgICBtLnN0eWxlLm9wYWNpdHkgPSAnMCc7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChtKSB9LCBkICogMTAwMCk7CiAgICB9LCBkdXJhdGlvbik7Cn0KCiAgZnVuY3Rpb24gc3BsaXQgKCkgewogICAgdmFyIGh0bWwgPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5pbm5lckhUTUw7CiAgICB2YXIgczE9InVuc2FmZVwiPiZuYnNwOyI7CiAgICB2YXIgczI9ICImbmJzcDs8L2RpdiI7CiAgICB2YXIgaHRtbDIgPSBodG1sLnNwbGl0KHMxKVsxXTsKICAgIHZhciBzZWN0aW9uID0gaHRtbDIuc3BsaXQoczIpWzBdOwogICAgcmV0dXJuIHNlY3Rpb247CiAgIH07CiAgdHJ5IHsKICAgIHVuZGVmaW5lZAogICAgLy/lj6/og73kvJrlr7zoh7TplJnor6/nmoTku6PnoIEKICAgIHNwbGl0KCk7CiAgICB9CiAgY2F0Y2ggKGVycm9yKQogICAgewogICAgICB1bmRlZmluZWQKICAgICAgLy9hbGVydCgi6K+35YWI5Zu65a6a57yW6L6R5Yy677yBIikKICAgICAgbXBvcnQgKCk7CiAgICAgIH0KICB2YXIgc2VjdGlvbiA9IHNwbGl0KCk7CiAgbGV0IHZhbCA9IHNlY3Rpb247CiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29weScsIHNhdmUpOyAvLyDnm5HlkKzmtY/op4jlmahjb3B55LqL5Lu2CiAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTsgLy8g5omn6KGMY29weeS6i+S7tu+8jOi/meaXtuebkeWQrOWHveaVsOS8muaJp+ihjHNhdmXlh73mlbDjgIIKICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjb3B5Jywgc2F2ZSk7IC8vIOenu+mZpGNvcHnkuovku7YKICAvLyDkv53lrZjmlrnms5UKICBmdW5jdGlvbiBzYXZlKGUpIHsKICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCd0ZXh0L3BsYWluJywgdmFsKTsgLy8g5Ymq6LS05p2/5YaF5a656K6+572uCiAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgfQogICAgVG9hc3QoJ+aPkOekuu+8muS7o+eggeWkjeWItuaIkOWKn++8ge+8gScsMTAwMCk7Cn0KfSkoIGpRdWVyeSApOwoKCg=="},{"name":"微信编辑器增强🧬","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://www.135editor.com/*","*://bj.96weixin.com/*","*://www.365editor.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1661936236482,"data":{}},"enabled":true,"position":10,"file_url":"https://greasyfork.org/scripts/441958-%E5%BE%AE%E4%BF%A1%E7%BC%96%E8%BE%91%E5%99%A8%E5%A2%9E%E5%BC%BA/code/%E5%BE%AE%E4%BF%A1%E7%BC%96%E8%BE%91%E5%99%A8%E5%A2%9E%E5%BC%BA%F0%9F%A7%AC.user.js","uuid":"0e25c785-f841-44d6-ad70-30feefeb088c","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOW+ruS/oee8lui+keWZqOWinuW8uvCfp6wKLy8gQG5hbWVzcGFjZSAgIGh0dHA6Ly90YW1wZXJtb25rZXkubmV0LwovLyBAbWF0Y2ggICAgICAgKjovL3d3dy4xMzVlZGl0b3IuY29tLyoKLy8gQG1hdGNoICAgICAgICo6Ly9iai45NndlaXhpbi5jb20vKgovLyBAbWF0Y2ggICAgICAgKjovL3d3dy4zNjVlZGl0b3IuY29tLyoKLy8gQGljb24gICAgICAgIGh0dHBzOi8vd3d3LjEzNWVkaXRvci5jb20vaW1nL3ZpcC92aXAucG5nCi8vIEBncmFudCAgICAgICBub25lCi8vIEB2ZXJzaW9uICAgICAxLjcKLy8gQGF1dGhvciAgICAgIGVjNTBuOQovLyBAZGVzY3JpcHRpb24g5Li6MTM144CBOTbjgIEzNjXnvJbovpHlmajljrvpmaTlub/lkYrvvIzlhY12aXDvvIzlop7liqBjc3PmoLflvI/nvJbovpHpnaLmnb/nrYkuLi4KLy8gQGxpY2Vuc2UgICAgIE1JVAovLyA9PS9Vc2VyU2NyaXB0PT0KCiQoZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8vIOe/u+ivkeWtl+WFuAogICAgY29uc3QgZGljdCA9IHsKICAgICAgICAnYmFja2dyb3VuZCc6ICfog4zmma8nLAogICAgICAgICdjb2xvcic6ICfpopzoibInLAogICAgICAgICd0b3AnOiAn5LiKJywKICAgICAgICAnYm90dG9tJzogJ+S4iycsCiAgICAgICAgJ2xlZnQnOiAn5bemJywKICAgICAgICAncmlnaHQnOiAn5Y+zJywKICAgICAgICAnaGVpZ2h0JzogJ+mrmCcsCiAgICAgICAgJ3dpZHRoJzogJ+WuvScsCiAgICAgICAgJ2xpbmUnOiAn6KGMJywKICAgICAgICAnYWxpZ24nOiAn5a+56b2QJywKICAgICAgICAnc2l6ZSc6ICflpKflsI8nLAogICAgICAgICdjb250ZW50JzogJ+WGheWuuScsCiAgICAgICAgJ3RleHQnOiAn5paH5pysJywKICAgICAgICAnZm9udCc6ICflrZfkvZMnLAogICAgICAgICdpdGVtcyc6ICfpobnnm64nLAogICAgICAgICdib3JkZXInOiAn6L655qGGJywKICAgICAgICAncGFkZGluZyc6ICflhoXovrnot50nLAogICAgICAgICdtYXJnaW4nOiAn5aSW6L656LedJywKICAgICAgICAnY29sb3InOiAn5a2X5L2T6aKc6ImyJywKICAgICAgICAnbGV0dGVyLXNwYWNpbmcnOiAn5a2X56ym6Ze06LedJywKICAgICAgICAnY2xhc3MnOiAn57G75ZCNJywKICAgICAgICAnZGlzcGxheSc6ICfmmL7npLonLAogICAgICAgICdqdXN0aWZ5LWNvbnRlbnQnOiAn5YaF5a656LCD5pW05pa55byPJywKICAgICAgICAndmVydGljYWwnOiAn5Z6C55u0JywKCiAgICB9OwogICAgY29uc3QgdHJhbnNsYXRlID0gZnVuY3Rpb24gKG5hbWUgPSAnJykgewogICAgICAgIGlmIChkaWN0W25hbWVdKSB7CiAgICAgICAgICAgIHJldHVybiBkaWN0W25hbWVdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGxldCBmcmFnbWVudHMgPSBuYW1lLnNwbGl0KCctJyk7CiAgICAgICAgICAgIGxldCByZXN1bHQgPSAnJzsKICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBmcmFnbWVudHMpIHsKICAgICAgICAgICAgICAgIGxldCBmcmFnbWVudCA9IGZyYWdtZW50c1tpXTsKICAgICAgICAgICAgICAgIGxldCByZXMgPSBkaWN0W2ZyYWdtZW50XTsKICAgICAgICAgICAgICAgIHJlc3VsdCArPSByZXMgPyByZXMgOiBmcmFnbWVudDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KICAgIH0KICAgIC8vIOiuoeeul+S6kuihpeiJsgogICAgY29uc3QgZ2V0Q29tcGxlbWVudGFyeUNvbG9yID0gZnVuY3Rpb24gKGNvbG9yID0gJycpIHsKICAgICAgICBjb25zdCBjb2xvclBhcnQgPSBjb2xvci5zbGljZSgxKTsKICAgICAgICBjb25zdCBpbmQgPSBwYXJzZUludChjb2xvclBhcnQsIDE2KTsKICAgICAgICBsZXQgaXRlciA9ICgoMSA8PCA0ICogY29sb3JQYXJ0Lmxlbmd0aCkgLSAxIC0gaW5kKS50b1N0cmluZygxNik7CiAgICAgICAgd2hpbGUgKGl0ZXIubGVuZ3RoIDwgY29sb3JQYXJ0Lmxlbmd0aCkgewogICAgICAgICAgICBpdGVyID0gJzAnICsgaXRlcjsKICAgICAgICB9OwogICAgICAgIHJldHVybiAnIycgKyBpdGVyOwogICAgfTsKICAgIC8vIOa3u+WKoOagt+W8jwogICAgY29uc3QgYWRkU3R5bGUgPSBmdW5jdGlvbiAoc3R5bGVUZXh0LCBkb2N1bWVudCkgewogICAgICAgIChkb2N1bWVudCA/IGRvY3VtZW50IDogJCgnaGVhZCcpKS5hcHBlbmQoJChgPHN0eWxlPiR7c3R5bGVUZXh0fTwvc3R5bGU+YCkpOwogICAgfQogICAgLy8gY3Nz57yW6L6R6Z2i5p2/CiAgICBsZXQgZWNfd2luZG93ID0gJChgCjxkaXYgc3R5bGU9ImRpc3BsYXk6ZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsKICAgIHBvc2l0aW9uOmZpeGVkOwogICAgdG9wOjEwZW07IGxlZnQ6MjUlOwogICAgbWF4LXdpZHRoOjMwZW07CiAgICBtYXgtaGVpZ2h0OjcwJTsKICAgIHBhZGRpbmc6MWVtOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIGJhY2tncm91bmQtY29sb3I6I2ZmZjsKICAgIGJveC1zaGFkb3c6cmdiYSgxNDksIDE1NywgMTY1LCAwLjIpIDBweCA4cHggMjRweDsKICAgIGJvcmRlci1yYWRpdXM6MWVtOwogICAgei1pbmRleDo5OTk7Ij4KICAgIDxzdHlsZT4KICAgICAgICAjZWMtcGF0aC1saXN0ewogICAgICAgICAgICBsaXN0LXN0eWxlOiBub25lOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBsb3dlcmNhc2U7CiAgICAgICAgfQogICAgICAgICNlYy1wYXRoLWxpc3QgbGk6bnRoLWNoaWxkKG4rMik6OmJlZm9yZXsKICAgICAgICAgICAgY29udGVudDogJz4nOwogICAgICAgICAgICBtYXJnaW46IDAgLjVlbTsKICAgICAgICB9CiAgICAgICAgI2VjLXdpbi1zdHlsZSB0aCwgI2VjLXdpbi1hdHRyIHRoewogICAgICAgICAgICB3aWR0aDogNDAlOwogICAgICAgICAgICBib3JkZXItd2lkdGg6IDFweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6NTAwOwogICAgICAgIH0KICAgIDwvc3R5bGU+CiAgICA8cCBpZD0iZWMtZGVmYXVsdC10aXAiPueCueWHu+S4gOS4quWFg+e0oOS7peafpeeci+WFtuWxnuaApzwvcD4KICAgIDxoMSBpZD0iZWMtd2luLXRpdGxlIiBzdHlsZT0iaGVpZ2h0OjJlbTsgY3Vyc29yOm1vdmU7IHVzZXItc2VsZWN0OiBub25lOyI+5YWD57Sg5ZCNPC9oMT4KICAgIDxkaXYgaWQ9ImVjLXBhdGgtbGlzdCIgc3R5bGU9Im1hcmdpbjowOyI+PC9kaXY+CiAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgb3ZlcmZsb3cteTpzY3JvbGwiPgogICAgICAgIDxoMiBzdHlsZT0ibWFyZ2luLXRvcDoxZW07IGZvbnQtd2VpZ2h0OjYwMCI+5b2T5YmN5YWD57Sg5qC35byPPC9oMj4KICAgICAgICA8dGFibGUgaWQ9ImVjLXdpbi1zdHlsZSI+PC90YWJsZT4KICAgICAgICA8ZGl2IHN0eWxlPSJkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgbWFyZ2luLXRvcDouNWVtIj4KICAgICAgICAgICAgPGlucHV0IGlkPSJlYy13aW4taW5wdXQtc3R5bGUiIHR5cGU9InRleHQiIHZhbHVlPSIicGxhY2Vob2xkZXI9IuS+izogY29sb3I6IHJlZDsiIHN0eWxlPSJmbGV4LWdyb3c6MTsgYm9yZGVyOjJweCBzb2xpZCAjZWVlO3BhZGRpbmc6MCA4cHg7IGJvcmRlci1yYWRpdXM6MnB4OyI+CiAgICAgICAgICAgIDxidXR0b24gaWQ9ImVjLXdpbi1hZGQtc3R5bGUiIHN0eWxlPSJtaW4td2lkdGg6NWVtOyBtYXJnaW4tbGVmdDoxZW07IHBhZGRpbmc6MCAuOGVtOyBib3JkZXItcmFkaXVzOi40ZW07IGJvcmRlcjoycHggc29saWQgIzk5OTsiPua3u+WKoOagt+W8jzwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgc3R5bGU9ImRpc3BsYXk6bm9uZTsgbWFyZ2luLXRvcDouOGVtOyBjb2xvcjojOTk5OyBmb250LXNpemU6LjhlbTsiPgogICAgICAgICAgICDmr4/mrKHlj6rog73mt7vliqA8c3Ryb25nPuS4gOadoTwvc3Ryb25nPuagt+W8j+OAgjxicj4KICAgICAgICAgICAg5re75Yqg5qC35byP5ZCO6ZyA6KaB54K55Ye75LiL5pa5PHN0cm9uZz7lhpnlhaU8L3N0cm9uZz7miY3lj6/nlJ/mlYjjgII8YnI+CiAgICAgICAgICAgIOa4heepuue8lui+keahhuWQjueCueWHuzxzdHJvbmc+5YaZ5YWlPC9zdHJvbmc+5Y2z5Y+v5Yig6Zmk6K+l6KGM5qC35byP44CCCiAgICAgICAgPC9kaXY+CiAgICAgICAgPGgyIHN0eWxlPSJtYXJnaW4tdG9wOjFlbTsgZm9udC13ZWlnaHQ6NjAwIj7lsZ7mgKc8L2gyPgogICAgICAgIDx0YWJsZSBpZD0iZWMtd2luLWF0dHIiPjwvdGFibGU+CiAgICAgICAgPGgyIHN0eWxlPSJtYXJnaW4tdG9wOjFlbTsgZm9udC13ZWlnaHQ6NjAwIj7lrZDlhYPntKA8L2gyPgogICAgICAgIDx1bCBpZD0iZWMtY2hpbGQtbGlzdCIgc3R5bGU9Im1hcmdpbjowOyI+CiAgICAgICAgPC91bD4KICAgICAgICA8aDIgc3R5bGU9Im1hcmdpbi10b3A6MWVtOyBmb250LXdlaWdodDo2MDAiPuWGheWuuTwvaDI+CiAgICAgICAgPGRpdiBzdHlsZT0id2lkdGg6MTAwJSI+CiAgICAgICAgICAgIDx0ZXh0YXJlYSBpZD0iZWMtd2luLWh0bWwiIHJvd3M9IjYiIHN0eWxlPSJ3aWR0aDoxMDAlOyBib3JkZXI6MnB4IHNvbGlkICNlZWU7IHBhZGRpbmc6MCA4cHg7IGJvcmRlci1yYWRpdXM6MnB4OyI+5YWD57Sg5paH5pysPC90ZXh0YXJlYT4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPGJ1dHRvbiBpZD0iZWMtd2luLWRlbGV0ZSIgc3R5bGU9ImFsaWduLXNlbGY6ZmxleC1lbmQ7IG1hcmdpbi10b3A6MWVtOyBwYWRkaW5nOjAgLjhlbTsgYm9yZGVyLXJhZGl1czouNGVtOyBib3JkZXI6MnB4IHNvbGlkICM5OTk7Ij7liKDpmaTlhYPntKA8L2J1dHRvbj4KICAgIDxidXR0b24gaWQ9ImVjLXdpbi1wYXJlbnQiIHN0eWxlPSJhbGlnbi1zZWxmOmZsZXgtZW5kOyBtYXJnaW4tdG9wOjFlbTsgcGFkZGluZzowIC44ZW07IGJvcmRlci1yYWRpdXM6LjRlbTsgYm9yZGVyOjJweCBzb2xpZCAjOTk5OyI+54i25a655ZmoPC9idXR0b24+CiAgICA8YnV0dG9uIGlkPSJlYy13aW4td3JpdGUiIHN0eWxlPSJhbGlnbi1zZWxmOmZsZXgtZW5kOyBtYXJnaW4tdG9wOjFlbTsgcGFkZGluZzouMmVtIC44ZW07IGJvcmRlci1yYWRpdXM6LjRlbTsgYm9yZGVyOjJweCBzb2xpZCAjZWVlOyBjb2xvcjojZmZmOyBiYWNrZ3JvdW5kLWNvbG9yOiMyNzc1YjYiPuabtOaWsOWGmeWFpTwvYnV0dG9uPgo8L2Rpdj5gKS5oaWRlKCk7CiAgICAkKCdib2R5JykuYXBwZW5kKGVjX3dpbmRvdyk7CiAgICAvLyDnqpflj6Pmjqfku7YKICAgIGxldCBlY19kZWZhdWx0X3RpcCA9ICQoJyNlYy1kZWZhdWx0LXRpcCcpOwogICAgbGV0IGVjX3dpbl90aXRsZSA9ICQoJyNlYy13aW4tdGl0bGUnKTsKICAgIGxldCBlY19wYXRoX2xpc3QgPSAkKCcjZWMtcGF0aC1saXN0Jyk7CiAgICBsZXQgZWNfd2luX3N0eWxlID0gJCgnI2VjLXdpbi1zdHlsZScpOwogICAgbGV0IGVjX3dpbl9pbnB1dF9zdHlsZSA9ICQoJyNlYy13aW4taW5wdXQtc3R5bGUnKTsKICAgIGxldCBlY193aW5fYWRkX3N0eWxlID0gJCgnI2VjLXdpbi1hZGQtc3R5bGUnKTsKICAgIGxldCBlY193aW5fYXR0ciA9ICQoJyNlYy13aW4tYXR0cicpOwogICAgbGV0IGVjX2NoaWxkX2xpc3QgPSAkKCcjZWMtY2hpbGQtbGlzdCcpOwogICAgbGV0IGVjX3dpbl9odG1sID0gJCgnI2VjLXdpbi1odG1sJyk7CiAgICBsZXQgZWNfd2luX2RlbGV0ZSA9ICQoJyNlYy13aW4tZGVsZXRlJyk7CiAgICBsZXQgZWNfd2luX3BhcmVudCA9ICQoJyNlYy13aW4tcGFyZW50Jyk7CiAgICBsZXQgZWNfd2luX3dyaXRlID0gJCgnI2VjLXdpbi13cml0ZScpOwogICAgLy8g56qX5Y+j5ouW5ou9CiAgICBlY193aW5fdGl0bGUubW91c2Vkb3duKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHBvc2l0aW9uRGl2ID0gJCh0aGlzKS5vZmZzZXQoKTsKICAgICAgICB2YXIgZGlzdGVuY2VYID0gZS5wYWdlWCAtIHBvc2l0aW9uRGl2LmxlZnQ7CiAgICAgICAgdmFyIGRpc3RlbmNlWSA9IGUucGFnZVkgLSBwb3NpdGlvbkRpdi50b3A7CgogICAgICAgICQoZG9jdW1lbnQpLm1vdXNlbW92ZShmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgeCA9IGUucGFnZVggLSBkaXN0ZW5jZVg7CiAgICAgICAgICAgIHZhciB5ID0gZS5wYWdlWSAtIGRpc3RlbmNlWTsKCiAgICAgICAgICAgIGlmICh4IDwgMCkgewogICAgICAgICAgICAgICAgeCA9IDA7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA+ICQoZG9jdW1lbnQpLndpZHRoKCkgLSBlY193aW5kb3cub3V0ZXJXaWR0aCh0cnVlKSkgewogICAgICAgICAgICAgICAgeCA9ICQoZG9jdW1lbnQpLndpZHRoKCkgLSBlY193aW5kb3cub3V0ZXJXaWR0aCh0cnVlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHkgPCAwKSB7CiAgICAgICAgICAgICAgICB5ID0gMDsKICAgICAgICAgICAgfSBlbHNlIGlmICh5ID4gJChkb2N1bWVudCkuaGVpZ2h0KCkgLSBlY193aW5kb3cub3V0ZXJIZWlnaHQodHJ1ZSkpIHsKICAgICAgICAgICAgICAgIHkgPSAkKGRvY3VtZW50KS5oZWlnaHQoKSAtIGVjX3dpbmRvdy5vdXRlckhlaWdodCh0cnVlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZWNfd2luZG93LmNzcyh7CiAgICAgICAgICAgICAgICAnbGVmdCc6IHggKyAncHgnLAogICAgICAgICAgICAgICAgJ3RvcCc6IHkgKyAncHgnCiAgICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICAkKGRvY3VtZW50KS5tb3VzZXVwKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKCdtb3VzZW1vdmUnKTsKICAgICAgICB9KTsKICAgIH0pOwogICAgLy8g5Yid5aeL5YyWCiAgICBjb25zdCBlY0luaXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgYWRkU3R5bGUoYCNlYy1jaGFuZ2V7Y29sb3I6I2ZmZjsgYmFja2dyb3VuZC1jb2xvcjojZThiMDA0O31gKTsKICAgIH0KICAgIC8vIOe/u+ivkQogICAgY29uc3QgaW5pdFNob3dUcmFuc2xhdGUgPSBmdW5jdGlvbigpewogICAgICAgICQoJyNlYy13aW4tc3R5bGUgdGgsICNlYy13aW4tYXR0ciB0aCcpLm1vdXNlZW50ZXIoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKHRoaXMpLnRleHQodHJhbnNsYXRlKCQodGhpcykudGV4dCgpKSk7CiAgICAgICAgfSkubW91c2VsZWF2ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICQodGhpcykudGV4dCgkKHRoaXMpLnBhcmVudCgpLmF0dHIoJ2VjLWF0dHInKSk7CiAgICAgICAgfSk7CiAgICB9CiAgICAvLyDov5vljJblh73mlbAKICAgIGNvbnN0IGV2b2x1dGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBsZXQgY3VyX2VkaXRvciA9ICQoJyN1ZWRpdG9yXzAnKTsKICAgICAgICAvLyDms6jlhaXmoLflvI8KICAgICAgICBhZGRTdHlsZSgnLmVjLWFjdGl2ZXtvdXRsaW5lOiAxLjVweCBkYXNoZWQgcmVkICFpbXBvcnRhbnQ7IG91dGxpbmUtb2Zmc2V0OiAycHg7IHBvc2l0aW9uOiByZWxhdGl2ZTt9JywKICAgICAgICAgICAgY3VyX2VkaXRvci5jb250ZW50cygpLmZpbmQoJ2hlYWQnKSk7CgogICAgICAgIC8vIOWFg+e0oOmAieS4rQogICAgICAgIGxldCBlbGVtZW50X2NsaWNrX2Z1bmMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGNvbnN0IGN1cl9lbGVtZW50ID0gJCh0aGlzKTsKCiAgICAgICAgICAgIC8vIOmakOiXj+aPkOekugogICAgICAgICAgICBlY193aW5kb3cuZmluZCgnKjpub3Qoc3R5bGUsI2VjLWRlZmF1bHQtdGlwKScpLnNob3coKTsKICAgICAgICAgICAgZWNfZGVmYXVsdF90aXAuaGlkZSgpOwoKICAgICAgICAgICAgLy8g5re75Yqg5qCH6K6wCiAgICAgICAgICAgIGN1cl9lZGl0b3IuY29udGVudHMoKS5maW5kKCdib2R5IC5lYy1hY3RpdmUnKS5yZW1vdmVDbGFzcygnZWMtYWN0aXZlJyk7CiAgICAgICAgICAgIGN1cl9lbGVtZW50LmFkZENsYXNzKCdlYy1hY3RpdmUnKTsKCiAgICAgICAgICAgIC8vIOa4heepuuWGheWuuQogICAgICAgICAgICBlY19wYXRoX2xpc3QuaHRtbCgnJyk7CiAgICAgICAgICAgIGVjX3dpbl9zdHlsZS5odG1sKCcnKTsKICAgICAgICAgICAgZWNfd2luX2F0dHIuaHRtbCgnJyk7CiAgICAgICAgICAgIGVjX3dpbl9odG1sLnZhbCgnJyk7CiAgICAgICAgICAgIGVjX3dpbl9hZGRfc3R5bGUudW5iaW5kKCk7CiAgICAgICAgICAgIGVjX2NoaWxkX2xpc3QuaHRtbCgnJyk7CiAgICAgICAgICAgIGVjX3dpbl93cml0ZS51bmJpbmQoKTsKICAgICAgICAgICAgZWNfd2luX3BhcmVudC51bmJpbmQoKTsKICAgICAgICAgICAgZWNfd2luX2RlbGV0ZS51bmJpbmQoKTsKCiAgICAgICAgICAgIC8vIOa3u+WKoOWGheWuuQogICAgICAgICAgICBjdXJfZWxlbWVudC5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIC8vIOiuvue9ruagh+mimAogICAgICAgICAgICAgICAgZWNfd2luX3RpdGxlLnRleHQoYOW9k+WJjeWFg+e0oO+8miR7dGhpcy50YWdOYW1lfWApOwogICAgICAgICAgICAgICAgLy8g6Lev5b6ECiAgICAgICAgICAgICAgICBjdXJfZWxlbWVudC5wYXJlbnRzKCkuZmlsdGVyKCdib2R5IConKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgcm93ID0gJChgPGxpPjxhIHN0eWxlPSJjb2xvcjojZmY3OTNmOyIgaHJlZj0iamF2YXNjcmlwdDo7Ij4ke3RoaXMudGFnTmFtZX08L2E+PC9saT5gKTsKICAgICAgICAgICAgICAgICAgICBlY19wYXRoX2xpc3QucHJlcGVuZChyb3cpOwogICAgICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gJCh0aGlzKTsKICAgICAgICAgICAgICAgICAgICByb3cuZmluZCgnYScpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGVjX3BhdGhfbGlzdC5hcHBlbmQoYDxsaT5bICR7dGhpcy50YWdOYW1lfSBdPC9saT5gKTsKICAgICAgICAgICAgICAgIC8vIOmBjeWOhuWxnuaApwogICAgICAgICAgICAgICAgJC5lYWNoKHRoaXMuYXR0cmlidXRlcywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNwZWNpZmllZCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5uYW1lID09PSAnc3R5bGUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDljZXni6zlpITnkIbmoLflvI8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdHlsZV9saXN0ID0gdGhpcy52YWx1ZS5zcGxpdCgnOycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzdHlsZV9saXN0Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0eWxlID0gc3R5bGVfbGlzdFtqXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3R5bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0eWxlX2l0ZW0gPSBzdHlsZS5zcGxpdCgnOicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGVfcm93ID0gJChgPHRyIGVjLWF0dHI9IiR7c3R5bGVfaXRlbVswXX0iPjx0aD4ke3N0eWxlX2l0ZW1bMF19PC90aD48dGQ+PGlucHV0IHR5cGU9InRleHQiIHZhbHVlPSIke3N0eWxlLnNsaWNlKHN0eWxlLmluZGV4T2YoJzonKSArIDEpfSIgc3R5bGU9ImJvcmRlcjoycHggc29saWQgI2VlZTtwYWRkaW5nOjAgOHB4OyBib3JkZXItcmFkaXVzOjJweDsiPjwvdGQ+PC90cj5gKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNfd2luX3N0eWxlLmFwcGVuZChzdHlsZV9yb3cpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWkhOeQhuWFtuS7luWxnuaApwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJvdyA9ICQoYDx0ciBlYy1hdHRyPSIke3RoaXMubmFtZX0iPjx0aD4ke3RoaXMubmFtZX08L3RoPjx0ZD48aW5wdXQgdHlwZT0idGV4dCIgdmFsdWU9IiR7dGhpcy52YWx1ZX0iIHN0eWxlPSJib3JkZXI6MnB4IHNvbGlkICNlZWU7cGFkZGluZzowIDhweDsgYm9yZGVyLXJhZGl1czoycHg7Ij48L3RkPjwvdHI+YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlY193aW5fYXR0ci5hcHBlbmQocm93KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgaW5pdFNob3dUcmFuc2xhdGUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIOeUn+aIkOWtkOWFg+e0oOagkQogICAgICAgICAgICBjb25zdCBnZW5DaGlsZExpc3QgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBlbGVtZW50LCBwYXJlbnRfbGkpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGxpc3QgPSAkKCc8dWwgc3R5bGU9Imxpc3Qtc3R5bGUtdHlwZTpjaXJjbGU7IG1hcmdpbi1sZWZ0OjJlbTsiPjwvdWw+Jyk7CiAgICAgICAgICAgICAgICBlbGVtZW50LmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJvdyA9ICQoYDxsaT48YSBzdHlsZT0iY29sb3I6I2ZmNzkzZjsiIGhyZWY9ImphdmFzY3JpcHQ6OyI+JHt0aGlzLnRhZ05hbWV9PC9hPjwvbGk+YCk7CiAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSAkKHRoaXMpOwogICAgICAgICAgICAgICAgICAgIHJvdy5maW5kKCdhJykuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kKHJvdyk7CiAgICAgICAgICAgICAgICAgICAgZ2VuQ2hpbGRMaXN0KGxpc3QsIGVsZW1lbnQsIHJvdyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGlmIChsaXN0Lmh0bWwoKSkgewogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQobGlzdCk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudF9saSkgewogICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRfbGkuY3NzKCdsaXN0LXN0eWxlLXR5cGUnLCAnZGlzYycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc2xpZGVUb2dnbGUoMjAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICBnZW5DaGlsZExpc3QoZWNfY2hpbGRfbGlzdCwgY3VyX2VsZW1lbnQpOwogICAgICAgICAgICAvLyBodG1s5YaF5a65CiAgICAgICAgICAgIGVjX3dpbl9odG1sLnZhbChjdXJfZWxlbWVudC5odG1sKCkpOwogICAgICAgICAgICAvLyDmm7TmlrDmoLflvI/lh73mlbAKICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlX3N5dGxlKGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIC8vIOS/neWtmOagt+W8jwogICAgICAgICAgICAgICAgbGV0IHN5dGxlX3RyX2xpc3QgPSBlY193aW5fc3R5bGUuZmluZCgndHInKTsKICAgICAgICAgICAgICAgIGxldCBzdHlsZV90ZXh0ID0gJyc7CiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN5dGxlX3RyX2xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBsZXQgdHIgPSAkKHN5dGxlX3RyX2xpc3RbaV0pOwogICAgICAgICAgICAgICAgICAgIGlmICh0ci5maW5kKCdpbnB1dCcpLnZhbCgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlX3RleHQgPSBzdHlsZV90ZXh0ICsgdHIuYXR0cignZWMtYXR0cicpICsgJzonICsgdHIuZmluZCgnaW5wdXQnKS52YWwoKSArICc7JzsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbGVtZW50LmF0dHIoJ3N0eWxlJywgc3R5bGVfdGV4dCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8g5re75Yqg5qC35byP5oyJ6ZKuCiAgICAgICAgICAgIGVjX3dpbl9hZGRfc3R5bGUuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBsZXQgc3R5bGVfdGV4dCA9IGVjX3dpbl9pbnB1dF9zdHlsZS52YWwoKTsKICAgICAgICAgICAgICAgIGlmIChzdHlsZV90ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBzdHlsZV90ZXh0LnNwbGl0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgZWNfd2luX3N0eWxlLmFwcGVuZChgPHRyIGVjLWF0dHI9IiR7dGVtcFswXX0iPjx0aD4ke3RlbXBbMF19PC90aD48dGQ+PGlucHV0IHR5cGU9InRleHQiIHZhbHVlPSIke3RlbXAubGVuZ3RoID4gMSA/IHRlbXBbMV0ucmVwbGFjZSgnOycsICcnKSA6ICcnfSIgc3R5bGU9ImJvcmRlcjoycHggc29saWQgI2VlZTtwYWRkaW5nOjAgOHB4OyBib3JkZXItcmFkaXVzOjJweDsiPjwvdGQ+PC90cj5gKTsKICAgICAgICAgICAgICAgICAgICBlY193aW5faW5wdXRfc3R5bGUudmFsKCcnKTsKICAgICAgICAgICAgICAgICAgICBpbml0U2hvd1RyYW5zbGF0ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdXBkYXRlX3N5dGxlKGN1cl9lbGVtZW50KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIOS/neWtmOaMiemSrgogICAgICAgICAgICBlY193aW5fd3JpdGUuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvLyDkv53lrZjmoLflvI8KICAgICAgICAgICAgICAgIHVwZGF0ZV9zeXRsZShjdXJfZWxlbWVudCk7CiAgICAgICAgICAgICAgICAvLyDkv53lrZjlsZ7mgKcKICAgICAgICAgICAgICAgIGxldCB0cl9saXN0ID0gZWNfd2luX2F0dHIuZmluZCgndHInKTsKICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJfbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGxldCB0ciA9ICQodHJfbGlzdFtpXSk7CiAgICAgICAgICAgICAgICAgICAgY3VyX2VsZW1lbnQuYXR0cih0ci5hdHRyKCdlYy1hdHRyJyksIHRyLmZpbmQoJ2lucHV0JykudmFsKCkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5L+d5a2Y5YaF5a65CiAgICAgICAgICAgICAgICBjdXJfZWxlbWVudC5odG1sKGVjX3dpbl9odG1sLnZhbCgpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIOeItui+iOaMiemSrgogICAgICAgICAgICBlY193aW5fcGFyZW50LmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY3VyX2VsZW1lbnQucGFyZW50KCkuY2xpY2soKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIOWIoOmZpOaMiemSrgogICAgICAgICAgICBlY193aW5fZGVsZXRlLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IGN1cl9lbGVtZW50LnBhcmVudCgpOwogICAgICAgICAgICAgICAgY3VyX2VsZW1lbnQucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICBwYXJlbnQuY2xpY2soKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIC8vIOS4uuWFg+e0oOa3u+WKoOebkeWQrOWZqAogICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdydW5uaW5nJykpIHsKICAgICAgICAgICAgZWNfd2luZG93LmZhZGVPdXQoMjAwKTsKICAgICAgICAgICAgY3VyX2VkaXRvci5jb250ZW50cygpLmZpbmQoJ2JvZHkgLmJpbmRpbmcnKS51bmJpbmQoKS5yZW1vdmVDbGFzcygnYmluZGluZycpOwogICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdydW5uaW5nJyk7CiAgICAgICAgICAgIC8vIOino+mZpOagh+iusAogICAgICAgICAgICBjdXJfZWRpdG9yLmNvbnRlbnRzKCkuZmluZCgnYm9keSAuZWMtYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2VjLWFjdGl2ZScpOwoKICAgICAgICAgICAgY29uc3QgZWNfY2hhbmdlID0gJCh0aGlzKS5maW5kKCcjZWMtY2hhbmdlJyk7CiAgICAgICAgICAgIChlY19jaGFuZ2UubGVuZ3RoID8gZWNfY2hhbmdlIDogJCh0aGlzKSkuY3NzKHsgJ2JhY2tncm91bmQtY29sb3InOiAnI2U4YjAwNCcgfSkudGV4dCgn57yW6L6R6L+b5YyWJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWNfd2luZG93LmZhZGVJbigyMDApOwogICAgICAgICAgICBjdXJfZWRpdG9yLmNvbnRlbnRzKCkuZmluZCgnYm9keSAqOm5vdCguYmluZGluZywjZWMtaW5qZWN0KScpLmJpbmQoJ2NsaWNrJywgZWxlbWVudF9jbGlja19mdW5jKS5hZGRDbGFzcygnYmluZGluZycpOwogICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdydW5uaW5nJyk7CiAgICAgICAgICAgIC8vIOmakOiXj+aOp+S7tu+8jOaYvuekuuaPkOekugogICAgICAgICAgICBlY193aW5kb3cuZmluZCgnKjpub3Qoc3R5bGUsI2VjLWRlZmF1bHQtdGlwKScpLmhpZGUoKTsKICAgICAgICAgICAgZWNfZGVmYXVsdF90aXAuc2hvdygpOwoKICAgICAgICAgICAgY29uc3QgZWNfY2hhbmdlID0gJCh0aGlzKS5maW5kKCcjZWMtY2hhbmdlJyk7CiAgICAgICAgICAgIChlY19jaGFuZ2UubGVuZ3RoID8gZWNfY2hhbmdlIDogJCh0aGlzKSkuY3NzKHsgJ2JhY2tncm91bmQtY29sb3InOiAnIzIwYTE2MicgfSkudGV4dCgn6Kej6Zmk6L+b5YyWJyk7CiAgICAgICAgfQogICAgfTsKCiAgICAvLyDmiafooYzlh73mlbAKICAgIGNvbnN0IHJ1bjEzNSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyDop6PpmaTmqKHmnb/kvJrlkZjpmZDliLYKICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGxldCBsaXMgPSAkKCcjZWRpdG9yLXRlbXBsYXRlLXNjcm9sbCBsaScpOwogICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gbGlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICAgICAgICBsaXNbaV0uY2xhc3NMaXN0LnJlbW92ZSgndmlwLXN0eWxlJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gdmlw5Yig6Zmk57q/CiAgICAgICAgICAgICQoJy52aXAtZmxhZycpLnJlbW92ZSgpOy8vLmNzcygndGV4dC1kZWNvcmF0aW9uJywgJ2xpbmUtdGhyb3VnaCcpLnJlbW92ZUNsYXNzKCd2aXAtZmxhZycpOwogICAgICAgICAgICAvLyDljrvpmaTlsI/nuqLngrkKICAgICAgICAgICAgJCgnLnVzZXItdW5yZWFkLW1zZ251bScpLmhpZGUoKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIC8vIOaWh+eroOeuoeeQhuWZqOS8muWRmAogICAgICAgICAgICAgICAgYXJ0aWNsZU1hbmFnZXIuc2V0VklQKHRydWUpOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgeyB9CiAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgLy8g5Y676Zmk5Lya5ZGY5by556qXCiAgICAgICAgd2luZG93LnN0eWxlX2NsaWNrID0gd2luZG93LnNob3dfcm9sZV92aXBfZGlhbG9nID0gZnVuY3Rpb24gKCkgeyB9OwogICAgICAgIC8vIOS8quijheeZu+W9lQogICAgICAgIC8vIHdpbmRvdy5sb2dlZF91c2VyID0gMTsKICAgICAgICAvLyDkvJrlkZjlvLnnqpcKICAgICAgICAkKCcjYWRkX3hpYW9zaGknKS5oaWRlKCk7CiAgICAgICAgLy8g6aG26YOo5a+86Iiq5qCP5ZCO5Lik5Liq5oyJ6ZKuCiAgICAgICAgJCgnLmNhdGVnb3J5LW5hdi5lZGl0b3ItbmF2Pi5uYXYtaXRlbTpudGgtbGFzdC1jaGlsZCgtbisyKScpLmhpZGUoKTsKICAgICAgICAvLyDnp7vpmaTlhajlsYDoj5zljZXkuK3pnZ7lip/og73orr7nva7mjInpkq4KICAgICAgICAkKCcjZml4ZWQtc2lkZS1iYXIgbGk6bm90KCNmdW5jdGlvbi1zZXR0aW5ncyksICNmaXhlZC1iYXItcGFjay11cCcpLmhpZGUoKTsKCiAgICAgICAgLy8g6aKc6Imy5aKe5by6CiAgICAgICAgbGV0IG9yaWdpbl9jb2xvcl9kaXYgPSAkKCcjY29sb3ItY2hvb3Nlbj5kaXY6Zmlyc3QtY2hpbGQnKTsgLy8g5Y6f5aeLCiAgICAgICAgbGV0IGNvbXBsZW1lbnRhcnlfY29sb3JfZGl2ID0gb3JpZ2luX2NvbG9yX2Rpdi5jbG9uZSgpOyAvLyDkupLooaUKICAgICAgICBvcmlnaW5fY29sb3JfZGl2LmJlZm9yZSgkKCc8cCBzdHlsZT0iY29sb3I6I2ZmZjsiPuWOn+Wni+iJsjwvcD4nKSk7CiAgICAgICAgb3JpZ2luX2NvbG9yX2Rpdi5hZnRlcihjb21wbGVtZW50YXJ5X2NvbG9yX2Rpdik7CiAgICAgICAgb3JpZ2luX2NvbG9yX2Rpdi5hZnRlcigkKCc8cCBzdHlsZT0iY29sb3I6I2ZmZjsiPuS6kuihpeiJsjwvcD4nKSk7CiAgICAgICAgJCgnI2NvbG9yLXBsYW4tbGlzdCAuY29sb3Itc3dhdGNoJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsZXQgY3VyX2NvbG9yID0gJCh0aGlzKS5hdHRyKCdzdHlsZScpLm1hdGNoKC9iYWNrZ3JvdW5kLWNvbG9yOlxzPyhbXjtdKykvKVsxXTsKICAgICAgICAgICAgY29uc29sZS5sb2coY3VyX2NvbG9yLCBnZXRDb21wbGVtZW50YXJ5Q29sb3IoY3VyX2NvbG9yKSk7CiAgICAgICAgICAgIG9yaWdpbl9jb2xvcl9kaXYuY2hpbGRyZW4oJ2lucHV0JykuY3NzKCdjb2xvcicsIGdldENvbXBsZW1lbnRhcnlDb2xvcihjdXJfY29sb3IpKQogICAgICAgICAgICBjb21wbGVtZW50YXJ5X2NvbG9yX2Rpdi5jaGlsZHJlbignaW5wdXQnKS5hdHRyKCd2YWx1ZScsIGdldENvbXBsZW1lbnRhcnlDb2xvcihjdXJfY29sb3IpKTsKICAgICAgICAgICAgY29tcGxlbWVudGFyeV9jb2xvcl9kaXYuY2hpbGRyZW4oJ2lucHV0JykuY3NzKHsgJ2NvbG9yJzogY3VyX2NvbG9yLCAnYmFja2dyb3VuZC1jb2xvcic6IGdldENvbXBsZW1lbnRhcnlDb2xvcihjdXJfY29sb3IpIH0pOwogICAgICAgIH0pOwogICAgICAgIC8vIOi/m+WMluaMiemSrgogICAgICAgIGxldCBldm9sdXRpb25fYnRuID0gJCgnPGxpIHN0eWxlPSJtYXJnaW4tYm90dG9tOiAyMHB4OyI+PGEgaHJlZj0iamF2YXNjcmlwdDo7IiBpZD0iZWMtY2hhbmdlIiBjbGFzcz0iYnRuIGJ0bi1kZWZhdWx0IGJ0bi14cyIgdGl0bGU9Iue7keWumuebkeWQrOWZqCI+57yW6L6R6L+b5YyWPC9hPjwvbGk+Jykub24oJ2NsaWNrJywgZXZvbHV0aW9uKTsKICAgICAgICAkKCcjb3BlcmF0ZS10b29sJykucHJlcGVuZChldm9sdXRpb25fYnRuKTsKICAgICAgICAvLyDoibLmnb/mjInpkq4KICAgICAgICBsZXQgb3Blbl9jb2xvcl9wbGFuID0gJCgnPGxpPjxhIGhyZWY9ImphdmFzY3JpcHQ6OyIgY2xhc3M9ImJ0biBidG4tZGVmYXVsdCBidG4teHMiIHRpdGxlPSLmiZPlvIDoibLmnb8iPuW8gOWFs+iJsuadvzwvYT48L2xpPicpCiAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAkKCcjY29sb3ItcGxhbicpLmZhZGVUb2dnbGUoMzAwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgJCgnI29wZXJhdGUtdG9vbCcpLnByZXBlbmQob3Blbl9jb2xvcl9wbGFuKTsKICAgIH07CgogICAgY29uc3QgcnVuOTYgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gdmlw5qC35byPCiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgICAgICAkKCcucmljaF9tZWRpYV9jb250ZW50JykuYXR0cignZGF0YS12aXAnLCAxKTsKICAgICAgICB9LCAxMDAwKTsKICAgICAgICAvLyDov5vljJbmjInpkq4KICAgICAgICBsZXQgZXZvbHV0aW9uX2J0biA9ICQoJzxidXR0b24gdHlwZT0iYnV0dG9uIiBpZD0iZWMtY2hhbmdlIiBjbGFzcz0ibGF5dWktYnRuIGxheXVpLWJ0bi1wcmltYXJ5Ij7nvJbovpHov5vljJY8L2J1dHRvbj4nKS5vbignY2xpY2snLCBldm9sdXRpb24pOwogICAgICAgICQoJy5idXR0b24tdG9vbHMnKS5wcmVwZW5kKGV2b2x1dGlvbl9idG4pOwogICAgfTsKCiAgICBjb25zdCBydW4zNjUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgbGV0IGV2b2x1dGlvbl9idG4gPSAkKCc8bGkgaWQ9ImVjLWNoYW5nZSIgZGF0YS1hY3Q9ImltcG9ydCI+PHNwYW4+57yW6L6R6L+b5YyWPC9zcGFuPjwvbGk+Jykub24oJ2NsaWNrJywgZXZvbHV0aW9uKTsKICAgICAgICAkKCcubS10b29scycpLnByZXBlbmQoZXZvbHV0aW9uX2J0bik7CiAgICB9OwoKICAgIC8vIOWIpOaWreaJp+ihjAogICAgZWNJbml0KCk7CiAgICBjb25zdCBob3N0ID0gd2luZG93LmxvY2F0aW9uLmhvc3Q7CiAgICBpZiAoaG9zdC5zZWFyY2goL3d3dy4xMzVlZGl0b3IuY29tLykgPj0gMCkgcnVuMTM1KCk7CiAgICBlbHNlIGlmIChob3N0LnNlYXJjaCgvYmouOTZ3ZWl4aW4uY29tLykgPj0gMCkgcnVuOTYoKTsKICAgIGVsc2UgaWYgKGhvc3Quc2VhcmNoKC93d3cuMzY1ZWRpdG9yLmNvbS8pID49IDApIHJ1bjM2NSgpOwp9KTsK"},{"name":"转换图片到兼容格式","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://mp.weixin.qq.com/*","*://huaban.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1661936236496,"data":{}},"enabled":false,"position":11,"file_url":"https://greasyfork.org/scripts/390883-%E8%BD%AC%E6%8D%A2%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E5%9B%BE%E7%89%87%E5%88%B0%E5%85%BC%E5%AE%B9%E6%A0%BC%E5%BC%8F/code/%E8%BD%AC%E6%8D%A2%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E5%9B%BE%E7%89%87%E5%88%B0%E5%85%BC%E5%AE%B9%E6%A0%BC%E5%BC%8F.user.js","uuid":"92c68116-30d0-4bc0-a5c9-27ba257a759d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDovazmjaLlm77niYfliLDlhbzlrrnmoLzlvI8KLy8gQGRlc2NyaXB0aW9uICDlsIZXRUJQ5qC85byP5Zu+54mH6L2s5o2i5YiwSlBFR+OAgVBOR+etieWFvOWuueaAp+i+g+WlveeahOagvOW8jwovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvdXNlcnMvMTk3NTI5Ci8vIEB2ZXJzaW9uICAgICAgMC42LjQKLy8gQGF1dGhvciAgICAgICBra29jZGtvCi8vIEBsaWNlbnNlICAgICAgVW5saWNlbnNlCi8vIEBtYXRjaCAgICAgICAgKjovL21wLndlaXhpbi5xcS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly9odWFiYW4uY29tLyoKCgoKLy8gPT0vVXNlclNjcmlwdD09CiJ1c2Ugc3RyaWN0IjsKCmNvbnN0IHsgYWRkRmxvYXRCdXR0b24gfSA9IHsKICBhZGRGbG9hdEJ1dHRvbih0ZXh0LCBvbmNsaWNrKSAvKiAyMDIyMDMyNC0wOTUwICovIHsKICAgIGlmICghZG9jdW1lbnQuYWRkRmxvYXRCdXR0b24pIHsKICAgICAgY29uc3QgaG9zdCA9IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpOwogICAgICBjb25zdCByb290ID0gaG9zdC5hdHRhY2hTaGFkb3coeyBtb2RlOiAib3BlbiIgfSk7CiAgICAgIHJvb3QuaW5uZXJIVE1MID0gYDxzdHlsZT46aG9zdHtwb3NpdGlvbjpmaXhlZDt0b3A6NHB4O2xlZnQ6NHB4O3otaW5kZXg6MjE0NzQ4MzY0NztoZWlnaHQ6MH0jaXtkaXNwbGF5Om5vbmV9KntmbG9hdDpsZWZ0O3BhZGRpbmc6MWVtO21hcmdpbjo0cHg7bGluZS1oZWlnaHQ6MDtjb2xvcjojZmZmO3VzZXItc2VsZWN0Om5vbmU7YmFja2dyb3VuZDojMjhlO2JvcmRlcjoxcHggc29saWQgI2ZmZmE7Ym9yZGVyLXJhZGl1czo4cHg7dHJhbnNpdGlvbjouM3N9W2Zvcl1+OmFjdGl2ZXtiYWNrZ3JvdW5kOiM0YWY7dHJhbnNpdGlvbjowc306Y2hlY2tlZH4qe29wYWNpdHk6LjM7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTNlbSl9OmNoZWNrZWQrKnt0cmFuc2Zvcm06dHJhbnNsYXRlWSgzZW0pfTwvc3R5bGU+PGlucHV0IGlkPWkgdHlwZT1jaGVja2JveD48bGFiZWwgZm9yPWk+YDsKICAgICAgZG9jdW1lbnQuYWRkRmxvYXRCdXR0b24gPSAodGV4dCwgb25jbGljaykgPT4gewogICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGFiZWwiKTsKICAgICAgICBlbC50ZXh0Q29udGVudCA9IHRleHQ7CiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBvbmNsaWNrKTsKICAgICAgICByZXR1cm4gcm9vdC5hcHBlbmRDaGlsZChlbCk7CiAgICAgIH07CiAgICB9CiAgICByZXR1cm4gZG9jdW1lbnQuYWRkRmxvYXRCdXR0b24odGV4dCwgb25jbGljayk7CiAgfSwKfTsKCmFkZEZsb2F0QnV0dG9uKCLovazmjaLlhajpg6jlm77niYfliLDlhbzlrrnmoLzlvI8iLCBmdW5jdGlvbiAoKSB7CiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW1nIikuZm9yRWFjaCgoZWwpID0+IHsKICAgIGNvbnN0IGltZ1VybFN0ciA9IGVsLmRhdGFzZXQuc3JjIHx8IGVsLnNyYzsKICAgIGlmICghaW1nVXJsU3RyKSByZXR1cm47CiAgICBjb25zdCBpbWdVcmwgPSBuZXcgVVJMKGltZ1VybFN0cik7CiAgICBpbWdVcmwuc2VhcmNoUGFyYW1zLnNldCgidHAiLCAicG5nIik7CiAgICBjb25zdCBuZXdJbWcgPSBlbC5jbG9uZU5vZGUoKTsKICAgIG5ld0ltZy5zcmMgPSBpbWdVcmwuaHJlZjsKICAgIGVsLnJlcGxhY2VXaXRoKG5ld0ltZyk7CiAgfSk7CiAgdGhpcy5zdHlsZS5iYWNrZ3JvdW5kID0gIiM0Y2FmNTAiOwogIHRoaXMudGV4dENvbnRlbnQgPSAi5YWo6YOo5Zu+54mH6YO95bey6L2s5o2i5a6M5oiQ77yBIjsKfSk7Cg=="},{"name":"🔥🔥🔥文本选中复制🔥🔥🔥","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://wenku.baidu.com/view/*","*://wenku.baidu.com/share/*","*://wenku.baidu.com/link*","*://wenku.baidu.com/ndPureView/*","*://www.51test.net/show/*","*://www.xuexi.la/*","*://www.xuexila.com/*","*://www.cspengbo.com/*","*://*.doc88.com/*","*://segmentfault.com/*","*://wk.baidu.com/view/*","*://leetcode-cn.com/problems/*","*://www.zhihu.com/*","*://z.30edu.com.cn/*","*://docs.qq.com/doc/*","*://boke112.com/post/*","*://www.yuque.com/*","*://www.commandlinux.com/*","*://*.diyifanwen.com/*","*://*.mbalib.com/*","*://*.cnitpm.com/*","*://bbs.mihoyo.com/ys/obc/*","*://*.ruiwen.com/*","*://www.uemeds.cn/*","*://www.oh100.com/*","*://www.aiyuke.com/news/*","*://www.fwsir.com/*","*://www.wenxm.cn/*","*://www.unjs.com/*","*://www.ahsrst.cn/*","*://*.yjbys.com/*","*://*.qidian.com/*","*://*.zongheng.com/*","*://*.17k.com/*","*://*.ciweimao.com/*","*://book.qq.com/*","*://*.360doc.com/content/*","*://*.850500.com/news/*","*://utaten.com/lyric/*","*://*.jianbiaoku.com/*","*://*.kt250.com/*","*://www.kejudati.com/*","*://*.xiaohongshu.com/discovery/*","*://*.baibeike.com/*","*://*.blog.csdn.net/*","*://*.bilibili.com/read/*","*://*.cnki.net/KXReader/*","*://*.cnrencai.com/*","*://*.kodiplayer.cn/*","*://tongxiehui.net/*","*://*.jianshu.com/p/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":["res3.doc88.com"],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null}},"storage":{"ts":1661936236503,"data":{}},"enabled":true,"position":12,"file_url":"https://greasyfork.org/scripts/405130-%E6%96%87%E6%9C%AC%E9%80%89%E4%B8%AD%E5%A4%8D%E5%88%B6/code/%F0%9F%94%A5%F0%9F%94%A5%F0%9F%94%A5%E6%96%87%E6%9C%AC%E9%80%89%E4%B8%AD%E5%A4%8D%E5%88%B6%F0%9F%94%A5%F0%9F%94%A5%F0%9F%94%A5.user.js","uuid":"1e625a29-8c37-41ae-850c-fc439aad9b74","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIPCflKXwn5Sl8J+UpeaWh+acrOmAieS4reWkjeWItvCflKXwn5Sl8J+UpQovLyBAZGVzY3JpcHRpb24g6Kej6Zmk572R56uZ5LiN5YWB6K645aSN5Yi255qE6ZmQ5Yi277yM5paH5pys6YCJ5Lit5ZCO54K55Ye75aSN5Yi25oyJ6ZKu5Y2z5Y+v5aSN5Yi277yM5Li76KaB55So5LqOIOeZvuW6puaWh+W6kyDpgZPlrqLlt7Tlt7Qg5peg5b+n6ICD572RIOWtpuS5oOWVpiDok6zli4PojIPmlocg5oCd5ZCm56S+5Yy6IOWKm+aJoyDnn6XkuY4g6K+t6ZuAIOetiQovLyBAbmFtZXNwYWNlICAgaHR0cHM6Ly9naXRodWIuY29tL1dpbmRydW5uZXJNYXgvVEtTY3JpcHQKLy8gQHZlcnNpb24gICAgIDMuMy4xMAovLyBAYXV0aG9yICAgICAgQ3p5Ci8vIEBtYXRjaCAgICAgICAqOi8vd2Vua3UuYmFpZHUuY29tL3ZpZXcvKgovLyBAbWF0Y2ggICAgICAgKjovL3dlbmt1LmJhaWR1LmNvbS9zaGFyZS8qCi8vIEBtYXRjaCAgICAgICAqOi8vd2Vua3UuYmFpZHUuY29tL2xpbmsqCi8vIEBtYXRjaCAgICAgICAqOi8vd2Vua3UuYmFpZHUuY29tL25kUHVyZVZpZXcvKgovLyBAbWF0Y2ggICAgICAgKjovL3d3dy41MXRlc3QubmV0L3Nob3cvKgovLyBAbWF0Y2ggICAgICAgKjovL3d3dy54dWV4aS5sYS8qCi8vIEBtYXRjaCAgICAgICAqOi8vd3d3Lnh1ZXhpbGEuY29tLyoKLy8gQG1hdGNoICAgICAgICo6Ly93d3cuY3NwZW5nYm8uY29tLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLmRvYzg4LmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vc2VnbWVudGZhdWx0LmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vd2suYmFpZHUuY29tL3ZpZXcvKgovLyBAbWF0Y2ggICAgICAgKjovL2xlZXRjb2RlLWNuLmNvbS9wcm9ibGVtcy8qCi8vIEBtYXRjaCAgICAgICAqOi8vd3d3LnpoaWh1LmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vei4zMGVkdS5jb20uY24vKgovLyBAbWF0Y2ggICAgICAgKjovL2RvY3MucXEuY29tL2RvYy8qCi8vIEBtYXRjaCAgICAgICAqOi8vYm9rZTExMi5jb20vcG9zdC8qCi8vIEBtYXRjaCAgICAgICAqOi8vd3d3Lnl1cXVlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vd3d3LmNvbW1hbmRsaW51eC5jb20vKgovLyBAbWF0Y2ggICAgICAgKjovLyouZGl5aWZhbndlbi5jb20vKgovLyBAbWF0Y2ggICAgICAgKjovLyoubWJhbGliLmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vKi5jbml0cG0uY29tLyoKLy8gQG1hdGNoICAgICAgICo6Ly9iYnMubWlob3lvLmNvbS95cy9vYmMvKgovLyBAbWF0Y2ggICAgICAgKjovLyoucnVpd2VuLmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vd3d3LnVlbWVkcy5jbi8qCi8vIEBtYXRjaCAgICAgICAqOi8vd3d3Lm9oMTAwLmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vd3d3LmFpeXVrZS5jb20vbmV3cy8qCi8vIEBtYXRjaCAgICAgICAqOi8vd3d3LmZ3c2lyLmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vd3d3LndlbnhtLmNuLyoKLy8gQG1hdGNoICAgICAgICo6Ly93d3cudW5qcy5jb20vKgovLyBAbWF0Y2ggICAgICAgKjovL3d3dy5haHNyc3QuY24vKgovLyBAbWF0Y2ggICAgICAgKjovLyoueWpieXMuY29tLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLnFpZGlhbi5jb20vKgovLyBAbWF0Y2ggICAgICAgKjovLyouem9uZ2hlbmcuY29tLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLjE3ay5jb20vKgovLyBAbWF0Y2ggICAgICAgKjovLyouY2l3ZWltYW8uY29tLyoKLy8gQG1hdGNoICAgICAgICo6Ly9ib29rLnFxLmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vKi4zNjBkb2MuY29tL2NvbnRlbnQvKgovLyBAbWF0Y2ggICAgICAgKjovLyouODUwNTAwLmNvbS9uZXdzLyoKLy8gQG1hdGNoICAgICAgICo6Ly91dGF0ZW4uY29tL2x5cmljLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLmppYW5iaWFva3UuY29tLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLmt0MjUwLmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vd3d3LmtlanVkYXRpLmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vKi54aWFvaG9uZ3NodS5jb20vZGlzY292ZXJ5LyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLmJhaWJlaWtlLmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vKi5ibG9nLmNzZG4ubmV0LyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLmJpbGliaWxpLmNvbS9yZWFkLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLmNua2kubmV0L0tYUmVhZGVyLyoKLy8gQG1hdGNoICAgICAgICo6Ly8qLmNucmVuY2FpLmNvbS8qCi8vIEBtYXRjaCAgICAgICAqOi8vKi5rb2RpcGxheWVyLmNuLyoKLy8gQG1hdGNoICAgICAgICo6Ly90b25neGllaHVpLm5ldC8qCi8vIEBtYXRjaCAgICAgICAqOi8vKi5qaWFuc2h1LmNvbS9wLyoKLy8gQHN1cHBvcnRVUkwgIGh0dHBzOi8vZ2l0aHViLmNvbS9XaW5kcnVubmVyTWF4L1RLU2NyaXB0L2lzc3VlcwovLyBAbGljZW5zZSAgICAgR1BMIExpY2Vuc2UKLy8gQHJ1bi1hdCAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEByZXF1aXJlICAgICBodHRwczovL2xmOS1jZG4tdG9zLmJ5dGVjZG50cC5jb20vY2RuL2V4cGlyZS0xLU0vanF1ZXJ5LzMuNi4wL2pxdWVyeS5taW4uanMKLy8gQHJlcXVpcmUgICAgIGh0dHBzOi8vbGYzLWNkbi10b3MuYnl0ZWNkbnRwLmNvbS9jZG4vZXhwaXJlLTEtTS9jbGlwYm9hcmQuanMvMi4wLjEwL2NsaXBib2FyZC5taW4uanMKLy8gQGNvbm5lY3QgICAgIHJlczMuZG9jODguY29tCi8vIEBncmFudCAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGdyYW50ICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgZnVuY3Rpb24gc3R5bGVJbmplY3QoY3NzLCByZWYpIHsKICAgIGlmICggcmVmID09PSB2b2lkIDAgKSByZWYgPSB7fTsKICAgIHZhciBpbnNlcnRBdCA9IHJlZi5pbnNlcnRBdDsKCiAgICBpZiAoIWNzcyB8fCB0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7IHJldHVybjsgfQoKICAgIHZhciBoZWFkID0gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdOwogICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnOwoKICAgIGlmIChpbnNlcnRBdCA9PT0gJ3RvcCcpIHsKICAgICAgaWYgKGhlYWQuZmlyc3RDaGlsZCkgewogICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBoZWFkLmZpcnN0Q2hpbGQpOwogICAgICB9IGVsc2UgewogICAgICAgIGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBoZWFkLmFwcGVuZENoaWxkKHN0eWxlKTsKICAgIH0KCiAgICBpZiAoc3R5bGUuc3R5bGVTaGVldCkgewogICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7CiAgICB9IGVsc2UgewogICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTsKICAgIH0KICB9CgogIHZhciBjc3NfMjQ4eiA9ICIjX2NvcHl7YWxpZ24taXRlbXM6Y2VudGVyO2JhY2tncm91bmQ6IzRjOThmNztib3JkZXItcmFkaXVzOjNweDtjb2xvcjojZmZmO2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6ZmxleDtmb250LXNpemU6MTNweDtoZWlnaHQ6MzBweDtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjYwcHg7ei1pbmRleDoxMDAwfSNzZWxlY3QtdG9vbHRpcCwjc2ZNb2RhbCwubW9kYWwtYmFja2Ryb3AsZGl2W2lkXj1yZWFkZXItaGVscGVyXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5tb2RhbC1vcGVue292ZXJmbG93OmF1dG8haW1wb3J0YW50fS5fc2ZfYWRqdXN0X2JvZHl7cGFkZGluZy1yaWdodDowIWltcG9ydGFudH0iOwogIHN0eWxlSW5qZWN0KGNzc18yNDh6KTsKCiAgdmFyIGluaXRFdmVudCA9IGZ1bmN0aW9uICgkLCB3ZWJzaXRlQ29uZmlnKSB7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCJib2R5Iikub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuICQoIiNfY29weSIpLnJlbW92ZSgpOyB9KTsKICAgICAgICAgIGlmICh3ZWJzaXRlQ29uZmlnLmluaXRDb3B5RXZlbnQpIHsKICAgICAgICAgICAgICBkb2N1bWVudC5vbmNvcHkgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5zdG9wUHJvcGFnYXRpb24oKTsgfTsKICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5Lm9uY29weSA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpOyB9OwogICAgICAgICAgICAgICQoImJvZHkiKS5vbigiY29weSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICB9KTsKICB9OwogIHZhciBiaW5kQ2xpcGJvYXJkRXZlbnQgPSBmdW5jdGlvbiAoY2xpcGJvYXJkKSB7CiAgICAgIGNsaXBib2FyZC5vbigic3VjY2VzcyIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAkKCIjX2NvcHkiKS5odG1sKCLlpI3liLbmiJDlip8iKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gJCgiI19jb3B5IikuZmFkZU91dCgxMDAwKTsgfSwgMTAwMCk7CiAgICAgICAgICBlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIH0pOwogICAgICBjbGlwYm9hcmQub24oImVycm9yIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICQoIiNfY29weSIpLmh0bWwoIuWkjeWItuWksei0pSIpOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiAkKCIjX2NvcHkiKS5mYWRlT3V0KDEwMDApOyB9LCAxMDAwKTsKICAgICAgICAgIGUuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgfSk7CiAgfTsKCiAgLyoqCiAgICog5aSW6YOo5byV55SoYHN0YXRpYy5kb2M4OC5jb21g5aOw5piOCiAgICog5q2k6YOo5YiG5piv5Zyo5aSE55CGYGRvYzg4LmNvbWDmiY3kvJrliqDovb3nmoTotYTmupDmlofku7bvvIzmraTotYTmupDmlofku7bnlLHor6XnvZHnq5nliqDovb3ml7bmj5DkvpsKICAgKi8KICB2YXIgcGF0aCA9ICIiOwogIHZhciB3ZWJzaXRlJHEgPSB7CiAgICAgIHJlZ2V4cDogLy4qZG9jODhcLmNvbVwvLisvLAogICAgICBpbml0OiBmdW5jdGlvbiAoJCkgewogICAgICAgICAgLy8gR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgLy8gICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAvLyAgICAgdXJsOiAiaHR0cHM6Ly9yZXMuZG9jODguY29tL2Fzc2V0cy9qcy92Mi5qcyIsCiAgICAgICAgICAvLyAgICAgb25sb2FkOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgLy8gICAgICAgICB2YXIgdmlldyA9IG5ldyBGdW5jdGlvbigidmFyIHZpZXcgPSAiICsgcmVzcG9uc2UucmVzcG9uc2VUZXh0LnJlcGxhY2UoImV2YWwiLCAiIikgKyAiOyByZXR1cm4gdmlldzsiKTsKICAgICAgICAgIC8vICAgICAgICAgcGF0aCA9IC88dGV4dGFyZWFbXHNcU10qP1ZpZXdlci4oW1xTXSo/KVwrW1xTXSo/XC90ZXh0YXJlYT4vLmV4ZWModmlldygpKVsxXTsKICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAvLyB9KQogICAgICAgICAgJCgiYm9keSIpLmFwcGVuZCgiPHN0eWxlIGlkPVwiY29weS1lbGVtZW50LWhpZGVcIj4jbGVmdC1tZW51e2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9PC9zdHlsZT4iKTsKICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICBtZXRob2Q6ICJHRVQiLAogICAgICAgICAgICAgIHVybDogImh0dHBzOi8vcmVzMy5kb2M4OC5jb20vcmVzb3VyY2VzL2pzL21vZHVsZXMvbWFpbi12Mi5taW4uanM/dj0yLjU2IiwKICAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gL1woIiNjcF90ZXh0YXJlYSJcKS52YWxcKChbXFNdKj8pXCk7Ly5leGVjKHJlc3BvbnNlLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpCiAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gcmVzdWx0WzFdOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICB9KTsKICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBjcEZuID0gdW5zYWZlV2luZG93LmNvcHlUZXh0LnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgdmFyIGZuUmVzdWx0ID0gLzx0ZXh0YXJlYVtcc1xTXSo/PidcKyhbXFNdKj8pXCsiPFwvdGV4dGFyZWE+Ly5leGVjKGNwRm4pOwogICAgICAgICAgICAgIGlmIChmblJlc3VsdCkKICAgICAgICAgICAgICAgICAgcGF0aCA9IGZuUmVzdWx0WzFdOwogICAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGdldFNlbGVjdGVkVGV4dDogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHNlbGVjdCA9IHVuc2FmZVdpbmRvdzsKICAgICAgICAgIHBhdGguc3BsaXQoIi4iKS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgc2VsZWN0ID0gc2VsZWN0W3ZdOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoIXNlbGVjdCkgewogICAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5Db25maWcudmlwID0gMTsKICAgICAgICAgICAgICB1bnNhZmVXaW5kb3cuQ29uZmlnLmxvZ2luZWQgPSAxOwogICAgICAgICAgICAgICQoIiNjb3B5LWVsZW1lbnQtaGlkZSIpLnJlbW92ZSgpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHNlbGVjdDsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZSRwID0gewogICAgICByZWdleHA6IC8uKnNlZ21lbnRmYXVsdFwuY29tXC8uKy8sCiAgICAgIGluaXQ6IGZ1bmN0aW9uICgkKSB7CiAgICAgICAgICAkKCJib2R5IikuYWRkQ2xhc3MoIl9zZl9hZGp1c3RfYm9keSIpOwogICAgICAgICAgJCgiYm9keSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAkKCJib2R5IikuY3NzKCJwYWRkaW5nLXJpZ2h0IiwgMCk7CiAgICAgICAgICB9KTsKICAgICAgfSwKICB9OwoKICB2YXIgc3RvcEpRdWVyeVByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAvLyBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsgLy8g5Y2z5YGc5LiU6Zi75q2i6K+l5YWD57Sg5ZCOYG9uYOWQjOexu+S6i+S7tuinpuWPkQogICAgICByZXR1cm4gdHJ1ZTsgLy8g6Iul5Li6IGBmYWxzZWAg5YiZ5LyaIGBwcmV2ZW50RGVmYXVsdGAgYHN0b3BQcm9wYWdhdGlvbmAKICB9OwogIHZhciBzdG9wTmF0aXZlUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyB9OwogIHZhciB1dGlscyA9IHsKICAgICAgaGlkZUJ1dHRvbjogZnVuY3Rpb24gKCQpIHsKICAgICAgICAgICQoImJvZHkiKS5hcHBlbmQoIjxzdHlsZSBpZD1cImNvcHktaGlkZVwiPiNfY29weXtkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7fTwvc3R5bGU+Iik7CiAgICAgIH0sCiAgICAgIHNob3dCdXR0b246IGZ1bmN0aW9uICgkKSB7CiAgICAgICAgICAkKCIjY29weS1oaWRlIikucmVtb3ZlKCk7CiAgICAgIH0sCiAgICAgIHJlbW92ZUF0dHJpYnV0ZXM6IGZ1bmN0aW9uICgkLCBzZWxlY3RvciwgYXR0cikgewogICAgICAgICAgaWYgKGF0dHIgPT09IHZvaWQgMCkgeyBhdHRyID0gW107IH0KICAgICAgICAgIHZhciBkb20gPSAkKHNlbGVjdG9yKTsKICAgICAgICAgIGF0dHIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gZG9tLnJlbW92ZUF0dHIoaXRlbSk7IH0pOwogICAgICB9LAogICAgICBlbmFibGVVc2VyU2VsZWN0OiBmdW5jdGlvbiAoJCwgc2VsZWN0b3IsIGlubGluZSkgewogICAgICAgICAgaWYgKGlubGluZSA9PT0gdm9pZCAwKSB7IGlubGluZSA9IGZhbHNlOyB9CiAgICAgICAgICBpZiAoaW5saW5lKSB7CiAgICAgICAgICAgICAgdmFyIGN1ciA9ICQoc2VsZWN0b3IpOwogICAgICAgICAgICAgIGN1ci5jc3MoInVzZXItc2VsZWN0IiwgImF1dG8iKTsKICAgICAgICAgICAgICBjdXIuY3NzKCItd2Via2l0LXVzZXItc2VsZWN0IiwgImF1dG8iKTsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICJcbiAgICAgICAgICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICIuY29uY2F0KHNlbGVjdG9yLCAie1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IGF1dG8gIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IGF1dG8gIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICAgICAiKTsKICAgICAgICAgICAgICAkKCJib2R5IikuYXBwZW5kKHRlbXBsYXRlLnJlcGxhY2UoL1xzKi8sICIgIikpOwogICAgICAgICAgfQogICAgICB9LAogICAgICBlbmFibGVPblNlbGVjdFN0YXJ0OiBmdW5jdGlvbiAoJCwgc2VsZWN0b3IpIHsKICAgICAgICAgICQoc2VsZWN0b3IpLm9uKCJzZWxlY3RzdGFydCIsIHN0b3BKUXVlcnlQcm9wYWdhdGlvbik7CiAgICAgIH0sCiAgICAgIGVuYWJsZU9uQ29udGV4dE1lbnU6IGZ1bmN0aW9uICgkLCBzZWxlY3RvcikgewogICAgICAgICAgJChzZWxlY3Rvcikub24oImNvbnRleHRtZW51Iiwgc3RvcEpRdWVyeVByb3BhZ2F0aW9uKTsKICAgICAgfSwKICAgICAgZW5hYmxlT25Db3B5OiBmdW5jdGlvbiAoJCwgc2VsZWN0b3IpIHsKICAgICAgICAgICQoc2VsZWN0b3IpLm9uKCJjb3B5Iiwgc3RvcEpRdWVyeVByb3BhZ2F0aW9uKTsKICAgICAgfSwKICAgICAgZW5hYmxlT25LZXlEb3duOiBmdW5jdGlvbiAoJCwgc2VsZWN0b3IpIHsKICAgICAgICAgICQoc2VsZWN0b3IpLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICJjIiAmJiBlLmN0cmxLZXkpCiAgICAgICAgICAgICAgICAgIHJldHVybiBzdG9wSlF1ZXJ5UHJvcGFnYXRpb24oZSk7CiAgICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZW5hYmxlT25TZWxlY3RTdGFydEJ5Q2FwdHVyZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0c3RhcnQiLCBzdG9wTmF0aXZlUHJvcGFnYXRpb24sIHRydWUpOwogICAgICB9LAogICAgICBlbmFibGVPbkNvbnRleHRNZW51QnlDYXB0dXJlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjb250ZXh0bWVudSIsIHN0b3BOYXRpdmVQcm9wYWdhdGlvbiwgdHJ1ZSk7CiAgICAgIH0sCiAgICAgIGVuYWJsZU9uQ29weUJ5Q2FwdHVyZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY29weSIsIHN0b3BOYXRpdmVQcm9wYWdhdGlvbiwgdHJ1ZSk7CiAgICAgIH0sCiAgICAgIGVuYWJsZU9uS2V5RG93bkJ5Q2FwdHVyZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIHN0b3BOYXRpdmVQcm9wYWdhdGlvbiwgdHJ1ZSk7CiAgICAgIH0sCiAgfTsKCiAgdmFyIHdlYnNpdGUkbyA9IHsKICAgICAgcmVnZXhwOiAvLip3a1wuYmFpZHVcLmNvbVwvdmlld1wvLisvLAogICAgICBpbml0OiBmdW5jdGlvbiAoJCkgewogICAgICAgICAgdXRpbHMuaGlkZUJ1dHRvbigkKTsKICAgICAgICAgICQod2luZG93KS5vbigibG9hZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAkKCIuc2YtZWR1LXdlbmt1LXZ3LWNvbnRhaW5lciIpLmF0dHIoInN0eWxlIiwgIiIpOwogICAgICAgICAgICAgICQoIi5zZmEtYm9keSIpLm9uKCJzZWxlY3RzdGFydCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgIH0sCiAgfTsKCiAgdmFyIHdlYnNpdGUkbiA9IHsKICAgICAgcmVnZXhwOiAvLip6aGlodVwuY29tXC8uKi8sCiAgICAgIGluaXQ6IGZ1bmN0aW9uICgkKSB7CiAgICAgICAgICB1dGlscy5oaWRlQnV0dG9uKCQpOwogICAgICB9LAogIH07CgogIHZhciB3ZWJzaXRlJG0gPSB7CiAgICAgIHJlZ2V4cDogLy4qemhpaHVcLmNvbVwvcHViXC9yZWFkZXJcLy4rLywKICAgICAgaW5pdDogZnVuY3Rpb24gKCQpIHsKICAgICAgICAgIHNldFRpbWVvdXQodXRpbHMuc2hvd0J1dHRvbiwgNTAwLCAkKTsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZSRsID0gewogICAgICByZWdleHA6IC8uKjMwZWR1XC5jb21cLmNuXC8uKy8sCiAgICAgIGluaXQ6IGZ1bmN0aW9uICgkKSB7CiAgICAgICAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBpZnJhbWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpOwogICAgICAgICAgICAgIGlmIChpZnJhbWVzLmxlbmd0aCA9PT0gMikgewogICAgICAgICAgICAgICAgICB2YXIgYm9keSA9ICQoaWZyYW1lc1sxXS5jb250ZW50V2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHkiKSk7CiAgICAgICAgICAgICAgICAgIGJvZHkuYXR0cigib25jb3B5IiwgIiIpOwogICAgICAgICAgICAgICAgICBib2R5LmF0dHIoIm9uY29udGV4dG1lbnUiLCAiIik7CiAgICAgICAgICAgICAgICAgIGJvZHkuYXR0cigib25zZWxlY3RzdGFydCIsICIiKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICB9LAogIH07CgogIHZhciByZXN0cmljdENvcHlpbmcgPSB0cnVlOwogIHZhciB3ZWJzaXRlJGsgPSB7CiAgICAgIHJlZ2V4cDogLy4qZG9jc1wucXFcLmNvbVwvLisvLAogICAgICBjb25maWc6IHsKICAgICAgICAgIGluaXRDb3B5RXZlbnQ6IGZhbHNlLAogICAgICB9LAogICAgICBpbml0OiBmdW5jdGlvbiAoJCkgewogICAgICAgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBpZiAodW5zYWZlV2luZG93LnBhZCkgewogICAgICAgICAgICAgICAgICBpZiAodW5zYWZlV2luZG93LnBhZC5lZGl0b3IuX2RvY0Vudi5jb3B5YWJsZSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgICAgLy8g5LiN6ZmQ5Yi25aSN5Yi2CiAgICAgICAgICAgICAgICAgICAgICByZXN0cmljdENvcHlpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmhpZGVCdXR0b24oJCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICB1bnNhZmVXaW5kb3cucGFkLmVkaXRvci5fZG9jRW52LmNvcHlhYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgcmVzdHJpY3RDb3B5aW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIHV0aWxzLmhpZGVCdXR0b24oJCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgfSwKICAgICAgZ2V0U2VsZWN0ZWRUZXh0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoIXJlc3RyaWN0Q29weWluZykKICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICBpZiAodW5zYWZlV2luZG93LnBhZCkgewogICAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5wYWQuZWRpdG9yLl9kb2NFbnYuY29weWFibGUgPSB0cnVlOwogICAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5wYWQuZWRpdG9yLmNsaXBib2FyZE1hbmFnZXIuY29weSgpOwogICAgICAgICAgICAgIHJldHVybiB1bnNhZmVXaW5kb3cucGFkLmVkaXRvci5jbGlwYm9hcmRNYW5hZ2VyLmN1c3RvbUNsaXBib2FyZC5wbGFpbjsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiAiIjsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZSRqID0gewogICAgICByZWdleHA6IG5ldyBSZWdFeHAoIi4rOi8vYm9rZTExMi5jb20vcG9zdC8uKyIpLAogICAgICBpbml0OiBmdW5jdGlvbiAoJCkgewogICAgICAgICAgJCgiYm9keSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9KTsKICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICJcbiAgICAgICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgICAgICA6bm90KGlucHV0KTpub3QodGV4dGFyZWEpOjpzZWxlY3Rpb24ge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjQ0MEIzICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgOm5vdChpbnB1dCk6bm90KHRleHRhcmVhKTo6LW1vei1zZWxlY3Rpb24ge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjQ0MEIzICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgIjsKICAgICAgICAgICQoImJvZHkiKS5hcHBlbmQodGVtcGxhdGUucmVwbGFjZSgvXHMqLywgIiAiKSk7CiAgICAgIH0sCiAgfTsKCiAgdmFyIHdlYnNpdGUkaSA9IHsKICAgICAgcmVnZXhwOiAvZGl5aWZhbndlbi8sCiAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHV0aWxzLmhpZGVCdXR0b24oJCk7CiAgICAgICAgICB1dGlscy5lbmFibGVPbkNvcHlCeUNhcHR1cmUoKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZU9uS2V5RG93bkJ5Q2FwdHVyZSgpOwogICAgICB9LAogIH07CgogIHZhciB3ZWJzaXRlJGggPSB7CiAgICAgIHJlZ2V4cDogL21iYWxpYi8sCiAgICAgIGluaXQ6IGZ1bmN0aW9uICgkKSB7CiAgICAgICAgICB3aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSAkKCIjZnVsbFNjcmVlbkNvbnRhaW5lciIpOwogICAgICAgICAgICAgIGNvbnRhaW5lci5hdHRyKCJvbmNvcHkiLCAiIik7CiAgICAgICAgICAgICAgY29udGFpbmVyLmF0dHIoIm9uY29udGV4dG1lbnUiLCAiIik7CiAgICAgICAgICAgICAgY29udGFpbmVyLmF0dHIoIm9uc2VsZWN0c3RhcnQiLCAiIik7CiAgICAgICAgICB9OwogICAgICB9LAogIH07CgogIHZhciB3ZWJzaXRlJGcgPSB7CiAgICAgIHJlZ2V4cDogL2NuaXRwbS8sCiAgICAgIGluaXQ6IGZ1bmN0aW9uICgkKSB7CiAgICAgICAgICB1dGlscy5oaWRlQnV0dG9uKCQpOwogICAgICAgICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gJCgiYm9keSIpOwogICAgICAgICAgICAgIGNvbnRhaW5lci5hdHRyKCJvbmNvcHkiLCAiIik7CiAgICAgICAgICAgICAgY29udGFpbmVyLmF0dHIoIm9uY29udGV4dG1lbnUiLCAiIik7CiAgICAgICAgICAgICAgY29udGFpbmVyLmF0dHIoIm9uc2VsZWN0c3RhcnQiLCAiIik7CiAgICAgICAgICB9OwogICAgICB9LAogIH07CgogIHZhciB3ZWJzaXRlJGYgPSB7CiAgICAgIHJlZ2V4cDogbmV3IFJlZ0V4cCgiLitiYnMubWlob3lvLmNvbS95cy9vYmMuKyIpLAogICAgICBpbml0OiBmdW5jdGlvbiAoJCkgewogICAgICAgICAgdXRpbHMuaGlkZUJ1dHRvbigkKTsKICAgICAgICAgICQoIi5kZXRhaWxfX2NvbnRlbnQiKS5vbigiY29weSIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpOyB9KTsKICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICJcbiAgICAgICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgICAgICBib2R5e1xuICAgICAgICAgICAgICAgICAgICB1c2VyLXNlbGVjdDogYXV0bztcbiAgICAgICAgICAgICAgICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogYXV0bztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAiOwogICAgICAgICAgJCgiYm9keSIpLmFwcGVuZCh0ZW1wbGF0ZS5yZXBsYWNlKC9ccyovLCAiICIpKTsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZSRlID0gewogICAgICByZWdleHA6IG5ldyBSZWdFeHAoIi4rd3d3LnVlbWVkcy5jbi8uKyIpLAogICAgICBpbml0OiBmdW5jdGlvbiAoJCkgewogICAgICAgICAgdXRpbHMuaGlkZUJ1dHRvbigkKTsKICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9ICJcbiAgICAgICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgICAgICAuZGV0YWlsLW1haW57XG4gICAgICAgICAgICAgICAgICAgIHVzZXItc2VsZWN0OiBhdXRvO1xuICAgICAgICAgICAgICAgICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBhdXRvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvc3R5bGU+XG4gICAgICAgICI7CiAgICAgICAgICAkKCJib2R5IikuYXBwZW5kKHRlbXBsYXRlLnJlcGxhY2UoL1xzKi8sICIgIikpOwogICAgICB9LAogIH07CgogIHZhciB3ZWJzaXRlJGQgPSB7CiAgICAgIHJlZ2V4cDogbmV3IFJlZ0V4cCgiLithaXl1a2UuY29tL25ld3MvLisiKSwKICAgICAgaW5pdDogZnVuY3Rpb24gKCQpIHsKICAgICAgICAgIHV0aWxzLmhpZGVCdXR0b24oJCk7CiAgICAgICAgICAkKCIubmV3c19jb250ZW50X2JvZHkiKS5jc3MoInVzZXItc2VsZWN0IiwgImF1dG8iKTsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZSRjID0gewogICAgICByZWdleHA6IG5ldyBSZWdFeHAoInFpZGlhbiIpLAogICAgICBpbml0OiBmdW5jdGlvbiAoJCkgewogICAgICAgICAgdXRpbHMuaGlkZUJ1dHRvbigkKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZVVzZXJTZWxlY3QoJCwgImJvZHkiKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZU9uQ29weSgkLCAiLm1haW4tcmVhZC1jb250YWluZXIiKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZU9uQ29udGV4dE1lbnUoJCwgIi5tYWluLXJlYWQtY29udGFpbmVyIik7CiAgICAgIH0sCiAgfTsKCiAgdmFyIHdlYnNpdGUkYiA9IHsKICAgICAgcmVnZXhwOiBuZXcgUmVnRXhwKCJ6b25naGVuZyIpLAogICAgICBpbml0OiBmdW5jdGlvbiAoJCkgewogICAgICAgICAgdXRpbHMucmVtb3ZlQXR0cmlidXRlcygkLCAiLnJlYWRlcl9ib3giLCBbInN0eWxlIiwgInVuc2VsZWN0YWJsZSIsICJvbnNlbGVjdHN0YXJ0Il0pOwogICAgICAgICAgdXRpbHMucmVtb3ZlQXR0cmlidXRlcygkLCAiLnJlYWRlcl9tYWluIiwgWyJzdHlsZSIsICJ1bnNlbGVjdGFibGUiLCAib25zZWxlY3RzdGFydCJdKTsKICAgICAgICAgIHV0aWxzLmhpZGVCdXR0b24oJCk7CiAgICAgICAgICB1dGlscy5lbmFibGVPbktleURvd24oJCwgImJvZHkiKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZVVzZXJTZWxlY3QoJCwgIi5yZWFkZXJfYm94IC5jb250ZW50IHAiKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZU9uQ29weSgkLCAiLmNvbnRlbnQiKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZU9uQ29udGV4dE1lbnUoJCwgImJvZHkiKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZU9uU2VsZWN0U3RhcnQoJCwgIi5jb250ZW50Iik7CiAgICAgIH0sCiAgfTsKCiAgdmFyIHdlYnNpdGUkYSA9IHsKICAgICAgcmVnZXhwOiBuZXcgUmVnRXhwKCIxN2siKSwKICAgICAgaW5pdDogZnVuY3Rpb24gKCQpIHsKICAgICAgICAgIHV0aWxzLmhpZGVCdXR0b24oJCk7CiAgICAgICAgICB1dGlscy5lbmFibGVPbkNvcHkoJCwgIi5yZWFkQXJlYUJveCAucCIpOwogICAgICB9LAogIH07CgogIHZhciB3ZWJzaXRlJDkgPSB7CiAgICAgIHJlZ2V4cDogbmV3IFJlZ0V4cCgiY2l3ZWltYW8iKSwKICAgICAgaW5pdDogZnVuY3Rpb24gKCQpIHsKICAgICAgICAgIHV0aWxzLmhpZGVCdXR0b24oJCk7CiAgICAgICAgICB1dGlscy5lbmFibGVVc2VyU2VsZWN0KCQsICIjSl9Cb29rUmVhZCIpOwogICAgICAgICAgdXRpbHMuZW5hYmxlT25Db3B5KCQsICIjSl9Cb29rQ250Iik7CiAgICAgICAgICB1dGlscy5lbmFibGVPbkNvbnRleHRNZW51KCQsICJib2R5Iik7CiAgICAgICAgICB1dGlscy5lbmFibGVPblNlbGVjdFN0YXJ0KCQsICIjSl9Cb29rQ250Iik7CiAgICAgIH0sCiAgfTsKCiAgdmFyIHdlYnNpdGUkOCA9IHsKICAgICAgcmVnZXhwOiBuZXcgUmVnRXhwKCJib29rXFwucXEiKSwKICAgICAgaW5pdDogZnVuY3Rpb24gKCQpIHsKICAgICAgICAgIHV0aWxzLmhpZGVCdXR0b24oJCk7CiAgICAgICAgICB1dGlscy5lbmFibGVVc2VyU2VsZWN0KCQsICJib2R5Iik7CiAgICAgICAgICB1dGlscy5lbmFibGVPbkNvcHkoJCwgImJvZHkiKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZU9uQ29udGV4dE1lbnUoJCwgImJvZHkiKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZU9uU2VsZWN0U3RhcnQoJCwgImJvZHkiKTsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZSQ3ID0gewogICAgICByZWdleHA6IG5ldyBSZWdFeHAoInV0YXRlbiIpLAogICAgICBpbml0OiBmdW5jdGlvbiAoJCkgewogICAgICAgICAgdXRpbHMucmVtb3ZlQXR0cmlidXRlcygkLCAiYm9keSIsIFsib25jb250ZXh0bWVudSIsICJvbnNlbGVjdHN0YXJ0Il0pOwogICAgICAgICAgdXRpbHMuaGlkZUJ1dHRvbigkKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZVVzZXJTZWxlY3QoJCwgIi5seXJpY0JvZHkiLCB0cnVlKTsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZSQ2ID0gewogICAgICBjb25maWc6IHsKICAgICAgICAgIHJ1bkF0OiAiZG9jdW1lbnQtc3RhcnQiLAogICAgICB9LAogICAgICByZWdleHA6IG5ldyBSZWdFeHAoIndlbmt1LmJhaWR1LmNvbS8odmlld3xsaW5rKS4qIiksCiAgICAgIGluaXQ6IGZ1bmN0aW9uICgkKSB7CiAgICAgICAgICAkKCJoZWFkIikuYXBwZW5kKCI8c3R5bGU+QG1lZGlhIHByaW50IHsgYm9keXsgZGlzcGxheTpibG9jazsgfSB9PC9zdHlsZT4iKTsKICAgICAgICAgIHZhciBjYW52YXNEYXRhR3JvdXAgPSBbXTsKICAgICAgICAgIHZhciBvcmlnaW5PYmplY3QgPSB7CiAgICAgICAgICAgICAgY29udGV4dDJEUHJvdG90eXBlOiB1bnNhZmVXaW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikuZ2V0Q29udGV4dCgiMmQiKQogICAgICAgICAgICAgICAgICAuX19wcm90b19fLAogICAgICAgICAgfTsKICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSBuZXcgUHJveHkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCwgewogICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiAodGFyZ2V0LCB0aGlzQXJnLCBhcmd1bWVudHNMaXN0KSB7CiAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gUmVmbGVjdC5hcHBseSh0YXJnZXQsIHRoaXNBcmcsIGFyZ3VtZW50c0xpc3QpOwogICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzTGlzdFswXSA9PT0gImNhbnZhcyIpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBEYXRhXzEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzOiBlbGVtZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtdLAogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZ2V0Q29udGV4dCgiMmQiKS5maWxsVGV4dCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wRGF0YV8xLmRhdGEucHVzaChhcmdzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5PYmplY3QuY29udGV4dDJEUHJvdG90eXBlLmZpbGxUZXh0LmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc0RhdGFHcm91cC5wdXNoKHRtcERhdGFfMSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIHBhZ2VEYXRhID0ge307CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodW5zYWZlV2luZG93LCAicGFnZURhdGEiLCB7CiAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikgeyByZXR1cm4gKHBhZ2VEYXRhID0gdik7IH0sCiAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGlmICghcGFnZURhdGEudmlwSW5mbykKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAocGFnZURhdGEudmlwSW5mbyA9IHt9KTsKICAgICAgICAgICAgICAgICAgcGFnZURhdGEudmlwSW5mby5nbG9iYWxfc3ZpcF9zdGF0dXMgPSAxOwogICAgICAgICAgICAgICAgICBwYWdlRGF0YS52aXBJbmZvLmdsb2JhbF92aXBfc3RhdHVzID0gMTsKICAgICAgICAgICAgICAgICAgcGFnZURhdGEudmlwSW5mby5pc1ZpcCA9IDE7CiAgICAgICAgICAgICAgICAgIHBhZ2VEYXRhLnZpcEluZm8uaXNXZW5rdVZpcCA9IDE7CiAgICAgICAgICAgICAgICAgIHJldHVybiBwYWdlRGF0YTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgdGVtcGxhdGVDU1MgPSBbCiAgICAgICAgICAgICAgIjxzdHlsZSBpZD0nY29weS10ZW1wbGF0ZS1jc3MnPiIsCiAgICAgICAgICAgICAgImJvZHl7b3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50fSIsCiAgICAgICAgICAgICAgIiNjb3B5LXRlbXBsYXRlLWh0bWx7cG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IGxlZnQ6IDA7IGRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogY2VudGVyO3otaW5kZXg6IDk5OTk5OTsgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjUpO30iLAogICAgICAgICAgICAgICIjY29weS10ZW1wbGF0ZS1odG1sID4gLnRlbXBsYXRlLWNvbnRhaW5lcntoZWlnaHQ6IDgwJTsgd2lkdGg6IDgwJTsgYmFja2dyb3VuZDogI2ZmZjsgfSIsCiAgICAgICAgICAgICAgIi50ZW1wbGF0ZS1jb250YWluZXIgPiAudGl0bGUtY29udGFpbmVye2Rpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtwYWRkaW5nOiAxMHB4O2JvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlO30iLAogICAgICAgICAgICAgICIjY29weS10ZW1wbGF0ZS10ZXh0e2hlaWdodDogMTAwJTsgd2lkdGg6IDEwMCU7cG9zaXRpb246IHJlbGF0aXZlOyBvdmVyZmxvdzogYXV0bztiYWNrZ3JvdW5kOiAjZmZmO30iLAogICAgICAgICAgICAgICIjY29weS10ZW1wbGF0ZS1odG1sICN0ZW1wbGF0ZS1jbG9zZXtjdXJzb3I6IHBvaW50ZXI7fSIsCiAgICAgICAgICAgICAgIjwvc3R5bGU+IiwKICAgICAgICAgIF0uam9pbigiIik7CiAgICAgICAgICB2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGNhbnZhc0RhdGFHcm91cCA9IGNhbnZhc0RhdGFHcm91cC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0uY2FudmFzLmlkOyB9KTsKICAgICAgICAgICAgICB2YXIgdGVtcGxhdGVUZXh0ID0gY2FudmFzRGF0YUdyb3VwLm1hcChmdW5jdGlvbiAoY2FudmFzRGF0YSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgdmFyIGNvbXB1dGVkVG9wID0gaW5kZXggKiBOdW1iZXIoY2FudmFzRGF0YS5jYW52YXMuY2xpZW50SGVpZ2h0KTsKICAgICAgICAgICAgICAgICAgdmFyIHRleHRJdGVtID0gY2FudmFzRGF0YS5kYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICI8ZGl2IHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAiLmNvbmNhdChpdGVtWzFdLCAicHg7IHRvcDogIikuY29uY2F0KGl0ZW1bMl0gKyBjb21wdXRlZFRvcCwgInB4XCI+IikuY29uY2F0KGl0ZW1bMF0sICI8L2Rpdj4iKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0SXRlbS5qb2luKCIiKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB2YXIgdGVtcGxhdGVIVE1MID0gWwogICAgICAgICAgICAgICAgICAiPGRpdiBpZD0nY29weS10ZW1wbGF0ZS1odG1sJz4iLAogICAgICAgICAgICAgICAgICAiPGRpdiBjbGFzcz0ndGVtcGxhdGUtY29udGFpbmVyJz4iLAogICAgICAgICAgICAgICAgICAiPGRpdiBjbGFzcz0ndGl0bGUtY29udGFpbmVyJz4iLAogICAgICAgICAgICAgICAgICAiPGRpdj7or7foh6rooYzlpI3liLY8L2Rpdj4iLAogICAgICAgICAgICAgICAgICAiPGRpdiBpZD0ndGVtcGxhdGUtY2xvc2UnPuWFs+mXrTwvZGl2PiIsCiAgICAgICAgICAgICAgICAgICI8L2Rpdj4iLAogICAgICAgICAgICAgICAgICAiPGRpdiBpZD0nY29weS10ZW1wbGF0ZS10ZXh0Jz4iLAogICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVRleHQuam9pbigiIiksCiAgICAgICAgICAgICAgICAgICI8L2Rpdj4iLAogICAgICAgICAgICAgICAgICAiPC9kaXY+IiwKICAgICAgICAgICAgICAgICAgIjwvZGl2PiIsCiAgICAgICAgICAgICAgXS5qb2luKCIiKTsKICAgICAgICAgICAgICAkKCJib2R5IikuYXBwZW5kKHRlbXBsYXRlSFRNTCk7CiAgICAgICAgICAgICAgJCgiYm9keSIpLmFwcGVuZCh0ZW1wbGF0ZUNTUyk7CiAgICAgICAgICAgICAgdmFyIGNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NvcHktdGVtcGxhdGUtaHRtbCAjdGVtcGxhdGUtY2xvc2UiKTsKICAgICAgICAgICAgICB2YXIgY2xvc2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICQoIiNjb3B5LXRlbXBsYXRlLWh0bWwiKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgJCgiI2NvcHktdGVtcGxhdGUtY3NzIikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgIGNsb3NlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgY2xvc2UpOwogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBjbG9zZSk7CiAgICAgICAgICB9OwogICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAkKCJoZWFkIikuYXBwZW5kKCI8c3R5bGU+I2NvcHktYnRuLXdre3BhZGRpbmc6IDEwcHg7IGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC41KTtwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6MDsgdG9wOiA0MCU7Y3Vyc29yOiBwb2ludGVyO2NvbG9yOiAjZmZmOyB6LWluZGV4OiA5OTk5OTt9PC9zdHlsZT4iKTsKICAgICAgICAgICAgICAkKCJib2R5IikuYXBwZW5kKCI8ZGl2IGlkPSdjb3B5LWJ0bi13ayc+5aSN5Yi2PC9kaXY+Iik7CiAgICAgICAgICAgICAgJCgiI2NvcHktYnRuLXdrIikub24oImNsaWNrIiwgcmVuZGVyKTsKICAgICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXRTZWxlY3RlZFRleHQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uICYmIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS50b1N0cmluZygpOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlc3VsdCA9IC/mn6XnnIvlhajpg6jljIXlkKvigJwoW1xzXFNdKj8p4oCd55qE5paH5qGjLy5leGVjKGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MKTsKICAgICAgICAgIGlmIChyZXN1bHQpCiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFsxXTsKICAgICAgICAgIHJldHVybiAiIjsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZSQ1ID0gewogICAgICByZWdleHA6IG5ldyBSZWdFeHAoInhpYW9ob25nc2h1IiksCiAgICAgIGluaXQ6IGZ1bmN0aW9uICgkKSB7CiAgICAgICAgICB1dGlscy5oaWRlQnV0dG9uKCQpOwogICAgICAgICAgdXRpbHMuZW5hYmxlVXNlclNlbGVjdCgkLCAiKiIpOwogICAgICAgICAgdXRpbHMuZW5hYmxlT25LZXlEb3duQnlDYXB0dXJlKCk7CiAgICAgIH0sCiAgfTsKCiAgdmFyIHdlYnNpdGUkNCA9IHsKICAgICAgcmVnZXhwOiBuZXcgUmVnRXhwKCJsZWV0Y29kZSIpLAogICAgICBpbml0OiBmdW5jdGlvbiAoJCkgewogICAgICAgICAgdXRpbHMuaGlkZUJ1dHRvbigkKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZU9uQ29weSgkLCAiI2xjLWhvbWUiKTsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZSQzID0gewogICAgICByZWdleHA6IC9jc2RuLywKICAgICAgaW5pdDogZnVuY3Rpb24gKCQpIHsKICAgICAgICAgIHV0aWxzLmhpZGVCdXR0b24oJCk7CiAgICAgICAgICB1dGlscy5lbmFibGVPbkNvcHlCeUNhcHR1cmUoKTsKICAgICAgICAgIHV0aWxzLmVuYWJsZVVzZXJTZWxlY3QoJCwgIioiKTsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZSQyID0gewogICAgICByZWdleHA6IG5ldyBSZWdFeHAoImJpbGliaWxpIiksCiAgICAgIGluaXQ6IGZ1bmN0aW9uICgkKSB7CiAgICAgICAgICB1dGlscy5oaWRlQnV0dG9uKCQpOwogICAgICAgICAgdXRpbHMuZW5hYmxlT25Db3B5QnlDYXB0dXJlKCk7CiAgICAgIH0sCiAgfTsKCiAgdmFyIHdlYnNpdGUkMSA9IHsKICAgICAgcmVnZXhwOiBuZXcgUmVnRXhwKCJjbmtpIiksCiAgICAgIGluaXQ6IGZ1bmN0aW9uICgkKSB7CiAgICAgICAgICB1dGlscy5oaWRlQnV0dG9uKCQpOwogICAgICAgICAgdXRpbHMuZW5hYmxlT25Db250ZXh0TWVudUJ5Q2FwdHVyZSgpOwogICAgICAgICAgdXRpbHMuZW5hYmxlT25LZXlEb3duQnlDYXB0dXJlKCk7CiAgICAgICAgICB1dGlscy5lbmFibGVPbkNvcHlCeUNhcHR1cmUoKTsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZSA9IHsKICAgICAgcmVnZXhwOiBuZXcgUmVnRXhwKFsKICAgICAgICAgICJjb21tYW5kbGludXgiLAogICAgICAgICAgImNua2kiLAogICAgICAgICAgInJ1aXdlbiIsCiAgICAgICAgICAib2gxMDAiLAogICAgICAgICAgImZ3c2lyIiwKICAgICAgICAgICJ3ZW54bSIsCiAgICAgICAgICAidW5qcyIsCiAgICAgICAgICAiYWhzcnN0IiwKICAgICAgICAgICJ5amJ5cyIsCiAgICAgICAgICAiMzYwZG9jIiwKICAgICAgICAgICI4NTA1MDAiLAogICAgICAgICAgImppYW5iaWFva3UiLAogICAgICAgICAgImt0MjUwIiwKICAgICAgICAgICJrZWp1ZGF0aSIsCiAgICAgICAgICAiYmFpYmVpa2UiLAogICAgICAgICAgInl1cXVlIiwKICAgICAgICAgICJjbnJlbmNhaSIsCiAgICAgICAgICAia29kaXBsYXllciIsCiAgICAgICAgICAidG9uZ3hpZWh1aSIsCiAgICAgICAgICAibmRQdXJlVmlldyIsCiAgICAgICAgICAiamlhbnNodSIsCiAgICAgIF0uam9pbigifCIpKSwKICAgICAgaW5pdDogZnVuY3Rpb24gKCQpIHsKICAgICAgICAgIHV0aWxzLmhpZGVCdXR0b24oJCk7CiAgICAgICAgICB1dGlscy5lbmFibGVVc2VyU2VsZWN0KCQsICIqIik7CiAgICAgICAgICB1dGlscy5lbmFibGVPbkNvcHlCeUNhcHR1cmUoKTsKICAgICAgfSwKICB9OwoKICB2YXIgd2Vic2l0ZXMgPSBbCiAgICAgIHdlYnNpdGUkcCwKICAgICAgd2Vic2l0ZSRvLAogICAgICB3ZWJzaXRlJG4sCiAgICAgIHdlYnNpdGUkbSwKICAgICAgd2Vic2l0ZSRsLAogICAgICB3ZWJzaXRlJGssCiAgICAgIHdlYnNpdGUkaiwKICAgICAgd2Vic2l0ZSRpLAogICAgICB3ZWJzaXRlJGgsCiAgICAgIHdlYnNpdGUkZywKICAgICAgd2Vic2l0ZSRmLAogICAgICB3ZWJzaXRlJGUsCiAgICAgIHdlYnNpdGUkZCwKICAgICAgd2Vic2l0ZSRjLAogICAgICB3ZWJzaXRlJGIsCiAgICAgIHdlYnNpdGUkYSwKICAgICAgd2Vic2l0ZSQ5LAogICAgICB3ZWJzaXRlJDgsCiAgICAgIHdlYnNpdGUkNywKICAgICAgd2Vic2l0ZSQ2LAogICAgICB3ZWJzaXRlJDUsCiAgICAgIHdlYnNpdGUkcSwKICAgICAgd2Vic2l0ZSQ0LAogICAgICB3ZWJzaXRlJDMsCiAgICAgIHdlYnNpdGUkMiwKICAgICAgd2Vic2l0ZSQxLAogICAgICB3ZWJzaXRlLAogIF07CgogIHZhciBzaXRlR2V0U2VsZWN0ZWRUZXh0ID0gbnVsbDsKICB2YXIgaW5pdFdlYnNpdGUgPSBmdW5jdGlvbiAoJCkgewogICAgICB2YXIgd2Vic2l0ZUNvbmZpZyA9IHsKICAgICAgICAgIGluaXRDb3B5RXZlbnQ6IHRydWUsCiAgICAgICAgICBydW5BdDogImRvY3VtZW50LWVuZCIsCiAgICAgIH07CiAgICAgIHZhciBtYXRoZXIgPSBmdW5jdGlvbiAocmVnZXgsIHdlYnNpdGUpIHsKICAgICAgICAgIGlmIChyZWdleC50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSkgewogICAgICAgICAgICAgIGlmICh3ZWJzaXRlLmNvbmZpZykKICAgICAgICAgICAgICAgICAgd2Vic2l0ZUNvbmZpZyA9IE9iamVjdC5hc3NpZ24od2Vic2l0ZUNvbmZpZywgd2Vic2l0ZS5jb25maWcpOwogICAgICAgICAgICAgIGlmICh3ZWJzaXRlQ29uZmlnLnJ1bkF0ID09PSAiZG9jdW1lbnQtZW5kIikgewogICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gd2Vic2l0ZS5pbml0KCQpOyB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgIHdlYnNpdGUuaW5pdCgkKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKHdlYnNpdGUuZ2V0U2VsZWN0ZWRUZXh0KQogICAgICAgICAgICAgICAgICBzaXRlR2V0U2VsZWN0ZWRUZXh0ID0gd2Vic2l0ZS5nZXRTZWxlY3RlZFRleHQ7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH07CiAgICAgIHdlYnNpdGVzLnNvbWUoZnVuY3Rpb24gKHdlYnNpdGUpIHsgcmV0dXJuIG1hdGhlcih3ZWJzaXRlLnJlZ2V4cCwgd2Vic2l0ZSk7IH0pOwogICAgICByZXR1cm4gd2Vic2l0ZUNvbmZpZzsKICB9OwogIHZhciBnZXRTZWxlY3RlZFRleHQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChzaXRlR2V0U2VsZWN0ZWRUZXh0KQogICAgICAgICAgcmV0dXJuIHNpdGVHZXRTZWxlY3RlZFRleHQoKTsKICAgICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pCiAgICAgICAgICByZXR1cm4gd2luZG93LmdldFNlbGVjdGlvbigpLnRvU3RyaW5nKCk7CiAgICAgIGlmIChkb2N1bWVudC5nZXRTZWxlY3Rpb24pCiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCkudG9TdHJpbmcoKTsKICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikKICAgICAgICAgIHJldHVybiBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS50ZXh0OwogICAgICByZXR1cm4gIiI7CiAgfTsKCiAgKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyICQgPSB3aW5kb3cuJDsKICAgICAgdmFyIENsaXBib2FyZEpTID0gd2luZG93LkNsaXBib2FyZEpTOyAvLyBodHRwczovL2NsaXBib2FyZGpzLmNvbS8jZXhhbXBsZS10ZXh0CiAgICAgIHZhciB3ZWJzaXRlQ29uZmlnID0gaW5pdFdlYnNpdGUoJCk7CiAgICAgIGluaXRFdmVudCgkLCB3ZWJzaXRlQ29uZmlnKTsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgY29weVRleHQgPSBnZXRTZWxlY3RlZFRleHQoKTsKICAgICAgICAgIGlmIChjb3B5VGV4dCkKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjb3B5VGV4dCk7CiAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgICAgJCgiI19jb3B5IikucmVtb3ZlKCk7CiAgICAgICAgICB2YXIgdGVtcGxhdGUgPSAiXG4gICAgICAgICAgICA8ZGl2IGlkPVwiX2NvcHlcIlxuICAgICAgICAgICAgc3R5bGU9XCJsZWZ0OiIuY29uY2F0KGUucGFnZVggKyAzMCwgInB4O3RvcDoiKS5jb25jYXQoZS5wYWdlWSwgInB4O1wiXG4gICAgICAgICAgICBkYXRhLWNsaXBib2FyZC10ZXh0PVwiIikuY29uY2F0KGNvcHlUZXh0LnJlcGxhY2UoLyIvZywgIiZxdW90OyIpLCAiXCI+XHU1OTBEXHU1MjM2PC9kaXY+XG4gICAgICAgICIpOwogICAgICAgICAgJCgiYm9keSIpLmFwcGVuZCh0ZW1wbGF0ZSk7CiAgICAgICAgICAkKCIjX2NvcHkiKS5vbigibW91c2Vkb3duIiwgZnVuY3Rpb24gKGV2ZW50KSB7IHJldHVybiBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgfSk7CiAgICAgICAgICAkKCIjX2NvcHkiKS5vbigibW91c2V1cCIsIGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IH0pOwogICAgICAgICAgdmFyIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmRKUygiI19jb3B5Iik7CiAgICAgICAgICBiaW5kQ2xpcGJvYXJkRXZlbnQoY2xpcGJvYXJkKTsKICAgICAgfSk7CiAgfSkoKTsKICAvKioKICAgKiBodHRwczovL3d3dy5odWl5aW5nd3UuY29tLzE3MTgvCiAgICovCgp9KSgpOwo=","requires":[{"meta":{"name":"jquery.min.js","url":"https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js","ts":1661936236499,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2My42LjAgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwohZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZS5kb2N1bWVudD90KGUsITApOmZ1bmN0aW9uKGUpe2lmKCFlLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KGUpfTp0KGUpfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihDLGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdD1bXSxyPU9iamVjdC5nZXRQcm90b3R5cGVPZixzPXQuc2xpY2UsZz10LmZsYXQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmxhdC5jYWxsKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gdC5jb25jYXQuYXBwbHkoW10sZSl9LHU9dC5wdXNoLGk9dC5pbmRleE9mLG49e30sbz1uLnRvU3RyaW5nLHY9bi5oYXNPd25Qcm9wZXJ0eSxhPXYudG9TdHJpbmcsbD1hLmNhbGwoT2JqZWN0KSx5PXt9LG09ZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJiJudW1iZXIiIT10eXBlb2YgZS5ub2RlVHlwZSYmImZ1bmN0aW9uIiE9dHlwZW9mIGUuaXRlbX0seD1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZT09PWUud2luZG93fSxFPUMuZG9jdW1lbnQsYz17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9O2Z1bmN0aW9uIGIoZSx0LG4pe3ZhciByLGksbz0obj1ufHxFKS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtpZihvLnRleHQ9ZSx0KWZvcihyIGluIGMpKGk9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmby5zZXRBdHRyaWJ1dGUocixpKTtuLmhlYWQuYXBwZW5kQ2hpbGQobykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKX1mdW5jdGlvbiB3KGUpe3JldHVybiBudWxsPT1lP2UrIiI6Im9iamVjdCI9PXR5cGVvZiBlfHwiZnVuY3Rpb24iPT10eXBlb2YgZT9uW28uY2FsbChlKV18fCJvYmplY3QiOnR5cGVvZiBlfXZhciBmPSIzLjYuMCIsUz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgUy5mbi5pbml0KGUsdCl9O2Z1bmN0aW9uIHAoZSl7dmFyIHQ9ISFlJiYibGVuZ3RoImluIGUmJmUubGVuZ3RoLG49dyhlKTtyZXR1cm4hbShlKSYmIXgoZSkmJigiYXJyYXkiPT09bnx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gZSl9Uy5mbj1TLnByb3RvdHlwZT17anF1ZXJ5OmYsY29uc3RydWN0b3I6UyxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHMuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP3MuY2FsbCh0aGlzKTplPDA/dGhpc1tlK3RoaXMubGVuZ3RoXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSl7dmFyIHQ9Uy5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksZSk7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZWFjaCh0aGlzLGUpfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMubWFwKHRoaXMsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKGUsdCxlKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2socy5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxldmVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQrMSklMn0pKX0sb2RkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFMuZ3JlcCh0aGlzLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQlMn0pKX0sZXE6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5sZW5ndGgsbj0rZSsoZTwwP3Q6MCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKDA8PW4mJm48dD9bdGhpc1tuXV06W10pfSxlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2T2JqZWN0fHx0aGlzLmNvbnN0cnVjdG9yKCl9LHB1c2g6dSxzb3J0OnQuc29ydCxzcGxpY2U6dC5zcGxpY2V9LFMuZXh0ZW5kPVMuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaSxvLGE9YXJndW1lbnRzWzBdfHx7fSxzPTEsdT1hcmd1bWVudHMubGVuZ3RoLGw9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIGEmJihsPWEsYT1hcmd1bWVudHNbc118fHt9LHMrKyksIm9iamVjdCI9PXR5cGVvZiBhfHxtKGEpfHwoYT17fSkscz09PXUmJihhPXRoaXMscy0tKTtzPHU7cysrKWlmKG51bGwhPShlPWFyZ3VtZW50c1tzXSkpZm9yKHQgaW4gZSlyPWVbdF0sIl9fcHJvdG9fXyIhPT10JiZhIT09ciYmKGwmJnImJihTLmlzUGxhaW5PYmplY3Qocil8fChpPUFycmF5LmlzQXJyYXkocikpKT8obj1hW3RdLG89aSYmIUFycmF5LmlzQXJyYXkobik/W106aXx8Uy5pc1BsYWluT2JqZWN0KG4pP246e30saT0hMSxhW3RdPVMuZXh0ZW5kKGwsbyxyKSk6dm9pZCAwIT09ciYmKGFbdF09cikpO3JldHVybiBhfSxTLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5IisoZitNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxpc1JlYWR5OiEwLGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiEoIWV8fCJbb2JqZWN0IE9iamVjdF0iIT09by5jYWxsKGUpKSYmKCEodD1yKGUpKXx8ImZ1bmN0aW9uIj09dHlwZW9mKG49di5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZhLmNhbGwobik9PT1sKX0saXNFbXB0eU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdDtmb3IodCBpbiBlKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGUsdCxuKXtiKGUse25vbmNlOnQmJnQubm9uY2V9LG4pfSxlYWNoOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2lmKHAoZSkpe2ZvcihuPWUubGVuZ3RoO3I8bjtyKyspaWYoITE9PT10LmNhbGwoZVtyXSxyLGVbcl0pKWJyZWFrfWVsc2UgZm9yKHIgaW4gZSlpZighMT09PXQuY2FsbChlW3JdLHIsZVtyXSkpYnJlYWs7cmV0dXJuIGV9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuPXR8fFtdO3JldHVybiBudWxsIT1lJiYocChPYmplY3QoZSkpP1MubWVyZ2Uobiwic3RyaW5nIj09dHlwZW9mIGU/W2VdOmUpOnUuY2FsbChuLGUpKSxufSxpbkFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09dD8tMTppLmNhbGwodCxlLG4pfSxtZXJnZTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0rdC5sZW5ndGgscj0wLGk9ZS5sZW5ndGg7cjxuO3IrKyllW2krK109dFtyXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9W10saT0wLG89ZS5sZW5ndGgsYT0hbjtpPG87aSsrKSF0KGVbaV0saSkhPT1hJiZyLnB1c2goZVtpXSk7cmV0dXJuIHJ9LG1hcDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPTAsYT1bXTtpZihwKGUpKWZvcihyPWUubGVuZ3RoO288cjtvKyspbnVsbCE9KGk9dChlW29dLG8sbikpJiZhLnB1c2goaSk7ZWxzZSBmb3IobyBpbiBlKW51bGwhPShpPXQoZVtvXSxvLG4pKSYmYS5wdXNoKGkpO3JldHVybiBnKGEpfSxndWlkOjEsc3VwcG9ydDp5fSksImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKFMuZm5bU3ltYm9sLml0ZXJhdG9yXT10W1N5bWJvbC5pdGVyYXRvcl0pLFMuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXtuWyJbb2JqZWN0ICIrdCsiXSJdPXQudG9Mb3dlckNhc2UoKX0pO3ZhciBkPWZ1bmN0aW9uKG4pe3ZhciBlLGQsYixvLGksaCxmLGcsdyx1LGwsVCxDLGEsRSx2LHMsYyx5LFM9InNpenpsZSIrMSpuZXcgRGF0ZSxwPW4uZG9jdW1lbnQsaz0wLHI9MCxtPXVlKCkseD11ZSgpLEE9dWUoKSxOPXVlKCksaj1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dCYmKGw9ITApLDB9LEQ9e30uaGFzT3duUHJvcGVydHksdD1bXSxxPXQucG9wLEw9dC5wdXNoLEg9dC5wdXNoLE89dC5zbGljZSxQPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj1lLmxlbmd0aDtuPHI7bisrKWlmKGVbbl09PT10KXJldHVybiBuO3JldHVybi0xfSxSPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTT0iW1xceDIwXFx0XFxyXFxuXFxmXSIsST0iKD86XFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXFteXFxyXFxuXFxmXXxbXFx3LV18W15cMC1cXHg3Zl0pKyIsVz0iXFxbIitNKyIqKCIrSSsiKSg/OiIrTSsiKihbKl4kfCF+XT89KSIrTSsiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiK0krIikpfCkiK00rIipcXF0iLEY9IjooIitJKyIpKD86XFwoKCgnKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8KCg/OlxcXFwufFteXFxcXCgpW1xcXV18IitXKyIpKil8LiopXFwpfCkiLEI9bmV3IFJlZ0V4cChNKyIrIiwiZyIpLCQ9bmV3IFJlZ0V4cCgiXiIrTSsiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitNKyIrJCIsImciKSxfPW5ldyBSZWdFeHAoIl4iK00rIiosIitNKyIqIiksej1uZXcgUmVnRXhwKCJeIitNKyIqKFs+K35dfCIrTSsiKSIrTSsiKiIpLFU9bmV3IFJlZ0V4cChNKyJ8PiIpLFg9bmV3IFJlZ0V4cChGKSxWPW5ldyBSZWdFeHAoIl4iK0krIiQiKSxHPXtJRDpuZXcgUmVnRXhwKCJeIygiK0krIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrSSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrSSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK1cpLFBTRVVETzpuZXcgUmVnRXhwKCJeIitGKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK00rIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK00rIiooPzooWystXXwpIitNKyIqKFxcZCspfCkpIitNKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitSKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTSsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitNKyIqKCg/Oi1cXGQpP1xcZCopIitNKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxZPS9IVE1MJC9pLFE9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxKPS9eaFxkJC9pLEs9L15bXntdK1x7XHMqXFtuYXRpdmUgXHcvLFo9L14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLyxlZT0vWyt+XS8sdGU9bmV3IFJlZ0V4cCgiXFxcXFtcXGRhLWZBLUZdezEsNn0iK00rIj98XFxcXChbXlxcclxcblxcZl0pIiwiZyIpLG5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49IjB4IitlLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwobjwwP1N0cmluZy5mcm9tQ2hhckNvZGUobis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShuPj4xMHw1NTI5NiwxMDIzJm58NTYzMjApKX0scmU9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csaWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8iXDAiPT09ZT8iXHVmZmZkIjplLnNsaWNlKDAsLTEpKyJcXCIrZS5jaGFyQ29kZUF0KGUubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitlfSxvZT1mdW5jdGlvbigpe1QoKX0sYWU9YmUoZnVuY3Rpb24oZSl7cmV0dXJuITA9PT1lLmRpc2FibGVkJiYiZmllbGRzZXQiPT09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e0guYXBwbHkodD1PLmNhbGwocC5jaGlsZE5vZGVzKSxwLmNoaWxkTm9kZXMpLHRbcC5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2goZSl7SD17YXBwbHk6dC5sZW5ndGg/ZnVuY3Rpb24oZSx0KXtMLmFwcGx5KGUsTy5jYWxsKHQpKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPTA7d2hpbGUoZVtuKytdPXRbcisrXSk7ZS5sZW5ndGg9bi0xfX19ZnVuY3Rpb24gc2UodCxlLG4scil7dmFyIGksbyxhLHMsdSxsLGMsZj1lJiZlLm93bmVyRG9jdW1lbnQscD1lP2Uubm9kZVR5cGU6OTtpZihuPW58fFtdLCJzdHJpbmciIT10eXBlb2YgdHx8IXR8fDEhPT1wJiY5IT09cCYmMTEhPT1wKXJldHVybiBuO2lmKCFyJiYoVChlKSxlPWV8fEMsRSkpe2lmKDExIT09cCYmKHU9Wi5leGVjKHQpKSlpZihpPXVbMV0pe2lmKDk9PT1wKXtpZighKGE9ZS5nZXRFbGVtZW50QnlJZChpKSkpcmV0dXJuIG47aWYoYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2UgaWYoZiYmKGE9Zi5nZXRFbGVtZW50QnlJZChpKSkmJnkoZSxhKSYmYS5pZD09PWkpcmV0dXJuIG4ucHVzaChhKSxufWVsc2V7aWYodVsyXSlyZXR1cm4gSC5hcHBseShuLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUodCkpLG47aWYoKGk9dVszXSkmJmQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBILmFwcGx5KG4sZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGkpKSxufWlmKGQucXNhJiYhTlt0KyIgIl0mJighdnx8IXYudGVzdCh0KSkmJigxIT09cHx8Im9iamVjdCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihjPXQsZj1lLDE9PT1wJiYoVS50ZXN0KHQpfHx6LnRlc3QodCkpKXsoZj1lZS50ZXN0KHQpJiZ5ZShlLnBhcmVudE5vZGUpfHxlKT09PWUmJmQuc2NvcGV8fCgocz1lLmdldEF0dHJpYnV0ZSgiaWQiKSk/cz1zLnJlcGxhY2UocmUsaWUpOmUuc2V0QXR0cmlidXRlKCJpZCIscz1TKSksbz0obD1oKHQpKS5sZW5ndGg7d2hpbGUoby0tKWxbb109KHM/IiMiK3M6IjpzY29wZSIpKyIgIit4ZShsW29dKTtjPWwuam9pbigiLCIpfXRyeXtyZXR1cm4gSC5hcHBseShuLGYucXVlcnlTZWxlY3RvckFsbChjKSksbn1jYXRjaChlKXtOKHQsITApfWZpbmFsbHl7cz09PVMmJmUucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGcodC5yZXBsYWNlKCQsIiQxIiksZSxuLHIpfWZ1bmN0aW9uIHVlKCl7dmFyIHI9W107cmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtyZXR1cm4gci5wdXNoKHQrIiAiKT5iLmNhY2hlTGVuZ3RoJiZkZWxldGUgZVtyLnNoaWZ0KCldLGVbdCsiICJdPW59fWZ1bmN0aW9uIGxlKGUpe3JldHVybiBlW1NdPSEwLGV9ZnVuY3Rpb24gY2UoZSl7dmFyIHQ9Qy5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIWUodCl9Y2F0Y2goZSl7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSx0PW51bGx9fWZ1bmN0aW9uIGZlKGUsdCl7dmFyIG49ZS5zcGxpdCgifCIpLHI9bi5sZW5ndGg7d2hpbGUoci0tKWIuYXR0ckhhbmRsZVtuW3JdXT10fWZ1bmN0aW9uIHBlKGUsdCl7dmFyIG49dCYmZSxyPW4mJjE9PT1lLm5vZGVUeXBlJiYxPT09dC5ub2RlVHlwZSYmZS5zb3VyY2VJbmRleC10LnNvdXJjZUluZGV4O2lmKHIpcmV0dXJuIHI7aWYobil3aGlsZShuPW4ubmV4dFNpYmxpbmcpaWYobj09PXQpcmV0dXJuLTE7cmV0dXJuIGU/MTotMX1mdW5jdGlvbiBkZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmZS50eXBlPT09dH19ZnVuY3Rpb24gaGUobil7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PXR8fCJidXR0b24iPT09dCkmJmUudHlwZT09PW59fWZ1bmN0aW9uIGdlKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4iZm9ybSJpbiBlP2UucGFyZW50Tm9kZSYmITE9PT1lLmRpc2FibGVkPyJsYWJlbCJpbiBlPyJsYWJlbCJpbiBlLnBhcmVudE5vZGU/ZS5wYXJlbnROb2RlLmRpc2FibGVkPT09dDplLmRpc2FibGVkPT09dDplLmlzRGlzYWJsZWQ9PT10fHxlLmlzRGlzYWJsZWQhPT0hdCYmYWUoZSk9PT10OmUuZGlzYWJsZWQ9PT10OiJsYWJlbCJpbiBlJiZlLmRpc2FibGVkPT09dH19ZnVuY3Rpb24gdmUoYSl7cmV0dXJuIGxlKGZ1bmN0aW9uKG8pe3JldHVybiBvPStvLGxlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKFtdLGUubGVuZ3RoLG8pLGk9ci5sZW5ndGg7d2hpbGUoaS0tKWVbbj1yW2ldXSYmKGVbbl09ISh0W25dPWVbbl0pKX0pfSl9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZSYmZX1mb3IoZSBpbiBkPXNlLnN1cHBvcnQ9e30saT1zZS5pc1hNTD1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLm5hbWVzcGFjZVVSSSxuPWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4hWS50ZXN0KHR8fG4mJm4ubm9kZU5hbWV8fCJIVE1MIil9LFQ9c2Uuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPWU/ZS5vd25lckRvY3VtZW50fHxlOnA7cmV0dXJuIHIhPUMmJjk9PT1yLm5vZGVUeXBlJiZyLmRvY3VtZW50RWxlbWVudCYmKGE9KEM9cikuZG9jdW1lbnRFbGVtZW50LEU9IWkoQykscCE9QyYmKG49Qy5kZWZhdWx0VmlldykmJm4udG9wIT09biYmKG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsb2UsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9udW5sb2FkIixvZSkpLGQuc2NvcGU9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoQy5jcmVhdGVFbGVtZW50KCJkaXYiKSksInVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGwmJiFlLnF1ZXJ5U2VsZWN0b3JBbGwoIjpzY29wZSBmaWVsZHNldCBkaXYiKS5sZW5ndGh9KSxkLmF0dHJpYnV0ZXM9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2xhc3NOYW1lPSJpIiwhZS5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZC5nZXRFbGVtZW50c0J5VGFnTmFtZT1jZShmdW5jdGlvbihlKXtyZXR1cm4gZS5hcHBlbmRDaGlsZChDLmNyZWF0ZUNvbW1lbnQoIiIpKSwhZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1LLnRlc3QoQy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxkLmdldEJ5SWQ9Y2UoZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwZW5kQ2hpbGQoZSkuaWQ9UywhQy5nZXRFbGVtZW50c0J5TmFtZXx8IUMuZ2V0RWxlbWVudHNCeU5hbWUoUykubGVuZ3RofSksZC5nZXRCeUlkPyhiLmZpbHRlci5JRD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlcGxhY2UodGUsbmUpO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sYi5maW5kLklEPWZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZFKXt2YXIgbj10LmdldEVsZW1lbnRCeUlkKGUpO3JldHVybiBuP1tuXTpbXX19KTooYi5maWx0ZXIuSUQ9ZnVuY3Rpb24oZSl7dmFyIG49ZS5yZXBsYWNlKHRlLG5lKTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUmJmUuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gdCYmdC52YWx1ZT09PW59fSxiLmZpbmQuSUQ9ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudEJ5SWQmJkUpe3ZhciBuLHIsaSxvPXQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYobyl7aWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dO2k9dC5nZXRFbGVtZW50c0J5TmFtZShlKSxyPTA7d2hpbGUobz1pW3IrK10paWYoKG49by5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmbi52YWx1ZT09PWUpcmV0dXJuW29dfXJldHVybltdfX0pLGIuZmluZC5UQUc9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihlLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpOmQucXNhP3QucXVlcnlTZWxlY3RvckFsbChlKTp2b2lkIDB9OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPTAsbz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKCIqIj09PWUpe3doaWxlKG49b1tpKytdKTE9PT1uLm5vZGVUeXBlJiZyLnB1c2gobik7cmV0dXJuIHJ9cmV0dXJuIG99LGIuZmluZC5DTEFTUz1kLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJkUpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlKX0scz1bXSx2PVtdLChkLnFzYT1LLnRlc3QoQy5xdWVyeVNlbGVjdG9yQWxsKSkmJihjZShmdW5jdGlvbihlKXt2YXIgdDthLmFwcGVuZENoaWxkKGUpLmlubmVySFRNTD0iPGEgaWQ9JyIrUysiJz48L2E+PHNlbGVjdCBpZD0nIitTKyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGUucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnYucHVzaCgiWypeJF09IitNKyIqKD86Jyd8XCJcIikiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqKD86dmFsdWV8IitSKyIpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrUysiLV0iKS5sZW5ndGh8fHYucHVzaCgifj0iKSwodD1DLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgibmFtZSIsIiIpLGUuYXBwZW5kQ2hpbGQodCksZS5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT0nJ10iKS5sZW5ndGh8fHYucHVzaCgiXFxbIitNKyIqbmFtZSIrTSsiKj0iK00rIiooPzonJ3xcIlwiKSIpLGUucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fHYucHVzaCgiOmNoZWNrZWQiKSxlLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitTKyIrKiIpLmxlbmd0aHx8di5wdXNoKCIuIy4rWyt+XSIpLGUucXVlcnlTZWxlY3RvckFsbCgiXFxcZiIpLHYucHVzaCgiW1xcclxcblxcZl0iKX0pLGNlKGZ1bmN0aW9uKGUpe2UuaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD4iO3ZhciB0PUMuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGUuYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGUucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnYucHVzaCgibmFtZSIrTSsiKlsqXiR8IX5dPz0iKSwyIT09ZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmdi5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpLGEuYXBwZW5kQ2hpbGQoZSkuZGlzYWJsZWQ9ITAsMiE9PWUucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZ2LnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksZS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iiksdi5wdXNoKCIsLio6Iil9KSksKGQubWF0Y2hlc1NlbGVjdG9yPUsudGVzdChjPWEubWF0Y2hlc3x8YS53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLm9NYXRjaGVzU2VsZWN0b3J8fGEubXNNYXRjaGVzU2VsZWN0b3IpKSYmY2UoZnVuY3Rpb24oZSl7ZC5kaXNjb25uZWN0ZWRNYXRjaD1jLmNhbGwoZSwiKiIpLGMuY2FsbChlLCJbcyE9JyddOngiKSxzLnB1c2goIiE9IixGKX0pLHY9di5sZW5ndGgmJm5ldyBSZWdFeHAodi5qb2luKCJ8IikpLHM9cy5sZW5ndGgmJm5ldyBSZWdFeHAocy5qb2luKCJ8IikpLHQ9Sy50ZXN0KGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24pLHk9dHx8Sy50ZXN0KGEuY29udGFpbnMpP2Z1bmN0aW9uKGUsdCl7dmFyIG49OT09PWUubm9kZVR5cGU/ZS5kb2N1bWVudEVsZW1lbnQ6ZSxyPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gZT09PXJ8fCEoIXJ8fDEhPT1yLm5vZGVUeXBlfHwhKG4uY29udGFpbnM/bi5jb250YWlucyhyKTplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSl9OmZ1bmN0aW9uKGUsdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09ZSlyZXR1cm4hMDtyZXR1cm4hMX0saj10P2Z1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbj0hZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gbnx8KDEmKG49KGUub3duZXJEb2N1bWVudHx8ZSk9PSh0Lm93bmVyRG9jdW1lbnR8fHQpP2UuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCk6MSl8fCFkLnNvcnREZXRhY2hlZCYmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKT09PW4/ZT09Q3x8ZS5vd25lckRvY3VtZW50PT1wJiZ5KHAsZSk/LTE6dD09Q3x8dC5vd25lckRvY3VtZW50PT1wJiZ5KHAsdCk/MTp1P1AodSxlKS1QKHUsdCk6MDo0Jm4/LTE6MSl9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDt2YXIgbixyPTAsaT1lLnBhcmVudE5vZGUsbz10LnBhcmVudE5vZGUsYT1bZV0scz1bdF07aWYoIWl8fCFvKXJldHVybiBlPT1DPy0xOnQ9PUM/MTppPy0xOm8/MTp1P1AodSxlKS1QKHUsdCk6MDtpZihpPT09bylyZXR1cm4gcGUoZSx0KTtuPWU7d2hpbGUobj1uLnBhcmVudE5vZGUpYS51bnNoaWZ0KG4pO249dDt3aGlsZShuPW4ucGFyZW50Tm9kZSlzLnVuc2hpZnQobik7d2hpbGUoYVtyXT09PXNbcl0pcisrO3JldHVybiByP3BlKGFbcl0sc1tyXSk6YVtyXT09cD8tMTpzW3JdPT1wPzE6MH0pLEN9LHNlLm1hdGNoZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gc2UoZSxudWxsLG51bGwsdCl9LHNlLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihlLHQpe2lmKFQoZSksZC5tYXRjaGVzU2VsZWN0b3ImJkUmJiFOW3QrIiAiXSYmKCFzfHwhcy50ZXN0KHQpKSYmKCF2fHwhdi50ZXN0KHQpKSl0cnl7dmFyIG49Yy5jYWxsKGUsdCk7aWYobnx8ZC5kaXNjb25uZWN0ZWRNYXRjaHx8ZS5kb2N1bWVudCYmMTEhPT1lLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiBufWNhdGNoKGUpe04odCwhMCl9cmV0dXJuIDA8c2UodCxDLG51bGwsW2VdKS5sZW5ndGh9LHNlLmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSkseShlLHQpfSxzZS5hdHRyPWZ1bmN0aW9uKGUsdCl7KGUub3duZXJEb2N1bWVudHx8ZSkhPUMmJlQoZSk7dmFyIG49Yi5hdHRySGFuZGxlW3QudG9Mb3dlckNhc2UoKV0scj1uJiZELmNhbGwoYi5hdHRySGFuZGxlLHQudG9Mb3dlckNhc2UoKSk/bihlLHQsIUUpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09cj9yOmQuYXR0cmlidXRlc3x8IUU/ZS5nZXRBdHRyaWJ1dGUodCk6KHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSxzZS5lc2NhcGU9ZnVuY3Rpb24oZSl7cmV0dXJuKGUrIiIpLnJlcGxhY2UocmUsaWUpfSxzZS5lcnJvcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZSl9LHNlLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTAsaT0wO2lmKGw9IWQuZGV0ZWN0RHVwbGljYXRlcyx1PSFkLnNvcnRTdGFibGUmJmUuc2xpY2UoMCksZS5zb3J0KGopLGwpe3doaWxlKHQ9ZVtpKytdKXQ9PT1lW2ldJiYocj1uLnB1c2goaSkpO3doaWxlKHItLSllLnNwbGljZShuW3JdLDEpfXJldHVybiB1PW51bGwsZX0sbz1zZS5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZigxPT09aXx8OT09PWl8fDExPT09aSl7aWYoInN0cmluZyI9PXR5cGVvZiBlLnRleHRDb250ZW50KXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1vKGUpfWVsc2UgaWYoMz09PWl8fDQ9PT1pKXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKHQ9ZVtyKytdKW4rPW8odCk7cmV0dXJuIG59LChiPXNlLnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOmxlLG1hdGNoOkcsYXR0ckhhbmRsZTp7fSxmaW5kOnt9LHJlbGF0aXZlOnsiPiI6e2RpcjoicGFyZW50Tm9kZSIsZmlyc3Q6ITB9LCIgIjp7ZGlyOiJwYXJlbnROb2RlIn0sIisiOntkaXI6InByZXZpb3VzU2libGluZyIsZmlyc3Q6ITB9LCJ+Ijp7ZGlyOiJwcmV2aW91c1NpYmxpbmcifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGUpe3JldHVybiBlWzFdPWVbMV0ucmVwbGFjZSh0ZSxuZSksZVszXT0oZVszXXx8ZVs0XXx8ZVs1XXx8IiIpLnJlcGxhY2UodGUsbmUpLCJ+PSI9PT1lWzJdJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLCJudGgiPT09ZVsxXS5zbGljZSgwLDMpPyhlWzNdfHxzZS5lcnJvcihlWzBdKSxlWzRdPSsoZVs0XT9lWzVdKyhlWzZdfHwxKToyKigiZXZlbiI9PT1lWzNdfHwib2RkIj09PWVbM10pKSxlWzVdPSsoZVs3XStlWzhdfHwib2RkIj09PWVbM10pKTplWzNdJiZzZS5lcnJvcihlWzBdKSxlfSxQU0VVRE86ZnVuY3Rpb24oZSl7dmFyIHQsbj0hZVs2XSYmZVsyXTtyZXR1cm4gRy5DSElMRC50ZXN0KGVbMF0pP251bGw6KGVbM10/ZVsyXT1lWzRdfHxlWzVdfHwiIjpuJiZYLnRlc3QobikmJih0PWgobiwhMCkpJiYodD1uLmluZGV4T2YoIikiLG4ubGVuZ3RoLXQpLW4ubGVuZ3RoKSYmKGVbMF09ZVswXS5zbGljZSgwLHQpLGVbMl09bi5zbGljZSgwLHQpKSxlLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKHRlLG5lKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PWU/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1tW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitNKyIpIitlKyIoIitNKyJ8JCkiKSkmJm0oZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KCJzdHJpbmciPT10eXBlb2YgZS5jbGFzc05hbWUmJmUuY2xhc3NOYW1lfHwidW5kZWZpbmVkIiE9dHlwZW9mIGUuZ2V0QXR0cmlidXRlJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24obixyLGkpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1zZS5hdHRyKGUsbik7cmV0dXJuIG51bGw9PXQ/IiE9Ij09PXI6IXJ8fCh0Kz0iIiwiPSI9PT1yP3Q9PT1pOiIhPSI9PT1yP3QhPT1pOiJePSI9PT1yP2kmJjA9PT10LmluZGV4T2YoaSk6Iio9Ij09PXI/aSYmLTE8dC5pbmRleE9mKGkpOiIkPSI9PT1yP2kmJnQuc2xpY2UoLWkubGVuZ3RoKT09PWk6In49Ij09PXI/LTE8KCIgIit0LnJlcGxhY2UoQiwiICIpKyIgIikuaW5kZXhPZihpKToifD0iPT09ciYmKHQ9PT1pfHx0LnNsaWNlKDAsaS5sZW5ndGgrMSk9PT1pKyItIikpfX0sQ0hJTEQ6ZnVuY3Rpb24oaCxlLHQsZyx2KXt2YXIgeT0ibnRoIiE9PWguc2xpY2UoMCwzKSxtPSJsYXN0IiE9PWguc2xpY2UoLTQpLHg9Im9mLXR5cGUiPT09ZTtyZXR1cm4gMT09PWcmJjA9PT12P2Z1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJlbnROb2RlfTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEscyx1LGw9eSE9PW0/Im5leHRTaWJsaW5nIjoicHJldmlvdXNTaWJsaW5nIixjPWUucGFyZW50Tm9kZSxmPXgmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxwPSFuJiYheCxkPSExO2lmKGMpe2lmKHkpe3doaWxlKGwpe2E9ZTt3aGlsZShhPWFbbF0paWYoeD9hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1mOjE9PT1hLm5vZGVUeXBlKXJldHVybiExO3U9bD0ib25seSI9PT1oJiYhdSYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih1PVttP2MuZmlyc3RDaGlsZDpjLmxhc3RDaGlsZF0sbSYmcCl7ZD0ocz0ocj0oaT0obz0oYT1jKVtTXXx8KGFbU109e30pKVthLnVuaXF1ZUlEXXx8KG9bYS51bmlxdWVJRF09e30pKVtoXXx8W10pWzBdPT09ayYmclsxXSkmJnJbMl0sYT1zJiZjLmNoaWxkTm9kZXNbc107d2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoMT09PWEubm9kZVR5cGUmJisrZCYmYT09PWUpe2lbaF09W2sscyxkXTticmVha319ZWxzZSBpZihwJiYoZD1zPShyPShpPShvPShhPWUpW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdfHxbXSlbMF09PT1rJiZyWzFdKSwhMT09PWQpd2hpbGUoYT0rK3MmJmEmJmFbbF18fChkPXM9MCl8fHUucG9wKCkpaWYoKHg/YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZjoxPT09YS5ub2RlVHlwZSkmJisrZCYmKHAmJigoaT0obz1hW1NdfHwoYVtTXT17fSkpW2EudW5pcXVlSURdfHwob1thLnVuaXF1ZUlEXT17fSkpW2hdPVtrLGRdKSxhPT09ZSkpYnJlYWs7cmV0dXJuKGQtPXYpPT09Z3x8ZCVnPT0wJiYwPD1kL2d9fX0sUFNFVURPOmZ1bmN0aW9uKGUsbyl7dmFyIHQsYT1iLnBzZXVkb3NbZV18fGIuc2V0RmlsdGVyc1tlLnRvTG93ZXJDYXNlKCldfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2UpO3JldHVybiBhW1NdP2Eobyk6MTxhLmxlbmd0aD8odD1bZSxlLCIiLG9dLGIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShlLnRvTG93ZXJDYXNlKCkpP2xlKGZ1bmN0aW9uKGUsdCl7dmFyIG4scj1hKGUsbyksaT1yLmxlbmd0aDt3aGlsZShpLS0pZVtuPVAoZSxyW2ldKV09ISh0W25dPXJbaV0pfSk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEoZSwwLHQpfSk6YX19LHBzZXVkb3M6e25vdDpsZShmdW5jdGlvbihlKXt2YXIgcj1bXSxpPVtdLHM9ZihlLnJlcGxhY2UoJCwiJDEiKSk7cmV0dXJuIHNbU10/bGUoZnVuY3Rpb24oZSx0LG4scil7dmFyIGksbz1zKGUsbnVsbCxyLFtdKSxhPWUubGVuZ3RoO3doaWxlKGEtLSkoaT1vW2FdKSYmKGVbYV09ISh0W2FdPWkpKX0pOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gclswXT1lLHMocixudWxsLG4saSksclswXT1udWxsLCFpLnBvcCgpfX0pLGhhczpsZShmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIDA8c2UodCxlKS5sZW5ndGh9fSksY29udGFpbnM6bGUoZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5yZXBsYWNlKHRlLG5lKSxmdW5jdGlvbihlKXtyZXR1cm4tMTwoZS50ZXh0Q29udGVudHx8byhlKSkuaW5kZXhPZih0KX19KSxsYW5nOmxlKGZ1bmN0aW9uKG4pe3JldHVybiBWLnRlc3Qobnx8IiIpfHxzZS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIituKSxuPW4ucmVwbGFjZSh0ZSxuZSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihlKXt2YXIgdDtkb3tpZih0PUU/ZS5sYW5nOmUuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxlLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybih0PXQudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09dC5pbmRleE9mKG4rIi0iKX13aGlsZSgoZT1lLnBhcmVudE5vZGUpJiYxPT09ZS5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gdCYmdC5zbGljZSgxKT09PWUuaWR9LHJvb3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hfSxmb2N1czpmdW5jdGlvbihlKXtyZXR1cm4gZT09PUMuYWN0aXZlRWxlbWVudCYmKCFDLmhhc0ZvY3VzfHxDLmhhc0ZvY3VzKCkpJiYhIShlLnR5cGV8fGUuaHJlZnx8fmUudGFiSW5kZXgpfSxlbmFibGVkOmdlKCExKSxkaXNhYmxlZDpnZSghMCksY2hlY2tlZDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhZS5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhZS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyZW50Tm9kZSYmZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1lLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihlKXtmb3IoZT1lLmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpaWYoZS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIWIucHNldWRvcy5lbXB0eShlKX0saGVhZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBKLnRlc3QoZS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGUpe3JldHVybiBRLnRlc3QoZS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiJidXR0b24iPT09ZS50eXBlfHwiYnV0dG9uIj09PXR9LHRleHQ6ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmInRleHQiPT09ZS50eXBlJiYobnVsbD09KHQ9ZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSl8fCJ0ZXh0Ij09PXQudG9Mb3dlckNhc2UoKSl9LGZpcnN0OnZlKGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDp2ZShmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6dmUoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDp2ZShmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnZlKGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDp0PG4/dDpuOzA8PS0tcjspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6dmUoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0pLnBzZXVkb3MubnRoPWIucHNldWRvcy5lcSx7cmFkaW86ITAsY2hlY2tib3g6ITAsZmlsZTohMCxwYXNzd29yZDohMCxpbWFnZTohMH0pYi5wc2V1ZG9zW2VdPWRlKGUpO2ZvcihlIGlue3N1Ym1pdDohMCxyZXNldDohMH0pYi5wc2V1ZG9zW2VdPWhlKGUpO2Z1bmN0aW9uIG1lKCl7fWZ1bmN0aW9uIHhlKGUpe2Zvcih2YXIgdD0wLG49ZS5sZW5ndGgscj0iIjt0PG47dCsrKXIrPWVbdF0udmFsdWU7cmV0dXJuIHJ9ZnVuY3Rpb24gYmUocyxlLHQpe3ZhciB1PWUuZGlyLGw9ZS5uZXh0LGM9bHx8dSxmPXQmJiJwYXJlbnROb2RlIj09PWMscD1yKys7cmV0dXJuIGUuZmlyc3Q/ZnVuY3Rpb24oZSx0LG4pe3doaWxlKGU9ZVt1XSlpZigxPT09ZS5ub2RlVHlwZXx8ZilyZXR1cm4gcyhlLHQsbik7cmV0dXJuITF9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1bayxwXTtpZihuKXt3aGlsZShlPWVbdV0paWYoKDE9PT1lLm5vZGVUeXBlfHxmKSYmcyhlLHQsbikpcmV0dXJuITB9ZWxzZSB3aGlsZShlPWVbdV0paWYoMT09PWUubm9kZVR5cGV8fGYpaWYoaT0obz1lW1NdfHwoZVtTXT17fSkpW2UudW5pcXVlSURdfHwob1tlLnVuaXF1ZUlEXT17fSksbCYmbD09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSllPWVbdV18fGU7ZWxzZXtpZigocj1pW2NdKSYmclswXT09PWsmJnJbMV09PT1wKXJldHVybiBhWzJdPXJbMl07aWYoKGlbY109YSlbMl09cyhlLHQsbikpcmV0dXJuITB9cmV0dXJuITF9fWZ1bmN0aW9uIHdlKGkpe3JldHVybiAxPGkubGVuZ3RoP2Z1bmN0aW9uKGUsdCxuKXt2YXIgcj1pLmxlbmd0aDt3aGlsZShyLS0paWYoIWlbcl0oZSx0LG4pKXJldHVybiExO3JldHVybiEwfTppWzBdfWZ1bmN0aW9uIFRlKGUsdCxuLHIsaSl7Zm9yKHZhciBvLGE9W10scz0wLHU9ZS5sZW5ndGgsbD1udWxsIT10O3M8dTtzKyspKG89ZVtzXSkmJihuJiYhbihvLHIsaSl8fChhLnB1c2gobyksbCYmdC5wdXNoKHMpKSk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2UoZCxoLGcsdix5LGUpe3JldHVybiB2JiYhdltTXSYmKHY9Q2UodikpLHkmJiF5W1NdJiYoeT1DZSh5LGUpKSxsZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscz1bXSx1PVtdLGw9dC5sZW5ndGgsYz1lfHxmdW5jdGlvbihlLHQsbil7Zm9yKHZhciByPTAsaT10Lmxlbmd0aDtyPGk7cisrKXNlKGUsdFtyXSxuKTtyZXR1cm4gbn0oaHx8IioiLG4ubm9kZVR5cGU/W25dOm4sW10pLGY9IWR8fCFlJiZoP2M6VGUoYyxzLGQsbixyKSxwPWc/eXx8KGU/ZDpsfHx2KT9bXTp0OmY7aWYoZyYmZyhmLHAsbixyKSx2KXtpPVRlKHAsdSksdihpLFtdLG4sciksbz1pLmxlbmd0aDt3aGlsZShvLS0pKGE9aVtvXSkmJihwW3Vbb11dPSEoZlt1W29dXT1hKSl9aWYoZSl7aWYoeXx8ZCl7aWYoeSl7aT1bXSxvPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmaS5wdXNoKGZbb109YSk7eShudWxsLHA9W10saSxyKX1vPXAubGVuZ3RoO3doaWxlKG8tLSkoYT1wW29dKSYmLTE8KGk9eT9QKGUsYSk6c1tvXSkmJihlW2ldPSEodFtpXT1hKSl9fWVsc2UgcD1UZShwPT09dD9wLnNwbGljZShsLHAubGVuZ3RoKTpwKSx5P3kobnVsbCx0LHAscik6SC5hcHBseSh0LHApfSl9ZnVuY3Rpb24gRWUoZSl7Zm9yKHZhciBpLHQsbixyPWUubGVuZ3RoLG89Yi5yZWxhdGl2ZVtlWzBdLnR5cGVdLGE9b3x8Yi5yZWxhdGl2ZVsiICJdLHM9bz8xOjAsdT1iZShmdW5jdGlvbihlKXtyZXR1cm4gZT09PWl9LGEsITApLGw9YmUoZnVuY3Rpb24oZSl7cmV0dXJuLTE8UChpLGUpfSxhLCEwKSxjPVtmdW5jdGlvbihlLHQsbil7dmFyIHI9IW8mJihufHx0IT09dyl8fCgoaT10KS5ub2RlVHlwZT91KGUsdCxuKTpsKGUsdCxuKSk7cmV0dXJuIGk9bnVsbCxyfV07czxyO3MrKylpZih0PWIucmVsYXRpdmVbZVtzXS50eXBlXSljPVtiZSh3ZShjKSx0KV07ZWxzZXtpZigodD1iLmZpbHRlcltlW3NdLnR5cGVdLmFwcGx5KG51bGwsZVtzXS5tYXRjaGVzKSlbU10pe2ZvcihuPSsrcztuPHI7bisrKWlmKGIucmVsYXRpdmVbZVtuXS50eXBlXSlicmVhaztyZXR1cm4gQ2UoMTxzJiZ3ZShjKSwxPHMmJnhlKGUuc2xpY2UoMCxzLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09ZVtzLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoJCwiJDEiKSx0LHM8biYmRWUoZS5zbGljZShzLG4pKSxuPHImJkVlKGU9ZS5zbGljZShuKSksbjxyJiZ4ZShlKSl9Yy5wdXNoKHQpfXJldHVybiB3ZShjKX1yZXR1cm4gbWUucHJvdG90eXBlPWIuZmlsdGVycz1iLnBzZXVkb3MsYi5zZXRGaWx0ZXJzPW5ldyBtZSxoPXNlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG8sYSxzLHUsbD14W2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTthPWUscz1bXSx1PWIucHJlRmlsdGVyO3doaWxlKGEpe2ZvcihvIGluIG4mJiEocj1fLmV4ZWMoYSkpfHwociYmKGE9YS5zbGljZShyWzBdLmxlbmd0aCl8fGEpLHMucHVzaChpPVtdKSksbj0hMSwocj16LmV4ZWMoYSkpJiYobj1yLnNoaWZ0KCksaS5wdXNoKHt2YWx1ZTpuLHR5cGU6clswXS5yZXBsYWNlKCQsIiAiKX0pLGE9YS5zbGljZShuLmxlbmd0aCkpLGIuZmlsdGVyKSEocj1HW29dLmV4ZWMoYSkpfHx1W29dJiYhKHI9dVtvXShyKSl8fChuPXIuc2hpZnQoKSxpLnB1c2goe3ZhbHVlOm4sdHlwZTpvLG1hdGNoZXM6cn0pLGE9YS5zbGljZShuLmxlbmd0aCkpO2lmKCFuKWJyZWFrfXJldHVybiB0P2EubGVuZ3RoOmE/c2UuZXJyb3IoZSk6eChlLHMpLnNsaWNlKDApfSxmPXNlLmNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbix2LHksbSx4LHIsaT1bXSxvPVtdLGE9QVtlKyIgIl07aWYoIWEpe3R8fCh0PWgoZSkpLG49dC5sZW5ndGg7d2hpbGUobi0tKShhPUVlKHRbbl0pKVtTXT9pLnB1c2goYSk6by5wdXNoKGEpOyhhPUEoZSwodj1vLG09MDwoeT1pKS5sZW5ndGgseD0wPHYubGVuZ3RoLHI9ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdT0wLGw9IjAiLGM9ZSYmW10sZj1bXSxwPXcsZD1lfHx4JiZiLmZpbmQuVEFHKCIqIixpKSxoPWsrPW51bGw9PXA/MTpNYXRoLnJhbmRvbSgpfHwuMSxnPWQubGVuZ3RoO2ZvcihpJiYodz10PT1DfHx0fHxpKTtsIT09ZyYmbnVsbCE9KG89ZFtsXSk7bCsrKXtpZih4JiZvKXthPTAsdHx8by5vd25lckRvY3VtZW50PT1DfHwoVChvKSxuPSFFKTt3aGlsZShzPXZbYSsrXSlpZihzKG8sdHx8QyxuKSl7ci5wdXNoKG8pO2JyZWFrfWkmJihrPWgpfW0mJigobz0hcyYmbykmJnUtLSxlJiZjLnB1c2gobykpfWlmKHUrPWwsbSYmbCE9PXUpe2E9MDt3aGlsZShzPXlbYSsrXSlzKGMsZix0LG4pO2lmKGUpe2lmKDA8dSl3aGlsZShsLS0pY1tsXXx8ZltsXXx8KGZbbF09cS5jYWxsKHIpKTtmPVRlKGYpfUguYXBwbHkocixmKSxpJiYhZSYmMDxmLmxlbmd0aCYmMTx1K3kubGVuZ3RoJiZzZS51bmlxdWVTb3J0KHIpfXJldHVybiBpJiYoaz1oLHc9cCksY30sbT9sZShyKTpyKSkpLnNlbGVjdG9yPWV9cmV0dXJuIGF9LGc9c2Uuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZSxjPSFyJiZoKGU9bC5zZWxlY3Rvcnx8ZSk7aWYobj1ufHxbXSwxPT09Yy5sZW5ndGgpe2lmKDI8KG89Y1swXT1jWzBdLnNsaWNlKDApKS5sZW5ndGgmJiJJRCI9PT0oYT1vWzBdKS50eXBlJiY5PT09dC5ub2RlVHlwZSYmRSYmYi5yZWxhdGl2ZVtvWzFdLnR5cGVdKXtpZighKHQ9KGIuZmluZC5JRChhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksdCl8fFtdKVswXSkpcmV0dXJuIG47bCYmKHQ9dC5wYXJlbnROb2RlKSxlPWUuc2xpY2Uoby5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1HLm5lZWRzQ29udGV4dC50ZXN0KGUpPzA6by5sZW5ndGg7d2hpbGUoaS0tKXtpZihhPW9baV0sYi5yZWxhdGl2ZVtzPWEudHlwZV0pYnJlYWs7aWYoKHU9Yi5maW5kW3NdKSYmKHI9dShhLm1hdGNoZXNbMF0ucmVwbGFjZSh0ZSxuZSksZWUudGVzdChvWzBdLnR5cGUpJiZ5ZSh0LnBhcmVudE5vZGUpfHx0KSkpe2lmKG8uc3BsaWNlKGksMSksIShlPXIubGVuZ3RoJiZ4ZShvKSkpcmV0dXJuIEguYXBwbHkobixyKSxuO2JyZWFrfX19cmV0dXJuKGx8fGYoZSxjKSkocix0LCFFLG4sIXR8fGVlLnRlc3QoZSkmJnllKHQucGFyZW50Tm9kZSl8fHQpLG59LGQuc29ydFN0YWJsZT1TLnNwbGl0KCIiKS5zb3J0KGopLmpvaW4oIiIpPT09UyxkLmRldGVjdER1cGxpY2F0ZXM9ISFsLFQoKSxkLnNvcnREZXRhY2hlZD1jZShmdW5jdGlvbihlKXtyZXR1cm4gMSZlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKEMuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLCIjIj09PWUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxmZSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24oZSx0LG4pe2lmKCFuKXJldHVybiBlLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZC5hdHRyaWJ1dGVzJiZjZShmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxpbnB1dC8+IixlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIiIpLCIiPT09ZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgidmFsdWUiKX0pfHxmZSgidmFsdWUiLGZ1bmN0aW9uKGUsdCxuKXtpZighbiYmImlucHV0Ij09PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlyZXR1cm4gZS5kZWZhdWx0VmFsdWV9KSxjZShmdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZS5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8ZmUoUixmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYoIW4pcmV0dXJuITA9PT1lW3RdP3QudG9Mb3dlckNhc2UoKToocj1lLmdldEF0dHJpYnV0ZU5vZGUodCkpJiZyLnNwZWNpZmllZD9yLnZhbHVlOm51bGx9KSxzZX0oQyk7Uy5maW5kPWQsUy5leHByPWQuc2VsZWN0b3JzLFMuZXhwclsiOiJdPVMuZXhwci5wc2V1ZG9zLFMudW5pcXVlU29ydD1TLnVuaXF1ZT1kLnVuaXF1ZVNvcnQsUy50ZXh0PWQuZ2V0VGV4dCxTLmlzWE1MRG9jPWQuaXNYTUwsUy5jb250YWlucz1kLmNvbnRhaW5zLFMuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPVtdLGk9dm9pZCAwIT09bjt3aGlsZSgoZT1lW3RdKSYmOSE9PWUubm9kZVR5cGUpaWYoMT09PWUubm9kZVR5cGUpe2lmKGkmJlMoZSkuaXMobikpYnJlYWs7ci5wdXNoKGUpfXJldHVybiByfSxUPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdO2U7ZT1lLm5leHRTaWJsaW5nKTE9PT1lLm5vZGVUeXBlJiZlIT09dCYmbi5wdXNoKGUpO3JldHVybiBufSxrPVMuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7ZnVuY3Rpb24gQShlLHQpe3JldHVybiBlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9dmFyIE49L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7ZnVuY3Rpb24gaihlLG4scil7cmV0dXJuIG0obik/Uy5ncmVwKGUsZnVuY3Rpb24oZSx0KXtyZXR1cm4hIW4uY2FsbChlLHQsZSkhPT1yfSk6bi5ub2RlVHlwZT9TLmdyZXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZT09PW4hPT1yfSk6InN0cmluZyIhPXR5cGVvZiBuP1MuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybi0xPGkuY2FsbChuLGUpIT09cn0pOlMuZmlsdGVyKG4sZSxyKX1TLmZpbHRlcj1mdW5jdGlvbihlLHQsbil7dmFyIHI9dFswXTtyZXR1cm4gbiYmKGU9Ijpub3QoIitlKyIpIiksMT09PXQubGVuZ3RoJiYxPT09ci5ub2RlVHlwZT9TLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsZSk/W3JdOltdOlMuZmluZC5tYXRjaGVzKGUsUy5ncmVwKHQsZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLm5vZGVUeXBlfSkpfSxTLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5sZW5ndGgsaT10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gdGhpcy5wdXNoU3RhY2soUyhlKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8cjt0KyspaWYoUy5jb250YWlucyhpW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihuPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDxyO3QrKylTLmZpbmQoZSxpW3RdLG4pO3JldHVybiAxPHI/Uy51bmlxdWVTb3J0KG4pOm59LGZpbHRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaih0aGlzLGV8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhaih0aGlzLCJzdHJpbmciPT10eXBlb2YgZSYmay50ZXN0KGUpP1MoZSk6ZXx8W10sITEpLmxlbmd0aH19KTt2YXIgRCxxPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KFMuZm4uaW5pdD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaTtpZighZSlyZXR1cm4gdGhpcztpZihuPW58fEQsInN0cmluZyI9PXR5cGVvZiBlKXtpZighKHI9IjwiPT09ZVswXSYmIj4iPT09ZVtlLmxlbmd0aC0xXSYmMzw9ZS5sZW5ndGg/W251bGwsZSxudWxsXTpxLmV4ZWMoZSkpfHwhclsxXSYmdClyZXR1cm4hdHx8dC5qcXVlcnk/KHR8fG4pLmZpbmQoZSk6dGhpcy5jb25zdHJ1Y3Rvcih0KS5maW5kKGUpO2lmKHJbMV0pe2lmKHQ9dCBpbnN0YW5jZW9mIFM/dFswXTp0LFMubWVyZ2UodGhpcyxTLnBhcnNlSFRNTChyWzFdLHQmJnQubm9kZVR5cGU/dC5vd25lckRvY3VtZW50fHx0OkUsITApKSxOLnRlc3QoclsxXSkmJlMuaXNQbGFpbk9iamVjdCh0KSlmb3IociBpbiB0KW0odGhpc1tyXSk/dGhpc1tyXSh0W3JdKTp0aGlzLmF0dHIocix0W3JdKTtyZXR1cm4gdGhpc31yZXR1cm4oaT1FLmdldEVsZW1lbnRCeUlkKHJbMl0pKSYmKHRoaXNbMF09aSx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBlLm5vZGVUeXBlPyh0aGlzWzBdPWUsdGhpcy5sZW5ndGg9MSx0aGlzKTptKGUpP3ZvaWQgMCE9PW4ucmVhZHk/bi5yZWFkeShlKTplKFMpOlMubWFrZUFycmF5KGUsdGhpcyl9KS5wcm90b3R5cGU9Uy5mbixEPVMoRSk7dmFyIEw9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS8sSD17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmdW5jdGlvbiBPKGUsdCl7d2hpbGUoKGU9ZVt0XSkmJjEhPT1lLm5vZGVUeXBlKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7aGFzOmZ1bmN0aW9uKGUpe3ZhciB0PVMoZSx0aGlzKSxuPXQubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8bjtlKyspaWYoUy5jb250YWlucyh0aGlzLHRbZV0pKXJldHVybiEwfSl9LGNsb3Nlc3Q6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPTAsaT10aGlzLmxlbmd0aCxvPVtdLGE9InN0cmluZyIhPXR5cGVvZiBlJiZTKGUpO2lmKCFrLnRlc3QoZSkpZm9yKDtyPGk7cisrKWZvcihuPXRoaXNbcl07biYmbiE9PXQ7bj1uLnBhcmVudE5vZGUpaWYobi5ub2RlVHlwZTwxMSYmKGE/LTE8YS5pbmRleChuKToxPT09bi5ub2RlVHlwZSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihuLGUpKSl7by5wdXNoKG4pO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjaygxPG8ubGVuZ3RoP1MudW5pcXVlU29ydChvKTpvKX0saW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyI9PXR5cGVvZiBlP2kuY2FsbChTKGUpLHRoaXNbMF0pOmkuY2FsbCh0aGlzLGUuanF1ZXJ5P2VbMF06ZSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soUy51bmlxdWVTb3J0KFMubWVyZ2UodGhpcy5nZXQoKSxTKGUsdCkpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWU/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoZSkpfX0pLFMuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4gdCYmMTEhPT10Lm5vZGVUeXBlP3Q6bnVsbH0scGFyZW50czpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGgoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oZSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihlKXtyZXR1cm4gTyhlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBoKGUsIm5leHRTaWJsaW5nIixuKX0scHJldlVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaChlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gVCgoZS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxlKX0sY2hpbGRyZW46ZnVuY3Rpb24oZSl7cmV0dXJuIFQoZS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUuY29udGVudERvY3VtZW50JiZyKGUuY29udGVudERvY3VtZW50KT9lLmNvbnRlbnREb2N1bWVudDooQShlLCJ0ZW1wbGF0ZSIpJiYoZT1lLmNvbnRlbnR8fGUpLFMubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihyLGkpe1MuZm5bcl09ZnVuY3Rpb24oZSx0KXt2YXIgbj1TLm1hcCh0aGlzLGksZSk7cmV0dXJuIlVudGlsIiE9PXIuc2xpY2UoLTUpJiYodD1lKSx0JiYic3RyaW5nIj09dHlwZW9mIHQmJihuPVMuZmlsdGVyKHQsbikpLDE8dGhpcy5sZW5ndGgmJihIW3JdfHxTLnVuaXF1ZVNvcnQobiksTC50ZXN0KHIpJiZuLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2sobil9fSk7dmFyIFA9L1teXHgyMFx0XHJcblxmXSsvZztmdW5jdGlvbiBSKGUpe3JldHVybiBlfWZ1bmN0aW9uIE0oZSl7dGhyb3cgZX1mdW5jdGlvbiBJKGUsdCxuLHIpe3ZhciBpO3RyeXtlJiZtKGk9ZS5wcm9taXNlKT9pLmNhbGwoZSkuZG9uZSh0KS5mYWlsKG4pOmUmJm0oaT1lLnRoZW4pP2kuY2FsbChlLHQsbik6dC5hcHBseSh2b2lkIDAsW2VdLnNsaWNlKHIpKX1jYXRjaChlKXtuLmFwcGx5KHZvaWQgMCxbZV0pfX1TLkNhbGxiYWNrcz1mdW5jdGlvbihyKXt2YXIgZSxuO3I9InN0cmluZyI9PXR5cGVvZiByPyhlPXIsbj17fSxTLmVhY2goZS5tYXRjaChQKXx8W10sZnVuY3Rpb24oZSx0KXtuW3RdPSEwfSksbik6Uy5leHRlbmQoe30scik7dmFyIGksdCxvLGEscz1bXSx1PVtdLGw9LTEsYz1mdW5jdGlvbigpe2ZvcihhPWF8fHIub25jZSxvPWk9ITA7dS5sZW5ndGg7bD0tMSl7dD11LnNoaWZ0KCk7d2hpbGUoKytsPHMubGVuZ3RoKSExPT09c1tsXS5hcHBseSh0WzBdLHRbMV0pJiZyLnN0b3BPbkZhbHNlJiYobD1zLmxlbmd0aCx0PSExKX1yLm1lbW9yeXx8KHQ9ITEpLGk9ITEsYSYmKHM9dD9bXToiIil9LGY9e2FkZDpmdW5jdGlvbigpe3JldHVybiBzJiYodCYmIWkmJihsPXMubGVuZ3RoLTEsdS5wdXNoKHQpKSxmdW5jdGlvbiBuKGUpe1MuZWFjaChlLGZ1bmN0aW9uKGUsdCl7bSh0KT9yLnVuaXF1ZSYmZi5oYXModCl8fHMucHVzaCh0KTp0JiZ0Lmxlbmd0aCYmInN0cmluZyIhPT13KHQpJiZuKHQpfSl9KGFyZ3VtZW50cyksdCYmIWkmJmMoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIFMuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oZSx0KXt2YXIgbjt3aGlsZSgtMTwobj1TLmluQXJyYXkodCxzLG4pKSlzLnNwbGljZShuLDEpLG48PWwmJmwtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4gZT8tMTxTLmluQXJyYXkoZSxzKTowPHMubGVuZ3RofSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBzJiYocz1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBhPXU9W10scz10PSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXN9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gYT11PVtdLHR8fGl8fChzPXQ9IiIpLHRoaXN9LGxvY2tlZDpmdW5jdGlvbigpe3JldHVybiEhYX0sZmlyZVdpdGg6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXx8KHQ9W2UsKHQ9dHx8W10pLnNsaWNlP3Quc2xpY2UoKTp0XSx1LnB1c2godCksaXx8YygpKSx0aGlzfSxmaXJlOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZmlyZVdpdGgodGhpcyxhcmd1bWVudHMpLHRoaXN9LGZpcmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFvfX07cmV0dXJuIGZ9LFMuZXh0ZW5kKHtEZWZlcnJlZDpmdW5jdGlvbihlKXt2YXIgbz1bWyJub3RpZnkiLCJwcm9ncmVzcyIsUy5DYWxsYmFja3MoIm1lbW9yeSIpLFMuQ2FsbGJhY2tzKCJtZW1vcnkiKSwyXSxbInJlc29sdmUiLCJkb25lIixTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxTLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwwLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksUy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksMSwicmVqZWN0ZWQiXV0saT0icGVuZGluZyIsYT17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIHMuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRoZW4obnVsbCxlKX0scGlwZTpmdW5jdGlvbigpe3ZhciBpPWFyZ3VtZW50cztyZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihyKXtTLmVhY2gobyxmdW5jdGlvbihlLHQpe3ZhciBuPW0oaVt0WzRdXSkmJmlbdFs0XV07c1t0WzFdXShmdW5jdGlvbigpe3ZhciBlPW4mJm4uYXBwbHkodGhpcyxhcmd1bWVudHMpO2UmJm0oZS5wcm9taXNlKT9lLnByb21pc2UoKS5wcm9ncmVzcyhyLm5vdGlmeSkuZG9uZShyLnJlc29sdmUpLmZhaWwoci5yZWplY3QpOnJbdFswXSsiV2l0aCJdKHRoaXMsbj9bZV06YXJndW1lbnRzKX0pfSksaT1udWxsfSkucHJvbWlzZSgpfSx0aGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgdT0wO2Z1bmN0aW9uIGwoaSxvLGEscyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cyxlPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZighKGk8dSkpe2lmKChlPWEuYXBwbHkobixyKSk9PT1vLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTt0PWUmJigib2JqZWN0Ij09dHlwZW9mIGV8fCJmdW5jdGlvbiI9PXR5cGVvZiBlKSYmZS50aGVuLG0odCk/cz90LmNhbGwoZSxsKHUsbyxSLHMpLGwodSxvLE0scykpOih1KyssdC5jYWxsKGUsbCh1LG8sUixzKSxsKHUsbyxNLHMpLGwodSxvLFIsby5ub3RpZnlXaXRoKSkpOihhIT09UiYmKG49dm9pZCAwLHI9W2VdKSwoc3x8by5yZXNvbHZlV2l0aCkobixyKSl9fSx0PXM/ZTpmdW5jdGlvbigpe3RyeXtlKCl9Y2F0Y2goZSl7Uy5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2soZSx0LnN0YWNrVHJhY2UpLHU8PWkrMSYmKGEhPT1NJiYobj12b2lkIDAscj1bZV0pLG8ucmVqZWN0V2l0aChuLHIpKX19O2k/dCgpOihTLkRlZmVycmVkLmdldFN0YWNrSG9vayYmKHQuc3RhY2tUcmFjZT1TLkRlZmVycmVkLmdldFN0YWNrSG9vaygpKSxDLnNldFRpbWVvdXQodCkpfX1yZXR1cm4gUy5EZWZlcnJlZChmdW5jdGlvbihlKXtvWzBdWzNdLmFkZChsKDAsZSxtKHIpP3I6UixlLm5vdGlmeVdpdGgpKSxvWzFdWzNdLmFkZChsKDAsZSxtKHQpP3Q6UikpLG9bMl1bM10uYWRkKGwoMCxlLG0obik/bjpNKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/Uy5leHRlbmQoZSxhKTphfX0scz17fTtyZXR1cm4gUy5lYWNoKG8sZnVuY3Rpb24oZSx0KXt2YXIgbj10WzJdLHI9dFs1XTthW3RbMV1dPW4uYWRkLHImJm4uYWRkKGZ1bmN0aW9uKCl7aT1yfSxvWzMtZV1bMl0uZGlzYWJsZSxvWzMtZV1bM10uZGlzYWJsZSxvWzBdWzJdLmxvY2ssb1swXVszXS5sb2NrKSxuLmFkZCh0WzNdLmZpcmUpLHNbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gc1t0WzBdKyJXaXRoIl0odGhpcz09PXM/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxzW3RbMF0rIldpdGgiXT1uLmZpcmVXaXRofSksYS5wcm9taXNlKHMpLGUmJmUuY2FsbChzLHMpLHN9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIG49YXJndW1lbnRzLmxlbmd0aCx0PW4scj1BcnJheSh0KSxpPXMuY2FsbChhcmd1bWVudHMpLG89Uy5EZWZlcnJlZCgpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JbdF09dGhpcyxpW3RdPTE8YXJndW1lbnRzLmxlbmd0aD9zLmNhbGwoYXJndW1lbnRzKTplLC0tbnx8by5yZXNvbHZlV2l0aChyLGkpfX07aWYobjw9MSYmKEkoZSxvLmRvbmUoYSh0KSkucmVzb2x2ZSxvLnJlamVjdCwhbiksInBlbmRpbmciPT09by5zdGF0ZSgpfHxtKGlbdF0mJmlbdF0udGhlbikpKXJldHVybiBvLnRoZW4oKTt3aGlsZSh0LS0pSShpW3RdLGEodCksby5yZWplY3QpO3JldHVybiBvLnByb21pc2UoKX19KTt2YXIgVz0vXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztTLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9ZnVuY3Rpb24oZSx0KXtDLmNvbnNvbGUmJkMuY29uc29sZS53YXJuJiZlJiZXLnRlc3QoZS5uYW1lKSYmQy5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrZS5tZXNzYWdlLGUuc3RhY2ssdCl9LFMucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24oZSl7Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgZX0pfTt2YXIgRj1TLkRlZmVycmVkKCk7ZnVuY3Rpb24gQigpe0UucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQiksQy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixCKSxTLnJlYWR5KCl9Uy5mbi5yZWFkeT1mdW5jdGlvbihlKXtyZXR1cm4gRi50aGVuKGUpWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe1MucmVhZHlFeGNlcHRpb24oZSl9KSx0aGlzfSxTLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihlKXsoITA9PT1lPy0tUy5yZWFkeVdhaXQ6Uy5pc1JlYWR5KXx8KFMuaXNSZWFkeT0hMCkhPT1lJiYwPC0tUy5yZWFkeVdhaXR8fEYucmVzb2x2ZVdpdGgoRSxbU10pfX0pLFMucmVhZHkudGhlbj1GLnRoZW4sImNvbXBsZXRlIj09PUUucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09RS5yZWFkeVN0YXRlJiYhRS5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGw/Qy5zZXRUaW1lb3V0KFMucmVhZHkpOihFLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLEIpLEMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsQikpO3ZhciAkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe3ZhciBzPTAsdT1lLmxlbmd0aCxsPW51bGw9PW47aWYoIm9iamVjdCI9PT13KG4pKWZvcihzIGluIGk9ITAsbikkKGUsdCxzLG5bc10sITAsbyxhKTtlbHNlIGlmKHZvaWQgMCE9PXImJihpPSEwLG0ocil8fChhPSEwKSxsJiYoYT8odC5jYWxsKGUsciksdD1udWxsKToobD10LHQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBsLmNhbGwoUyhlKSxuKX0pKSx0KSlmb3IoO3M8dTtzKyspdChlW3NdLG4sYT9yOnIuY2FsbChlW3NdLHMsdChlW3NdLG4pKSk7cmV0dXJuIGk/ZTpsP3QuY2FsbChlKTp1P3QoZVswXSxuKTpvfSxfPS9eLW1zLS8sej0vLShbYS16XSkvZztmdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX1mdW5jdGlvbiBYKGUpe3JldHVybiBlLnJlcGxhY2UoXywibXMtIikucmVwbGFjZSh6LFUpfXZhciBWPWZ1bmN0aW9uKGUpe3JldHVybiAxPT09ZS5ub2RlVHlwZXx8OT09PWUubm9kZVR5cGV8fCErZS5ub2RlVHlwZX07ZnVuY3Rpb24gRygpe3RoaXMuZXhwYW5kbz1TLmV4cGFuZG8rRy51aWQrK31HLnVpZD0xLEcucHJvdG90eXBlPXtjYWNoZTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHR8fCh0PXt9LFYoZSkmJihlLm5vZGVUeXBlP2VbdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT10aGlzLmNhY2hlKGUpO2lmKCJzdHJpbmciPT10eXBlb2YgdClpW1godCldPW47ZWxzZSBmb3IociBpbiB0KWlbWChyKV09dFtyXTtyZXR1cm4gaX0sZ2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShlKTplW3RoaXMuZXhwYW5kb10mJmVbdGhpcy5leHBhbmRvXVtYKHQpXX0sYWNjZXNzOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1uP3RoaXMuZ2V0KGUsdCk6KHRoaXMuc2V0KGUsdCxuKSx2b2lkIDAhPT1uP246dCl9LHJlbW92ZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZVt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpe249KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcChYKToodD1YKHQpKWluIHI/W3RdOnQubWF0Y2goUCl8fFtdKS5sZW5ndGg7d2hpbGUobi0tKWRlbGV0ZSByW3Rbbl1dfSh2b2lkIDA9PT10fHxTLmlzRW1wdHlPYmplY3QocikpJiYoZS5ub2RlVHlwZT9lW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBlW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihlKXt2YXIgdD1lW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFTLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgWT1uZXcgRyxRPW5ldyBHLEo9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxLPS9bQS1aXS9nO2Z1bmN0aW9uIFooZSx0LG4pe3ZhciByLGk7aWYodm9pZCAwPT09biYmMT09PWUubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShLLCItJCYiKS50b0xvd2VyQ2FzZSgpLCJzdHJpbmciPT10eXBlb2Yobj1lLmdldEF0dHJpYnV0ZShyKSkpe3RyeXtuPSJ0cnVlIj09PShpPW4pfHwiZmFsc2UiIT09aSYmKCJudWxsIj09PWk/bnVsbDppPT09K2krIiI/K2k6Si50ZXN0KGkpP0pTT04ucGFyc2UoaSk6aSl9Y2F0Y2goZSl7fVEuc2V0KGUsdCxuKX1lbHNlIG49dm9pZCAwO3JldHVybiBufVMuZXh0ZW5kKHtoYXNEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiBRLmhhc0RhdGEoZSl8fFkuaGFzRGF0YShlKX0sZGF0YTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFEuYWNjZXNzKGUsdCxuKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1EucmVtb3ZlKGUsdCl9LF9kYXRhOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gWS5hY2Nlc3MoZSx0LG4pfSxfcmVtb3ZlRGF0YTpmdW5jdGlvbihlLHQpe1kucmVtb3ZlKGUsdCl9fSksUy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24obixlKXt2YXIgdCxyLGksbz10aGlzWzBdLGE9byYmby5hdHRyaWJ1dGVzO2lmKHZvaWQgMD09PW4pe2lmKHRoaXMubGVuZ3RoJiYoaT1RLmdldChvKSwxPT09by5ub2RlVHlwZSYmIVkuZ2V0KG8sImhhc0RhdGFBdHRycyIpKSl7dD1hLmxlbmd0aDt3aGlsZSh0LS0pYVt0XSYmMD09PShyPWFbdF0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHI9WChyLnNsaWNlKDUpKSxaKG8scixpW3JdKSk7WS5zZXQobywiaGFzRGF0YUF0dHJzIiwhMCl9cmV0dXJuIGl9cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBuP3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbil9KTokKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ7aWYobyYmdm9pZCAwPT09ZSlyZXR1cm4gdm9pZCAwIT09KHQ9US5nZXQobyxuKSk/dDp2b2lkIDAhPT0odD1aKG8sbikpP3Q6dm9pZCAwO3RoaXMuZWFjaChmdW5jdGlvbigpe1Euc2V0KHRoaXMsbixlKX0pfSxudWxsLGUsMTxhcmd1bWVudHMubGVuZ3RoLG51bGwsITApfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtRLnJlbW92ZSh0aGlzLGUpfSl9fSksUy5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZihlKXJldHVybiB0PSh0fHwiZngiKSsicXVldWUiLHI9WS5nZXQoZSx0KSxuJiYoIXJ8fEFycmF5LmlzQXJyYXkobik/cj1ZLmFjY2VzcyhlLHQsUy5tYWtlQXJyYXkobikpOnIucHVzaChuKSkscnx8W119LGRlcXVldWU6ZnVuY3Rpb24oZSx0KXt0PXR8fCJmeCI7dmFyIG49Uy5xdWV1ZShlLHQpLHI9bi5sZW5ndGgsaT1uLnNoaWZ0KCksbz1TLl9xdWV1ZUhvb2tzKGUsdCk7ImlucHJvZ3Jlc3MiPT09aSYmKGk9bi5zaGlmdCgpLHItLSksaSYmKCJmeCI9PT10JiZuLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgby5zdG9wLGkuY2FsbChlLGZ1bmN0aW9uKCl7Uy5kZXF1ZXVlKGUsdCl9LG8pKSwhciYmbyYmby5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIFkuZ2V0KGUsbil8fFkuYWNjZXNzKGUsbix7ZW1wdHk6Uy5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7WS5yZW1vdmUoZSxbdCsicXVldWUiLG5dKX0pfSl9fSksUy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKHQsbil7dmFyIGU9MjtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHQmJihuPXQsdD0iZngiLGUtLSksYXJndW1lbnRzLmxlbmd0aDxlP1MucXVldWUodGhpc1swXSx0KTp2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9Uy5xdWV1ZSh0aGlzLHQsbik7Uy5fcXVldWVIb29rcyh0aGlzLHQpLCJmeCI9PT10JiYiaW5wcm9ncmVzcyIhPT1lWzBdJiZTLmRlcXVldWUodGhpcyx0KX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLmRlcXVldWUodGhpcyxlKX0pfSxjbGVhclF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnF1ZXVlKGV8fCJmeCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0xLGk9Uy5EZWZlcnJlZCgpLG89dGhpcyxhPXRoaXMubGVuZ3RoLHM9ZnVuY3Rpb24oKXstLXJ8fGkucmVzb2x2ZVdpdGgobyxbb10pfTsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLGU9ZXx8ImZ4Ijt3aGlsZShhLS0pKG49WS5nZXQob1thXSxlKyJxdWV1ZUhvb2tzIikpJiZuLmVtcHR5JiYocisrLG4uZW1wdHkuYWRkKHMpKTtyZXR1cm4gcygpLGkucHJvbWlzZSh0KX19KTt2YXIgZWU9L1srLV0/KD86XGQqXC58KVxkKyg/OltlRV1bKy1dP1xkK3wpLy5zb3VyY2UsdGU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK2VlKyIpKFthLXolXSopJCIsImkiKSxuZT1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHJlPUUuZG9jdW1lbnRFbGVtZW50LGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKX0sb2U9e2NvbXBvc2VkOiEwfTtyZS5nZXRSb290Tm9kZSYmKGllPWZ1bmN0aW9uKGUpe3JldHVybiBTLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKXx8ZS5nZXRSb290Tm9kZShvZSk9PT1lLm93bmVyRG9jdW1lbnR9KTt2YXIgYWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibm9uZSI9PT0oZT10fHxlKS5zdHlsZS5kaXNwbGF5fHwiIj09PWUuc3R5bGUuZGlzcGxheSYmaWUoZSkmJiJub25lIj09PVMuY3NzKGUsImRpc3BsYXkiKX07ZnVuY3Rpb24gc2UoZSx0LG4scil7dmFyIGksbyxhPTIwLHM9cj9mdW5jdGlvbigpe3JldHVybiByLmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBTLmNzcyhlLHQsIiIpfSx1PXMoKSxsPW4mJm5bM118fChTLmNzc051bWJlclt0XT8iIjoicHgiKSxjPWUubm9kZVR5cGUmJihTLmNzc051bWJlclt0XXx8InB4IiE9PWwmJit1KSYmdGUuZXhlYyhTLmNzcyhlLHQpKTtpZihjJiZjWzNdIT09bCl7dS89MixsPWx8fGNbM10sYz0rdXx8MTt3aGlsZShhLS0pUy5zdHlsZShlLHQsYytsKSwoMS1vKSooMS0obz1zKCkvdXx8LjUpKTw9MCYmKGE9MCksYy89bztjKj0yLFMuc3R5bGUoZSx0LGMrbCksbj1ufHxbXX1yZXR1cm4gbiYmKGM9K2N8fCt1fHwwLGk9blsxXT9jKyhuWzFdKzEpKm5bMl06K25bMl0sciYmKHIudW5pdD1sLHIuc3RhcnQ9YyxyLmVuZD1pKSksaX12YXIgdWU9e307ZnVuY3Rpb24gbGUoZSx0KXtmb3IodmFyIG4scixpLG8sYSxzLHUsbD1bXSxjPTAsZj1lLmxlbmd0aDtjPGY7YysrKShyPWVbY10pLnN0eWxlJiYobj1yLnN0eWxlLmRpc3BsYXksdD8oIm5vbmUiPT09biYmKGxbY109WS5nZXQociwiZGlzcGxheSIpfHxudWxsLGxbY118fChyLnN0eWxlLmRpc3BsYXk9IiIpKSwiIj09PXIuc3R5bGUuZGlzcGxheSYmYWUocikmJihsW2NdPSh1PWE9bz12b2lkIDAsYT0oaT1yKS5vd25lckRvY3VtZW50LHM9aS5ub2RlTmFtZSwodT11ZVtzXSl8fChvPWEuYm9keS5hcHBlbmRDaGlsZChhLmNyZWF0ZUVsZW1lbnQocykpLHU9Uy5jc3MobywiZGlzcGxheSIpLG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSwibm9uZSI9PT11JiYodT0iYmxvY2siKSx1ZVtzXT11KSkpKToibm9uZSIhPT1uJiYobFtjXT0ibm9uZSIsWS5zZXQociwiZGlzcGxheSIsbikpKTtmb3IoYz0wO2M8ZjtjKyspbnVsbCE9bFtjXSYmKGVbY10uc3R5bGUuZGlzcGxheT1sW2NdKTtyZXR1cm4gZX1TLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBsZSh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGU/ZT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXthZSh0aGlzKT9TKHRoaXMpLnNob3coKTpTKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBjZSxmZSxwZT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxkZT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKikvaSxoZT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2k7Y2U9RS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkuYXBwZW5kQ2hpbGQoRS5jcmVhdGVFbGVtZW50KCJkaXYiKSksKGZlPUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxmZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksZmUuc2V0QXR0cmlidXRlKCJuYW1lIiwidCIpLGNlLmFwcGVuZENoaWxkKGZlKSx5LmNoZWNrQ2xvbmU9Y2UuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGNlLmlubmVySFRNTD0iPHRleHRhcmVhPng8L3RleHRhcmVhPiIseS5ub0Nsb25lQ2hlY2tlZD0hIWNlLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZSxjZS5pbm5lckhUTUw9IjxvcHRpb24+PC9vcHRpb24+Iix5Lm9wdGlvbj0hIWNlLmxhc3RDaGlsZDt2YXIgZ2U9e3RoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtmdW5jdGlvbiB2ZShlLHQpe3ZhciBuO3JldHVybiBuPSJ1bmRlZmluZWQiIT10eXBlb2YgZS5nZXRFbGVtZW50c0J5VGFnTmFtZT9lLmdldEVsZW1lbnRzQnlUYWdOYW1lKHR8fCIqIik6InVuZGVmaW5lZCIhPXR5cGVvZiBlLnF1ZXJ5U2VsZWN0b3JBbGw/ZS5xdWVyeVNlbGVjdG9yQWxsKHR8fCIqIik6W10sdm9pZCAwPT09dHx8dCYmQShlLHQpP1MubWVyZ2UoW2VdLG4pOm59ZnVuY3Rpb24geWUoZSx0KXtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspWS5zZXQoZVtuXSwiZ2xvYmFsRXZhbCIsIXR8fFkuZ2V0KHRbbl0sImdsb2JhbEV2YWwiKSl9Z2UudGJvZHk9Z2UudGZvb3Q9Z2UuY29sZ3JvdXA9Z2UuY2FwdGlvbj1nZS50aGVhZCxnZS50aD1nZS50ZCx5Lm9wdGlvbnx8KGdlLm9wdGdyb3VwPWdlLm9wdGlvbj1bMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdKTt2YXIgbWU9Lzx8JiM/XHcrOy87ZnVuY3Rpb24geGUoZSx0LG4scixpKXtmb3IodmFyIG8sYSxzLHUsbCxjLGY9dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkscD1bXSxkPTAsaD1lLmxlbmd0aDtkPGg7ZCsrKWlmKChvPWVbZF0pfHwwPT09bylpZigib2JqZWN0Ij09PXcobykpUy5tZXJnZShwLG8ubm9kZVR5cGU/W29dOm8pO2Vsc2UgaWYobWUudGVzdChvKSl7YT1hfHxmLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHM9KGRlLmV4ZWMobyl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksdT1nZVtzXXx8Z2UuX2RlZmF1bHQsYS5pbm5lckhUTUw9dVsxXStTLmh0bWxQcmVmaWx0ZXIobykrdVsyXSxjPXVbMF07d2hpbGUoYy0tKWE9YS5sYXN0Q2hpbGQ7Uy5tZXJnZShwLGEuY2hpbGROb2RlcyksKGE9Zi5maXJzdENoaWxkKS50ZXh0Q29udGVudD0iIn1lbHNlIHAucHVzaCh0LmNyZWF0ZVRleHROb2RlKG8pKTtmLnRleHRDb250ZW50PSIiLGQ9MDt3aGlsZShvPXBbZCsrXSlpZihyJiYtMTxTLmluQXJyYXkobyxyKSlpJiZpLnB1c2gobyk7ZWxzZSBpZihsPWllKG8pLGE9dmUoZi5hcHBlbmRDaGlsZChvKSwic2NyaXB0IiksbCYmeWUoYSksbil7Yz0wO3doaWxlKG89YVtjKytdKWhlLnRlc3Qoby50eXBlfHwiIikmJm4ucHVzaChvKX1yZXR1cm4gZn12YXIgYmU9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHdlKCl7cmV0dXJuITB9ZnVuY3Rpb24gVGUoKXtyZXR1cm4hMX1mdW5jdGlvbiBDZShlLHQpe3JldHVybiBlPT09ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEUuYWN0aXZlRWxlbWVudH1jYXRjaChlKXt9fSgpPT0oImZvY3VzIj09PXQpfWZ1bmN0aW9uIEVlKGUsdCxuLHIsaSxvKXt2YXIgYSxzO2lmKCJvYmplY3QiPT10eXBlb2YgdCl7Zm9yKHMgaW4ic3RyaW5nIiE9dHlwZW9mIG4mJihyPXJ8fG4sbj12b2lkIDApLHQpRWUoZSxzLG4scix0W3NdLG8pO3JldHVybiBlfWlmKG51bGw9PXImJm51bGw9PWk/KGk9bixyPW49dm9pZCAwKTpudWxsPT1pJiYoInN0cmluZyI9PXR5cGVvZiBuPyhpPXIscj12b2lkIDApOihpPXIscj1uLG49dm9pZCAwKSksITE9PT1pKWk9VGU7ZWxzZSBpZighaSlyZXR1cm4gZTtyZXR1cm4gMT09PW8mJihhPWksKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIFMoKS5vZmYoZSksYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KS5ndWlkPWEuZ3VpZHx8KGEuZ3VpZD1TLmd1aWQrKykpLGUuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQuYWRkKHRoaXMsdCxpLHIsbil9KX1mdW5jdGlvbiBTZShlLGksbyl7bz8oWS5zZXQoZSxpLCExKSxTLmV2ZW50LmFkZChlLGkse25hbWVzcGFjZTohMSxoYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1ZLmdldCh0aGlzLGkpO2lmKDEmZS5pc1RyaWdnZXImJnRoaXNbaV0pe2lmKHIubGVuZ3RoKShTLmV2ZW50LnNwZWNpYWxbaV18fHt9KS5kZWxlZ2F0ZVR5cGUmJmUuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZSBpZihyPXMuY2FsbChhcmd1bWVudHMpLFkuc2V0KHRoaXMsaSxyKSx0PW8odGhpcyxpKSx0aGlzW2ldKCksciE9PShuPVkuZ2V0KHRoaXMsaSkpfHx0P1kuc2V0KHRoaXMsaSwhMSk6bj17fSxyIT09bilyZXR1cm4gZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxlLnByZXZlbnREZWZhdWx0KCksbiYmbi52YWx1ZX1lbHNlIHIubGVuZ3RoJiYoWS5zZXQodGhpcyxpLHt2YWx1ZTpTLmV2ZW50LnRyaWdnZXIoUy5leHRlbmQoclswXSxTLkV2ZW50LnByb3RvdHlwZSksci5zbGljZSgxKSx0aGlzKX0pLGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkpfX0pKTp2b2lkIDA9PT1ZLmdldChlLGkpJiZTLmV2ZW50LmFkZChlLGksd2UpfVMuZXZlbnQ9e2dsb2JhbDp7fSxhZGQ6ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5nZXQodCk7aWYoVih0KSl7bi5oYW5kbGVyJiYobj0obz1uKS5oYW5kbGVyLGk9by5zZWxlY3RvciksaSYmUy5maW5kLm1hdGNoZXNTZWxlY3RvcihyZSxpKSxuLmd1aWR8fChuLmd1aWQ9Uy5ndWlkKyspLCh1PXYuZXZlbnRzKXx8KHU9di5ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksKGE9di5oYW5kbGUpfHwoYT12LmhhbmRsZT1mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIFMmJlMuZXZlbnQudHJpZ2dlcmVkIT09ZS50eXBlP1MuZXZlbnQuZGlzcGF0Y2guYXBwbHkodCxhcmd1bWVudHMpOnZvaWQgMH0pLGw9KGU9KGV8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlkPWc9KHM9YmUuZXhlYyhlW2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkJiYoZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGQ9KGk/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGQsZj1TLmV2ZW50LnNwZWNpYWxbZF18fHt9LGM9Uy5leHRlbmQoe3R5cGU6ZCxvcmlnVHlwZTpnLGRhdGE6cixoYW5kbGVyOm4sZ3VpZDpuLmd1aWQsc2VsZWN0b3I6aSxuZWVkc0NvbnRleHQ6aSYmUy5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGkpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sbyksKHA9dVtkXSl8fCgocD11W2RdPVtdKS5kZWxlZ2F0ZUNvdW50PTAsZi5zZXR1cCYmITEhPT1mLnNldHVwLmNhbGwodCxyLGgsYSl8fHQuYWRkRXZlbnRMaXN0ZW5lciYmdC5hZGRFdmVudExpc3RlbmVyKGQsYSkpLGYuYWRkJiYoZi5hZGQuY2FsbCh0LGMpLGMuaGFuZGxlci5ndWlkfHwoYy5oYW5kbGVyLmd1aWQ9bi5ndWlkKSksaT9wLnNwbGljZShwLmRlbGVnYXRlQ291bnQrKywwLGMpOnAucHVzaChjKSxTLmV2ZW50Lmdsb2JhbFtkXT0hMCl9fSxyZW1vdmU6ZnVuY3Rpb24oZSx0LG4scixpKXt2YXIgbyxhLHMsdSxsLGMsZixwLGQsaCxnLHY9WS5oYXNEYXRhKGUpJiZZLmdldChlKTtpZih2JiYodT12LmV2ZW50cykpe2w9KHQ9KHR8fCIiKS5tYXRjaChQKXx8WyIiXSkubGVuZ3RoO3doaWxlKGwtLSlpZihkPWc9KHM9YmUuZXhlYyh0W2xdKXx8W10pWzFdLGg9KHNbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxkKXtmPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scD11W2Q9KHI/Zi5kZWxlZ2F0ZVR5cGU6Zi5iaW5kVHlwZSl8fGRdfHxbXSxzPXNbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksYT1vPXAubGVuZ3RoO3doaWxlKG8tLSljPXBbb10sIWkmJmchPT1jLm9yaWdUeXBlfHxuJiZuLmd1aWQhPT1jLmd1aWR8fHMmJiFzLnRlc3QoYy5uYW1lc3BhY2UpfHxyJiZyIT09Yy5zZWxlY3RvciYmKCIqKiIhPT1yfHwhYy5zZWxlY3Rvcil8fChwLnNwbGljZShvLDEpLGMuc2VsZWN0b3ImJnAuZGVsZWdhdGVDb3VudC0tLGYucmVtb3ZlJiZmLnJlbW92ZS5jYWxsKGUsYykpO2EmJiFwLmxlbmd0aCYmKGYudGVhcmRvd24mJiExIT09Zi50ZWFyZG93bi5jYWxsKGUsaCx2LmhhbmRsZSl8fFMucmVtb3ZlRXZlbnQoZSxkLHYuaGFuZGxlKSxkZWxldGUgdVtkXSl9ZWxzZSBmb3IoZCBpbiB1KVMuZXZlbnQucmVtb3ZlKGUsZCt0W2xdLG4sciwhMCk7Uy5pc0VtcHR5T2JqZWN0KHUpJiZZLnJlbW92ZShlLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxvLGEscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdT1TLmV2ZW50LmZpeChlKSxsPShZLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdS50eXBlXXx8W10sYz1TLmV2ZW50LnNwZWNpYWxbdS50eXBlXXx8e307Zm9yKHNbMF09dSx0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylzW3RdPWFyZ3VtZW50c1t0XTtpZih1LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIWMucHJlRGlzcGF0Y2h8fCExIT09Yy5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdSkpe2E9Uy5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdSxsKSx0PTA7d2hpbGUoKGk9YVt0KytdKSYmIXUuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7dS5jdXJyZW50VGFyZ2V0PWkuZWxlbSxuPTA7d2hpbGUoKG89aS5oYW5kbGVyc1tuKytdKSYmIXUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSl1LnJuYW1lc3BhY2UmJiExIT09by5uYW1lc3BhY2UmJiF1LnJuYW1lc3BhY2UudGVzdChvLm5hbWVzcGFjZSl8fCh1LmhhbmRsZU9iaj1vLHUuZGF0YT1vLmRhdGEsdm9pZCAwIT09KHI9KChTLmV2ZW50LnNwZWNpYWxbby5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fG8uaGFuZGxlcikuYXBwbHkoaS5lbGVtLHMpKSYmITE9PT0odS5yZXN1bHQ9cikmJih1LnByZXZlbnREZWZhdWx0KCksdS5zdG9wUHJvcGFnYXRpb24oKSkpfXJldHVybiBjLnBvc3REaXNwYXRjaCYmYy5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHUpLHUucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLHM9W10sdT10LmRlbGVnYXRlQ291bnQsbD1lLnRhcmdldDtpZih1JiZsLm5vZGVUeXBlJiYhKCJjbGljayI9PT1lLnR5cGUmJjE8PWUuYnV0dG9uKSlmb3IoO2whPT10aGlzO2w9bC5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1sLm5vZGVUeXBlJiYoImNsaWNrIiE9PWUudHlwZXx8ITAhPT1sLmRpc2FibGVkKSl7Zm9yKG89W10sYT17fSxuPTA7bjx1O24rKyl2b2lkIDA9PT1hW2k9KHI9dFtuXSkuc2VsZWN0b3IrIiAiXSYmKGFbaV09ci5uZWVkc0NvbnRleHQ/LTE8UyhpLHRoaXMpLmluZGV4KGwpOlMuZmluZChpLHRoaXMsbnVsbCxbbF0pLmxlbmd0aCksYVtpXSYmby5wdXNoKHIpO28ubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczpvfSl9cmV0dXJuIGw9dGhpcyx1PHQubGVuZ3RoJiZzLnB1c2goe2VsZW06bCxoYW5kbGVyczp0LnNsaWNlKHUpfSksc30sYWRkUHJvcDpmdW5jdGlvbih0LGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShTLkV2ZW50LnByb3RvdHlwZSx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6bShlKT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gZSh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W3RdfSxzZXQ6ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZX0pfX0pfSxmaXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbUy5leHBhbmRvXT9lOm5ldyBTLkV2ZW50KGUpfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIsd2UpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXN8fGU7cmV0dXJuIHBlLnRlc3QodC50eXBlKSYmdC5jbGljayYmQSh0LCJpbnB1dCIpJiZTZSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtyZXR1cm4gcGUudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZBKHQsImlucHV0IikmJlkuZ2V0KHQsImNsaWNrIil8fEEodCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oZSl7dm9pZCAwIT09ZS5yZXN1bHQmJmUub3JpZ2luYWxFdmVudCYmKGUub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1lLnJlc3VsdCl9fX19LFMucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9LFMuRXZlbnQ9ZnVuY3Rpb24oZSx0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBTLkV2ZW50KSlyZXR1cm4gbmV3IFMuRXZlbnQoZSx0KTtlJiZlLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1lLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9ZS5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1lLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09ZS5yZXR1cm5WYWx1ZT93ZTpUZSx0aGlzLnRhcmdldD1lLnRhcmdldCYmMz09PWUudGFyZ2V0Lm5vZGVUeXBlP2UudGFyZ2V0LnBhcmVudE5vZGU6ZS50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PWUuY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9ZS5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9ZSx0JiZTLmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHxEYXRlLm5vdygpLHRoaXNbUy5leHBhbmRvXT0hMH0sUy5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOlMuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOlRlLGlzUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlRlLGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXdlLGUmJiF0aGlzLmlzU2ltdWxhdGVkJiZlLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD13ZSxlJiYhdGhpcy5pc1NpbXVsYXRlZCYmZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sUy5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLCJjaGFyIjohMCxjb2RlOiEwLGNoYXJDb2RlOiEwLGtleTohMCxrZXlDb2RlOiEwLGJ1dHRvbjohMCxidXR0b25zOiEwLGNsaWVudFg6ITAsY2xpZW50WTohMCxvZmZzZXRYOiEwLG9mZnNldFk6ITAscG9pbnRlcklkOiEwLHBvaW50ZXJUeXBlOiEwLHNjcmVlblg6ITAsc2NyZWVuWTohMCx0YXJnZXRUb3VjaGVzOiEwLHRvRWxlbWVudDohMCx0b3VjaGVzOiEwLHdoaWNoOiEwfSxTLmV2ZW50LmFkZFByb3ApLFMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oZSx0KXtTLmV2ZW50LnNwZWNpYWxbZV09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIFNlKHRoaXMsZSxDZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gU2UodGhpcyxlKSwhMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZGVsZWdhdGVUeXBlOnR9fSksUy5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihlLGkpe1MuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLnJlbGF0ZWRUYXJnZXQscj1lLmhhbmRsZU9iajtyZXR1cm4gbiYmKG49PT10aGlzfHxTLmNvbnRhaW5zKHRoaXMsbikpfHwoZS50eXBlPXIub3JpZ1R5cGUsdD1yLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLGUudHlwZT1pKSx0fX19KSxTLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEVlKHRoaXMsZSx0LG4scil9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gRWUodGhpcyxlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIHI9ZS5oYW5kbGVPYmosUyhlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoci5uYW1lc3BhY2U/ci5vcmlnVHlwZSsiLiIrci5uYW1lc3BhY2U6ci5vcmlnVHlwZSxyLnNlbGVjdG9yLHIuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIGUpe2ZvcihpIGluIGUpdGhpcy5vZmYoaSx0LGVbaV0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChuPXQsdD12b2lkIDApLCExPT09biYmKG49VGUpLHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQucmVtb3ZlKHRoaXMsZSxuLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLEFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLE5lPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztmdW5jdGlvbiBqZShlLHQpe3JldHVybiBBKGUsInRhYmxlIikmJkEoMTEhPT10Lm5vZGVUeXBlP3Q6dC5maXJzdENoaWxkLCJ0ciIpJiZTKGUpLmNoaWxkcmVuKCJ0Ym9keSIpWzBdfHxlfWZ1bmN0aW9uIERlKGUpe3JldHVybiBlLnR5cGU9KG51bGwhPT1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrZS50eXBlLGV9ZnVuY3Rpb24gcWUoZSl7cmV0dXJuInRydWUvIj09PShlLnR5cGV8fCIiKS5zbGljZSgwLDUpP2UudHlwZT1lLnR5cGUuc2xpY2UoNSk6ZS5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxlfWZ1bmN0aW9uIExlKGUsdCl7dmFyIG4scixpLG8sYSxzO2lmKDE9PT10Lm5vZGVUeXBlKXtpZihZLmhhc0RhdGEoZSkmJihzPVkuZ2V0KGUpLmV2ZW50cykpZm9yKGkgaW4gWS5yZW1vdmUodCwiaGFuZGxlIGV2ZW50cyIpLHMpZm9yKG49MCxyPXNbaV0ubGVuZ3RoO248cjtuKyspUy5ldmVudC5hZGQodCxpLHNbaV1bbl0pO1EuaGFzRGF0YShlKSYmKG89US5hY2Nlc3MoZSksYT1TLmV4dGVuZCh7fSxvKSxRLnNldCh0LGEpKX19ZnVuY3Rpb24gSGUobixyLGksbyl7cj1nKHIpO3ZhciBlLHQsYSxzLHUsbCxjPTAsZj1uLmxlbmd0aCxwPWYtMSxkPXJbMF0saD1tKGQpO2lmKGh8fDE8ZiYmInN0cmluZyI9PXR5cGVvZiBkJiYheS5jaGVja0Nsb25lJiZBZS50ZXN0KGQpKXJldHVybiBuLmVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bi5lcShlKTtoJiYoclswXT1kLmNhbGwodGhpcyxlLHQuaHRtbCgpKSksSGUodCxyLGksbyl9KTtpZihmJiYodD0oZT14ZShyLG5bMF0ub3duZXJEb2N1bWVudCwhMSxuLG8pKS5maXJzdENoaWxkLDE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiYoZT10KSx0fHxvKSl7Zm9yKHM9KGE9Uy5tYXAodmUoZSwic2NyaXB0IiksRGUpKS5sZW5ndGg7YzxmO2MrKyl1PWUsYyE9PXAmJih1PVMuY2xvbmUodSwhMCwhMCkscyYmUy5tZXJnZShhLHZlKHUsInNjcmlwdCIpKSksaS5jYWxsKG5bY10sdSxjKTtpZihzKWZvcihsPWFbYS5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxTLm1hcChhLHFlKSxjPTA7YzxzO2MrKyl1PWFbY10saGUudGVzdCh1LnR5cGV8fCIiKSYmIVkuYWNjZXNzKHUsImdsb2JhbEV2YWwiKSYmUy5jb250YWlucyhsLHUpJiYodS5zcmMmJiJtb2R1bGUiIT09KHUudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/Uy5fZXZhbFVybCYmIXUubm9Nb2R1bGUmJlMuX2V2YWxVcmwodS5zcmMse25vbmNlOnUubm9uY2V8fHUuZ2V0QXR0cmlidXRlKCJub25jZSIpfSxsKTpiKHUudGV4dENvbnRlbnQucmVwbGFjZShOZSwiIiksdSxsKSl9cmV0dXJuIG59ZnVuY3Rpb24gT2UoZSx0LG4pe2Zvcih2YXIgcixpPXQ/Uy5maWx0ZXIodCxlKTplLG89MDtudWxsIT0ocj1pW29dKTtvKyspbnx8MSE9PXIubm9kZVR5cGV8fFMuY2xlYW5EYXRhKHZlKHIpKSxyLnBhcmVudE5vZGUmJihuJiZpZShyKSYmeWUodmUociwic2NyaXB0IikpLHIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKSk7cmV0dXJuIGV9Uy5leHRlbmQoe2h0bWxQcmVmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGNsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjPWUuY2xvbmVOb2RlKCEwKSxmPWllKGUpO2lmKCEoeS5ub0Nsb25lQ2hlY2tlZHx8MSE9PWUubm9kZVR5cGUmJjExIT09ZS5ub2RlVHlwZXx8Uy5pc1hNTERvYyhlKSkpZm9yKGE9dmUoYykscj0wLGk9KG89dmUoZSkpLmxlbmd0aDtyPGk7cisrKXM9b1tyXSx1PWFbcl0sdm9pZCAwLCJpbnB1dCI9PT0obD11Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZwZS50ZXN0KHMudHlwZSk/dS5jaGVja2VkPXMuY2hlY2tlZDoiaW5wdXQiIT09bCYmInRleHRhcmVhIiE9PWx8fCh1LmRlZmF1bHRWYWx1ZT1zLmRlZmF1bHRWYWx1ZSk7aWYodClpZihuKWZvcihvPW98fHZlKGUpLGE9YXx8dmUoYykscj0wLGk9by5sZW5ndGg7cjxpO3IrKylMZShvW3JdLGFbcl0pO2Vsc2UgTGUoZSxjKTtyZXR1cm4gMDwoYT12ZShjLCJzY3JpcHQiKSkubGVuZ3RoJiZ5ZShhLCFmJiZ2ZShlLCJzY3JpcHQiKSksY30sY2xlYW5EYXRhOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLHIsaT1TLmV2ZW50LnNwZWNpYWwsbz0wO3ZvaWQgMCE9PShuPWVbb10pO28rKylpZihWKG4pKXtpZih0PW5bWS5leHBhbmRvXSl7aWYodC5ldmVudHMpZm9yKHIgaW4gdC5ldmVudHMpaVtyXT9TLmV2ZW50LnJlbW92ZShuLHIpOlMucmVtb3ZlRXZlbnQobixyLHQuaGFuZGxlKTtuW1kuZXhwYW5kb109dm9pZCAwfW5bUS5leHBhbmRvXSYmKG5bUS5leHBhbmRvXT12b2lkIDApfX19KSxTLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKGUpe3JldHVybiBPZSh0aGlzLGUsITApfSxyZW1vdmU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9lKHRoaXMsZSl9LHRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuICQodGhpcyxmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT9TLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9ZSl9KX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGUodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oZSl7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGplKHRoaXMsZSkuYXBwZW5kQ2hpbGQoZSl9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9amUodGhpcyxlKTt0Lmluc2VydEJlZm9yZShlLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBIZSh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSx0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgZSx0PTA7bnVsbCE9KGU9dGhpc1t0XSk7dCsrKTE9PT1lLm5vZGVUeXBlJiYoUy5jbGVhbkRhdGEodmUoZSwhMSkpLGUudGV4dENvbnRlbnQ9IiIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPW51bGwhPWUmJmUsdD1udWxsPT10P2U6dCx0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiBTLmNsb25lKHRoaXMsZSx0KX0pfSxodG1sOmZ1bmN0aW9uKGUpe3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSl7dmFyIHQ9dGhpc1swXXx8e30sbj0wLHI9dGhpcy5sZW5ndGg7aWYodm9pZCAwPT09ZSYmMT09PXQubm9kZVR5cGUpcmV0dXJuIHQuaW5uZXJIVE1MO2lmKCJzdHJpbmciPT10eXBlb2YgZSYmIWtlLnRlc3QoZSkmJiFnZVsoZGUuZXhlYyhlKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2U9Uy5odG1sUHJlZmlsdGVyKGUpO3RyeXtmb3IoO248cjtuKyspMT09PSh0PXRoaXNbbl18fHt9KS5ub2RlVHlwZSYmKFMuY2xlYW5EYXRhKHZlKHQsITEpKSx0LmlubmVySFRNTD1lKTt0PTB9Y2F0Y2goZSl7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKGUpfSxudWxsLGUsYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIEhlKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyZW50Tm9kZTtTLmluQXJyYXkodGhpcyxuKTwwJiYoUy5jbGVhbkRhdGEodmUodGhpcykpLHQmJnQucmVwbGFjZUNoaWxkKGUsdGhpcykpfSxuKX19KSxTLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLHByZXBlbmRUbzoicHJlcGVuZCIsaW5zZXJ0QmVmb3JlOiJiZWZvcmUiLGluc2VydEFmdGVyOiJhZnRlciIscmVwbGFjZUFsbDoicmVwbGFjZVdpdGgifSxmdW5jdGlvbihlLGEpe1MuZm5bZV09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49W10scj1TKGUpLGk9ci5sZW5ndGgtMSxvPTA7bzw9aTtvKyspdD1vPT09aT90aGlzOnRoaXMuY2xvbmUoITApLFMocltvXSlbYV0odCksdS5hcHBseShuLHQuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhuKX19KTt2YXIgUGU9bmV3IFJlZ0V4cCgiXigiK2VlKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksUmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiB0JiZ0Lm9wZW5lcnx8KHQ9QyksdC5nZXRDb21wdXRlZFN0eWxlKGUpfSxNZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXt9O2ZvcihpIGluIHQpb1tpXT1lLnN0eWxlW2ldLGUuc3R5bGVbaV09dFtpXTtmb3IoaSBpbiByPW4uY2FsbChlKSx0KWUuc3R5bGVbaV09b1tpXTtyZXR1cm4gcn0sSWU9bmV3IFJlZ0V4cChuZS5qb2luKCJ8IiksImkiKTtmdW5jdGlvbiBXZShlLHQsbil7dmFyIHIsaSxvLGEscz1lLnN0eWxlO3JldHVybihuPW58fFJlKGUpKSYmKCIiIT09KGE9bi5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxuW3RdKXx8aWUoZSl8fChhPVMuc3R5bGUoZSx0KSksIXkucGl4ZWxCb3hTdHlsZXMoKSYmUGUudGVzdChhKSYmSWUudGVzdCh0KSYmKHI9cy53aWR0aCxpPXMubWluV2lkdGgsbz1zLm1heFdpZHRoLHMubWluV2lkdGg9cy5tYXhXaWR0aD1zLndpZHRoPWEsYT1uLndpZHRoLHMud2lkdGg9cixzLm1pbldpZHRoPWkscy5tYXhXaWR0aD1vKSksdm9pZCAwIT09YT9hKyIiOmF9ZnVuY3Rpb24gRmUoZSx0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIWUoKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fSFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtpZihsKXt1LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSIscmUuYXBwZW5kQ2hpbGQodSkuYXBwZW5kQ2hpbGQobCk7dmFyIGU9Qy5nZXRDb21wdXRlZFN0eWxlKGwpO249IjElIiE9PWUudG9wLHM9MTI9PT10KGUubWFyZ2luTGVmdCksbC5zdHlsZS5yaWdodD0iNjAlIixvPTM2PT09dChlLnJpZ2h0KSxyPTM2PT09dChlLndpZHRoKSxsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsaT0xMj09PXQobC5vZmZzZXRXaWR0aC8zKSxyZS5yZW1vdmVDaGlsZCh1KSxsPW51bGx9fWZ1bmN0aW9uIHQoZSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChlKSl9dmFyIG4scixpLG8sYSxzLHU9RS5jcmVhdGVFbGVtZW50KCJkaXYiKSxsPUUuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZSYmKGwuc3R5bGUuYmFja2dyb3VuZENsaXA9ImNvbnRlbnQtYm94IixsLmNsb25lTm9kZSghMCkuc3R5bGUuYmFja2dyb3VuZENsaXA9IiIseS5jbGVhckNsb25lU3R5bGU9ImNvbnRlbnQtYm94Ij09PWwuc3R5bGUuYmFja2dyb3VuZENsaXAsUy5leHRlbmQoeSx7Ym94U2l6aW5nUmVsaWFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHJ9LHBpeGVsQm94U3R5bGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxvfSxwaXhlbFBvc2l0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGUoKSxufSxyZWxpYWJsZU1hcmdpbkxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLHN9LHNjcm9sbGJveFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZSgpLGl9LHJlbGlhYmxlVHJEaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI7cmV0dXJuIG51bGw9PWEmJihlPUUuY3JlYXRlRWxlbWVudCgidGFibGUiKSx0PUUuY3JlYXRlRWxlbWVudCgidHIiKSxuPUUuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMTExMXB4O2JvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZSIsdC5zdHlsZS5jc3NUZXh0PSJib3JkZXI6MXB4IHNvbGlkIix0LnN0eWxlLmhlaWdodD0iMXB4IixuLnN0eWxlLmhlaWdodD0iOXB4IixuLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyZS5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChuKSxyPUMuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxhPXBhcnNlSW50KHIuaGVpZ2h0LDEwKStwYXJzZUludChyLmJvcmRlclRvcFdpZHRoLDEwKStwYXJzZUludChyLmJvcmRlckJvdHRvbVdpZHRoLDEwKT09PXQub2Zmc2V0SGVpZ2h0LHJlLnJlbW92ZUNoaWxkKGUpKSxhfX0pKX0oKTt2YXIgQmU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLCRlPUUuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGUsX2U9e307ZnVuY3Rpb24gemUoZSl7dmFyIHQ9Uy5jc3NQcm9wc1tlXXx8X2VbZV07cmV0dXJuIHR8fChlIGluICRlP2U6X2VbZV09ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSksbj1CZS5sZW5ndGg7d2hpbGUobi0tKWlmKChlPUJlW25dK3QpaW4gJGUpcmV0dXJuIGV9KGUpfHxlKX12YXIgVWU9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFhlPS9eLS0vLFZlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxHZT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07ZnVuY3Rpb24gWWUoZSx0LG4pe3ZhciByPXRlLmV4ZWModCk7cmV0dXJuIHI/TWF0aC5tYXgoMCxyWzJdLShufHwwKSkrKHJbM118fCJweCIpOnR9ZnVuY3Rpb24gUWUoZSx0LG4scixpLG8pe3ZhciBhPSJ3aWR0aCI9PT10PzE6MCxzPTAsdT0wO2lmKG49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpKXJldHVybiAwO2Zvcig7YTw0O2ErPTIpIm1hcmdpbiI9PT1uJiYodSs9Uy5jc3MoZSxuK25lW2FdLCEwLGkpKSxyPygiY29udGVudCI9PT1uJiYodS09Uy5jc3MoZSwicGFkZGluZyIrbmVbYV0sITAsaSkpLCJtYXJnaW4iIT09biYmKHUtPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKSkpOih1Kz1TLmNzcyhlLCJwYWRkaW5nIituZVthXSwhMCxpKSwicGFkZGluZyIhPT1uP3UrPVMuY3NzKGUsImJvcmRlciIrbmVbYV0rIldpZHRoIiwhMCxpKTpzKz1TLmNzcyhlLCJib3JkZXIiK25lW2FdKyJXaWR0aCIsITAsaSkpO3JldHVybiFyJiYwPD1vJiYodSs9TWF0aC5tYXgoMCxNYXRoLmNlaWwoZVsib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKV0tby11LXMtLjUpKXx8MCksdX1mdW5jdGlvbiBKZShlLHQsbil7dmFyIHI9UmUoZSksaT0oIXkuYm94U2l6aW5nUmVsaWFibGUoKXx8bikmJiJib3JkZXItYm94Ij09PVMuY3NzKGUsImJveFNpemluZyIsITEsciksbz1pLGE9V2UoZSx0LHIpLHM9Im9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSk7aWYoUGUudGVzdChhKSl7aWYoIW4pcmV0dXJuIGE7YT0iYXV0byJ9cmV0dXJuKCF5LmJveFNpemluZ1JlbGlhYmxlKCkmJml8fCF5LnJlbGlhYmxlVHJEaW1lbnNpb25zKCkmJkEoZSwidHIiKXx8ImF1dG8iPT09YXx8IXBhcnNlRmxvYXQoYSkmJiJpbmxpbmUiPT09Uy5jc3MoZSwiZGlzcGxheSIsITEscikpJiZlLmdldENsaWVudFJlY3RzKCkubGVuZ3RoJiYoaT0iYm9yZGVyLWJveCI9PT1TLmNzcyhlLCJib3hTaXppbmciLCExLHIpLChvPXMgaW4gZSkmJihhPWVbc10pKSwoYT1wYXJzZUZsb2F0KGEpfHwwKStRZShlLHQsbnx8KGk/ImJvcmRlciI6ImNvbnRlbnQiKSxvLHIsYSkrInB4In1mdW5jdGlvbiBLZShlLHQsbixyLGkpe3JldHVybiBuZXcgS2UucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1TLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihlLHQpe2lmKHQpe3ZhciBuPVdlKGUsIm9wYWNpdHkiKTtyZXR1cm4iIj09PW4/IjEiOm59fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGdyaWRBcmVhOiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZ3JpZFJvdzohMCxncmlkUm93RW5kOiEwLGdyaWRSb3dTdGFydDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUmJjMhPT1lLm5vZGVUeXBlJiY4IT09ZS5ub2RlVHlwZSYmZS5zdHlsZSl7dmFyIGksbyxhLHM9WCh0KSx1PVhlLnRlc3QodCksbD1lLnN0eWxlO2lmKHV8fCh0PXplKHMpKSxhPVMuY3NzSG9va3NbdF18fFMuY3NzSG9va3Nbc10sdm9pZCAwPT09bilyZXR1cm4gYSYmImdldCJpbiBhJiZ2b2lkIDAhPT0oaT1hLmdldChlLCExLHIpKT9pOmxbdF07InN0cmluZyI9PT0obz10eXBlb2YgbikmJihpPXRlLmV4ZWMobikpJiZpWzFdJiYobj1zZShlLHQsaSksbz0ibnVtYmVyIiksbnVsbCE9biYmbj09biYmKCJudW1iZXIiIT09b3x8dXx8KG4rPWkmJmlbM118fChTLmNzc051bWJlcltzXT8iIjoicHgiKSkseS5jbGVhckNsb25lU3R5bGV8fCIiIT09bnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwobFt0XT0iaW5oZXJpdCIpLGEmJiJzZXQiaW4gYSYmdm9pZCAwPT09KG49YS5zZXQoZSxuLHIpKXx8KHU/bC5zZXRQcm9wZXJ0eSh0LG4pOmxbdF09bikpfX0sY3NzOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpLG8sYSxzPVgodCk7cmV0dXJuIFhlLnRlc3QodCl8fCh0PXplKHMpKSwoYT1TLmNzc0hvb2tzW3RdfHxTLmNzc0hvb2tzW3NdKSYmImdldCJpbiBhJiYoaT1hLmdldChlLCEwLG4pKSx2b2lkIDA9PT1pJiYoaT1XZShlLHQscikpLCJub3JtYWwiPT09aSYmdCBpbiBHZSYmKGk9R2VbdF0pLCIiPT09bnx8bj8obz1wYXJzZUZsb2F0KGkpLCEwPT09bnx8aXNGaW5pdGUobyk/b3x8MDppKTppfX0pLFMuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oZSx1KXtTLmNzc0hvb2tzW3VdPXtnZXQ6ZnVuY3Rpb24oZSx0LG4pe2lmKHQpcmV0dXJuIVVlLnRlc3QoUy5jc3MoZSwiZGlzcGxheSIpKXx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9KZShlLHUsbik6TWUoZSxWZSxmdW5jdGlvbigpe3JldHVybiBKZShlLHUsbil9KX0sc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVJlKGUpLG89IXkuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09aS5wb3NpdGlvbixhPShvfHxuKSYmImJvcmRlci1ib3giPT09Uy5jc3MoZSwiYm94U2l6aW5nIiwhMSxpKSxzPW4/UWUoZSx1LG4sYSxpKTowO3JldHVybiBhJiZvJiYocy09TWF0aC5jZWlsKGVbIm9mZnNldCIrdVswXS50b1VwcGVyQ2FzZSgpK3Uuc2xpY2UoMSldLXBhcnNlRmxvYXQoaVt1XSktUWUoZSx1LCJib3JkZXIiLCExLGkpLS41KSkscyYmKHI9dGUuZXhlYyh0KSkmJiJweCIhPT0oclszXXx8InB4IikmJihlLnN0eWxlW3VdPXQsdD1TLmNzcyhlLHUpKSxZZSgwLHQscyl9fX0pLFMuY3NzSG9va3MubWFyZ2luTGVmdD1GZSh5LnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQoV2UoZSwibWFyZ2luTGVmdCIpKXx8ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LU1lKGUse21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KSxTLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihpLG8pe1MuY3NzSG9va3NbaStvXT17ZXhwYW5kOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49e30scj0ic3RyaW5nIj09dHlwZW9mIGU/ZS5zcGxpdCgiICIpOltlXTt0PDQ7dCsrKW5baStuZVt0XStvXT1yW3RdfHxyW3QtMl18fHJbMF07cmV0dXJuIG59fSwibWFyZ2luIiE9PWkmJihTLmNzc0hvb2tzW2krb10uc2V0PVllKX0pLFMuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89e30sYT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihyPVJlKGUpLGk9dC5sZW5ndGg7YTxpO2ErKylvW3RbYV1dPVMuY3NzKGUsdFthXSwhMSxyKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09bj9TLnN0eWxlKGUsdCxuKTpTLmNzcyhlLHQpfSxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX19KSwoKFMuVHdlZW49S2UpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6S2UsaW5pdDpmdW5jdGlvbihlLHQsbixyLGksbyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8Uy5lYXNpbmcuX2RlZmF1bHQsdGhpcy5vcHRpb25zPXQsdGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpLHRoaXMuZW5kPXIsdGhpcy51bml0PW98fChTLmNzc051bWJlcltuXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGU9S2UucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGUmJmUuZ2V0P2UuZ2V0KHRoaXMpOktlLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihlKXt2YXIgdCxuPUtlLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLm9wdGlvbnMuZHVyYXRpb24/dGhpcy5wb3M9dD1TLmVhc2luZ1t0aGlzLmVhc2luZ10oZSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qZSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0aGlzLnBvcz10PWUsdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksbiYmbi5zZXQ/bi5zZXQodGhpcyk6S2UucHJvcEhvb2tzLl9kZWZhdWx0LnNldCh0aGlzKSx0aGlzfX0pLmluaXQucHJvdG90eXBlPUtlLnByb3RvdHlwZSwoS2UucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiAxIT09ZS5lbGVtLm5vZGVUeXBlfHxudWxsIT1lLmVsZW1bZS5wcm9wXSYmbnVsbD09ZS5lbGVtLnN0eWxlW2UucHJvcF0/ZS5lbGVtW2UucHJvcF06KHQ9Uy5jc3MoZS5lbGVtLGUucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKGUpe1MuZnguc3RlcFtlLnByb3BdP1MuZnguc3RlcFtlLnByb3BdKGUpOjEhPT1lLmVsZW0ubm9kZVR5cGV8fCFTLmNzc0hvb2tzW2UucHJvcF0mJm51bGw9PWUuZWxlbS5zdHlsZVt6ZShlLnByb3ApXT9lLmVsZW1bZS5wcm9wXT1lLm5vdzpTLnN0eWxlKGUuZWxlbSxlLnByb3AsZS5ub3crZS51bml0KX19fSkuc2Nyb2xsVG9wPUtlLnByb3BIb29rcy5zY3JvbGxMZWZ0PXtzZXQ6ZnVuY3Rpb24oZSl7ZS5lbGVtLm5vZGVUeXBlJiZlLmVsZW0ucGFyZW50Tm9kZSYmKGUuZWxlbVtlLnByb3BdPWUubm93KX19LFMuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn0sX2RlZmF1bHQ6InN3aW5nIn0sUy5meD1LZS5wcm90b3R5cGUuaW5pdCxTLmZ4LnN0ZXA9e307dmFyIFplLGV0LHR0LG50LHJ0PS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxpdD0vcXVldWVIb29rcyQvO2Z1bmN0aW9uIG90KCl7ZXQmJighMT09PUUuaGlkZGVuJiZDLnJlcXVlc3RBbmltYXRpb25GcmFtZT9DLnJlcXVlc3RBbmltYXRpb25GcmFtZShvdCk6Qy5zZXRUaW1lb3V0KG90LFMuZnguaW50ZXJ2YWwpLFMuZngudGljaygpKX1mdW5jdGlvbiBhdCgpe3JldHVybiBDLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtaZT12b2lkIDB9KSxaZT1EYXRlLm5vdygpfWZ1bmN0aW9uIHN0KGUsdCl7dmFyIG4scj0wLGk9e2hlaWdodDplfTtmb3IodD10PzE6MDtyPDQ7cis9Mi10KWlbIm1hcmdpbiIrKG49bmVbcl0pXT1pWyJwYWRkaW5nIituXT1lO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9ZSksaX1mdW5jdGlvbiB1dChlLHQsbil7Zm9yKHZhciByLGk9KGx0LnR3ZWVuZXJzW3RdfHxbXSkuY29uY2F0KGx0LnR3ZWVuZXJzWyIqIl0pLG89MCxhPWkubGVuZ3RoO288YTtvKyspaWYocj1pW29dLmNhbGwobix0LGUpKXJldHVybiByfWZ1bmN0aW9uIGx0KG8sZSx0KXt2YXIgbixhLHI9MCxpPWx0LnByZWZpbHRlcnMubGVuZ3RoLHM9Uy5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSB1LmVsZW19KSx1PWZ1bmN0aW9uKCl7aWYoYSlyZXR1cm4hMTtmb3IodmFyIGU9WmV8fGF0KCksdD1NYXRoLm1heCgwLGwuc3RhcnRUaW1lK2wuZHVyYXRpb24tZSksbj0xLSh0L2wuZHVyYXRpb258fDApLHI9MCxpPWwudHdlZW5zLmxlbmd0aDtyPGk7cisrKWwudHdlZW5zW3JdLnJ1bihuKTtyZXR1cm4gcy5ub3RpZnlXaXRoKG8sW2wsbix0XSksbjwxJiZpP3Q6KGl8fHMubm90aWZ5V2l0aChvLFtsLDEsMF0pLHMucmVzb2x2ZVdpdGgobyxbbF0pLCExKX0sbD1zLnByb21pc2Uoe2VsZW06byxwcm9wczpTLmV4dGVuZCh7fSxlKSxvcHRzOlMuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpTLmVhc2luZy5fZGVmYXVsdH0sdCksb3JpZ2luYWxQcm9wZXJ0aWVzOmUsb3JpZ2luYWxPcHRpb25zOnQsc3RhcnRUaW1lOlplfHxhdCgpLGR1cmF0aW9uOnQuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGUsdCl7dmFyIG49Uy5Ud2VlbihvLGwub3B0cyxlLHQsbC5vcHRzLnNwZWNpYWxFYXNpbmdbZV18fGwub3B0cy5lYXNpbmcpO3JldHVybiBsLnR3ZWVucy5wdXNoKG4pLG59LHN0b3A6ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWU/bC50d2VlbnMubGVuZ3RoOjA7aWYoYSlyZXR1cm4gdGhpcztmb3IoYT0hMDt0PG47dCsrKWwudHdlZW5zW3RdLnJ1bigxKTtyZXR1cm4gZT8ocy5ub3RpZnlXaXRoKG8sW2wsMSwwXSkscy5yZXNvbHZlV2l0aChvLFtsLGVdKSk6cy5yZWplY3RXaXRoKG8sW2wsZV0pLHRoaXN9fSksYz1sLnByb3BzO2ZvcighZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhO2ZvcihuIGluIGUpaWYoaT10W3I9WChuKV0sbz1lW25dLEFycmF5LmlzQXJyYXkobykmJihpPW9bMV0sbz1lW25dPW9bMF0pLG4hPT1yJiYoZVtyXT1vLGRlbGV0ZSBlW25dKSwoYT1TLmNzc0hvb2tzW3JdKSYmImV4cGFuZCJpbiBhKWZvcihuIGluIG89YS5leHBhbmQobyksZGVsZXRlIGVbcl0sbyluIGluIGV8fChlW25dPW9bbl0sdFtuXT1pKTtlbHNlIHRbcl09aX0oYyxsLm9wdHMuc3BlY2lhbEVhc2luZyk7cjxpO3IrKylpZihuPWx0LnByZWZpbHRlcnNbcl0uY2FsbChsLG8sYyxsLm9wdHMpKXJldHVybiBtKG4uc3RvcCkmJihTLl9xdWV1ZUhvb2tzKGwuZWxlbSxsLm9wdHMucXVldWUpLnN0b3A9bi5zdG9wLmJpbmQobikpLG47cmV0dXJuIFMubWFwKGMsdXQsbCksbShsLm9wdHMuc3RhcnQpJiZsLm9wdHMuc3RhcnQuY2FsbChvLGwpLGwucHJvZ3Jlc3MobC5vcHRzLnByb2dyZXNzKS5kb25lKGwub3B0cy5kb25lLGwub3B0cy5jb21wbGV0ZSkuZmFpbChsLm9wdHMuZmFpbCkuYWx3YXlzKGwub3B0cy5hbHdheXMpLFMuZngudGltZXIoUy5leHRlbmQodSx7ZWxlbTpvLGFuaW06bCxxdWV1ZTpsLm9wdHMucXVldWV9KSksbH1TLkFuaW1hdGlvbj1TLmV4dGVuZChsdCx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmNyZWF0ZVR3ZWVuKGUsdCk7cmV0dXJuIHNlKG4uZWxlbSxlLHRlLmV4ZWModCksbiksbn1dfSx0d2VlbmVyOmZ1bmN0aW9uKGUsdCl7bShlKT8odD1lLGU9WyIqIl0pOmU9ZS5tYXRjaChQKTtmb3IodmFyIG4scj0wLGk9ZS5sZW5ndGg7cjxpO3IrKyluPWVbcl0sbHQudHdlZW5lcnNbbl09bHQudHdlZW5lcnNbbl18fFtdLGx0LnR3ZWVuZXJzW25dLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbCxjLGY9IndpZHRoImluIHR8fCJoZWlnaHQiaW4gdCxwPXRoaXMsZD17fSxoPWUuc3R5bGUsZz1lLm5vZGVUeXBlJiZhZShlKSx2PVkuZ2V0KGUsImZ4c2hvdyIpO2ZvcihyIGluIG4ucXVldWV8fChudWxsPT0oYT1TLl9xdWV1ZUhvb2tzKGUsImZ4IikpLnVucXVldWVkJiYoYS51bnF1ZXVlZD0wLHM9YS5lbXB0eS5maXJlLGEuZW1wdHkuZmlyZT1mdW5jdGlvbigpe2EudW5xdWV1ZWR8fHMoKX0pLGEudW5xdWV1ZWQrKyxwLmFsd2F5cyhmdW5jdGlvbigpe3AuYWx3YXlzKGZ1bmN0aW9uKCl7YS51bnF1ZXVlZC0tLFMucXVldWUoZSwiZngiKS5sZW5ndGh8fGEuZW1wdHkuZmlyZSgpfSl9KSksdClpZihpPXRbcl0scnQudGVzdChpKSl7aWYoZGVsZXRlIHRbcl0sbz1vfHwidG9nZ2xlIj09PWksaT09PShnPyJoaWRlIjoic2hvdyIpKXtpZigic2hvdyIhPT1pfHwhdnx8dm9pZCAwPT09dltyXSljb250aW51ZTtnPSEwfWRbcl09diYmdltyXXx8Uy5zdHlsZShlLHIpfWlmKCh1PSFTLmlzRW1wdHlPYmplY3QodCkpfHwhUy5pc0VtcHR5T2JqZWN0KGQpKWZvcihyIGluIGYmJjE9PT1lLm5vZGVUeXBlJiYobi5vdmVyZmxvdz1baC5vdmVyZmxvdyxoLm92ZXJmbG93WCxoLm92ZXJmbG93WV0sbnVsbD09KGw9diYmdi5kaXNwbGF5KSYmKGw9WS5nZXQoZSwiZGlzcGxheSIpKSwibm9uZSI9PT0oYz1TLmNzcyhlLCJkaXNwbGF5IikpJiYobD9jPWw6KGxlKFtlXSwhMCksbD1lLnN0eWxlLmRpc3BsYXl8fGwsYz1TLmNzcyhlLCJkaXNwbGF5IiksbGUoW2VdKSkpLCgiaW5saW5lIj09PWN8fCJpbmxpbmUtYmxvY2siPT09YyYmbnVsbCE9bCkmJiJub25lIj09PVMuY3NzKGUsImZsb2F0IikmJih1fHwocC5kb25lKGZ1bmN0aW9uKCl7aC5kaXNwbGF5PWx9KSxudWxsPT1sJiYoYz1oLmRpc3BsYXksbD0ibm9uZSI9PT1jPyIiOmMpKSxoLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxuLm92ZXJmbG93JiYoaC5vdmVyZmxvdz0iaGlkZGVuIixwLmFsd2F5cyhmdW5jdGlvbigpe2gub3ZlcmZsb3c9bi5vdmVyZmxvd1swXSxoLm92ZXJmbG93WD1uLm92ZXJmbG93WzFdLGgub3ZlcmZsb3dZPW4ub3ZlcmZsb3dbMl19KSksdT0hMSxkKXV8fCh2PyJoaWRkZW4iaW4gdiYmKGc9di5oaWRkZW4pOnY9WS5hY2Nlc3MoZSwiZnhzaG93Iix7ZGlzcGxheTpsfSksbyYmKHYuaGlkZGVuPSFnKSxnJiZsZShbZV0sITApLHAuZG9uZShmdW5jdGlvbigpe2ZvcihyIGluIGd8fGxlKFtlXSksWS5yZW1vdmUoZSwiZnhzaG93IiksZClTLnN0eWxlKGUscixkW3JdKX0pKSx1PXV0KGc/dltyXTowLHIscCksciBpbiB2fHwodltyXT11LnN0YXJ0LGcmJih1LmVuZD11LnN0YXJ0LHUuc3RhcnQ9MCkpfV0scHJlZmlsdGVyOmZ1bmN0aW9uKGUsdCl7dD9sdC5wcmVmaWx0ZXJzLnVuc2hpZnQoZSk6bHQucHJlZmlsdGVycy5wdXNoKGUpfX0pLFMuc3BlZWQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUmJiJvYmplY3QiPT10eXBlb2YgZT9TLmV4dGVuZCh7fSxlKTp7Y29tcGxldGU6bnx8IW4mJnR8fG0oZSkmJmUsZHVyYXRpb246ZSxlYXNpbmc6biYmdHx8dCYmIW0odCkmJnR9O3JldHVybiBTLmZ4Lm9mZj9yLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiByLmR1cmF0aW9uJiYoci5kdXJhdGlvbiBpbiBTLmZ4LnNwZWVkcz9yLmR1cmF0aW9uPVMuZnguc3BlZWRzW3IuZHVyYXRpb25dOnIuZHVyYXRpb249Uy5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPXIucXVldWUmJiEwIT09ci5xdWV1ZXx8KHIucXVldWU9ImZ4Iiksci5vbGQ9ci5jb21wbGV0ZSxyLmNvbXBsZXRlPWZ1bmN0aW9uKCl7bShyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmUy5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LFMuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIHRoaXMuZmlsdGVyKGFlKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LGUsbixyKX0sYW5pbWF0ZTpmdW5jdGlvbih0LGUsbixyKXt2YXIgaT1TLmlzRW1wdHlPYmplY3QodCksbz1TLnNwZWVkKGUsbixyKSxhPWZ1bmN0aW9uKCl7dmFyIGU9bHQodGhpcyxTLmV4dGVuZCh7fSx0KSxvKTsoaXx8WS5nZXQodGhpcywiZmluaXNoIikpJiZlLnN0b3AoITApfTtyZXR1cm4gYS5maW5pc2g9YSxpfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGEpOnRoaXMucXVldWUoby5xdWV1ZSxhKX0sc3RvcDpmdW5jdGlvbihpLGUsbyl7dmFyIGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChvKX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBpJiYobz1lLGU9aSxpPXZvaWQgMCksZSYmdGhpcy5xdWV1ZShpfHwiZngiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0hMCx0PW51bGwhPWkmJmkrInF1ZXVlSG9va3MiLG49Uy50aW1lcnMscj1ZLmdldCh0aGlzKTtpZih0KXJbdF0mJnJbdF0uc3RvcCYmYShyW3RdKTtlbHNlIGZvcih0IGluIHIpclt0XSYmclt0XS5zdG9wJiZpdC50ZXN0KHQpJiZhKHJbdF0pO2Zvcih0PW4ubGVuZ3RoO3QtLTspblt0XS5lbGVtIT09dGhpc3x8bnVsbCE9aSYmblt0XS5xdWV1ZSE9PWl8fChuW3RdLmFuaW0uc3RvcChvKSxlPSExLG4uc3BsaWNlKHQsMSkpOyFlJiZvfHxTLmRlcXVldWUodGhpcyxpKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuITEhPT1hJiYoYT1hfHwiZngiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0PVkuZ2V0KHRoaXMpLG49dFthKyJxdWV1ZSJdLHI9dFthKyJxdWV1ZUhvb2tzIl0saT1TLnRpbWVycyxvPW4/bi5sZW5ndGg6MDtmb3IodC5maW5pc2g9ITAsUy5xdWV1ZSh0aGlzLGEsW10pLHImJnIuc3RvcCYmci5zdG9wLmNhbGwodGhpcywhMCksZT1pLmxlbmd0aDtlLS07KWlbZV0uZWxlbT09PXRoaXMmJmlbZV0ucXVldWU9PT1hJiYoaVtlXS5hbmltLnN0b3AoITApLGkuc3BsaWNlKGUsMSkpO2ZvcihlPTA7ZTxvO2UrKyluW2VdJiZuW2VdLmZpbmlzaCYmbltlXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgdC5maW5pc2h9KX19KSxTLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUscil7dmFyIGk9Uy5mbltyXTtTLmZuW3JdPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUoc3QociwhMCksZSx0LG4pfX0pLFMuZWFjaCh7c2xpZGVEb3duOnN0KCJzaG93Iiksc2xpZGVVcDpzdCgiaGlkZSIpLHNsaWRlVG9nZ2xlOnN0KCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGUscil7Uy5mbltlXT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMuYW5pbWF0ZShyLGUsdCxuKX19KSxTLnRpbWVycz1bXSxTLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgZSx0PTAsbj1TLnRpbWVycztmb3IoWmU9RGF0ZS5ub3coKTt0PG4ubGVuZ3RoO3QrKykoZT1uW3RdKSgpfHxuW3RdIT09ZXx8bi5zcGxpY2UodC0tLDEpO24ubGVuZ3RofHxTLmZ4LnN0b3AoKSxaZT12b2lkIDB9LFMuZngudGltZXI9ZnVuY3Rpb24oZSl7Uy50aW1lcnMucHVzaChlKSxTLmZ4LnN0YXJ0KCl9LFMuZnguaW50ZXJ2YWw9MTMsUy5meC5zdGFydD1mdW5jdGlvbigpe2V0fHwoZXQ9ITAsb3QoKSl9LFMuZnguc3RvcD1mdW5jdGlvbigpe2V0PW51bGx9LFMuZnguc3BlZWRzPXtzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LFMuZm4uZGVsYXk9ZnVuY3Rpb24ocixlKXtyZXR1cm4gcj1TLmZ4JiZTLmZ4LnNwZWVkc1tyXXx8cixlPWV8fCJmeCIsdGhpcy5xdWV1ZShlLGZ1bmN0aW9uKGUsdCl7dmFyIG49Qy5zZXRUaW1lb3V0KGUscik7dC5zdG9wPWZ1bmN0aW9uKCl7Qy5jbGVhclRpbWVvdXQobil9fSl9LHR0PUUuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxudD1FLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLmFwcGVuZENoaWxkKEUuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLHR0LnR5cGU9ImNoZWNrYm94Iix5LmNoZWNrT249IiIhPT10dC52YWx1ZSx5Lm9wdFNlbGVjdGVkPW50LnNlbGVjdGVkLCh0dD1FLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0Iix0dC50eXBlPSJyYWRpbyIseS5yYWRpb1ZhbHVlPSJ0Ij09PXR0LnZhbHVlO3ZhciBjdCxmdD1TLmV4cHIuYXR0ckhhbmRsZTtTLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihlLHQpe3JldHVybiAkKHRoaXMsUy5hdHRyLGUsdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtTLnJlbW92ZUF0dHIodGhpcyxlKX0pfX0pLFMuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZS5nZXRBdHRyaWJ1dGU/Uy5wcm9wKGUsdCxuKTooMT09PW8mJlMuaXNYTUxEb2MoZSl8fChpPVMuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChTLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP2N0OnZvaWQgMCkpLHZvaWQgMCE9PW4/bnVsbD09PW4/dm9pZCBTLnJlbW92ZUF0dHIoZSx0KTppJiYic2V0ImluIGkmJnZvaWQgMCE9PShyPWkuc2V0KGUsbix0KSk/cjooZS5zZXRBdHRyaWJ1dGUodCxuKyIiKSxuKTppJiYiZ2V0ImluIGkmJm51bGwhPT0ocj1pLmdldChlLHQpKT9yOm51bGw9PShyPVMuZmluZC5hdHRyKGUsdCkpP3ZvaWQgMDpyKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24oZSx0KXtpZigheS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmQShlLCJpbnB1dCIpKXt2YXIgbj1lLnZhbHVlO3JldHVybiBlLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksbiYmKGUudmFsdWU9biksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihlLHQpe3ZhciBuLHI9MCxpPXQmJnQubWF0Y2goUCk7aWYoaSYmMT09PWUubm9kZVR5cGUpd2hpbGUobj1pW3IrK10pZS5yZW1vdmVBdHRyaWJ1dGUobil9fSksY3Q9e3NldDpmdW5jdGlvbihlLHQsbil7cmV0dXJuITE9PT10P1MucmVtb3ZlQXR0cihlLG4pOmUuc2V0QXR0cmlidXRlKG4sbiksbn19LFMuZWFjaChTLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihlLHQpe3ZhciBhPWZ0W3RdfHxTLmZpbmQuYXR0cjtmdFt0XT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbnx8KGk9ZnRbb10sZnRbb109cixyPW51bGwhPWEoZSx0LG4pP286bnVsbCxmdFtvXT1pKSxyfX0pO3ZhciBwdD0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGR0PS9eKD86YXxhcmVhKSQvaTtmdW5jdGlvbiBodChlKXtyZXR1cm4oZS5tYXRjaChQKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBndChlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUmJmUuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiB2dChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZSYmZS5tYXRjaChQKXx8W119Uy5mbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0aGlzLFMucHJvcCxlLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlUHJvcDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXNbUy5wcm9wRml4W2VdfHxlXX0pfX0pLFMuZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG89ZS5ub2RlVHlwZTtpZigzIT09byYmOCE9PW8mJjIhPT1vKXJldHVybiAxPT09byYmUy5pc1hNTERvYyhlKXx8KHQ9Uy5wcm9wRml4W3RdfHx0LGk9Uy5wcm9wSG9va3NbdF0pLHZvaWQgMCE9PW4/aSYmInNldCJpbiBpJiZ2b2lkIDAhPT0ocj1pLnNldChlLG4sdCkpP3I6ZVt0XT1uOmkmJiJnZXQiaW4gaSYmbnVsbCE9PShyPWkuZ2V0KGUsdCkpP3I6ZVt0XX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInRhYmluZGV4Iik7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6cHQudGVzdChlLm5vZGVOYW1lKXx8ZHQudGVzdChlLm5vZGVOYW1lKSYmZS5ocmVmPzA6LTF9fX0scHJvcEZpeDp7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSJ9fSkseS5vcHRTZWxlY3RlZHx8KFMucHJvcEhvb2tzLnNlbGVjdGVkPXtnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJlbnROb2RlO3JldHVybiB0JiZ0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4LG51bGx9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7dCYmKHQuc2VsZWN0ZWRJbmRleCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4KX19KSxTLmVhY2goWyJ0YWJJbmRleCIsInJlYWRPbmx5IiwibWF4TGVuZ3RoIiwiY2VsbFNwYWNpbmciLCJjZWxsUGFkZGluZyIsInJvd1NwYW4iLCJjb2xTcGFuIiwidXNlTWFwIiwiZnJhbWVCb3JkZXIiLCJjb250ZW50RWRpdGFibGUiXSxmdW5jdGlvbigpe1MucHJvcEZpeFt0aGlzLnRvTG93ZXJDYXNlKCldPXRoaXN9KSxTLmZuLmV4dGVuZCh7YWRkQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGUsbixyLGksbyxhLHMsdT0wO2lmKG0odCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLmFkZENsYXNzKHQuY2FsbCh0aGlzLGUsZ3QodGhpcykpKX0pO2lmKChlPXZ0KHQpKS5sZW5ndGgpd2hpbGUobj10aGlzW3UrK10paWYoaT1ndChuKSxyPTE9PT1uLm5vZGVUeXBlJiYiICIraHQoaSkrIiAiKXthPTA7d2hpbGUobz1lW2ErK10pci5pbmRleE9mKCIgIitvKyIgIik8MCYmKHIrPW8rIiAiKTtpIT09KHM9aHQocikpJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHMpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbih0KXt2YXIgZSxuLHIsaSxvLGEscyx1PTA7aWYobSh0KSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1ModGhpcykucmVtb3ZlQ2xhc3ModC5jYWxsKHRoaXMsZSxndCh0aGlzKSkpfSk7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuYXR0cigiY2xhc3MiLCIiKTtpZigoZT12dCh0KSkubGVuZ3RoKXdoaWxlKG49dGhpc1t1KytdKWlmKGk9Z3Qobikscj0xPT09bi5ub2RlVHlwZSYmIiAiK2h0KGkpKyIgIil7YT0wO3doaWxlKG89ZVthKytdKXdoaWxlKC0xPHIuaW5kZXhPZigiICIrbysiICIpKXI9ci5yZXBsYWNlKCIgIitvKyIgIiwiICIpO2khPT0ocz1odChyKSkmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIscyl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGksdCl7dmFyIG89dHlwZW9mIGksYT0ic3RyaW5nIj09PW98fEFycmF5LmlzQXJyYXkoaSk7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmYT90P3RoaXMuYWRkQ2xhc3MoaSk6dGhpcy5yZW1vdmVDbGFzcyhpKTptKGkpP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLnRvZ2dsZUNsYXNzKGkuY2FsbCh0aGlzLGUsZ3QodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihhKXt0PTAsbj1TKHRoaXMpLHI9dnQoaSk7d2hpbGUoZT1yW3QrK10pbi5oYXNDbGFzcyhlKT9uLnJlbW92ZUNsYXNzKGUpOm4uYWRkQ2xhc3MoZSl9ZWxzZSB2b2lkIDAhPT1pJiYiYm9vbGVhbiIhPT1vfHwoKGU9Z3QodGhpcykpJiZZLnNldCh0aGlzLCJfX2NsYXNzTmFtZV9fIixlKSx0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIixlfHwhMT09PWk/IiI6WS5nZXQodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIikpfSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0LG4scj0wO3Q9IiAiK2UrIiAiO3doaWxlKG49dGhpc1tyKytdKWlmKDE9PT1uLm5vZGVUeXBlJiYtMTwoIiAiK2h0KGd0KG4pKSsiICIpLmluZGV4T2YodCkpcmV0dXJuITA7cmV0dXJuITF9fSk7dmFyIHl0PS9cci9nO1MuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHIsZSxpLHQ9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT1tKG4pLHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgdDsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh0PWk/bi5jYWxsKHRoaXMsZSxTKHRoaXMpLnZhbCgpKTpuKT90PSIiOiJudW1iZXIiPT10eXBlb2YgdD90Kz0iIjpBcnJheS5pc0FycmF5KHQpJiYodD1TLm1hcCh0LGZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOmUrIiJ9KSksKHI9Uy52YWxIb29rc1t0aGlzLnR5cGVdfHxTLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHImJnZvaWQgMCE9PXIuc2V0KHRoaXMsdCwidmFsdWUiKXx8KHRoaXMudmFsdWU9dCkpfSkpOnQ/KHI9Uy52YWxIb29rc1t0LnR5cGVdfHxTLnZhbEhvb2tzW3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHImJnZvaWQgMCE9PShlPXIuZ2V0KHQsInZhbHVlIikpP2U6InN0cmluZyI9PXR5cGVvZihlPXQudmFsdWUpP2UucmVwbGFjZSh5dCwiIik6bnVsbD09ZT8iIjplOnZvaWQgMH19KSxTLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PVMuZmluZC5hdHRyKGUsInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpodChTLnRleHQoZSkpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9ZS5vcHRpb25zLG89ZS5zZWxlY3RlZEluZGV4LGE9InNlbGVjdC1vbmUiPT09ZS50eXBlLHM9YT9udWxsOltdLHU9YT9vKzE6aS5sZW5ndGg7Zm9yKHI9bzwwP3U6YT9vOjA7cjx1O3IrKylpZigoKG49aVtyXSkuc2VsZWN0ZWR8fHI9PT1vKSYmIW4uZGlzYWJsZWQmJighbi5wYXJlbnROb2RlLmRpc2FibGVkfHwhQShuLnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZih0PVMobikudmFsKCksYSlyZXR1cm4gdDtzLnB1c2godCl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLm9wdGlvbnMsbz1TLm1ha2VBcnJheSh0KSxhPWkubGVuZ3RoO3doaWxlKGEtLSkoKHI9aVthXSkuc2VsZWN0ZWQ9LTE8Uy5pbkFycmF5KFMudmFsSG9va3Mub3B0aW9uLmdldChyKSxvKSkmJihuPSEwKTtyZXR1cm4gbnx8KGUuc2VsZWN0ZWRJbmRleD0tMSksb319fX0pLFMuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe1MudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIGUuY2hlY2tlZD0tMTxTLmluQXJyYXkoUyhlKS52YWwoKSx0KX19LHkuY2hlY2tPbnx8KFMudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjplLnZhbHVlfSl9KSx5LmZvY3VzaW49Im9uZm9jdXNpbiJpbiBDO3ZhciBtdD0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8seHQ9ZnVuY3Rpb24oZSl7ZS5zdG9wUHJvcGFnYXRpb24oKX07Uy5leHRlbmQoUy5ldmVudCx7dHJpZ2dlcjpmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGwsYyxmLHA9W258fEVdLGQ9di5jYWxsKGUsInR5cGUiKT9lLnR5cGU6ZSxoPXYuY2FsbChlLCJuYW1lc3BhY2UiKT9lLm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKG89Zj1hPW49bnx8RSwzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJiFtdC50ZXN0KGQrUy5ldmVudC50cmlnZ2VyZWQpJiYoLTE8ZC5pbmRleE9mKCIuIikmJihkPShoPWQuc3BsaXQoIi4iKSkuc2hpZnQoKSxoLnNvcnQoKSksdT1kLmluZGV4T2YoIjoiKTwwJiYib24iK2QsKGU9ZVtTLmV4cGFuZG9dP2U6bmV3IFMuRXZlbnQoZCwib2JqZWN0Ij09dHlwZW9mIGUmJmUpKS5pc1RyaWdnZXI9cj8yOjMsZS5uYW1lc3BhY2U9aC5qb2luKCIuIiksZS5ybmFtZXNwYWNlPWUubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2guam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxlLnJlc3VsdD12b2lkIDAsZS50YXJnZXR8fChlLnRhcmdldD1uKSx0PW51bGw9PXQ/W2VdOlMubWFrZUFycmF5KHQsW2VdKSxjPVMuZXZlbnQuc3BlY2lhbFtkXXx8e30scnx8IWMudHJpZ2dlcnx8ITEhPT1jLnRyaWdnZXIuYXBwbHkobix0KSkpe2lmKCFyJiYhYy5ub0J1YmJsZSYmIXgobikpe2ZvcihzPWMuZGVsZWdhdGVUeXBlfHxkLG10LnRlc3QocytkKXx8KG89by5wYXJlbnROb2RlKTtvO289by5wYXJlbnROb2RlKXAucHVzaChvKSxhPW87YT09PShuLm93bmVyRG9jdW1lbnR8fEUpJiZwLnB1c2goYS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3d8fEMpfWk9MDt3aGlsZSgobz1wW2krK10pJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWY9byxlLnR5cGU9MTxpP3M6Yy5iaW5kVHlwZXx8ZCwobD0oWS5nZXQobywiZXZlbnRzIil8fE9iamVjdC5jcmVhdGUobnVsbCkpW2UudHlwZV0mJlkuZ2V0KG8sImhhbmRsZSIpKSYmbC5hcHBseShvLHQpLChsPXUmJm9bdV0pJiZsLmFwcGx5JiZWKG8pJiYoZS5yZXN1bHQ9bC5hcHBseShvLHQpLCExPT09ZS5yZXN1bHQmJmUucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGUudHlwZT1kLHJ8fGUuaXNEZWZhdWx0UHJldmVudGVkKCl8fGMuX2RlZmF1bHQmJiExIT09Yy5fZGVmYXVsdC5hcHBseShwLnBvcCgpLHQpfHwhVihuKXx8dSYmbShuW2RdKSYmIXgobikmJigoYT1uW3VdKSYmKG5bdV09bnVsbCksUy5ldmVudC50cmlnZ2VyZWQ9ZCxlLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmYuYWRkRXZlbnRMaXN0ZW5lcihkLHh0KSxuW2RdKCksZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZmLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCx4dCksUy5ldmVudC50cmlnZ2VyZWQ9dm9pZCAwLGEmJihuW3VdPWEpKSxlLnJlc3VsdH19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1TLmV4dGVuZChuZXcgUy5FdmVudCxuLHt0eXBlOmUsaXNTaW11bGF0ZWQ6ITB9KTtTLmV2ZW50LnRyaWdnZXIocixudWxsLHQpfX0pLFMuZm4uZXh0ZW5kKHt0cmlnZ2VyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1MuZXZlbnQudHJpZ2dlcihlLHQsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzWzBdO2lmKG4pcmV0dXJuIFMuZXZlbnQudHJpZ2dlcihlLHQsbiwhMCl9fSkseS5mb2N1c2lufHxTLmVhY2goe2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCJ9LGZ1bmN0aW9uKG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7Uy5ldmVudC5zaW11bGF0ZShyLGUudGFyZ2V0LFMuZXZlbnQuZml4KGUpKX07Uy5ldmVudC5zcGVjaWFsW3JdPXtzZXR1cDpmdW5jdGlvbigpe3ZhciBlPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcy5kb2N1bWVudHx8dGhpcyx0PVkuYWNjZXNzKGUscik7dHx8ZS5hZGRFdmVudExpc3RlbmVyKG4saSwhMCksWS5hY2Nlc3MoZSxyLCh0fHwwKSsxKX0sdGVhcmRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsdD1ZLmFjY2VzcyhlLHIpLTE7dD9ZLmFjY2VzcyhlLHIsdCk6KGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLGksITApLFkucmVtb3ZlKGUscikpfX19KTt2YXIgYnQ9Qy5sb2NhdGlvbix3dD17Z3VpZDpEYXRlLm5vdygpfSxUdD0vXD8vO1MucGFyc2VYTUw9ZnVuY3Rpb24oZSl7dmFyIHQsbjtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBudWxsO3RyeXt0PShuZXcgQy5ET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLCJ0ZXh0L3htbCIpfWNhdGNoKGUpe31yZXR1cm4gbj10JiZ0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpWzBdLHQmJiFufHxTLmVycm9yKCJJbnZhbGlkIFhNTDogIisobj9TLm1hcChuLmNoaWxkTm9kZXMsZnVuY3Rpb24oZSl7cmV0dXJuIGUudGV4dENvbnRlbnR9KS5qb2luKCJcbiIpOmUpKSx0fTt2YXIgQ3Q9L1xbXF0kLyxFdD0vXHI/XG4vZyxTdD0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksa3Q9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEF0KG4sZSxyLGkpe3ZhciB0O2lmKEFycmF5LmlzQXJyYXkoZSkpUy5lYWNoKGUsZnVuY3Rpb24oZSx0KXtyfHxDdC50ZXN0KG4pP2kobix0KTpBdChuKyJbIisoIm9iamVjdCI9PXR5cGVvZiB0JiZudWxsIT10P2U6IiIpKyJdIix0LHIsaSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dyhlKSlpKG4sZSk7ZWxzZSBmb3IodCBpbiBlKUF0KG4rIlsiK3QrIl0iLGVbdF0scixpKX1TLnBhcmFtPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPWZ1bmN0aW9uKGUsdCl7dmFyIG49bSh0KT90KCk6dDtyW3IubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1uPyIiOm4pfTtpZihudWxsPT1lKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkoZSl8fGUuanF1ZXJ5JiYhUy5pc1BsYWluT2JqZWN0KGUpKVMuZWFjaChlLGZ1bmN0aW9uKCl7aSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihuIGluIGUpQXQobixlW25dLHQsaSk7cmV0dXJuIHIuam9pbigiJiIpfSxTLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIFMucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgZT1TLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gZT9TLm1ha2VBcnJheShlKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFTKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYma3QudGVzdCh0aGlzLm5vZGVOYW1lKSYmIVN0LnRlc3QoZSkmJih0aGlzLmNoZWNrZWR8fCFwZS50ZXN0KGUpKX0pLm1hcChmdW5jdGlvbihlLHQpe3ZhciBuPVModGhpcykudmFsKCk7cmV0dXJuIG51bGw9PW4/bnVsbDpBcnJheS5pc0FycmF5KG4pP1MubWFwKG4sZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShFdCwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2UoRXQsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgTnQ9LyUyMC9nLGp0PS8jLiokLyxEdD0vKFs/Jl0pXz1bXiZdKi8scXQ9L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxMdD0vXig/OkdFVHxIRUFEKSQvLEh0PS9eXC9cLy8sT3Q9e30sUHQ9e30sUnQ9IiovIi5jb25jYXQoIioiKSxNdD1FLmNyZWF0ZUVsZW1lbnQoImEiKTtmdW5jdGlvbiBJdChvKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXsic3RyaW5nIiE9dHlwZW9mIGUmJih0PWUsZT0iKiIpO3ZhciBuLHI9MCxpPWUudG9Mb3dlckNhc2UoKS5tYXRjaChQKXx8W107aWYobSh0KSl3aGlsZShuPWlbcisrXSkiKyI9PT1uWzBdPyhuPW4uc2xpY2UoMSl8fCIqIiwob1tuXT1vW25dfHxbXSkudW5zaGlmdCh0KSk6KG9bbl09b1tuXXx8W10pLnB1c2godCl9fWZ1bmN0aW9uIFd0KHQsaSxvLGEpe3ZhciBzPXt9LHU9dD09PVB0O2Z1bmN0aW9uIGwoZSl7dmFyIHI7cmV0dXJuIHNbZV09ITAsUy5lYWNoKHRbZV18fFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dChpLG8sYSk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBufHx1fHxzW25dP3U/IShyPW4pOnZvaWQgMDooaS5kYXRhVHlwZXMudW5zaGlmdChuKSxsKG4pLCExKX0pLHJ9cmV0dXJuIGwoaS5kYXRhVHlwZXNbMF0pfHwhc1siKiJdJiZsKCIqIil9ZnVuY3Rpb24gRnQoZSx0KXt2YXIgbixyLGk9Uy5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnN8fHt9O2ZvcihuIGluIHQpdm9pZCAwIT09dFtuXSYmKChpW25dP2U6cnx8KHI9e30pKVtuXT10W25dKTtyZXR1cm4gciYmUy5leHRlbmQoITAsZSxyKSxlfU10LmhyZWY9YnQuaHJlZixTLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6YnQuaHJlZix0eXBlOiJHRVQiLGlzTG9jYWw6L14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8udGVzdChidC5wcm90b2NvbCksZ2xvYmFsOiEwLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLGFjY2VwdHM6eyIqIjpSdCx0ZXh0OiJ0ZXh0L3BsYWluIixodG1sOiJ0ZXh0L2h0bWwiLHhtbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0In0sY29udGVudHM6e3htbDovXGJ4bWxcYi8saHRtbDovXGJodG1sLyxqc29uOi9cYmpzb25cYi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQiLGpzb246InJlc3BvbnNlSlNPTiJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpKU09OLnBhcnNlLCJ0ZXh0IHhtbCI6Uy5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e3VybDohMCxjb250ZXh0OiEwfX0sYWpheFNldHVwOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/RnQoRnQoZSxTLmFqYXhTZXR0aW5ncyksdCk6RnQoUy5hamF4U2V0dGluZ3MsZSl9LGFqYXhQcmVmaWx0ZXI6SXQoT3QpLGFqYXhUcmFuc3BvcnQ6SXQoUHQpLGFqYXg6ZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09dHlwZW9mIGUmJih0PWUsZT12b2lkIDApLHQ9dHx8e307dmFyIGMsZixwLG4sZCxyLGgsZyxpLG8sdj1TLmFqYXhTZXR1cCh7fSx0KSx5PXYuY29udGV4dHx8dixtPXYuY29udGV4dCYmKHkubm9kZVR5cGV8fHkuanF1ZXJ5KT9TKHkpOlMuZXZlbnQseD1TLkRlZmVycmVkKCksYj1TLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSx3PXYuc3RhdHVzQ29kZXx8e30sYT17fSxzPXt9LHU9ImNhbmNlbGVkIixUPXtyZWFkeVN0YXRlOjAsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoaCl7aWYoIW4pe249e307d2hpbGUodD1xdC5leGVjKHApKW5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KG5bdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSl9dD1uW2UudG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gaD9wOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09aCYmKGU9c1tlLnRvTG93ZXJDYXNlKCldPXNbZS50b0xvd2VyQ2FzZSgpXXx8ZSxhW2VdPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWgmJih2Lm1pbWVUeXBlPWUpLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoZSlpZihoKVQuYWx3YXlzKGVbVC5zdGF0dXNdKTtlbHNlIGZvcih0IGluIGUpd1t0XT1bd1t0XSxlW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZXx8dTtyZXR1cm4gYyYmYy5hYm9ydCh0KSxsKDAsdCksdGhpc319O2lmKHgucHJvbWlzZShUKSx2LnVybD0oKGV8fHYudXJsfHxidC5ocmVmKSsiIikucmVwbGFjZShIdCxidC5wcm90b2NvbCsiLy8iKSx2LnR5cGU9dC5tZXRob2R8fHQudHlwZXx8di5tZXRob2R8fHYudHlwZSx2LmRhdGFUeXBlcz0odi5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKFApfHxbIiJdLG51bGw9PXYuY3Jvc3NEb21haW4pe3I9RS5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e3IuaHJlZj12LnVybCxyLmhyZWY9ci5ocmVmLHYuY3Jvc3NEb21haW49TXQucHJvdG9jb2wrIi8vIitNdC5ob3N0IT1yLnByb3RvY29sKyIvLyIrci5ob3N0fWNhdGNoKGUpe3YuY3Jvc3NEb21haW49ITB9fWlmKHYuZGF0YSYmdi5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB2LmRhdGEmJih2LmRhdGE9Uy5wYXJhbSh2LmRhdGEsdi50cmFkaXRpb25hbCkpLFd0KE90LHYsdCxUKSxoKXJldHVybiBUO2ZvcihpIGluKGc9Uy5ldmVudCYmdi5nbG9iYWwpJiYwPT1TLmFjdGl2ZSsrJiZTLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLHYudHlwZT12LnR5cGUudG9VcHBlckNhc2UoKSx2Lmhhc0NvbnRlbnQ9IUx0LnRlc3Qodi50eXBlKSxmPXYudXJsLnJlcGxhY2UoanQsIiIpLHYuaGFzQ29udGVudD92LmRhdGEmJnYucHJvY2Vzc0RhdGEmJjA9PT0odi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiYodi5kYXRhPXYuZGF0YS5yZXBsYWNlKE50LCIrIikpOihvPXYudXJsLnNsaWNlKGYubGVuZ3RoKSx2LmRhdGEmJih2LnByb2Nlc3NEYXRhfHwic3RyaW5nIj09dHlwZW9mIHYuZGF0YSkmJihmKz0oVHQudGVzdChmKT8iJiI6Ij8iKSt2LmRhdGEsZGVsZXRlIHYuZGF0YSksITE9PT12LmNhY2hlJiYoZj1mLnJlcGxhY2UoRHQsIiQxIiksbz0oVHQudGVzdChmKT8iJiI6Ij8iKSsiXz0iK3d0Lmd1aWQrKytvKSx2LnVybD1mK28pLHYuaWZNb2RpZmllZCYmKFMubGFzdE1vZGlmaWVkW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixTLmxhc3RNb2RpZmllZFtmXSksUy5ldGFnW2ZdJiZULnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLFMuZXRhZ1tmXSkpLCh2LmRhdGEmJnYuaGFzQ29udGVudCYmITEhPT12LmNvbnRlbnRUeXBlfHx0LmNvbnRlbnRUeXBlKSYmVC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLHYuY29udGVudFR5cGUpLFQuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0Iix2LmRhdGFUeXBlc1swXSYmdi5hY2NlcHRzW3YuZGF0YVR5cGVzWzBdXT92LmFjY2VwdHNbdi5kYXRhVHlwZXNbMF1dKygiKiIhPT12LmRhdGFUeXBlc1swXT8iLCAiK1J0KyI7IHE9MC4wMSI6IiIpOnYuYWNjZXB0c1siKiJdKSx2LmhlYWRlcnMpVC5zZXRSZXF1ZXN0SGVhZGVyKGksdi5oZWFkZXJzW2ldKTtpZih2LmJlZm9yZVNlbmQmJighMT09PXYuYmVmb3JlU2VuZC5jYWxsKHksVCx2KXx8aCkpcmV0dXJuIFQuYWJvcnQoKTtpZih1PSJhYm9ydCIsYi5hZGQodi5jb21wbGV0ZSksVC5kb25lKHYuc3VjY2VzcyksVC5mYWlsKHYuZXJyb3IpLGM9V3QoUHQsdix0LFQpKXtpZihULnJlYWR5U3RhdGU9MSxnJiZtLnRyaWdnZXIoImFqYXhTZW5kIixbVCx2XSksaClyZXR1cm4gVDt2LmFzeW5jJiYwPHYudGltZW91dCYmKGQ9Qy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VC5hYm9ydCgidGltZW91dCIpfSx2LnRpbWVvdXQpKTt0cnl7aD0hMSxjLnNlbmQoYSxsKX1jYXRjaChlKXtpZihoKXRocm93IGU7bCgtMSxlKX19ZWxzZSBsKC0xLCJObyBUcmFuc3BvcnQiKTtmdW5jdGlvbiBsKGUsdCxuLHIpe3ZhciBpLG8sYSxzLHUsbD10O2h8fChoPSEwLGQmJkMuY2xlYXJUaW1lb3V0KGQpLGM9dm9pZCAwLHA9cnx8IiIsVC5yZWFkeVN0YXRlPTA8ZT80OjAsaT0yMDA8PWUmJmU8MzAwfHwzMDQ9PT1lLG4mJihzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzPWUuY29udGVudHMsdT1lLmRhdGFUeXBlczt3aGlsZSgiKiI9PT11WzBdKXUuc2hpZnQoKSx2b2lkIDA9PT1yJiYocj1lLm1pbWVUeXBlfHx0LmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKSk7aWYocilmb3IoaSBpbiBzKWlmKHNbaV0mJnNbaV0udGVzdChyKSl7dS51bnNoaWZ0KGkpO2JyZWFrfWlmKHVbMF1pbiBuKW89dVswXTtlbHNle2ZvcihpIGluIG4pe2lmKCF1WzBdfHxlLmNvbnZlcnRlcnNbaSsiICIrdVswXV0pe289aTticmVha31hfHwoYT1pKX1vPW98fGF9aWYobylyZXR1cm4gbyE9PXVbMF0mJnUudW5zaGlmdChvKSxuW29dfSh2LFQsbikpLCFpJiYtMTxTLmluQXJyYXkoInNjcmlwdCIsdi5kYXRhVHlwZXMpJiZTLmluQXJyYXkoImpzb24iLHYuZGF0YVR5cGVzKTwwJiYodi5jb252ZXJ0ZXJzWyJ0ZXh0IHNjcmlwdCJdPWZ1bmN0aW9uKCl7fSkscz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvLGEscyx1LGw9e30sYz1lLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGEgaW4gZS5jb252ZXJ0ZXJzKWxbYS50b0xvd2VyQ2FzZSgpXT1lLmNvbnZlcnRlcnNbYV07bz1jLnNoaWZ0KCk7d2hpbGUobylpZihlLnJlc3BvbnNlRmllbGRzW29dJiYobltlLnJlc3BvbnNlRmllbGRzW29dXT10KSwhdSYmciYmZS5kYXRhRmlsdGVyJiYodD1lLmRhdGFGaWx0ZXIodCxlLmRhdGFUeXBlKSksdT1vLG89Yy5zaGlmdCgpKWlmKCIqIj09PW8pbz11O2Vsc2UgaWYoIioiIT09dSYmdSE9PW8pe2lmKCEoYT1sW3UrIiAiK29dfHxsWyIqICIrb10pKWZvcihpIGluIGwpaWYoKHM9aS5zcGxpdCgiICIpKVsxXT09PW8mJihhPWxbdSsiICIrc1swXV18fGxbIiogIitzWzBdXSkpeyEwPT09YT9hPWxbaV06ITAhPT1sW2ldJiYobz1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1hKWlmKGEmJmVbInRocm93cyJdKXQ9YSh0KTtlbHNlIHRyeXt0PWEodCl9Y2F0Y2goZSl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6YT9lOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitvfX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh2LHMsVCxpKSxpPyh2LmlmTW9kaWZpZWQmJigodT1ULmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoUy5sYXN0TW9kaWZpZWRbZl09dSksKHU9VC5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKFMuZXRhZ1tmXT11KSksMjA0PT09ZXx8IkhFQUQiPT09di50eXBlP2w9Im5vY29udGVudCI6MzA0PT09ZT9sPSJub3Rtb2RpZmllZCI6KGw9cy5zdGF0ZSxvPXMuZGF0YSxpPSEoYT1zLmVycm9yKSkpOihhPWwsIWUmJmx8fChsPSJlcnJvciIsZTwwJiYoZT0wKSkpLFQuc3RhdHVzPWUsVC5zdGF0dXNUZXh0PSh0fHxsKSsiIixpP3gucmVzb2x2ZVdpdGgoeSxbbyxsLFRdKTp4LnJlamVjdFdpdGgoeSxbVCxsLGFdKSxULnN0YXR1c0NvZGUodyksdz12b2lkIDAsZyYmbS50cmlnZ2VyKGk/ImFqYXhTdWNjZXNzIjoiYWpheEVycm9yIixbVCx2LGk/bzphXSksYi5maXJlV2l0aCh5LFtULGxdKSxnJiYobS50cmlnZ2VyKCJhamF4Q29tcGxldGUiLFtULHZdKSwtLVMuYWN0aXZlfHxTLmV2ZW50LnRyaWdnZXIoImFqYXhTdG9wIikpKX1yZXR1cm4gVH0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIFMuZ2V0KGUsdCxuLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihlLHQpe3JldHVybiBTLmdldChlLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxTLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oZSxpKXtTW2ldPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBtKHQpJiYocj1yfHxuLG49dCx0PXZvaWQgMCksUy5hamF4KFMuZXh0ZW5kKHt1cmw6ZSx0eXBlOmksZGF0YVR5cGU6cixkYXRhOnQsc3VjY2VzczpufSxTLmlzUGxhaW5PYmplY3QoZSkmJmUpKX19KSxTLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQgaW4gZS5oZWFkZXJzKSJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpJiYoZS5jb250ZW50VHlwZT1lLmhlYWRlcnNbdF18fCIiKX0pLFMuX2V2YWxVcmw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBTLmFqYXgoe3VybDplLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKGUpe1MuZ2xvYmFsRXZhbChlLHQsbil9fSl9LFMuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzWzBdJiYobShlKSYmKGU9ZS5jYWxsKHRoaXNbMF0pKSx0PVMoZSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpczt3aGlsZShlLmZpcnN0RWxlbWVudENoaWxkKWU9ZS5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gZX0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiBtKG4pP3RoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyxlKSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZT1TKHRoaXMpLHQ9ZS5jb250ZW50cygpO3QubGVuZ3RoP3Qud3JhcEFsbChuKTplLmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKHQpe3ZhciBuPW0odCk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXtTKHRoaXMpLndyYXBBbGwobj90LmNhbGwodGhpcyxlKTp0KX0pfSx1bndyYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyZW50KGUpLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLFMuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihlKXtyZXR1cm4hUy5leHByLnBzZXVkb3MudmlzaWJsZShlKX0sUy5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIShlLm9mZnNldFdpZHRofHxlLm9mZnNldEhlaWdodHx8ZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LFMuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEMuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goZSl7fX07dmFyIEJ0PXswOjIwMCwxMjIzOjIwNH0sJHQ9Uy5hamF4U2V0dGluZ3MueGhyKCk7eS5jb3JzPSEhJHQmJiJ3aXRoQ3JlZGVudGlhbHMiaW4gJHQseS5hamF4PSR0PSEhJHQsUy5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGkpe3ZhciBvLGE7aWYoeS5jb3JzfHwkdCYmIWkuY3Jvc3NEb21haW4pcmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWkueGhyKCk7aWYoci5vcGVuKGkudHlwZSxpLnVybCxpLmFzeW5jLGkudXNlcm5hbWUsaS5wYXNzd29yZCksaS54aHJGaWVsZHMpZm9yKG4gaW4gaS54aHJGaWVsZHMpcltuXT1pLnhockZpZWxkc1tuXTtmb3IobiBpbiBpLm1pbWVUeXBlJiZyLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZShpLm1pbWVUeXBlKSxpLmNyb3NzRG9tYWlufHxlWyJYLVJlcXVlc3RlZC1XaXRoIl18fChlWyJYLVJlcXVlc3RlZC1XaXRoIl09IlhNTEh0dHBSZXF1ZXN0IiksZSlyLnNldFJlcXVlc3RIZWFkZXIobixlW25dKTtvPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe28mJihvPWE9ci5vbmxvYWQ9ci5vbmVycm9yPXIub25hYm9ydD1yLm9udGltZW91dD1yLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLCJhYm9ydCI9PT1lP3IuYWJvcnQoKToiZXJyb3IiPT09ZT8ibnVtYmVyIiE9dHlwZW9mIHIuc3RhdHVzP3QoMCwiZXJyb3IiKTp0KHIuc3RhdHVzLHIuc3RhdHVzVGV4dCk6dChCdFtyLnN0YXR1c118fHIuc3RhdHVzLHIuc3RhdHVzVGV4dCwidGV4dCIhPT0oci5yZXNwb25zZVR5cGV8fCJ0ZXh0Iil8fCJzdHJpbmciIT10eXBlb2Ygci5yZXNwb25zZVRleHQ/e2JpbmFyeTpyLnJlc3BvbnNlfTp7dGV4dDpyLnJlc3BvbnNlVGV4dH0sci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sci5vbmxvYWQ9bygpLGE9ci5vbmVycm9yPXIub250aW1lb3V0PW8oImVycm9yIiksdm9pZCAwIT09ci5vbmFib3J0P3Iub25hYm9ydD1hOnIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09PXIucmVhZHlTdGF0ZSYmQy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byYmYSgpfSl9LG89bygiYWJvcnQiKTt0cnl7ci5zZW5kKGkuaGFzQ29udGVudCYmaS5kYXRhfHxudWxsKX1jYXRjaChlKXtpZihvKXRocm93IGV9fSxhYm9ydDpmdW5jdGlvbigpe28mJm8oKX19fSksUy5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKGUpe2UuY3Jvc3NEb21haW4mJihlLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxTLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihlKXtyZXR1cm4gUy5nbG9iYWxFdmFsKGUpLGV9fX0pLFMuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihlKXt2b2lkIDA9PT1lLmNhY2hlJiYoZS5jYWNoZT0hMSksZS5jcm9zc0RvbWFpbiYmKGUudHlwZT0iR0VUIil9KSxTLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7dmFyIHIsaTtpZihuLmNyb3NzRG9tYWlufHxuLnNjcmlwdEF0dHJzKXJldHVybntzZW5kOmZ1bmN0aW9uKGUsdCl7cj1TKCI8c2NyaXB0PiIpLmF0dHIobi5zY3JpcHRBdHRyc3x8e30pLnByb3Aoe2NoYXJzZXQ6bi5zY3JpcHRDaGFyc2V0LHNyYzpuLnVybH0pLm9uKCJsb2FkIGVycm9yIixpPWZ1bmN0aW9uKGUpe3IucmVtb3ZlKCksaT1udWxsLGUmJnQoImVycm9yIj09PWUudHlwZT80MDQ6MjAwLGUudHlwZSl9KSxFLmhlYWQuYXBwZW5kQ2hpbGQoclswXSl9LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KTt2YXIgX3QsenQ9W10sVXQ9Lyg9KVw/KD89JnwkKXxcP1w/LztTLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9enQucG9wKCl8fFMuZXhwYW5kbysiXyIrd3QuZ3VpZCsrO3JldHVybiB0aGlzW2VdPSEwLGV9fSksUy5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9ITEhPT1lLmpzb25wJiYoVXQudGVzdChlLnVybCk/InVybCI6InN0cmluZyI9PXR5cGVvZiBlLmRhdGEmJjA9PT0oZS5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZVdC50ZXN0KGUuZGF0YSkmJiJkYXRhIik7aWYoYXx8Impzb25wIj09PWUuZGF0YVR5cGVzWzBdKXJldHVybiByPWUuanNvbnBDYWxsYmFjaz1tKGUuanNvbnBDYWxsYmFjayk/ZS5qc29ucENhbGxiYWNrKCk6ZS5qc29ucENhbGxiYWNrLGE/ZVthXT1lW2FdLnJlcGxhY2UoVXQsIiQxIityKTohMSE9PWUuanNvbnAmJihlLnVybCs9KFR0LnRlc3QoZS51cmwpPyImIjoiPyIpK2UuanNvbnArIj0iK3IpLGUuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe3JldHVybiBvfHxTLmVycm9yKHIrIiB3YXMgbm90IGNhbGxlZCIpLG9bMF19LGUuZGF0YVR5cGVzWzBdPSJqc29uIixpPUNbcl0sQ1tyXT1mdW5jdGlvbigpe289YXJndW1lbnRzfSxuLmFsd2F5cyhmdW5jdGlvbigpe3ZvaWQgMD09PWk/UyhDKS5yZW1vdmVQcm9wKHIpOkNbcl09aSxlW3JdJiYoZS5qc29ucENhbGxiYWNrPXQuanNvbnBDYWxsYmFjayx6dC5wdXNoKHIpKSxvJiZtKGkpJiZpKG9bMF0pLG89aT12b2lkIDB9KSwic2NyaXB0In0pLHkuY3JlYXRlSFRNTERvY3VtZW50PSgoX3Q9RS5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpLmJvZHkpLmlubmVySFRNTD0iPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT4iLDI9PT1fdC5jaGlsZE5vZGVzLmxlbmd0aCksUy5wYXJzZUhUTUw9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiJzdHJpbmciIT10eXBlb2YgZT9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKG49dCx0PSExKSx0fHwoeS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChyPSh0PUUuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPUUubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocikpOnQ9RSksbz0hbiYmW10sKGk9Ti5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KGlbMV0pXTooaT14ZShbZV0sdCxvKSxvJiZvLmxlbmd0aCYmUyhvKS5yZW1vdmUoKSxTLm1lcmdlKFtdLGkuY2hpbGROb2RlcykpKTt2YXIgcixpLG99LFMuZm4ubG9hZD1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9dGhpcyxzPWUuaW5kZXhPZigiICIpO3JldHVybi0xPHMmJihyPWh0KGUuc2xpY2UocykpLGU9ZS5zbGljZSgwLHMpKSxtKHQpPyhuPXQsdD12b2lkIDApOnQmJiJvYmplY3QiPT10eXBlb2YgdCYmKGk9IlBPU1QiKSwwPGEubGVuZ3RoJiZTLmFqYXgoe3VybDplLHR5cGU6aXx8IkdFVCIsZGF0YVR5cGU6Imh0bWwiLGRhdGE6dH0pLmRvbmUoZnVuY3Rpb24oZSl7bz1hcmd1bWVudHMsYS5odG1sKHI/UygiPGRpdj4iKS5hcHBlbmQoUy5wYXJzZUhUTUwoZSkpLmZpbmQocik6ZSl9KS5hbHdheXMobiYmZnVuY3Rpb24oZSx0KXthLmVhY2goZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsb3x8W2UucmVzcG9uc2VUZXh0LHQsZV0pfSl9KSx0aGlzfSxTLmV4cHIucHNldWRvcy5hbmltYXRlZD1mdW5jdGlvbih0KXtyZXR1cm4gUy5ncmVwKFMudGltZXJzLGZ1bmN0aW9uKGUpe3JldHVybiB0PT09ZS5lbGVtfSkubGVuZ3RofSxTLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLHUsbD1TLmNzcyhlLCJwb3NpdGlvbiIpLGM9UyhlKSxmPXt9OyJzdGF0aWMiPT09bCYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIikscz1jLm9mZnNldCgpLG89Uy5jc3MoZSwidG9wIiksdT1TLmNzcyhlLCJsZWZ0IiksKCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJi0xPChvK3UpLmluZGV4T2YoImF1dG8iKT8oYT0ocj1jLnBvc2l0aW9uKCkpLnRvcCxpPXIubGVmdCk6KGE9cGFyc2VGbG9hdChvKXx8MCxpPXBhcnNlRmxvYXQodSl8fDApLG0odCkmJih0PXQuY2FsbChlLG4sUy5leHRlbmQoe30scykpKSxudWxsIT10LnRvcCYmKGYudG9wPXQudG9wLXMudG9wK2EpLG51bGwhPXQubGVmdCYmKGYubGVmdD10LmxlZnQtcy5sZWZ0K2kpLCJ1c2luZyJpbiB0P3QudXNpbmcuY2FsbChlLGYpOmMuY3NzKGYpfX0sUy5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbih0KXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGUpe1Mub2Zmc2V0LnNldE9mZnNldCh0aGlzLHQsZSl9KTt2YXIgZSxuLHI9dGhpc1swXTtyZXR1cm4gcj9yLmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhlPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1yLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDplLnRvcCtuLnBhZ2VZT2Zmc2V0LGxlZnQ6ZS5sZWZ0K24ucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfTp2b2lkIDB9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGUsdCxuLHI9dGhpc1swXSxpPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1TLmNzcyhyLCJwb3NpdGlvbiIpKXQ9ci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle3Q9dGhpcy5vZmZzZXQoKSxuPXIub3duZXJEb2N1bWVudCxlPXIub2Zmc2V0UGFyZW50fHxuLmRvY3VtZW50RWxlbWVudDt3aGlsZShlJiYoZT09PW4uYm9keXx8ZT09PW4uZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5wYXJlbnROb2RlO2UmJmUhPT1yJiYxPT09ZS5ub2RlVHlwZSYmKChpPVMoZSkub2Zmc2V0KCkpLnRvcCs9Uy5jc3MoZSwiYm9yZGVyVG9wV2lkdGgiLCEwKSxpLmxlZnQrPVMuY3NzKGUsImJvcmRlckxlZnRXaWR0aCIsITApKX1yZXR1cm57dG9wOnQudG9wLWkudG9wLVMuY3NzKHIsIm1hcmdpblRvcCIsITApLGxlZnQ6dC5sZWZ0LWkubGVmdC1TLmNzcyhyLCJtYXJnaW5MZWZ0IiwhMCl9fX0sb2Zmc2V0UGFyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vZmZzZXRQYXJlbnQ7d2hpbGUoZSYmInN0YXRpYyI9PT1TLmNzcyhlLCJwb3NpdGlvbiIpKWU9ZS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGV8fHJlfSl9fSksUy5lYWNoKHtzY3JvbGxMZWZ0OiJwYWdlWE9mZnNldCIsc2Nyb2xsVG9wOiJwYWdlWU9mZnNldCJ9LGZ1bmN0aW9uKHQsaSl7dmFyIG89InBhZ2VZT2Zmc2V0Ij09PWk7Uy5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gJCh0aGlzLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih4KGUpP3I9ZTo5PT09ZS5ub2RlVHlwZSYmKHI9ZS5kZWZhdWx0Vmlldyksdm9pZCAwPT09bilyZXR1cm4gcj9yW2ldOmVbdF07cj9yLnNjcm9sbFRvKG8/ci5wYWdlWE9mZnNldDpuLG8/bjpyLnBhZ2VZT2Zmc2V0KTplW3RdPW59LHQsZSxhcmd1bWVudHMubGVuZ3RoKX19KSxTLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSxuKXtTLmNzc0hvb2tzW25dPUZlKHkucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ9V2UoZSxuKSxQZS50ZXN0KHQpP1MoZSkucG9zaXRpb24oKVtuXSsicHgiOnR9KX0pLFMuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKGEscyl7Uy5lYWNoKHtwYWRkaW5nOiJpbm5lciIrYSxjb250ZW50OnMsIiI6Im91dGVyIithfSxmdW5jdGlvbihyLG8pe1MuZm5bb109ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZSksaT1yfHwoITA9PT1lfHwhMD09PXQ/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiAkKHRoaXMsZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB4KGUpPzA9PT1vLmluZGV4T2YoIm91dGVyIik/ZVsiaW5uZXIiK2FdOmUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2FdOjk9PT1lLm5vZGVUeXBlPyhyPWUuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KGUuYm9keVsic2Nyb2xsIithXSxyWyJzY3JvbGwiK2FdLGUuYm9keVsib2Zmc2V0IithXSxyWyJvZmZzZXQiK2FdLHJbImNsaWVudCIrYV0pKTp2b2lkIDA9PT1uP1MuY3NzKGUsdCxpKTpTLnN0eWxlKGUsdCxuLGkpfSxzLG4/ZTp2b2lkIDAsbil9fSl9KSxTLmVhY2goWyJhamF4U3RhcnQiLCJhamF4U3RvcCIsImFqYXhDb21wbGV0ZSIsImFqYXhFcnJvciIsImFqYXhTdWNjZXNzIiwiYWpheFNlbmQiXSxmdW5jdGlvbihlLHQpe1MuZm5bdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub24odCxlKX19KSxTLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LGhvdmVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMubW91c2VlbnRlcihlKS5tb3VzZWxlYXZlKHR8fGUpfX0pLFMuZWFjaCgiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IHJlc2l6ZSBzY3JvbGwgY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudSIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLG4pe1MuZm5bbl09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gMDxhcmd1bWVudHMubGVuZ3RoP3RoaXMub24obixudWxsLGUsdCk6dGhpcy50cmlnZ2VyKG4pfX0pO3ZhciBYdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Uy5wcm94eT1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihuPWVbdF0sdD1lLGU9biksbShlKSlyZXR1cm4gcj1zLmNhbGwoYXJndW1lbnRzLDIpLChpPWZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodHx8dGhpcyxyLmNvbmNhdChzLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxTLmd1aWQrKyxpfSxTLmhvbGRSZWFkeT1mdW5jdGlvbihlKXtlP1MucmVhZHlXYWl0Kys6Uy5yZWFkeSghMCl9LFMuaXNBcnJheT1BcnJheS5pc0FycmF5LFMucGFyc2VKU09OPUpTT04ucGFyc2UsUy5ub2RlTmFtZT1BLFMuaXNGdW5jdGlvbj1tLFMuaXNXaW5kb3c9eCxTLmNhbWVsQ2FzZT1YLFMudHlwZT13LFMubm93PURhdGUubm93LFMuaXNOdW1lcmljPWZ1bmN0aW9uKGUpe3ZhciB0PVMudHlwZShlKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4oZS1wYXJzZUZsb2F0KGUpKX0sUy50cmltPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lPyIiOihlKyIiKS5yZXBsYWNlKFh0LCIiKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgVnQ9Qy5qUXVlcnksR3Q9Qy4kO3JldHVybiBTLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIEMuJD09PVMmJihDLiQ9R3QpLGUmJkMualF1ZXJ5PT09UyYmKEMualF1ZXJ5PVZ0KSxTfSwidW5kZWZpbmVkIj09dHlwZW9mIGUmJihDLmpRdWVyeT1DLiQ9UyksU30pOwo="},{"meta":{"name":"clipboard.min.js","url":"https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/clipboard.js/2.0.10/clipboard.min.js","ts":1661936236497,"mimetype":"text/javascript"},"source":"LyohCiAqIGNsaXBib2FyZC5qcyB2Mi4wLjEwCiAqIGh0dHBzOi8vY2xpcGJvYXJkanMuY29tLwogKgogKiBMaWNlbnNlZCBNSVQgwqkgWmVubyBSb2NoYQogKi8KIWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQ2xpcGJvYXJkSlM9ZSgpOnQuQ2xpcGJvYXJkSlM9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG49ezY4NjpmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO24uZChlLHtkZWZhdWx0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSk7dmFyIGU9bigyNzkpLGk9bi5uKGUpLGU9bigzNzApLHU9bi5uKGUpLGU9big4MTcpLGM9bi5uKGUpO2Z1bmN0aW9uIGEodCl7dHJ5e3JldHVybiBkb2N1bWVudC5leGVjQ29tbWFuZCh0KX1jYXRjaCh0KXtyZXR1cm59fXZhciBmPWZ1bmN0aW9uKHQpe3Q9YygpKHQpO3JldHVybiBhKCJjdXQiKSx0fTt2YXIgbD1mdW5jdGlvbih0KXt2YXIgZSxuLG8scj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e2NvbnRhaW5lcjpkb2N1bWVudC5ib2R5fSxpPSIiO3JldHVybiJzdHJpbmciPT10eXBlb2YgdD8oZT10LG49InJ0bCI9PT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkaXIiKSwobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpKS5zdHlsZS5mb250U2l6ZT0iMTJwdCIsby5zdHlsZS5ib3JkZXI9IjAiLG8uc3R5bGUucGFkZGluZz0iMCIsby5zdHlsZS5tYXJnaW49IjAiLG8uc3R5bGUucG9zaXRpb249ImFic29sdXRlIixvLnN0eWxlW24/InJpZ2h0IjoibGVmdCJdPSItOTk5OXB4IixuPXdpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCxvLnN0eWxlLnRvcD0iIi5jb25jYXQobiwicHgiKSxvLnNldEF0dHJpYnV0ZSgicmVhZG9ubHkiLCIiKSxvLnZhbHVlPWUsbz1vLHIuY29udGFpbmVyLmFwcGVuZENoaWxkKG8pLGk9YygpKG8pLGEoImNvcHkiKSxvLnJlbW92ZSgpKTooaT1jKCkodCksYSgiY29weSIpKSxpfTtmdW5jdGlvbiByKHQpe3JldHVybihyPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9dmFyIHM9ZnVuY3Rpb24oKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sZT10LmFjdGlvbixuPXZvaWQgMD09PWU/ImNvcHkiOmUsbz10LmNvbnRhaW5lcixlPXQudGFyZ2V0LHQ9dC50ZXh0O2lmKCJjb3B5IiE9PW4mJiJjdXQiIT09bil0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgImFjdGlvbiIgdmFsdWUsIHVzZSBlaXRoZXIgImNvcHkiIG9yICJjdXQiJyk7aWYodm9pZCAwIT09ZSl7aWYoIWV8fCJvYmplY3QiIT09cihlKXx8MSE9PWUubm9kZVR5cGUpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJ0YXJnZXQiIHZhbHVlLCB1c2UgYSB2YWxpZCBFbGVtZW50Jyk7aWYoImNvcHkiPT09biYmZS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJ0YXJnZXQiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSAicmVhZG9ubHkiIGluc3RlYWQgb2YgImRpc2FibGVkIiBhdHRyaWJ1dGUnKTtpZigiY3V0Ij09PW4mJihlLmhhc0F0dHJpYnV0ZSgicmVhZG9ubHkiKXx8ZS5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpKXRocm93IG5ldyBFcnJvcignSW52YWxpZCAidGFyZ2V0IiBhdHRyaWJ1dGUuIFlvdSBjYW5cJ3QgY3V0IHRleHQgZnJvbSBlbGVtZW50cyB3aXRoICJyZWFkb25seSIgb3IgImRpc2FibGVkIiBhdHRyaWJ1dGVzJyl9cmV0dXJuIHQ/bCh0LHtjb250YWluZXI6b30pOmU/ImN1dCI9PT1uP2YoZSk6bChlLHtjb250YWluZXI6b30pOnZvaWQgMH07ZnVuY3Rpb24gcCh0KXtyZXR1cm4ocD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfWZ1bmN0aW9uIGQodCxlKXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIG89ZVtuXTtvLmVudW1lcmFibGU9by5lbnVtZXJhYmxlfHwhMSxvLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbyYmKG8ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG8ua2V5LG8pfX1mdW5jdGlvbiB5KHQsZSl7cmV0dXJuKHk9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbih0LGUpe3JldHVybiB0Ll9fcHJvdG9fXz1lLHR9KSh0LGUpfWZ1bmN0aW9uIGgobil7dmFyIG89ZnVuY3Rpb24oKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFJlZmxlY3R8fCFSZWZsZWN0LmNvbnN0cnVjdClyZXR1cm4hMTtpZihSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKXJldHVybiExO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSlyZXR1cm4hMDt0cnl7cmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSxbXSxmdW5jdGlvbigpe30pKSwhMH1jYXRjaCh0KXtyZXR1cm4hMX19KCk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsZT1tKG4pO3JldHVybiB0PW8/KHQ9bSh0aGlzKS5jb25zdHJ1Y3RvcixSZWZsZWN0LmNvbnN0cnVjdChlLGFyZ3VtZW50cyx0KSk6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksZT10aGlzLCEodD10KXx8Im9iamVjdCIhPT1wKHQpJiYiZnVuY3Rpb24iIT10eXBlb2YgdD9mdW5jdGlvbih0KXtpZih2b2lkIDAhPT10KXJldHVybiB0O3Rocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIil9KGUpOnR9fWZ1bmN0aW9uIG0odCl7cmV0dXJuKG09T2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KX0pKHQpfWZ1bmN0aW9uIHYodCxlKXt0PSJkYXRhLWNsaXBib2FyZC0iLmNvbmNhdCh0KTtpZihlLmhhc0F0dHJpYnV0ZSh0KSlyZXR1cm4gZS5nZXRBdHRyaWJ1dGUodCl9dmFyIG89ZnVuY3Rpb24oKXshZnVuY3Rpb24odCxlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24iKTt0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUmJmUucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6dCx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksZSYmeSh0LGUpfShyLGkoKSk7dmFyIHQsZSxuLG89aChyKTtmdW5jdGlvbiByKHQsZSl7dmFyIG47cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIHIpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzKSwobj1vLmNhbGwodGhpcykpLnJlc29sdmVPcHRpb25zKGUpLG4ubGlzdGVuQ2xpY2sodCksbn1yZXR1cm4gdD1yLG49W3trZXk6ImNvcHkiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7Y29udGFpbmVyOmRvY3VtZW50LmJvZHl9O3JldHVybiBsKHQsZSl9fSx7a2V5OiJjdXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiBmKHQpfX0se2tleToiaXNTdXBwb3J0ZWQiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlsiY29weSIsImN1dCJdLHQ9InN0cmluZyI9PXR5cGVvZiB0P1t0XTp0LGU9ISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQ7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtlPWUmJiEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKHQpfSksZX19XSwoZT1be2tleToicmVzb2x2ZU9wdGlvbnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O3RoaXMuYWN0aW9uPSJmdW5jdGlvbiI9PXR5cGVvZiB0LmFjdGlvbj90LmFjdGlvbjp0aGlzLmRlZmF1bHRBY3Rpb24sdGhpcy50YXJnZXQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQudGFyZ2V0P3QudGFyZ2V0OnRoaXMuZGVmYXVsdFRhcmdldCx0aGlzLnRleHQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQudGV4dD90LnRleHQ6dGhpcy5kZWZhdWx0VGV4dCx0aGlzLmNvbnRhaW5lcj0ib2JqZWN0Ij09PXAodC5jb250YWluZXIpP3QuY29udGFpbmVyOmRvY3VtZW50LmJvZHl9fSx7a2V5OiJsaXN0ZW5DbGljayIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmxpc3RlbmVyPXUoKSh0LCJjbGljayIsZnVuY3Rpb24odCl7cmV0dXJuIGUub25DbGljayh0KX0pfX0se2tleToib25DbGljayIsdmFsdWU6ZnVuY3Rpb24odCl7dmFyIGU9dC5kZWxlZ2F0ZVRhcmdldHx8dC5jdXJyZW50VGFyZ2V0LG49dGhpcy5hY3Rpb24oZSl8fCJjb3B5Iix0PXMoe2FjdGlvbjpuLGNvbnRhaW5lcjp0aGlzLmNvbnRhaW5lcix0YXJnZXQ6dGhpcy50YXJnZXQoZSksdGV4dDp0aGlzLnRleHQoZSl9KTt0aGlzLmVtaXQodD8ic3VjY2VzcyI6ImVycm9yIix7YWN0aW9uOm4sdGV4dDp0LHRyaWdnZXI6ZSxjbGVhclNlbGVjdGlvbjpmdW5jdGlvbigpe2UmJmUuZm9jdXMoKSxkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKSx3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9fSl9fSx7a2V5OiJkZWZhdWx0QWN0aW9uIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gdigiYWN0aW9uIix0KX19LHtrZXk6ImRlZmF1bHRUYXJnZXQiLHZhbHVlOmZ1bmN0aW9uKHQpe3Q9digidGFyZ2V0Iix0KTtpZih0KXJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpfX0se2tleToiZGVmYXVsdFRleHQiLHZhbHVlOmZ1bmN0aW9uKHQpe3JldHVybiB2KCJ0ZXh0Iix0KX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5lci5kZXN0cm95KCl9fV0pJiZkKHQucHJvdG90eXBlLGUpLG4mJmQodCxuKSxyfSgpfSw4Mjg6ZnVuY3Rpb24odCl7dmFyIGU7InVuZGVmaW5lZCI9PXR5cGVvZiBFbGVtZW50fHxFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzfHwoKGU9RWxlbWVudC5wcm90b3R5cGUpLm1hdGNoZXM9ZS5tYXRjaGVzU2VsZWN0b3J8fGUubW96TWF0Y2hlc1NlbGVjdG9yfHxlLm1zTWF0Y2hlc1NlbGVjdG9yfHxlLm9NYXRjaGVzU2VsZWN0b3J8fGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSx0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtmb3IoO3QmJjkhPT10Lm5vZGVUeXBlOyl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQubWF0Y2hlcyYmdC5tYXRjaGVzKGUpKXJldHVybiB0O3Q9dC5wYXJlbnROb2RlfX19LDQzODpmdW5jdGlvbih0LGUsbil7dmFyIHU9big4MjgpO2Z1bmN0aW9uIGkodCxlLG4sbyxyKXt2YXIgaT1mdW5jdGlvbihlLG4sdCxvKXtyZXR1cm4gZnVuY3Rpb24odCl7dC5kZWxlZ2F0ZVRhcmdldD11KHQudGFyZ2V0LG4pLHQuZGVsZWdhdGVUYXJnZXQmJm8uY2FsbChlLHQpfX0uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0LmFkZEV2ZW50TGlzdGVuZXIobixpLHIpLHtkZXN0cm95OmZ1bmN0aW9uKCl7dC5yZW1vdmVFdmVudExpc3RlbmVyKG4saSxyKX19fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUsbixvLHIpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXI/aS5hcHBseShudWxsLGFyZ3VtZW50cyk6ImZ1bmN0aW9uIj09dHlwZW9mIG4/aS5iaW5kKG51bGwsZG9jdW1lbnQpLmFwcGx5KG51bGwsYXJndW1lbnRzKTooInN0cmluZyI9PXR5cGVvZiB0JiYodD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpKSxBcnJheS5wcm90b3R5cGUubWFwLmNhbGwodCxmdW5jdGlvbih0KXtyZXR1cm4gaSh0LGUsbixvLHIpfSkpfX0sODc5OmZ1bmN0aW9uKHQsbil7bi5ub2RlPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDAhPT10JiZ0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJjE9PT10Lm5vZGVUeXBlfSxuLm5vZGVMaXN0PWZ1bmN0aW9uKHQpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KTtyZXR1cm4gdm9pZCAwIT09dCYmKCJbb2JqZWN0IE5vZGVMaXN0XSI9PT1lfHwiW29iamVjdCBIVE1MQ29sbGVjdGlvbl0iPT09ZSkmJiJsZW5ndGgiaW4gdCYmKDA9PT10Lmxlbmd0aHx8bi5ub2RlKHRbMF0pKX0sbi5zdHJpbmc9ZnVuY3Rpb24odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0fHx0IGluc3RhbmNlb2YgU3RyaW5nfSxuLmZuPWZ1bmN0aW9uKHQpe3JldHVybiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9fSwzNzA6ZnVuY3Rpb24odCxlLG4pe3ZhciBmPW4oODc5KSxsPW4oNDM4KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4pe2lmKCF0JiYhZSYmIW4pdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50cyIpO2lmKCFmLnN0cmluZyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJTZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZyIpO2lmKCFmLmZuKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoIlRoaXJkIGFyZ3VtZW50IG11c3QgYmUgYSBGdW5jdGlvbiIpO2lmKGYubm9kZSh0KSlyZXR1cm4gYz1lLGE9biwodT10KS5hZGRFdmVudExpc3RlbmVyKGMsYSkse2Rlc3Ryb3k6ZnVuY3Rpb24oKXt1LnJlbW92ZUV2ZW50TGlzdGVuZXIoYyxhKX19O2lmKGYubm9kZUxpc3QodCkpcmV0dXJuIG89dCxyPWUsaT1uLEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwobyxmdW5jdGlvbih0KXt0LmFkZEV2ZW50TGlzdGVuZXIocixpKX0pLHtkZXN0cm95OmZ1bmN0aW9uKCl7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChvLGZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLGkpfSl9fTtpZihmLnN0cmluZyh0KSlyZXR1cm4gdD10LGU9ZSxuPW4sbChkb2N1bWVudC5ib2R5LHQsZSxuKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Iik7dmFyIG8scixpLHUsYyxhfX0sODE3OmZ1bmN0aW9uKHQpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZSxuPSJTRUxFQ1QiPT09dC5ub2RlTmFtZT8odC5mb2N1cygpLHQudmFsdWUpOiJJTlBVVCI9PT10Lm5vZGVOYW1lfHwiVEVYVEFSRUEiPT09dC5ub2RlTmFtZT8oKGU9dC5oYXNBdHRyaWJ1dGUoInJlYWRvbmx5IikpfHx0LnNldEF0dHJpYnV0ZSgicmVhZG9ubHkiLCIiKSx0LnNlbGVjdCgpLHQuc2V0U2VsZWN0aW9uUmFuZ2UoMCx0LnZhbHVlLmxlbmd0aCksZXx8dC5yZW1vdmVBdHRyaWJ1dGUoInJlYWRvbmx5IiksdC52YWx1ZSk6KHQuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKSYmdC5mb2N1cygpLG49d2luZG93LmdldFNlbGVjdGlvbigpLChlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNlbGVjdE5vZGVDb250ZW50cyh0KSxuLnJlbW92ZUFsbFJhbmdlcygpLG4uYWRkUmFuZ2UoZSksbi50b1N0cmluZygpKTtyZXR1cm4gbn19LDI3OTpmdW5jdGlvbih0KXtmdW5jdGlvbiBlKCl7fWUucHJvdG90eXBlPXtvbjpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcy5lfHwodGhpcy5lPXt9KTtyZXR1cm4ob1t0XXx8KG9bdF09W10pKS5wdXNoKHtmbjplLGN0eDpufSksdGhpc30sb25jZTpmdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcztmdW5jdGlvbiByKCl7by5vZmYodCxyKSxlLmFwcGx5KG4sYXJndW1lbnRzKX1yZXR1cm4gci5fPWUsdGhpcy5vbih0LHIsbil9LGVtaXQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLG49KCh0aGlzLmV8fCh0aGlzLmU9e30pKVt0XXx8W10pLnNsaWNlKCksbz0wLHI9bi5sZW5ndGg7bzxyO28rKyluW29dLmZuLmFwcGx5KG5bb10uY3R4LGUpO3JldHVybiB0aGlzfSxvZmY6ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmV8fCh0aGlzLmU9e30pLG89blt0XSxyPVtdO2lmKG8mJmUpZm9yKHZhciBpPTAsdT1vLmxlbmd0aDtpPHU7aSsrKW9baV0uZm4hPT1lJiZvW2ldLmZuLl8hPT1lJiZyLnB1c2gob1tpXSk7cmV0dXJuIHIubGVuZ3RoP25bdF09cjpkZWxldGUgblt0XSx0aGlzfX0sdC5leHBvcnRzPWUsdC5leHBvcnRzLlRpbnlFbWl0dGVyPWV9fSxyPXt9LG8ubj1mdW5jdGlvbih0KXt2YXIgZT10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gby5kKGUse2E6ZX0pLGV9LG8uZD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbiBpbiBlKW8ubyhlLG4pJiYhby5vKHQsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2VudW1lcmFibGU6ITAsZ2V0OmVbbl19KX0sby5vPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpfSxvKDY4NikuZGVmYXVsdDtmdW5jdGlvbiBvKHQpe2lmKHJbdF0pcmV0dXJuIHJbdF0uZXhwb3J0czt2YXIgZT1yW3RdPXtleHBvcnRzOnt9fTtyZXR1cm4gblt0XShlLGUuZXhwb3J0cyxvKSxlLmV4cG9ydHN9dmFyIG4scn0pOw=="}]},{"name":"秀米补丁","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*xiumi.us/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1661936236465,"data":{}},"enabled":false,"position":13,"uuid":"f4d34ee2-5a62-4a6f-9013-ef3ce4d45c81","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDnp4DnsbPooaXkuIEKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjEKLy8gQGRlc2NyaXB0aW9uICB0cnkgdG8gdGFrZSBvdmVyIHRoZSB3b3JsZCEKLy8gQGF1dGhvciAgICAgICBZb3UKLy8gQG1hdGNoICAgICAgICAqeGl1bWkudXMvKgovLyBAaWNvbiAgICAgICAgIGh0dHBzOi8vc3RjLnhpdW1pLnVzL2ltYWdlcy9iODBjZDgueGl1bWlfbG9nb180MC5wbmcKLy8gQGdyYW50ICAgICAgICBub25lCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCQpIHsKd2luZG93Lm9ubG9hZCA9wqBmdW5jdGlvbigpewoKdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoInRuLW9wLWJ0bi1ncm91cCBuZy1zY29wZSIpWzBdOwp2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7LyrliJvlu7rkuIDkuKroioLngrkqLwpidXR0b24uc2V0QXR0cmlidXRlKCJzdHlsZSIsICJiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1IDI1NSAyNTUgLyAwJSk7IHdpZHRoOiA0Ni45cHg7aGVpZ2h0OiA0Ni45cHg7Y29sb3I6IzAwODlmZjAwO21hcmdpbjowIGF1dG87Ym9yZGVyLXJhZGl1czogMjVweDtib3JkZXI6IDJweCBzb2xpZCAjYzBjMmM1O2JhY2tncm91bmQtaW1hZ2U6IHVybChodHRwczovL2dpbWcyLmJhaWR1LmNvbS9pbWFnZV9zZWFyY2gvc3JjPWh0dHAlM0ElMkYlMkZjLXNzbC5kdWl0YW5nLmNvbSUyRnVwbG9hZHMlMkZpdGVtJTJGMjAyMDA0JTJGMzAlMkYyMDIwMDQzMDAwNTQyMl9jam5reS50aHVtYi40MDBfMC5naWYmcmVmZXI9aHR0cCUzQSUyRiUyRmMtc3NsLmR1aXRhbmcuY29tJmFwcD0yMDAyJnNpemU9Zjk5OTksMTAwMDAmcT1hODAmbj0wJmc9MG4mZm10PWpwZWc/c2VjPTE2NDg0NzkzMDYmdD1iZDg4YmEyODEzMzFiOGYzZTEyM2JkOWEyZmY2NzEzMik7IGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7ICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47YmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIGNlbnRlcjsiKTsKLy9idXR0b24uc2V0QXR0cmlidXRlKCJjbGFzcyIsICJidG4taW1nIG9wLWJ0biBvcGVuIik7Ci8vYnV0dG9uLnNldEF0dHJpYnV0ZSgiYmFja2dyb3VuZC1pbWFnZSIsICJodHRwczovL2dpbWcyLmJhaWR1LmNvbS9pbWFnZV9zZWFyY2gvc3JjPWh0dHAlM0ElMkYlMkZjLXNzbC5kdWl0YW5nLmNvbSUyRnVwbG9hZHMlMkZpdGVtJTJGMjAyMDA0JTJGMzAlMkYyMDIwMDQzMDAwNTQyMl9jam5reS50aHVtYi40MDBfMC5naWYmcmVmZXI9aHR0cCUzQSUyRiUyRmMtc3NsLmR1aXRhbmcuY29tJmFwcD0yMDAyJnNpemU9Zjk5OTksMTAwMDAmcT1hODAmbj0wJmc9MG4mZm10PWpwZWc/c2VjPTE2NDg0NzkzMDYmdD1iZDg4YmEyODEzMzFiOGYzZTEyM2JkOWEyZmY2NzEzMiIpOwovL2J1dHRvbi5zZXRBdHRyaWJ1dGUoImlkIiwgInFjc3kiKTsKYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29weUNvbnRlbnQpOwovL2Rpdi5hcHBlbmRDaGlsZChidXR0b24pOwp2YXIgY2wxID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYnRuLWltZyBvcC1idG4gb3BlbiIpWzBdOwpkaXYuaW5zZXJ0QmVmb3JlKGJ1dHRvbiwgY2wxKTsKLy9kaXYuaW5zZXJ0KGJ1dHRvbjEpOwoKICAgIC8qKgp2YXIgY2wxID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYnRuLWltZyBvcC1idG4gb3BlbiIpWzBdOwogICAgLy9jb25zb2xlLmxvZyhjbDEpCiAgICBjbDEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjb3B5Q29udGVudCk7CnZhciBibnQxID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgib3AtYnRuLWluc2V0LWRlc2MiKVswXTsKICAgIGJudDEuaW5uZXJIVE1MPSLlpI3liLYiCioqLwpmdW5jdGlvbiBjb3B5Q29udGVudCAoKSB7CiAgICAgZnVuY3Rpb24gbXBvcnQgKCkgewogICAgIHZhciBCdG5fc2F2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImJ0bi1pbWcgb3AtYnRuIGRvbmUgZHJvcGRvd24tdG9nZ2xlIilbMF07CiAgICAgIGlmIChCdG5fc2F2ZS5jbGFzc05hbWUgPT0gImJ0bi1pbWcgb3AtYnRuIGRvbmUgZHJvcGRvd24tdG9nZ2xlIikgewogICAgICAgICAgICBCdG5fc2F2ZS5jbGljaygpO30KICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICB2YXIgQnRuMiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImdseXBoaWNvbiBnbHlwaGljb24tbmV3LXdpbmRvdyIpWzBdOwogICAgICAgICAgICBpZiAoQnRuMi5jbGFzc05hbWUgPT0gImdseXBoaWNvbiBnbHlwaGljb24tbmV3LXdpbmRvdyIpIHsKICAgICAgICAgICAgQnRuMi5jbGljaygpO319LDMwMCk7CiAgICAgIH07CgogICAgZnVuY3Rpb24gVG9hc3QobXNnLGR1cmF0aW9uKXsKICAgIGR1cmF0aW9uPWlzTmFOKGR1cmF0aW9uKT8zMDAwOmR1cmF0aW9uOwogICAgdmFyIG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIG0uaW5uZXJIVE1MID0gbXNnOwogICAgbS5zdHlsZS5jc3NUZXh0PSJmb250LXNpemU6IDE4cHg7Y29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNik7cGFkZGluZzogMjBweCAyNXB4O21hcmdpbjogMCAwIDAgLTYwcHg7Ym9yZGVyLXJhZGl1czogNHB4O3Bvc2l0aW9uOiBmaXhlZDsgICAgdG9wOiA1MCU7bGVmdDogNTAlO3dpZHRoOiAyNjBweDt0ZXh0LWFsaWduOiBjZW50ZXI7IjsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobSk7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBkID0gMC41OwogICAgICAgIG0uc3R5bGUub3BhY2l0eSA9ICcwJzsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG0pIH0sIGQgKiAxMDAwKTsKICAgIH0sIGR1cmF0aW9uKTsKfQoKICBmdW5jdGlvbiBzcGxpdCAoKSB7CiAgICB2YXIgaHRtbCA9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTDsKICAgIHZhciBzMT0idW5zYWZlXCI+Jm5ic3A7IjsKICAgIHZhciBzMj0gIiZuYnNwOzwvZGl2IjsKICAgIHZhciBodG1sMiA9IGh0bWwuc3BsaXQoczEpWzFdOwogICAgdmFyIHNlY3Rpb24gPSBodG1sMi5zcGxpdChzMilbMF07CiAgICByZXR1cm4gc2VjdGlvbjsKICAgfTsKICB0cnkgewogICAgdW5kZWZpbmVkCiAgICAvL+WPr+iDveS8muWvvOiHtOmUmeivr+eahOS7o+eggQogICAgc3BsaXQoKTsKICAgIH0KICBjYXRjaCAoZXJyb3IpCiAgICB7CiAgICAgIHVuZGVmaW5lZAogICAgICAvL2FsZXJ0KCLor7flhYjlm7rlrprnvJbovpHljLrvvIEiKQogICAgICBtcG9ydCAoKTsKICAgICAgfQogIHZhciBzZWN0aW9uID0gc3BsaXQoKTsKICBsZXQgdmFsID0gc2VjdGlvbjsKICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb3B5Jywgc2F2ZSk7IC8vIOebkeWQrOa1j+iniOWZqGNvcHnkuovku7YKICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpOyAvLyDmiafooYxjb3B55LqL5Lu277yM6L+Z5pe255uR5ZCs5Ye95pWw5Lya5omn6KGMc2F2ZeWHveaVsOOAggogIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvcHknLCBzYXZlKTsgLy8g56e76ZmkY29weeS6i+S7tgogIC8vIOS/neWtmOaWueazlQogIGZ1bmN0aW9uIHNhdmUoZSkgewogICAgZS5jbGlwYm9hcmREYXRhLnNldERhdGEoJ3RleHQvcGxhaW4nLCB2YWwpOyAvLyDliarotLTmnb/lhoXlrrnorr7nva4KICAgIGUucHJldmVudERlZmF1bHQoKTsKICB9CiAgICBUb2FzdCgn5o+Q56S677ya5Luj56CB5aSN5Yi25oiQ5Yqf77yB77yBJywxMDAwKTsKfQp9Cn0pKGpRdWVyeSk7CgoKLyoqCihmdW5jdGlvbigpIHsKd2luZG93Lm9ubG9hZCA9wqBmdW5jdGlvbigpewp2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidG4tb3AtYnRuLWdyb3VwIG5nLXNjb3BlIilbMF07CmRpdi5pbm5lckhUTUwgPSAnJzt9Cn0pKCk7CgooZnVuY3Rpb24oICQgKSB7CiAgICB2YXIgZGl2PSI8ZGl2IHN0eWxlPSd3aWR0aDogNTBweDsgaGVpZ2h0OiA1MHB4OyBwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgei1pbmRleDogOTk5OTk7b3ZlcmZsb3c6IHZpc2libGU7Jz48YnV0dG9uIGlkPSdxY3N5JyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSAyNTUgMjU1IC8gMCUpOyB3aWR0aDogNTBweDtoZWlnaHQ6IDUwcHg7Y29sb3I6IzAwODlmZjAwO21hcmdpbi1sZWZ0OiAxMHB4O2JvcmRlci1yYWRpdXM6IDI1cHg7Ym9yZGVyOiAxcHggc29saWQgI2ZmZmZmZjtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoaHR0cHM6Ly9naW1nMi5iYWlkdS5jb20vaW1hZ2Vfc2VhcmNoL3NyYz1odHRwJTNBJTJGJTJGYy1zc2wuZHVpdGFuZy5jb20lMkZ1cGxvYWRzJTJGaXRlbSUyRjIwMjAwNCUyRjMwJTJGMjAyMDA0MzAwMDU0MjJfY2pua3kudGh1bWIuNDAwXzAuZ2lmJnJlZmVyPWh0dHAlM0ElMkYlMkZjLXNzbC5kdWl0YW5nLmNvbSZhcHA9MjAwMiZzaXplPWY5OTk5LDEwMDAwJnE9YTgwJm49MCZnPTBuJmZtdD1qcGVnP3NlYz0xNjQ4NDc5MzA2JnQ9YmQ4OGJhMjgxMzMxYjhmM2UxMjNiZDlhMmZmNjcxMzIpOyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgY2VudGVyOyc+5aSN5Yi25Luj56CBPC9idXR0b24+PC9kaXY+IjsKICAgICQoInRuLW9wLWJ0bi1ncm91cCBuZy1zY29wZSIpLnByZXBlbmQoZGl2KTsKCn0pKCk7CioqLw=="},{"name":"检查微信公众号的错字","options":{"check_for_updates":false,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_prototypes":false,"compat_powerful_this":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*mp.weixin.qq.com/cgi-bin/appmsg?t=media/appmsg_edit&action=edit&type*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1661936236464,"data":{}},"enabled":true,"position":14,"uuid":"863028d1-33b0-48e1-a012-313e703a7a13","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDmo4Dmn6Xlvq7kv6HlhazkvJflj7fnmoTplJnlrZcKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjEKLy8gQGRlc2NyaXB0aW9uICB0cnkgdG8gdGFrZSBvdmVyIHRoZSB3b3JsZCEKLy8gQGF1dGhvciAgICAgICBMRU5HTkFTQQovLyBAbWF0Y2ggICAgICAgICptcC53ZWl4aW4ucXEuY29tL2NnaS1iaW4vYXBwbXNnP3Q9bWVkaWEvYXBwbXNnX2VkaXQmYWN0aW9uPWVkaXQmdHlwZSoKLy8gQGljb24gICAgICAgICBodHRwczovL3Jlcy53eC5xcS5jb20vYS9mZWRfdXBsb2FkLzkzMDBlN2FjLWNlYzUtNDQ1NC1iNzVjLWY5MjI2MGRkNWI0Ny9sb2dvLW1wLmljbwovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7Cgp2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgid2V1aS1kZXNrdG9wLW9ubGluZS1mYXFfX3dycCIpWzBdOwogICAgZGl2LmlubmVySFRNTD0iPGRpdiBjbGFzcz1cIndldWktZGVza3RvcC1vbmxpbmUtZmFxXCIgb25jbGljaz1cIndpbmRvdy5vcGVuKCdodHRwczovL3hpZXp1b2NhdC5jb20vIy9wcm8vMjUwMDIyMzInKVwiPjxkaXYgY2xhc3M9XCJ3ZXVpLWRlc2t0b3Atb25saW5lLWZhcV9faW5uZXJcIj48ZGl2IGNsYXNzPVwid2V1aS1kZXNrdG9wLW9ubGluZS1mYXFfX3N3aXRjaFwiIHN0eWxlPVwiYm9yZGVyLXJhZGl1czogNHB4O1wiPjwhLS0tLT4gPGRpdiBjbGFzcz1cIndldWktZGVza3RvcC1vbmxpbmUtZmFxX19zd2l0Y2hfY29udGVudFwiIHN0eWxlPVwiYm9yZGVyLXJhZGl1czogNHB4O1wiPjxzdmcgdD1cIjE2NjE5MTAzMTQzODNcIiBjbGFzcz1cImljb25cIiBzdHlsZT1cIndpZHRoOiAxLjVlbTtoZWlnaHQ6IDEuNWVtO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ZmlsbDogY3VycmVudENvbG9yO292ZXJmbG93OiBoaWRkZW47XCIgdmlld0JveD1cIjAgMCAxMDI0IDEwMjRcIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHAtaWQ9XCI4NjIwXCIgZGF0YS1zcG0tYW5jaG9yLWlkPVwiYTMxM3guNzc4MTA2OS4wLmkwXCI+PHBhdGggZD1cIk04NjIuNiAxMjkuNGwwLjEgMC4xVjg5N2wtMC4xIDAuMUgxNjAuOGwtMC4xLTAuMVYxMjkuNWwwLjEtMC4xaDcwMS44bTAuMS02NGgtNzAyYy0zNS4yIDAtNjQgMjguOC02NCA2NHY3NjcuN2MwIDM1LjIgMjguOCA2NCA2NCA2NGg3MDJjMzUuMiAwIDY0LTI4LjggNjQtNjRWMTI5LjRjMC0zNS4yLTI4LjgtNjQtNjQtNjR6XCIgcC1pZD1cIjg2MjFcIj48L3BhdGg+PHBhdGggZD1cIk03MDIuMSAyODkuNUgzMTguOGMtMTcuNyAwLTMyLTE0LjMtMzItMzJzMTQuMy0zMiAzMi0zMmgzODMuM2MxNy43IDAgMzIgMTQuMyAzMiAzMnMtMTQuNCAzMi0zMiAzMnpNNzAyLjEgNDE3LjNIMzE4LjhjLTE3LjcgMC0zMi0xNC4zLTMyLTMyczE0LjMtMzIgMzItMzJoMzgzLjNjMTcuNyAwIDMyIDE0LjMgMzIgMzJzLTE0LjQgMzItMzIgMzJ6TTQ0Ni44IDU0Ni41aC0xMjhjLTE3LjcgMC0zMi0xNC4zLTMyLTMyczE0LjMtMzIgMzItMzJoMTI4YzE3LjcgMCAzMiAxNC4zIDMyIDMycy0xNC4zIDMyLTMyIDMyek02MzkuNCA3NzQuMmMtNzIuOSAwLTEzMi4yLTU5LjMtMTMyLjItMTMyLjJzNTkuMy0xMzIuMiAxMzIuMi0xMzIuMlM3NzEuNyA1NjkgNzcxLjcgNjQxLjlzLTU5LjMgMTMyLjMtMTMyLjMgMTMyLjN6IG0wLTIxNC41Yy00NS40IDAtODIuMiAzNi45LTgyLjIgODIuMnMzNi45IDgyLjIgODIuMiA4Mi4yIDgyLjItMzYuOSA4Mi4yLTgyLjItMzYuOC04Mi4yLTgyLjItODIuMnpcIiBwLWlkPVwiODYyMlwiIGRhdGEtc3BtLWFuY2hvci1pZD1cImEzMTN4Ljc3ODEwNjkuMC5pMVwiIGNsYXNzPVwiXCI+PC9wYXRoPjxwYXRoIGQ9XCJNODA2LjMgODMzLjNjLTYuNCAwLTEyLjgtMi40LTE3LjctNy4zbC04NS4zLTg1LjVjLTkuOC05LjgtOS43LTI1LjYgMC0zNS40IDkuOC05LjggMjUuNi05LjcgMzUuNCAwbDg1LjMgODUuNWM5LjggOS44IDkuNyAyNS42IDAgMzUuNC00LjkgNC44LTExLjMgNy4zLTE3LjcgNy4zelwiIHAtaWQ9XCI4NjIzXCI+PC9wYXRoPjwvc3ZnPiA8YSBzdHlsZT1cImZvbnQtc2l6ZTogMTRweDtjb2xvcjogcmdiKDc2LCA3NywgNzgpO2xpbmUtaGVpZ2h0OiAxOS42cHg7XCIgaHJlZj1cImh0dHBzOi8veGllenVvY2F0LmNvbS8jL3Byby8yNTAwMjIzMlwiIHRhcmdldD1cIl9ibGFua1wiPuajgCDmn6XlhoUg5a65PC9hPiA8L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4iCn0pKCk7"}]}
